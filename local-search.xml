<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>SpringBootå…¥é—¨åŠåŸç†</title>
    <link href="/2022/10/01/SpringBoot%E5%85%A5%E9%97%A8%E5%8F%8A%E5%8E%9F%E7%90%86/"/>
    <url>/2022/10/01/SpringBoot%E5%85%A5%E9%97%A8%E5%8F%8A%E5%8E%9F%E7%90%86/</url>
    
    <content type="html"><![CDATA[<h1 id="1-SpringBootç®€ä»‹"><a href="#1-SpringBootç®€ä»‹" class="headerlink" title="1. SpringBootç®€ä»‹"></a>1. SpringBootç®€ä»‹</h1><h2 id="1-1-Springå›é¡¾"><a href="#1-1-Springå›é¡¾" class="headerlink" title="1.1 Springå›é¡¾"></a>1.1 Springå›é¡¾</h2><blockquote><p><strong>å›é¡¾ï¼šä»€ä¹ˆæ˜¯Spring</strong></p></blockquote><p> Spring æ¡†æ¶æ˜¯ä¸€ä¸ªå¼€æ”¾æºä»£ç çš„ J2EE åº”ç”¨ç¨‹åºæ¡†æ¶ï¼Œç”± Rod Johnson å‘èµ·ï¼Œæ˜¯é’ˆå¯¹ bean çš„ç”Ÿå‘½å‘¨æœŸè¿›è¡Œç®¡ç†çš„è½»é‡çº§å®¹å™¨ã€‚</p><p>Spring æ¡†æ¶æ˜¯ç”±äºè½¯ä»¶å¼€å‘çš„å¤æ‚æ€§è€Œåˆ›å»ºçš„ã€‚ä¸ºäº†è§£å†³ä¼ä¸šçº§åº”ç”¨å¼€å‘çš„å¤æ‚æ€§ã€ç®€åŒ–å¼€å‘ã€‚</p><blockquote><p><strong>Springæ˜¯å¦‚ä½•ç®€åŒ–Javaå¼€å‘çš„</strong></p></blockquote><p>ä¸ºäº†é™ä½ Java å¼€å‘çš„å¤æ‚æ€§ï¼ŒSpringé‡‡ç”¨äº†ä»¥ä¸‹4ç§å…³é”®ç­–ç•¥ï¼š </p><ol><li>åŸºäºPOJOçš„è½»é‡çº§å’Œæœ€å°ä¾µå…¥æ€§ç¼–ç¨‹ï¼Œæ‰€æœ‰ä¸œè¥¿éƒ½æ˜¯bean</li><li>é€šè¿‡IOCï¼Œä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰å’Œé¢å‘æ¥å£å®ç°æ¾è€¦åˆ</li><li>åŸºäºåˆ‡é¢ï¼ˆAOPï¼‰å’Œæƒ¯ä¾‹è¿›è¡Œå£°æ˜å¼ç¼–ç¨‹</li><li>é€šè¿‡åˆ‡é¢å’Œæ¨¡ç‰ˆå‡å°‘æ ·å¼ä»£ç ï¼ŒRedisTemplateï¼ŒxxxTemplate</li></ol><h2 id="1-2-SpringBootæ¦‚è¿°"><a href="#1-2-SpringBootæ¦‚è¿°" class="headerlink" title="1.2 SpringBootæ¦‚è¿°"></a>1.2 SpringBootæ¦‚è¿°</h2><p><strong>ä»€ä¹ˆæ˜¯SpringBoot</strong></p><blockquote><p>Spring Bootæ˜¯ç”±Pivotalå›¢é˜Ÿæä¾›çš„å…¨æ–°æ¡†æ¶ï¼Œå…¶è®¾è®¡ç›®çš„æ˜¯ç”¨æ¥ç®€åŒ–æ–° Spring åº”ç”¨çš„åˆå§‹æ­å»ºä»¥åŠå¼€å‘è¿‡ç¨‹ã€‚è¯¥æ¡†æ¶ä½¿ç”¨äº†ç‰¹å®šçš„æ–¹å¼æ¥è¿›è¡Œé…ç½®ï¼Œä»è€Œä½¿å¼€å‘äººå‘˜ä¸å†éœ€è¦å®šä¹‰æ ·æ¿åŒ–çš„é…ç½®ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼ŒSpring Bootè‡´åŠ›äºåœ¨è“¬å‹ƒå‘å±•çš„å¿«é€Ÿåº”ç”¨å¼€å‘é¢†åŸŸï¼ˆrapid application developmentï¼‰æˆä¸ºé¢†å¯¼è€…ã€‚</p></blockquote><p><strong>ç‰¹ç‚¹ï¼š</strong></p><blockquote><p>SpringBootåŸºäºSpring4.0è®¾è®¡ï¼Œä¸ä»…ç»§æ‰¿äº†Springæ¡†æ¶åŸæœ‰çš„ä¼˜ç§€ç‰¹æ€§ï¼Œè€Œä¸”è¿˜é€šè¿‡ç®€åŒ–é…ç½®æ¥è¿›ä¸€æ­¥ç®€åŒ–äº†Springåº”ç”¨çš„æ•´ä¸ªæ­å»ºå’Œå¼€å‘è¿‡ç¨‹ã€‚å¦å¤–SpringBooté€šè¿‡é›†æˆå¤§é‡çš„æ¡†æ¶ä½¿å¾—ä¾èµ–åŒ…çš„ç‰ˆæœ¬å†²çªï¼Œä»¥åŠå¼•ç”¨çš„ä¸ç¨³å®šæ€§ç­‰é—®é¢˜å¾—åˆ°äº†å¾ˆå¥½çš„è§£å†³ã€‚</p><p>SpringBootæ‰€å…·å¤‡çš„ç‰¹å¾æœ‰ï¼š</p><ol><li>å¯ä»¥åˆ›å»ºç‹¬ç«‹çš„Springåº”ç”¨ç¨‹åºï¼Œå¹¶ä¸”åŸºäºå…¶Mavenæˆ–Gradleæ’ä»¶ï¼Œå¯ä»¥åˆ›å»ºå¯æ‰§è¡Œçš„JARså’ŒWARs</li><li>å†…åµŒTomcatæˆ–Jettyç­‰Servletå®¹å™¨</li><li>æä¾›è‡ªåŠ¨é…ç½®çš„â€œstarterâ€é¡¹ç›®å¯¹è±¡æ¨¡å‹ï¼ˆPOMSï¼‰ä»¥ç®€åŒ–Mavené…ç½®</li><li>å°½å¯èƒ½è‡ªåŠ¨é…ç½®Springå®¹å™¨</li><li>æä¾›å‡†å¤‡å¥½çš„ç‰¹æ€§ï¼Œå¦‚æŒ‡æ ‡ã€å¥åº·æ£€æŸ¥å’Œå¤–éƒ¨åŒ–é…ç½®</li><li>ç»å¯¹æ²¡æœ‰ä»£ç ç”Ÿæˆï¼Œä¸éœ€è¦XMLé…ç½®</li></ol></blockquote><p><strong>é‡è¦ç­–ç•¥ï¼š</strong></p><blockquote><p>SpringBootæ¡†æ¶ä¸­è¿˜æœ‰ä¸¤ä¸ªéå¸¸é‡è¦çš„ç­–ç•¥ï¼šå¼€ç®±å³ç”¨å’Œçº¦å®šä¼˜äºé…ç½®ã€‚</p></blockquote><blockquote><p><strong>å¼€ç®±å³ç”¨</strong>ï¼ŒOutofboxï¼Œæ˜¯æŒ‡åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œé€šè¿‡åœ¨MAVENé¡¹ç›®çš„pomæ–‡ä»¶ä¸­æ·»åŠ ç›¸å…³ä¾èµ–åŒ…ï¼Œç„¶åä½¿ç”¨å¯¹åº”æ³¨è§£æ¥ä»£æ›¿ç¹ççš„XMLé…ç½®æ–‡ä»¶ä»¥ç®¡ç†å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸã€‚è¿™ä¸ªç‰¹ç‚¹ä½¿å¾—å¼€å‘äººå‘˜æ‘†è„±äº†å¤æ‚çš„é…ç½®å·¥ä½œä»¥åŠä¾èµ–çš„ç®¡ç†å·¥ä½œï¼Œæ›´åŠ ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘ã€‚</p></blockquote><blockquote><p><strong>çº¦å®šä¼˜äºé…ç½®</strong>ï¼ŒConvention over configurationï¼Œæ˜¯ä¸€ç§ç”±SpringBootæœ¬èº«æ¥é…ç½®ç›®æ ‡ç»“æ„ï¼Œç”±å¼€å‘è€…åœ¨ç»“æ„ä¸­æ·»åŠ ä¿¡æ¯çš„è½¯ä»¶è®¾è®¡èŒƒå¼ã€‚è¿™ä¸€ç‰¹ç‚¹è™½é™ä½äº†éƒ¨åˆ†çµæ´»æ€§ï¼Œå¢åŠ äº†BUGå®šä½çš„å¤æ‚æ€§ï¼Œä½†å‡å°‘äº†å¼€å‘äººå‘˜éœ€è¦åšå‡ºå†³å®šçš„æ•°é‡ï¼ŒåŒæ—¶å‡å°‘äº†å¤§é‡çš„XMLé…ç½®ï¼Œå¹¶ä¸”å¯ä»¥å°†ä»£ç ç¼–è¯‘ã€æµ‹è¯•å’Œæ‰“åŒ…ç­‰å·¥ä½œè‡ªåŠ¨åŒ–ã€‚</p></blockquote><h2 id="1-3-å¾®æœåŠ¡æ¶æ„"><a href="#1-3-å¾®æœåŠ¡æ¶æ„" class="headerlink" title="1.3 å¾®æœåŠ¡æ¶æ„"></a>1.3 å¾®æœåŠ¡æ¶æ„</h2><p><strong>å¾®æœåŠ¡</strong></p><blockquote><p>ç§è½¯ä»¶å¼€å‘æŠ€æœ¯- é¢å‘æœåŠ¡çš„ä½“ç³»ç»“æ„ï¼ˆSOAï¼‰æ¶æ„æ ·å¼çš„ä¸€ç§å˜ä½“ï¼Œå®ƒæå€¡å°†å•ä¸€åº”ç”¨ç¨‹åºåˆ’åˆ†æˆä¸€ç»„å°çš„æœåŠ¡ï¼ŒæœåŠ¡ä¹‹é—´äº’ç›¸åè°ƒã€äº’ç›¸é…åˆï¼Œä¸ºç”¨æˆ·æä¾›æœ€ç»ˆä»·å€¼ã€‚æ¯ä¸ªæœåŠ¡è¿è¡Œåœ¨å…¶ç‹¬ç«‹çš„è¿›ç¨‹ä¸­ï¼ŒæœåŠ¡ä¸æœåŠ¡é—´é‡‡ç”¨è½»é‡çº§çš„é€šä¿¡æœºåˆ¶äº’ç›¸æ²Ÿé€šï¼ˆé€šå¸¸æ˜¯åŸºäºHTTPçš„RESTful APIï¼‰ã€‚æ¯ä¸ªæœåŠ¡éƒ½å›´ç»•ç€å…·ä½“ä¸šåŠ¡è¿›è¡Œæ„å»ºï¼Œå¹¶ä¸”èƒ½å¤Ÿç‹¬ç«‹åœ°éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒã€ç±»ç”Ÿäº§ç¯å¢ƒç­‰ã€‚å¦å¤–ï¼Œåº”å°½é‡é¿å…ç»Ÿä¸€çš„ã€é›†ä¸­å¼çš„æœåŠ¡ç®¡ç†æœºåˆ¶ï¼Œå¯¹å…·ä½“çš„ä¸€ä¸ªæœåŠ¡è€Œè¨€ï¼Œåº”æ ¹æ®ä¸Šä¸‹æ–‡ï¼Œé€‰æ‹©åˆé€‚çš„è¯­è¨€ã€å·¥å…·å¯¹å…¶è¿›è¡Œæ„å»ºã€‚</p></blockquote><p><strong>å•ä½“åº”ç”¨æ¶æ„</strong></p><blockquote><p>å°†æ‰€æœ‰çš„ä¸šåŠ¡åœºæ™¯çš„è¡¨ç¤ºå±‚ï¼Œä¸šåŠ¡é€»è¾‘å±‚å’Œæ•°æ®è®¿é—®å±‚æ‰“åŒ…æ”¾åœ¨ä¸€ä¸ªå·¥ç¨‹ä¸­ï¼Œæœ€ç»ˆç»è¿‡ç¼–è¯‘æ‰“åŒ…ï¼Œéƒ¨ç½²åœ¨ä¸€å°æœåŠ¡å™¨ä¸Šã€‚ä¾‹å¦‚ï¼šå…¸å‹çš„<a href="https://so.csdn.net/so/search?q=J2EE&spm=1001.2101.3001.7020">J2EE</a>å·¥ç¨‹ï¼ŒæŠŠjsp,ä¸šåŠ¡é€»è¾‘å±‚çš„service,controllerå’Œæ•°æ®è®¿é—®å±‚çš„dao,æ‰“åŒ…æˆwaåŒ…ï¼Œéƒ¨ç½²åœ¨Tomcatæˆ–è€…Jettyæˆ–è€…å…¶ä»–å®¹å™¨ä¸Šè¿è¡Œã€‚</p></blockquote><p>ä¼˜ç‚¹ï¼š</p><ul><li>éƒ¨ç½²ç®€å• ï¼šç”±äºæ˜¯å®Œæ•´çš„ç»“æ„ä½“ï¼Œå¯ä»¥ç›´æ¥éƒ¨ç½²åœ¨ä¸€ä»½æœåŠ¡å™¨ä¸Šå³å¯</li><li>æŠ€æœ¯å•ä¸€ ï¼šé¡¹ç›®ä¸éœ€è¦å¤æ‚çš„æŠ€æœ¯æ ˆï¼Œå¾€å¾€ä¸€å¥—ç†Ÿæ‚‰çš„æŠ€æœ¯æ ˆå°±å¯ä»¥å®Œæˆå¼€å‘</li><li>ç”¨äººæˆæœ¬ä½ ï¼šå•ä¸ªç¨‹åºå‘˜å¯ä»¥å®Œæˆä¸šåŠ¡æ¥å£é“æ•°æ®åº“çš„æ•´ä¸ªæµç¨‹</li></ul><p>ç¼ºç‚¹ï¼š</p><ul><li>ä¸šåŠ¡è¶Šæ¥è¶Šå¤æ‚ï¼Œå•ä½“æ¶æ„æ‰©å±•æ€§ä¸è¶³ï¼Œä¸šåŠ¡æ‰©å±•å¸¦æ¥çš„ä»£ä»·è¶Šæ¥è¶Šå¤§ï¼›</li><li>ç”¨æˆ·è¶Šæ¥è¶Šå¤šï¼Œç¨‹åºæ‰¿å—çš„å¹¶å‘è¶Šçˆ±è¶Šé«˜ï¼Œå•ä½“åº”ç”¨çš„å¹¶å‘èƒ½åŠ›æœ‰é™ï¼›</li><li>å•ä½“åº”ç”¨çš„ä¸šåŠ¡éƒ½åœ¨åŒä¸€ä¸ªç¨‹åºä¸­ï¼Œå¢åˆ æ”¹ä¸šåŠ¡ä¿®æ”¹ï¼Œä¹Ÿä¼šå½±å“å…¶ä»–ä»£ç ï¼Œç»™æµ‹è¯•å¢åŠ äº†éš¾åº¦</li></ul><p><strong>å¾®æœåŠ¡æ¶æ„</strong></p><p>all in one çš„æ¶æ„æ–¹å¼ï¼Œæˆ‘ä»¬æŠŠæ‰€æœ‰çš„åŠŸèƒ½å•å…ƒæ”¾åœ¨ä¸€ä¸ªåº”ç”¨é‡Œé¢ã€‚ç„¶åæˆ‘ä»¬æŠŠæ•´ä¸ªåº”ç”¨éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šã€‚å¦‚æœè´Ÿè½½èƒ½åŠ›ä¸è¡Œï¼Œæˆ‘ä»¬å°†æ•´ä¸ªåº”ç”¨è¿›è¡Œæ°´å¹³å¤åˆ¶ï¼Œè¿›è¡Œæ‰©å±•ï¼Œç„¶åå†è´Ÿè½½å‡è¡¡ã€‚</p><p>å¾®æœåŠ¡æ¶æ„ï¼šæ‰“ç ´ä¹‹å‰çš„all in one çš„æ¶æ„æ–¹å¼ï¼ŒæŠŠæ¯ä¸ªåŠŸèƒ½å•å…ƒç‹¬ç«‹å‡ºæ¥ã€‚æŠŠç‹¬ç«‹å‡ºæ¥çš„åŠŸèƒ½å…ƒç´ åŠ¨æ€ç»„åˆï¼Œéœ€è¦çš„åŠŸèƒ½å…ƒç´ æ‰æ‹¿æ¥ç»„åˆï¼Œéœ€è¦å¤šä¸€äº›å…ƒç´ å¯ä»¥æ•´åˆå¤šä¸ªåŠŸèƒ½å…ƒç´ ã€‚æ‰€ä»¥å¾®æœåŠ¡æ¶æ„æ˜¯å¯¹åŠŸèƒ½å…ƒç´ è¿›è¡Œå¤åˆ¶ï¼Œè€Œæ²¡æœ‰å¯¹æ•´ä¸ªåº”ç”¨è¿›è¡Œå¤åˆ¶ã€‚</p><p>ä¼˜ç‚¹ï¼š</p><ul><li>èŠ‚çœè°ƒç”¨èµ„æº</li><li>æ¯ä¸ªåŠŸèƒ½å…ƒç´ çš„æœåŠ¡éƒ½æ˜¯ä¸€ä¸ªå¯æ›¿ä»£çš„ã€å¯ç‹¬ç«‹å‡çº§çš„è½¯ä»¶ä»£ç ã€‚</li></ul><p><img src="https://img.yiqiangshiyia.cn/blog/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84.png" alt="å¾®æœåŠ¡æ¶æ„"></p><p><strong>ç›¸å…³è®ºæ–‡ï¼š</strong></p><ul><li><p>å¾®æœåŠ¡æ¶æ„(Microservices) â€”Martin Flowerï¼š<a href="https://www.cnblogs.com/feng-zhi/p/14727169.html">https://www.cnblogs.com/feng-zhi/p/14727169.html</a></p></li><li><p>å…¨è‹±ç‰ˆåŸè®ºæ–‡ï¼š<a href="https://martinfowler.com/articles/microservices.html">https://martinfowler.com/articles/microservices.html</a></p></li></ul><h1 id="2-ç¬¬ä¸€ä¸ªSpringBootç¨‹åº"><a href="#2-ç¬¬ä¸€ä¸ªSpringBootç¨‹åº" class="headerlink" title="2. ç¬¬ä¸€ä¸ªSpringBootç¨‹åº"></a>2. ç¬¬ä¸€ä¸ªSpringBootç¨‹åº</h1><blockquote><p><strong>æ–¹å¼1ï¼šå®˜ç½‘ä¸‹è½½jaråŒ…ï¼ŒIEDAå¯¼å…¥ï¼ˆä¸æ¨èï¼‰</strong></p></blockquote><p><strong>å®˜ç½‘ï¼š<a href="https://start.spring.io/">https://start.spring.io/</a></strong></p><p>æ³¨æ„å¯¼å…¥Spring Webä¾èµ–</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20221001172400.png" alt="QQæˆªå›¾20221001172400"></p><p>â€¦â€¦</p><blockquote><p><strong>æ–¹å¼2ï¼šIDEAåˆ›å»ºï¼ˆç¤¾åŒºç‰ˆIDEAæ’ä»¶æ”¶è´¹ï¼Œå‘œå‘œå‘œ~ğŸ˜­ï¼Œå…è´¹è¯•ç”¨ä¸€ä¸ªæœˆï¼‰</strong></p></blockquote><ol><li><p><strong>æ–°å»ºé¡¹ç›®</strong></p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20221001171432.png" alt="QQæˆªå›¾20221001171432"></p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20221001171452.png" alt="QQæˆªå›¾20221001171452"></p><p>é¡¹ç›®åˆ›å»ºæˆåŠŸï¼ï¼ï¼</p><p>ä¸€ä¸ªç©ºçš„ SpringBoot é¡¹ç›®</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20221001173222.png" alt="QQæˆªå›¾20221001173222"></p></li><li><p><strong>é¡¹ç›®ç»“æ„åˆ†æ</strong></p><p>é¡¹ç›®åˆ›å»ºå®Œæˆåï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆä»¥ä¸‹æ–‡ä»¶ï¼š</p><ul><li>ç¨‹åºçš„ä¸»ç¨‹åºç±»</li><li>ä¸€ä¸ª application.properties é…ç½®æ–‡ä»¶</li><li>ä¸€ä¸ªæµ‹è¯•ç±»</li></ul><p>ç”Ÿæˆçš„ DemoApplication å’Œæµ‹è¯•åŒ…ä¸‹çš„ DemoApplicationTests ç±»éƒ½å¯ä»¥ç›´æ¥è¿è¡Œæ¥å¯åŠ¨å½“å‰åˆ›å»ºçš„é¡¹ç›®ï¼Œç”±äºè¯¥é¡¹ç›®æœªé…ä»»ä½•æ•°æ®è®¿é—®æˆ– Web æ¨¡å—ï¼Œç¨‹åºä¼šåœ¨åŠ è½½å®Œ Spring ä¹‹åç»“æŸè¿è¡Œã€‚</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20221001180846.png" alt="QQæˆªå›¾20221001180846"></p></li><li><p><strong>pom.xml åˆ†æ</strong></p><p>SpringBooté¡¹ç›®ä¾èµ–ï¼špom.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">modelVersion</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--æœ‰ä¸€ä¸ªçˆ¶é¡¹ç›®--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.7.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">relativePath</span>/&gt;</span> <span class="hljs-comment">&lt;!-- lookup parent from repository --&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.study<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>HelloWorld<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>HelloWorld<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">description</span>&gt;</span>HelloWorld<span class="hljs-tag">&lt;/<span class="hljs-name">description</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">java.version</span>&gt;</span>11<span class="hljs-tag">&lt;/<span class="hljs-name">java.version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--ä¾èµ–--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--å¯åŠ¨å™¨--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--webä¾èµ–ï¼šé›†æˆäº†tomcatï¼Œæ›¿ä»£äº†dispatcherServlet,xmlé…ç½®...--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--å•å…ƒæµ‹è¯•ï¼Œç­‰ä»·äºjunit--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span><br>            <span class="hljs-comment">&lt;!--æ‰“jaråŒ…æ’ä»¶--&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ä¸»è¦éƒ¨åˆ†ï¼š</p><ul><li>é¡¹ç›®å…ƒæ•°æ®ä¿¡æ¯ï¼šé¡¹ç›®æ—¶å€™è¾“å…¥çš„Project Metadataéƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯Mavené¡¹ç›®çš„åŸºæœ¬å…ƒç´ ï¼ŒåŒ…æ‹¬ï¼šgroupIdã€artifactIdã€versionã€nameã€description</li><li>parentï¼šç»§æ‰¿ spring-boot-starter-parent çš„ä¾èµ–ç®¡ç†ï¼Œæ§åˆ¶ç‰ˆæœ¬ä¸æ‰“åŒ…ç­‰å†…å®¹ã€‚</li><li>dependenciesï¼šé¡¹ç›®å…·ä½“ä¾èµ–ï¼ŒåŒ…å«äº† spring-boot-starter-web ç”¨äºå®ç° HTTP æ¥å£ï¼ˆè¯¥ä¾èµ–ä¸­åŒ…å«äº† Spring MVCï¼‰ã€‚å®˜ç½‘æè¿°ï¼šä½¿ç”¨ Spring MVC æ„å»º Web ï¼ˆåŒ…æ‹¬RestFulï¼‰åº”ç”¨ç¨‹åºçš„å…¥é—¨è€…ï¼Œä½¿ç”¨ Tomcat ä½œä¸ºé»˜è®¤åµŒå…¥å¼å®¹å™¨ã€‚spring-boot-starter-testï¼šç”¨äºç¼–å†™å•å…ƒæµ‹è¯•çš„ä¾èµ–åŒ…ã€‚</li><li>buildï¼šæ„å»ºé…ç½®éƒ¨åˆ†ï¼Œé»˜è®¤ä½¿ç”¨ spring-boot-maven-plugin ï¼Œé…åˆ spring-boot-starter-parent å°±å¯ä»¥æŠŠSpringBooté¡¹ç›®æ‰“åŒ…æˆ jar åŒ…ç›´æ¥è¿è¡Œã€‚</li></ul></li><li><p><strong>ç¼–å†™HTTPæ¥å£</strong></p><ul><li><p>åŒçº§ç›®å½•å»ºåŒ…ï¼šæ–°å»ºä¸€ä¸ª controller åŒ…</p></li><li><p>åœ¨åŒ…ä¸­ç¼–å†™  Controller ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.study.helloworld.controller;<br><br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RestController;<br><br><span class="hljs-meta">@RestController</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloController</span> &#123;<br><br>    <span class="hljs-meta">@RequestMapping(&quot;/hello&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">hello</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-comment">//è°ƒç”¨ä¸šåŠ¡ï¼Œæ¥æ”¶å‰ç«¯å‚æ•°</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;hello,SpringBoot!&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>æµè§ˆå™¨è®¿é—®</p><p>æµ‹è¯•ç»“æœï¼š</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20221001175708.png" alt="QQæˆªå›¾20221001175708"></p></li></ul></li><li><p><strong>å°†SpringBootæ‰“æˆjaråŒ…</strong></p><p>å°† SpringBoot æ‰“æˆjaråŒ…å°±å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è¿è¡Œ</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20221001183314.png" alt="QQæˆªå›¾20221001183314"></p><p>è¿è¡ŒjaråŒ…</p><p>â€¦â€¦.</p></li></ol><h1 id="3-è¿è¡ŒåŸç†"><a href="#3-è¿è¡ŒåŸç†" class="headerlink" title="3. è¿è¡ŒåŸç†"></a>3. è¿è¡ŒåŸç†</h1><p><strong>SpringBoot è‡ªåŠ¨è£…é…åŸç† â€”- SpringBootå¯åŠ¨åŸç†</strong></p><h2 id="3-1-pom-xml"><a href="#3-1-pom-xml" class="headerlink" title="3.1 pom.xml"></a>3.1 pom.xml</h2><blockquote><p><strong>çˆ¶ä¾èµ–</strong></p></blockquote><p>ä¸»è¦æ˜¯ä¾èµ–ä¸€ä¸ªçˆ¶é¡¹ç›®ï¼Œä¸»è¦æ˜¯ç®¡ç†é¡¹ç›®çš„èµ„æºè¿‡æ»¤åŠæ’ä»¶ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.7.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">relativePath</span>/&gt;</span> <span class="hljs-comment">&lt;!-- lookup parent from repository --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ç‚¹è¿›å»ï¼Œå‘ç°è¿˜æœ‰ä¸€ä¸ªçˆ¶ä¾èµ–</p><ul><li>spring-boot-dependenciesï¼šæ ¸å¿ƒä¾èµ–åœ¨çˆ¶å·¥ç¨‹ä¸­ï¼ŒSpringBootçš„ç‰ˆæœ¬æ§åˆ¶ä¸­å¿ƒ</li><li>æˆ‘ä»¬åœ¨å†™æˆ–è€…å¼•å…¥SpringBootä¾èµ–æ—¶ä¸éœ€è¦æŒ‡å®šç‰ˆæœ¬ï¼Œå°±æ˜¯å› ä¸ºæœ‰è¿™äº›ç‰ˆæœ¬ä»“åº“</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-dependencies<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.7.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span><br></code></pre></td></tr></table></figure><blockquote><p><strong>å¯åŠ¨å™¨</strong></p></blockquote> <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li><p>springboot-boot-starter-xxxï¼šspring-bootçš„åœºæ™¯å¯åŠ¨å™¨</p></li><li><p>å¦‚spring-boot-starter-webï¼šè‡ªåŠ¨å¯¼å…¥webç¯å¢ƒæ‰€æœ‰çš„ä¾èµ–</p></li><li><p>SpringBootå°†æ‰€æœ‰çš„åŠŸèƒ½åœºæ™¯éƒ½æŠ½å–å‡ºæ¥ï¼Œå˜æˆä¸€ä¸ªä¸ªçš„å¯åŠ¨å™¨ï¼Œåªéœ€è¦åœ¨é¡¹ç›®ä¸­å¼•å…¥è¿™äº› starterå³å¯ï¼Œæ‰€æœ‰ç›¸å…³çš„ä¾èµ–éƒ½ä¼šå¯¼å…¥è¿›æ¥ã€‚</p></li><li><p>è¦ç”¨ä»€ä¹ˆåŠŸèƒ½å°±å¯¼å…¥ä»€ä¹ˆæ ·çš„åœºæ™¯å¯åŠ¨å™¨å³å¯</p></li></ul><h2 id="3-2-ä¸»å¯åŠ¨ç±»"><a href="#3-2-ä¸»å¯åŠ¨ç±»" class="headerlink" title="3.2 ä¸»å¯åŠ¨ç±»"></a>3.2 ä¸»å¯åŠ¨ç±»</h2><blockquote><p><strong>é»˜è®¤çš„ä¸»å¯åŠ¨ç±»</strong></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//æœ¬èº«å°±æ˜¯Springçš„ä¸€ä¸ªç»„ä»¶</span><br><span class="hljs-comment">//ç¨‹åºçš„ä¸»å…¥å£</span><br><span class="hljs-meta">@SpringBootApplication</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloWorldApplication</span> &#123;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        SpringApplication.run(HelloWorldApplication.class, args);<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p><strong>@SpringBootApplication</strong></p></blockquote><p>ä½œç”¨ï¼šæ ‡æ³¨åœ¨æŸä¸ªç±»ä¸Šè¯´æ˜è¿™ä¸ªç±»æ˜¯SpringBootçš„ä¸»é…ç½®ç±»ï¼ŒSpringBootå°±åº”è¯¥è¿è¡Œè¿™ä¸ªç±»çš„mainæ–¹æ³•æ¥å¯åŠ¨SpringBootåº”ç”¨ã€‚</p><p>è¿›å…¥@SpringBootApplicationæ³¨è§£ï¼šå¯ä»¥çœ‹åˆ°ä¸Šé¢è¿˜æœ‰å¾ˆå¤šå…¶ä»–æ³¨è§£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@SpringBootConfiguration</span><br><span class="hljs-meta">@EnableAutoConfiguration</span><br><span class="hljs-meta">@ComponentScan(</span><br><span class="hljs-meta">    excludeFilters = &#123;@Filter(</span><br><span class="hljs-meta">    type = FilterType.CUSTOM,</span><br><span class="hljs-meta">    classes = &#123;TypeExcludeFilter.class&#125;</span><br><span class="hljs-meta">), @Filter(</span><br><span class="hljs-meta">    type = FilterType.CUSTOM,</span><br><span class="hljs-meta">    classes = &#123;AutoConfigurationExcludeFilter.class&#125;</span><br><span class="hljs-meta">)&#125;</span><br><span class="hljs-meta">)</span><br><span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> SpringBootApplication &#123;<br><span class="hljs-comment">// ......</span><br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p><strong>@ComponentScan</strong></p></blockquote><p>è¿™ä¸ªæ³¨è§£åœ¨Springä¸­å¾ˆé‡è¦ï¼Œå®ƒå¯¹åº”XMLé…ç½®ä¸­çš„å…ƒç´ ã€‚</p><p>ä½œç”¨ï¼šè‡ªåŠ¨æ‰«æå¹¶åŠ è½½ç¬¦åˆæ¡ä»¶çš„ç»„ä»¶æˆ–è€…beanï¼Œå°†è¿™ä¸ªbeanå®šä¹‰åŠ è½½åˆ°IOCå®¹å™¨ä¸­ </p><blockquote><p><strong>@SpringBootConfiguration</strong></p></blockquote><p>ä½œç”¨ï¼šSpringBootçš„é…ç½®ç±»ï¼Œæ ‡æ³¨åœ¨æŸä¸ªç±»ä¸Šï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªSpringBootçš„é…ç½®ç±»</p><p>è¿›å…¥@SpringBootConfigurationæ³¨è§£æŸ¥çœ‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// ç‚¹è¿›å»å¾—åˆ°ä¸‹é¢çš„ @Component</span><br><span class="hljs-meta">@Configuration</span><br><span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> SpringBootConfiguration &#123;&#125;<br><span class="hljs-meta">@Component</span><br><span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> Configuration &#123;&#125;<br></code></pre></td></tr></table></figure><p>@Configurationï¼šè¯´æ˜è¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»ï¼Œé…ç½®ç±»å°±æ˜¯å¯¹åº”Springçš„xml é…ç½®æ–‡ä»¶</p><p>@Componentï¼šè¯´æ˜å¯åŠ¨ç±»æœ¬èº«ä¹Ÿæ˜¯Springä¸­çš„ä¸€ä¸ªç»„ä»¶ï¼Œè´Ÿè´£å¯åŠ¨åº”ç”¨ã€‚</p><blockquote><p><strong>@EnableAutoConfiguration</strong> </p></blockquote><p>@EnableAutoConfigurationï¼šå¼€å¯è‡ªåŠ¨é…ç½®åŠŸèƒ½</p><p>ä»¥å‰æˆ‘ä»¬éœ€è¦è‡ªå·±é…ç½®çš„ä¸œè¥¿ï¼Œè€Œç°åœ¨SpringBootå¯ä»¥è‡ªåŠ¨å¸®æˆ‘ä»¬é…ç½®ï¼Œ@EnableAutoConfiguration å‘Šè¯‰SpringBootå¼€å¯è‡ªåŠ¨é…ç½®åŠŸèƒ½ï¼Œè¿™æ ·è‡ªåŠ¨é…ç½®æ‰èƒ½ç”Ÿæ•ˆã€‚</p><p>@AutoConfigurationPackageï¼šè‡ªåŠ¨é…ç½®åŒ…</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Import(&#123;Registrar.class&#125;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> AutoConfigurationPackage &#123;<br>&#125;<br></code></pre></td></tr></table></figure><p>@importï¼šSpringåº•å±‚æ³¨è§£@importï¼Œç»™å®¹å™¨ä¸­å¯¼å…¥ä¸€ä¸ªç»„ä»¶</p><p>Registrar.class ä½œç”¨ï¼šå°†ä¸»å¯åŠ¨ç±»çš„æ‰€åœ¨åŒ…åŠåŒ…ä¸‹é¢æ‰€æœ‰å­åŒ…é‡Œé¢çš„æ‰€æœ‰ç»„ä»¶æ‰«æåˆ°Springå®¹å™¨</p><p>@Import({AutoConfigurationImportSelector.class}) ï¼šç»™å®¹å™¨å¯¼å…¥ç»„ä»¶</p><p>AutoConfigurationImportSelectorï¼šè‡ªåŠ¨é…ç½®å¯¼å…¥é€‰æ‹©å™¨</p><ol><li><p>è¿™ä¸ªç±»ä¸­æœ‰ä¸€ä¸ªè¿™æ ·çš„æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// è·å¾—å€™é€‰çš„é…ç½®</span><br><span class="hljs-keyword">protected</span> List&lt;String&gt; <span class="hljs-title function_">getCandidateConfigurations</span><span class="hljs-params">(AnnotationMetadata</span><br><span class="hljs-params">metadata, AnnotationAttributes attributes)</span> &#123;<br><span class="hljs-comment">//è¿™é‡Œçš„getSpringFactoriesLoaderFactoryClassï¼ˆï¼‰æ–¹æ³•</span><br><span class="hljs-comment">//è¿”å›çš„å°±æ˜¯æˆ‘ä»¬æœ€å¼€å§‹çœ‹çš„å¯åŠ¨è‡ªåŠ¨å¯¼å…¥é…ç½®æ–‡ä»¶çš„æ³¨è§£ç±»ï¼›EnableAutoConfiguration</span><br>List&lt;String&gt; configurations =<br>SpringFactoriesLoader.loadFactoryNames(<span class="hljs-built_in">this</span>.getSpringFactoriesLoaderFactoryCl<br><span class="hljs-title function_">ass</span><span class="hljs-params">()</span>, <span class="hljs-built_in">this</span>.getBeanClassLoader());<br>Assert.notEmpty(configurations, <span class="hljs-string">&quot;No auto configuration classes found in META-INF/spring.factories. If you are using a custom packaging, make sure that file is correct.&quot;</span>);<br><span class="hljs-keyword">return</span> configurations;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>è¿™ä¸ªæ–¹æ³•åˆè°ƒç”¨äº† SpringFactoriesLoader ç±»çš„é™æ€æ–¹æ³•ï¼Œè¿›å…¥SpringFactoriesLoaderç±» loadFactoryNames() æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;String&gt; <span class="hljs-title function_">loadFactoryNames</span><span class="hljs-params">(Class&lt;?&gt; factoryClass, <span class="hljs-meta">@Nullable</span></span><br><span class="hljs-params">ClassLoader classLoader)</span> &#123;<br><span class="hljs-type">String</span> <span class="hljs-variable">factoryClassName</span> <span class="hljs-operator">=</span> factoryClass.getName();<br><span class="hljs-comment">//è¿™é‡Œå®ƒåˆè°ƒç”¨äº† loadSpringFactories æ–¹æ³•</span><br><span class="hljs-keyword">return</span> (List)loadSpringFactories(classLoader).getOrDefault(factoryClassName,<br>Collections.emptyList());<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>ç»§ç»­ç‚¹å‡»æŸ¥çœ‹ loadSpringFactories æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Map&lt;String, List&lt;String&gt;&gt; <span class="hljs-title function_">loadSpringFactories</span><span class="hljs-params">(<span class="hljs-meta">@Nullable</span> ClassLoader classLoader)</span> &#123;<br><span class="hljs-comment">//è·å¾—classLoader ï¼Œ æˆ‘ä»¬è¿”å›å¯ä»¥çœ‹åˆ°è¿™é‡Œå¾—åˆ°çš„å°±æ˜¯EnableAutoConfigurationæ ‡æ³¨çš„ç±»æœ¬èº«</span><br>MultiValueMap&lt;String, String&gt; result = (MultiValueMap)cache.get(classLoader);<br><span class="hljs-keyword">if</span> (result != <span class="hljs-literal">null</span>) &#123;<br><span class="hljs-keyword">return</span> result;<br>&#125; <span class="hljs-keyword">else</span> &#123;<br><span class="hljs-keyword">try</span> &#123;<br><span class="hljs-comment">//å»è·å–ä¸€ä¸ªèµ„æº &quot;META-INF/spring.factories&quot;</span><br>Enumeration&lt;URL&gt; urls = classLoader != <span class="hljs-literal">null</span> ? classLoader.getResources(<span class="hljs-string">&quot;META-INF/spring.factories&quot;</span>) : ClassLoader.getSystemResources(<span class="hljs-string">&quot;META-INF/spring.factories&quot;</span>);<br><span class="hljs-type">LinkedMultiValueMap</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedMultiValueMap</span>();<br><br>            <span class="hljs-comment">//å°†è¯»å–åˆ°çš„èµ„æºéå†ï¼Œå°è£…æˆä¸ºä¸€ä¸ªProperties</span><br><span class="hljs-keyword">while</span>(urls.hasMoreElements()) &#123;<br><span class="hljs-type">URL</span> <span class="hljs-variable">url</span> <span class="hljs-operator">=</span> (URL)urls.nextElement();<br><span class="hljs-type">UrlResource</span> <span class="hljs-variable">resource</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UrlResource</span>(url);<br><span class="hljs-type">Properties</span> <span class="hljs-variable">properties</span> <span class="hljs-operator">=</span> PropertiesLoaderUtils.loadProperties(resource);<br><span class="hljs-type">Iterator</span> <span class="hljs-variable">var6</span> <span class="hljs-operator">=</span> properties.entrySet().iterator();<br><span class="hljs-keyword">while</span>(var6.hasNext()) &#123;<br>Entry&lt;?, ?&gt; entry = (Entry)var6.next();<br><span class="hljs-type">String</span> <span class="hljs-variable">factoryClassName</span> <span class="hljs-operator">=</span> ((String)entry.getKey()).trim();<br>String[] var9 = StringUtils.commaDelimitedListToStringArray((String)entry.getValue());<br><span class="hljs-type">int</span> <span class="hljs-variable">var10</span> <span class="hljs-operator">=</span> var9.length;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> <span class="hljs-variable">var11</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; var11 &lt; var10; ++var11) &#123;<br>                        <span class="hljs-type">String</span> <span class="hljs-variable">factoryName</span> <span class="hljs-operator">=</span> var9[var11];<br>                        result.add(factoryClassName, factoryName.trim());<br>&#125;<br>&#125;<br>&#125;<br>            cache.put(classLoader, result);<br>            <span class="hljs-keyword">return</span> result;<br>        &#125; <span class="hljs-keyword">catch</span> (IOException var13) &#123;<br>        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">&quot;Unable to load factories from location [META-INF/spring.factories]&quot;</span>, var13);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>å‘ç°ä¸€ä¸ªå¤šæ¬¡å‡ºç°çš„æ–‡ä»¶ï¼šspring.factoriesï¼Œå…¨å±€æœç´¢å®ƒ</p></li></ol><blockquote><p><strong>spring.factories</strong></p></blockquote><p>æˆ‘ä»¬æ ¹æ®æºå¤´æ‰“å¼€spring.factories ï¼Œ çœ‹åˆ°äº†å¾ˆå¤šè‡ªåŠ¨é…ç½®çš„æ–‡ä»¶ï¼›è¿™å°±æ˜¯è‡ªåŠ¨é…ç½®æ ¹æºæ‰€åœ¨ã€‚</p><p>ç»“è®ºï¼šè‡ªåŠ¨é…ç½®çœŸæ­£å®ç°æ˜¯ä» classpath ä¸­æœå¯»æ‰€æœ‰çš„ META-INF/spring.factories é…ç½®æ–‡ä»¶ï¼Œå¹¶å°†å…¶ä¸­å¯¹åº”çš„ org.springframework.boot.autoconfigure. åŒ…ä¸‹çš„é…ç½®é¡¹ï¼Œé€šè¿‡åå°„å®ä¾‹åŒ–ä¸ºå¯¹åº”æ ‡æ³¨äº† @Configuration çš„JavaConfigå½¢å¼çš„IOCå®¹å™¨é…ç½®ç±»ï¼Œç„¶åå°†è¿™äº›éƒ½æ±‡æ€»æˆä¸ºä¸€ä¸ªå®ä¾‹å¹¶åŠ è½½åˆ°IOCå®¹å™¨ä¸­ã€‚</p><blockquote><p><strong>ç»“è®ºï¼š</strong></p></blockquote><ol><li>SpringBootåœ¨å¯åŠ¨çš„æ—¶å€™ä»ç±»è·¯å¾„ä¸‹çš„ META-INF/spring.factories ä¸­è·å– EnableAutoConfiguration æŒ‡å®šçš„å€¼ã€‚</li><li>å°†è¿™äº›å€¼ä½œä¸ºè‡ªåŠ¨é…ç½®ç±»å¯¼å…¥å®¹å™¨ï¼Œè‡ªåŠ¨é…ç½®ç±»å°±ç”Ÿæ•ˆï¼Œå¸®æˆ‘ä»¬è¿›è¡Œè‡ªåŠ¨é…ç½®å·¥ä½œã€‚</li><li>æ•´ä¸ªJ2EEçš„æ•´ä½“è§£å†³æ–¹æ¡ˆå’Œè‡ªåŠ¨é…ç½®éƒ½åœ¨ springboot-autoconfigure çš„ jar åŒ…ä¸­ã€‚</li><li>å®ƒä¼šç»™å®¹å™¨ä¸­å¯¼å…¥éå¸¸å¤šçš„è‡ªåŠ¨é…ç½®ç±»ï¼ˆxxxAutoConfigurationï¼‰ï¼Œå°±æ˜¯ç»™å®¹å™¨ä¸­å¯¼å…¥è¿™ä¸ªåœºæ™¯éœ€è¦çš„æ‰€æœ‰ç»„ä»¶ï¼Œå¹¶é…ç½®å¥½è¿™äº›ç»„ä»¶ã€‚</li><li>æœ‰äº†è‡ªåŠ¨é…ç½®ç±»ï¼Œå…å»äº†æ‰‹åŠ¨ç¼–å†™é…ç½®æ³¨å…¥åŠŸèƒ½ç»„ä»¶ç­‰çš„å·¥ä½œã€‚</li></ol><h2 id="3-3-SpringApplication"><a href="#3-3-SpringApplication" class="headerlink" title="3.3 SpringApplication"></a>3.3 SpringApplication</h2><blockquote><p><strong>ä¸ç®€å•çš„æ–¹æ³•</strong></p></blockquote><p>SpringApplicationå¼€å¯äº†ä¸€ä¸ªæœåŠ¡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@SpringBootApplication</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SpringbootApplication</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        SpringApplication.run(SpringbootApplication.class, args);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>SpringApplication.run åˆ†æï¼Œåˆ†æè¯¥æ–¹æ³•ä¸»è¦åˆ†ä¸¤éƒ¨åˆ†ï¼šä¸€éƒ¨åˆ†æ˜¯SpringApplicationçš„å®ä¾‹åŒ–ï¼ŒäºŒæ˜¯runæ–¹æ³•çš„æ‰§è¡Œ</p><blockquote><p><strong>SpringApplication</strong></p></blockquote><p>è¿™ä¸ªç±»ä¸»è¦åšäº†ä»¥ä¸‹å››ä»¶äº‹æƒ…ï¼š</p><ol><li>æ¨æ–­åº”ç”¨çš„ç±»å‹æ˜¯æ™®é€šçš„é¡¹ç›®è¿˜æ˜¯Webé¡¹ç›®</li><li>æŸ¥æ‰¾å¹¶åŠ è½½æ‰€æœ‰å¯ç”¨åˆå§‹åŒ–å™¨ï¼Œè®¾ç½®åˆ°initializerså±æ€§ä¸­</li><li>æ‰¾å‡ºæ‰€æœ‰çš„åº”ç”¨ç¨‹åºç›‘å¬å™¨ï¼Œè®¾ç½®åˆ°listenerså±æ€§ä¸­</li><li>æ¨æ–­å¹¶è®¾ç½®mainæ–¹æ³•çš„å®šä¹‰ç±»ï¼Œæ‰¾åˆ°è¿è¡Œçš„ä¸»ç±»</li></ol><p>æŸ¥çœ‹æ„é€ å™¨ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-title function_">SpringApplication</span><span class="hljs-params">(ResourceLoader resourceLoader, Class... primarySources)</span> &#123;<br><span class="hljs-comment">// ......</span><br><span class="hljs-built_in">this</span>.webApplicationType = WebApplicationType.deduceFromClasspath();<br><span class="hljs-built_in">this</span>.setInitializers(<span class="hljs-built_in">this</span>.getSpringFactoriesInstances();<br><span class="hljs-built_in">this</span>.setListeners(<span class="hljs-built_in">this</span>.getSpringFactoriesInstances(ApplicationListener.class));<br><span class="hljs-built_in">this</span>.mainApplicationClass = <span class="hljs-built_in">this</span>.deduceMainApplicationClass();<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p> <strong>runæ–¹æ³•</strong></p></blockquote><p><img src="https://img.yiqiangshiyia.cn/blog/IMG_20221004_163853.png" alt="IMG_20221004_163853"></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>SpringBoot</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¤§å‰ç«¯è¿›é˜¶</title>
    <link href="/2022/09/18/%E5%A4%A7%E5%89%8D%E7%AB%AF%E8%BF%9B%E9%98%B6/"/>
    <url>/2022/09/18/%E5%A4%A7%E5%89%8D%E7%AB%AF%E8%BF%9B%E9%98%B6/</url>
    
    <content type="html"><![CDATA[<p><strong>Node.js ä¸­æ–‡ç½‘ï¼š<a href="http://nodejs.cn/">http://nodejs.cn/</a></strong></p><h1 id="1-Nodejs"><a href="#1-Nodejs" class="headerlink" title="1. Nodejs"></a>1. Nodejs</h1><h2 id="1-1-Nodejsä»‹ç»ä¸å®‰è£…"><a href="#1-1-Nodejsä»‹ç»ä¸å®‰è£…" class="headerlink" title="1.1 Nodejsä»‹ç»ä¸å®‰è£…"></a>1.1 Nodejsä»‹ç»ä¸å®‰è£…</h2><p><strong>Node.js ä¸­æ–‡ç½‘ï¼š<a href="http://nodejs.cn/">http://nodejs.cn/</a></strong></p><p><strong>ä»‹ç»ï¼š</strong></p><ol><li>Node æ˜¯ä¸€ä¸ªè®© JavaScript è¿è¡Œåœ¨æœåŠ¡ç«¯çš„å¼€å‘å¹³å°ï¼Œå®ƒè®© JavaScript æˆä¸ºä¸PHPã€Pythonã€Perlã€Ruby ç­‰æœåŠ¡ç«¯è¯­è¨€å¹³èµ·å¹³åçš„è„šæœ¬è¯­è¨€ã€‚  å‘å¸ƒäº2009å¹´5æœˆï¼Œç”±Ryan Dahlå¼€å‘ï¼Œå®è´¨æ˜¯å¯¹Chrome V8å¼•æ“è¿›è¡Œäº†å°è£…ã€‚</li><li>ç®€å•çš„è¯´ Node.js å°±æ˜¯è¿è¡Œåœ¨æœåŠ¡ç«¯çš„ JavaScriptã€‚ Node.js æ˜¯ä¸€ä¸ªåŸºäºChrome JavaScript è¿è¡Œæ—¶å»ºç«‹çš„ä¸€ä¸ªå¹³å°ã€‚åº•å±‚æ¶æ„æ˜¯ï¼šjavascript. æ–‡ä»¶åç¼€ï¼š.js</li><li>Node.jsæ˜¯ä¸€ä¸ªäº‹ä»¶é©±åŠ¨I/OæœåŠ¡ç«¯JavaScriptç¯å¢ƒï¼ŒåŸºäºGoogleçš„V8å¼•æ“ï¼ŒV8å¼•æ“æ‰§è¡ŒJavascriptçš„é€Ÿåº¦éå¸¸å¿«ï¼Œæ€§èƒ½éå¸¸å¥½ã€‚</li></ol><p><img src="https://img.yiqiangshiyia.cn/blog/nodejs-01.png" alt="nodejs-01"></p><p><strong>å®‰è£…ï¼š</strong></p><p><strong>ä¸‹è½½åœ°å€ï¼š<a href="http://nodejs.cn/download/">http://nodejs.cn/download/</a></strong></p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220918111557.png" alt="QQæˆªå›¾20220918111557"></p><p>å®‰è£…é»˜è®¤å®‰è£…å³å¯ï¼Œå®‰è£…å®Œæˆä¹‹åï¼ŒæŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">node -v<br></code></pre></td></tr></table></figure><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220918105830.png" alt="QQæˆªå›¾20220918105830"></p><p><strong>å°ç»“ï¼š</strong></p><p>Nodejsæ˜¯ä¸€é—¨è®¡ç®—æœºè¯­è¨€ï¼Œè¿è¡Œåœ¨ç³»ç»Ÿä¸­çš„v8ï¼ˆjvmï¼‰å¼•æ“ä¸­ã€‚æ–‡ä»¶åç¼€æ˜¯ js è¿è¡Œçš„å‘½ä»¤æ˜¯ï¼šnode</p><h2 id="1-2-å¿«é€Ÿå…¥é—¨"><a href="#1-2-å¿«é€Ÿå…¥é—¨" class="headerlink" title="1.2 å¿«é€Ÿå…¥é—¨"></a>1.2 å¿«é€Ÿå…¥é—¨</h2><h3 id="1-2-1-å¿«é€Ÿå…¥é—¨"><a href="#1-2-1-å¿«é€Ÿå…¥é—¨" class="headerlink" title="1.2.1 å¿«é€Ÿå…¥é—¨"></a>1.2.1 å¿«é€Ÿå…¥é—¨</h3><ol><li><p>åˆ›å»ºæ–‡ä»¶å¤¹Nodejs</p></li><li><p>åˆ›å»º hello.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Hello World!&quot;</span>);<br></code></pre></td></tr></table></figure></li><li><p>ç»ˆç«¯è¿è¡Œ</p><p>jsæ˜¯è§£é‡Šå‹è¯­è¨€ï¼Œä¸éœ€è¦å»ç¼–è¯‘</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">node hello.js<br></code></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼šHello World!</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220918114838.png" alt="QQæˆªå›¾20220918114838"></p></li></ol><p>æµè§ˆå™¨çš„å†…æ ¸åŒ…æ‹¬ä¸¤éƒ¨åˆ†æ ¸å¿ƒï¼š</p><ul><li>DOMæ¸²æŸ“å¼•æ“ï¼›</li><li>java script è§£æå™¨ï¼ˆjså¼•æ“ï¼‰</li><li>jsè¿è¡Œåœ¨æµè§ˆå™¨å†…æ ¸ä¸­çš„jså¼•æ“å†…éƒ¨</li></ul><p><strong>å°ç»“ï¼š</strong></p><p>Node.jsæ˜¯è„±ç¦»æµè§ˆå™¨ç¯å¢ƒè¿è¡Œçš„JavaScriptç¨‹åºï¼ŒåŸºäºV8 å¼•æ“</p><h3 id="1-2-2-Nodeå®ç°è¯·æ±‚å“åº”"><a href="#1-2-2-Nodeå®ç°è¯·æ±‚å“åº”" class="headerlink" title="1.2.2 Nodeå®ç°è¯·æ±‚å“åº”"></a>1.2.2 Nodeå®ç°è¯·æ±‚å“åº”</h3><ol><li><p>åˆ›å»º httpserver.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// å¯¼å…¥æ¨¡å—æ˜¯require å°±ç±»ä¼¼äºimport java.io </span><br><span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;http&#x27;</span>);<br><span class="hljs-comment">// 1: åˆ›å»ºä¸€ä¸ªhttpserveræœåŠ¡</span><br>http.<span class="hljs-title function_">createServer</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">request,response</span>)&#123;<br>    <span class="hljs-comment">// æµè§ˆå™¨æ€ä¹ˆè®¤è¯†hello server!!! </span><br>    response.<span class="hljs-title function_">writeHead</span>(<span class="hljs-number">200</span>,&#123;<span class="hljs-string">&#x27;Content-type&#x27;</span>:<span class="hljs-string">&#x27;text/plain&#x27;</span>&#125;); <span class="hljs-comment">//è¿™å¥è¯çš„å«ä¹‰æ˜¯ï¼šå‘Šè¯‰æµè§ˆå™¨å°†</span><br>    <span class="hljs-comment">// ä»¥text-plainå»è§£æhello server è¿™æ®µæ•°æ®ã€‚</span><br>    <span class="hljs-comment">// ç»™æµè§ˆå™¨è¾“å‡ºå†…å®¹</span><br>    response.<span class="hljs-title function_">end</span>(<span class="hljs-string">&quot;&lt;strong&gt;hello server!!!&lt;/strong&gt;&quot;</span>);<br>&#125;).<span class="hljs-title function_">listen</span>(<span class="hljs-number">8888</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;ä½ å¯åŠ¨çš„æœåŠ¡æ˜¯ï¼šhttp://localhpst:8888ä»¥å¯åŠ¨æˆåŠŸ!!&quot;</span>);<br><span class="hljs-comment">// 2: ç›‘å¬ä¸€ç«¯å£8888</span><br><span class="hljs-comment">// 3: å¯åŠ¨è¿è¡ŒæœåŠ¡ node httpserver.js</span><br><span class="hljs-comment">// 4: åœ¨æµè§ˆå™¨è®¿é—®http://localhost:8888</span><br></code></pre></td></tr></table></figure></li><li><p>è¿è¡ŒæœåŠ¡å™¨ç¨‹åº</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">node httpserver.js<br></code></pre></td></tr></table></figure></li><li><p>æœåŠ¡å™¨å¯åŠ¨æˆåŠŸåï¼Œåœ¨æµè§ˆå™¨ä¸­è¾“å…¥ï¼š<a href="http://localhost:8888/">http://localhost:8888/</a> æŸ¥çœ‹webserveræˆåŠŸè¿è¡Œï¼Œå¹¶è¾“å‡ºhtmlé¡µé¢</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220918153050.png" alt="QQæˆªå›¾20220918153050"></p></li><li><p>åœæ­¢æœåŠ¡ï¼šctrl + c</p></li></ol><h3 id="1-2-3-Nodeæ“ä½œæ•°æ®åº“"><a href="#1-2-3-Nodeæ“ä½œæ•°æ®åº“" class="headerlink" title="1.2.3 Nodeæ“ä½œæ•°æ®åº“"></a>1.2.3 Nodeæ“ä½œæ•°æ®åº“</h3><p><strong>å‚è€ƒæ–‡æ¡£ï¼š<a href="https://www.npmjs.com/package/mysql">https://www.npmjs.com/package/mysql</a></strong></p><ol><li><p>å®‰è£…mysqlä¾èµ–</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm install mysql<br></code></pre></td></tr></table></figure><p>å®‰è£…æˆåŠŸåé¡¹ç›®ç›®å½•ä¸‹ä¼šå‡ºç°ä¸€ä¸ª node_modules æ–‡ä»¶å¤¹ã€‚ç±»ä¼¼äº maven ä¸­å¯¼å…¥çš„ Java åº“ã€‚</p></li><li><p>å®šä¹‰db.jsè¿›è¡Œæ“ä½œ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//1: å¯¼å…¥mysqlä¾èµ–åŒ…,  mysqlå±äºç¬¬ä¸‰æ–¹çš„æ¨¡å—å°±ç±»ä¼¼äº java.sqlä¸€æ ·çš„é“ç†</span><br><span class="hljs-keyword">var</span> mysql = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;mysql&quot;</span>);<br><span class="hljs-comment">// 1: åˆ›å»ºä¸€ä¸ªmysqlçš„Connectionå¯¹è±¡</span><br><span class="hljs-comment">// 2: é…ç½®æ•°æ®è¿æ¥çš„ä¿¡æ¯ </span><br><span class="hljs-keyword">var</span> connection = mysql.<span class="hljs-title function_">createConnection</span>(&#123;<br>    <span class="hljs-attr">host</span>:<span class="hljs-string">&quot;192.168.119.1&quot;</span>,<br>    <span class="hljs-attr">port</span>:<span class="hljs-number">3306</span>,<br>    <span class="hljs-attr">user</span>:<span class="hljs-string">&quot;root&quot;</span>,<br>    <span class="hljs-attr">password</span>:<span class="hljs-string">&quot;123456&quot;</span>,<br>    <span class="hljs-attr">database</span>:<span class="hljs-string">&quot;mysql_test&quot;</span><br>&#125;);<br><span class="hljs-comment">// 3ï¼šå¼€è¾Ÿè¿æ¥</span><br>connection.<span class="hljs-title function_">connect</span>();<br><span class="hljs-comment">// 4: æ‰§è¡Œcurd</span><br>connection.<span class="hljs-title function_">query</span>(<span class="hljs-string">&quot;select * from user&quot;</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params">error,results,fields</span>)&#123;<br>    <span class="hljs-comment">// å¦‚æœæŸ¥è¯¢å‡ºé”™ï¼Œç›´æ¥æŠ›å‡º</span><br>    <span class="hljs-keyword">if</span>(error) <span class="hljs-keyword">throw</span> error;<br>    <span class="hljs-comment">// æŸ¥è¯¢æˆåŠŸ</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;results = &quot;</span>,results);<br>&#125;);<br><span class="hljs-comment">// 5: å…³é—­è¿æ¥</span><br>connection.<span class="hljs-title function_">end</span>();<br><span class="hljs-comment">// æœ€åä¸€æ­¥ï¼šè¿è¡Œnode db.js æŸ¥çœ‹æ•ˆæœ</span><br></code></pre></td></tr></table></figure></li><li><p>æ–°å»ºæ•°æ®åº“ï¼šmysql_test  è¡¨ï¼šuser</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220918155458.png" alt="QQæˆªå›¾20220918155458"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs mysql">SET NAMES utf8mb4;<br>SET FOREIGN_KEY_CHECKS = 0;<br>DROP TABLE IF EXISTS `user`;<br>CREATE TABLE `user`  (<br>  `username` varchar(11) NOT NULL,<br>  `password` varchar(255) NOT NULL,<br>  PRIMARY KEY (`username`) USING BTREE<br>) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Compact;<br>INSERT INTO `user` VALUES (&#x27;æ—æ…•æ¤¿&#x27;, &#x27;123456&#x27;);<br>INSERT INTO `user` VALUES (&#x27;æ—å—èŠŠ&#x27;, &#x27;123456&#x27;);<br>SET FOREIGN_KEY_CHECKS = 1;<br></code></pre></td></tr></table></figure></li><li><p>è¿è¡Œdb.js</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">node db.js<br></code></pre></td></tr></table></figure></li></ol><blockquote><p>å¦‚æœæƒ³å¼€å‘æ›´å¤æ‚çš„åŸºäºNode.jsçš„åº”ç”¨ç¨‹åºåå°ï¼Œéœ€è¦è¿›ä¸€æ­¥å­¦ä¹ Node.jsçš„Webå¼€å‘ç›¸å…³æ¡†æ¶ expressï¼Œart-templateã€koaç­‰</p></blockquote><h1 id="2-ES6"><a href="#2-ES6" class="headerlink" title="2. ES6"></a>2. ES6</h1><h2 id="2-1-ES6æ¦‚è¿°"><a href="#2-1-ES6æ¦‚è¿°" class="headerlink" title="2.1 ES6æ¦‚è¿°"></a>2.1 ES6æ¦‚è¿°</h2><blockquote><p><strong>ECMAScript</strong>æ˜¯ä¸€ç§ç”±<a href="https://baike.baidu.com/item/Ecma%E5%9B%BD%E9%99%85?fromModule=lemma_inlink">Ecmaå›½é™…</a>ï¼ˆå‰èº«ä¸º<a href="https://baike.baidu.com/item/%E6%AC%A7%E6%B4%B2%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%88%B6%E9%80%A0%E5%95%86%E5%8D%8F%E4%BC%9A/2052072?fromModule=lemma_inlink">æ¬§æ´²è®¡ç®—æœºåˆ¶é€ å•†åä¼š</a>ï¼ŒEuropean Computer Manufacturers Associationï¼‰é€šè¿‡ECMA-262æ ‡å‡†åŒ–çš„è„šæœ¬<a href="https://baike.baidu.com/item/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E8%AF%AD%E8%A8%80?fromModule=lemma_inlink">ç¨‹åºè®¾è®¡è¯­è¨€</a>ã€‚è¿™ç§è¯­è¨€åœ¨<a href="https://baike.baidu.com/item/%E4%B8%87%E7%BB%B4%E7%BD%91?fromModule=lemma_inlink">ä¸‡ç»´ç½‘</a>ä¸Šåº”ç”¨å¹¿æ³›ï¼Œå®ƒå¾€å¾€è¢«ç§°ä¸º<a href="https://baike.baidu.com/item/JavaScript?fromModule=lemma_inlink">JavaScript</a>æˆ–<a href="https://baike.baidu.com/item/JScript?fromModule=lemma_inlink">JScript</a>ï¼Œæ‰€ä»¥å®ƒå¯ä»¥ç†è§£ä¸ºæ˜¯JavaScriptçš„ä¸€ä¸ªæ ‡å‡†,ä½†å®é™…ä¸Šåä¸¤è€…æ˜¯ECMA-262æ ‡å‡†çš„å®ç°å’Œæ‰©å±•ã€‚</p></blockquote><p>ES6: æ˜¯JavaScriptè¯­è¨€çš„ä¸‹ä¸€ä»£æ ‡å‡†ï¼Œ2015å¹´6æœˆæ­£å¼å‘å¸ƒã€‚å®ƒçš„ç›®æ ‡ï¼Œæ˜¯ä½¿å¾—JavaScriptè¯­è¨€å¯ä»¥ç”¨æ¥ç¼–å†™å¤æ‚çš„å¤§å‹åº”ç”¨ç¨‹åºï¼Œæˆä¸ºä¼ä¸šçº§å¼€å‘è¯­è¨€ã€‚</p><p>ç¼–ç¨‹è¯­è¨€JavaScriptæ˜¯ECMAScriptçš„å®ç°å’Œæ‰©å±• ã€‚ECMAScriptæ˜¯ç”±ECMAï¼ˆä¸€ä¸ªç±»ä¼¼W3Cçš„æ ‡å‡†ç»„ç»‡ï¼‰å‚ä¸è¿›è¡Œæ ‡å‡†åŒ–çš„è¯­æ³•è§„èŒƒã€‚ECMAScriptå®šä¹‰äº†ï¼š</p><p>[è¯­è¨€è¯­æ³•] â€“ è¯­æ³•è§£æè§„åˆ™ã€å…³é”®å­—ã€è¯­å¥ã€å£°æ˜ã€è¿ç®—ç¬¦ç­‰ã€‚</p><p>[ç±»å‹]â€“ å¸ƒå°”å‹ã€æ•°å­—ã€å­—ç¬¦ä¸²ã€å¯¹è±¡ç­‰ã€‚</p><p>[åŸå‹å’Œç»§æ‰¿]</p><p>[æ ‡å‡†åº“] â€“ [JSON]ã€[Math]ã€[æ•°ç»„æ–¹æ³•]ã€[å¯¹è±¡è‡ªçœæ–¹æ³•]ç­‰ã€‚</p><p>ECMAScriptæ ‡å‡†ä¸å®šä¹‰HTMLæˆ–CSSçš„ç›¸å…³åŠŸèƒ½ï¼Œä¹Ÿä¸å®šä¹‰ç±»ä¼¼DOMï¼ˆæ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼‰çš„[Web API]ï¼Œè¿™äº›éƒ½åœ¨ç‹¬ç«‹çš„æ ‡å‡†ä¸­è¿›è¡Œå®šä¹‰ã€‚ECMAScriptæ¶µç›–äº†å„ç§ç¯å¢ƒä¸­JSçš„ä½¿ç”¨åœºæ™¯ï¼Œæ— è®ºæ˜¯æµè§ˆå™¨ç¯å¢ƒè¿˜æ˜¯ç±»ä¼¼[node.js]çš„éæµè§ˆå™¨ç¯å¢ƒã€‚</p><p><strong>ECMAScriptçš„å¿«é€Ÿå‘å±•ï¼š</strong></p><p><img src="https://img.yiqiangshiyia.cn/blog/es6-001.png" alt="es6-001"></p><h2 id="2-2-ES6è¯­æ³•ï¼šletå’Œconstå‘½ä»¤"><a href="#2-2-ES6è¯­æ³•ï¼šletå’Œconstå‘½ä»¤" class="headerlink" title="2.2 ES6è¯­æ³•ï¼šletå’Œconstå‘½ä»¤"></a>2.2 ES6è¯­æ³•ï¼šletå’Œconstå‘½ä»¤</h2><table><thead><tr><th>åŒºåˆ«</th><th>var</th><th>let</th><th>const</th></tr></thead><tbody><tr><td>æ˜¯å¦æœ‰å—çº§ä½œç”¨åŸŸ</td><td>Ã—</td><td>âœ”ï¸</td><td>âœ”ï¸</td></tr><tr><td>æ˜¯å¦å­˜åœ¨å˜é‡æå‡</td><td>âœ”ï¸</td><td>Ã—</td><td>Ã—</td></tr><tr><td>æ˜¯å¦æ·»åŠ å…¨å±€å±æ€§</td><td>âœ”ï¸</td><td>Ã—</td><td>Ã—</td></tr><tr><td>èƒ½å¦é‡å¤å£°æ˜å˜é‡</td><td>âœ”ï¸</td><td>Ã—</td><td>Ã—</td></tr><tr><td>æ˜¯å¦å­˜åœ¨æš‚æ—¶æ€§æ­»åŒº</td><td>Ã—</td><td>âœ”ï¸</td><td>âœ”ï¸</td></tr><tr><td>æ˜¯å¦å¿…é¡»è®¾ç½®åˆå§‹å€¼</td><td>Ã—</td><td>Ã—</td><td>âœ”ï¸</td></tr><tr><td>èƒ½å¦æ”¹å˜æŒ‡é’ˆæŒ‡å‘</td><td>âœ”ï¸</td><td>âœ”ï¸</td><td>Ã—</td></tr></tbody></table><h2 id="2-3-ES6è¯­æ³•ï¼šæ¨¡æ¿å­—ç¬¦ä¸²"><a href="#2-3-ES6è¯­æ³•ï¼šæ¨¡æ¿å­—ç¬¦ä¸²" class="headerlink" title="2.3 ES6è¯­æ³•ï¼šæ¨¡æ¿å­—ç¬¦ä¸²"></a>2.3 ES6è¯­æ³•ï¼šæ¨¡æ¿å­—ç¬¦ä¸²</h2><blockquote><p>ä»¥å‰ï¼š æˆ‘ä»¬éƒ½æ˜¯ä½¿ç”¨ â€˜â€™ æˆ–è€… â€œâ€ æ¥æŠŠå­—ç¬¦ä¸²å¥—èµ·æ¥</p><p>ES6ï¼š ``</p></blockquote><p>åœ¨ ES6 æˆ‘ä»¬é€šè¿‡ `` æ¥åšå¤šè¡Œå­—ç¬¦ä¸²æˆ–è€…å­—ç¬¦ä¸²ä¸€è¡Œè¡Œæ‹¼æ¥ã€‚åŸºæœ¬çš„å­—ç¬¦ä¸²æ ¼å¼åŒ–ã€‚å°†è¡¨è¾¾å¼åµŒå…¥å­—ç¬¦ä¸²ä¸­è¿›è¡Œæ‹¼æ¥ã€‚ç”¨${}æ¥ç•Œå®šã€‚</p><blockquote><p><strong>example</strong></p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;ie=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>æ¨¡æ¿å­—ç¬¦ä¸²<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> username = <span class="hljs-string">&quot;å¼ ä¸‰&quot;</span>;</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> age = <span class="hljs-number">30</span>;</span><br><span class="language-javascript">        <span class="hljs-comment">// 1: åŸå§‹çš„åšæ³•å°±æ˜¯å»æ‹¼æ¥å­—ç¬¦ä¸²</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> str = <span class="hljs-string">&quot;æˆ‘åå­—å« &quot;</span> + username+<span class="hljs-string">&quot;,å¹´é¾„æ˜¯: &quot;</span>+age;</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(str);  </span><br><span class="language-javascript">        <span class="hljs-comment">// 2: ES6æ¨¡æ¿å­—ç¬¦ä¸²</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> str2 = <span class="hljs-string">`æˆ‘åå­—å« <span class="hljs-subst">$&#123;username&#125;</span>,å¹´é¾„æ˜¯: <span class="hljs-subst">$&#123;age&#125;</span>`</span>;</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(str2);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="2-4-ES6è¯­æ³•ï¼šå‡½æ•°é»˜è®¤å‚æ•°ä¸ç®­å¤´å‡½æ•°"><a href="#2-4-ES6è¯­æ³•ï¼šå‡½æ•°é»˜è®¤å‚æ•°ä¸ç®­å¤´å‡½æ•°" class="headerlink" title="2.4 ES6è¯­æ³•ï¼šå‡½æ•°é»˜è®¤å‚æ•°ä¸ç®­å¤´å‡½æ•°"></a>2.4 ES6è¯­æ³•ï¼šå‡½æ•°é»˜è®¤å‚æ•°ä¸ç®­å¤´å‡½æ•°</h2><blockquote><p><strong>å‡½æ•°é»˜è®¤å‚æ•°</strong></p></blockquote><p>åœ¨æ–¹æ³•çš„å‚æ•°åé¢åŠ ä¸Šä¸€ä¸ªé»˜è®¤å€¼å³å¯ã€‚</p><p>ä»£ç ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;ie=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// é»˜è®¤å‚æ•° ç»™å‚æ•°åˆ—è¡¨è®¾å®šåˆå§‹å€¼</span></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a =<span class="hljs-number">100</span>,b=<span class="hljs-number">100</span></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a,b);    </span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-comment">// æ‰§è¡Œæ–¹æ³•ï¼Œä¼šç”¨é»˜è®¤å€¼å¡«å……ï¼Œæ‰“å°å‡ºæ¥100,200</span></span><br><span class="language-javascript">        <span class="hljs-title function_">add</span>();</span><br><span class="language-javascript">        <span class="hljs-comment">// è¦†ç›–é»˜è®¤å€¼æ‰“å°  ç»“æœæ˜¯1ï¼Œ2      </span></span><br><span class="language-javascript">        <span class="hljs-title function_">add</span>(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><blockquote><p><strong>ç®­å¤´å‡½æ•°</strong></p></blockquote><p>ç®­å¤´å‡½æ•°ç®€åŒ–å‡½æ•°çš„å®šä¹‰ï¼Œå¯ä»¥è®©æˆ‘ä»¬ä¸ç”¨ä½¿ç”¨functionå…³é”®å­—ã€‚</p><p>ç®­å¤´å‡½æ•°ç‰¹ç‚¹ï¼š</p><ol><li>ä¸éœ€è¦functionå…³é”®å­—æ¥åˆ›å»ºå‡½æ•°</li><li>çœç•¥returnå…³é”®å­—</li><li>ç»§æ‰¿å½“å‰ä¸Šä¸‹æ–‡çš„ this å…³é”®å­—</li></ol><p>ä»£ç ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;ie=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>ç®­å¤´å‡½æ•°<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// æ— å‚æ•°çš„å‡½æ•°</span></span><br><span class="language-javascript">        <span class="hljs-comment">//var sum = function()&#123;&#125;</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> <span class="hljs-title function_">sum</span> = (<span class="hljs-params"></span>)=&gt;&#123;&#125;</span><br><span class="language-javascript">        </span><br><span class="language-javascript">        <span class="hljs-comment">// æœ‰ä¸€ä¸ªå‚æ•°</span></span><br><span class="language-javascript">        <span class="hljs-comment">//var sum2 = function(a)&#123;&#125;;</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> <span class="hljs-title function_">sum2</span> = (<span class="hljs-params">a</span>)=&gt;&#123;&#125;;</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> <span class="hljs-title function_">sum2</span> = a=&gt;&#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span> a;</span><br><span class="language-javascript">        &#125;;</span><br><span class="language-javascript">        </span><br><span class="language-javascript">        <span class="hljs-comment">// æœ‰äºŒä¸ªå‚æ•°çš„ä»¥ä¸Š,è®°ä½æ‹¬å·ä¸€å®šè¦åŠ </span></span><br><span class="language-javascript">        <span class="hljs-comment">//var sum3 = function(a,b)&#123;return a + b;&#125;;</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> <span class="hljs-title function_">sum3</span> = (<span class="hljs-params">a,b</span>)=&gt;&#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span> a + b;</span><br><span class="language-javascript">        &#125;;</span><br><span class="language-javascript">        </span><br><span class="language-javascript">        <span class="hljs-comment">// å¦‚æœæ²¡æœ‰é€»è¾‘ä½“ï¼Œåªæœ‰è¿”å›å€¼å¯ä»¥ç®€åŒ–å¦‚ä¸‹</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> <span class="hljs-title function_">sum4</span> = (<span class="hljs-params">a,b</span>)=&gt;a+b</span><br><span class="language-javascript">        </span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">sum2</span>(<span class="hljs-number">100</span>));</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">sum3</span>(<span class="hljs-number">100</span>,<span class="hljs-number">100</span>));</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">sum4</span>(<span class="hljs-number">100</span>,<span class="hljs-number">100</span>));</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="2-5-ES6è¯­æ³•ï¼šå¯¹è±¡åˆå§‹åŒ–ç®€å†™"><a href="#2-5-ES6è¯­æ³•ï¼šå¯¹è±¡åˆå§‹åŒ–ç®€å†™" class="headerlink" title="2.5 ES6è¯­æ³•ï¼šå¯¹è±¡åˆå§‹åŒ–ç®€å†™"></a>2.5 ES6è¯­æ³•ï¼šå¯¹è±¡åˆå§‹åŒ–ç®€å†™</h2><p><strong>å¯¹è±¡ç®€å†™ï¼š</strong></p><ol><li>å› ä¸ºå¯¹è±¡æ˜¯æŒ‰ç…§ key:value æ˜¾ç¤ºå®šä¹‰çš„ï¼Œå¦‚æœ key å’Œå˜é‡çš„åå­—ä¸€è‡´ï¼Œå¯ä»¥åªå®šä¹‰ä¸€æ¬¡å³å¯ã€‚</li><li>å¦‚æœä¸€ä¸ªå¯¹è±¡ä¸­çš„ key å’Œ value çš„åå­—ä¸€æ ·çš„æƒ…å†µä¸‹å¯ä»¥å®šä¹‰æˆä¸€ä¸ªã€‚</li><li>å¦‚æœ value æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¯ä»¥æŠŠ function å»æ‰ï¼Œåªå‰©ä¸‹ () å³å¯ã€‚</li></ol><p><strong>ä»£ç ï¼š</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;ie=edge&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>å¯¹è±¡ç®€å†™<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">function</span> <span class="hljs-title function_">person</span>(<span class="hljs-params">name, age</span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-comment">//return &#123;name:name,age:age&#125;;</span></span><br><span class="language-javascript">        <span class="hljs-comment">// å¯¹è±¡ç®€å†™</span></span><br><span class="language-javascript">        <span class="hljs-keyword">return</span> &#123; name, age &#125;;</span><br><span class="language-javascript">    &#125;;</span><br><span class="language-javascript">    <span class="hljs-comment">// è°ƒç”¨å’Œæ‰§è¡Œ</span></span><br><span class="language-javascript">    <span class="hljs-keyword">var</span> json = <span class="hljs-title function_">person</span>(<span class="hljs-string">&quot;æ—æ…•æ¤¿&quot;</span>, <span class="hljs-number">20</span>);</span><br><span class="language-javascript">    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(json.<span class="hljs-property">name</span>, json.<span class="hljs-property">age</span>);</span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">//&lt;button onclick=&quot;login()&quot;&gt;ç™»å½•&lt;/button&gt;</span></span><br><span class="language-javascript">    <span class="hljs-keyword">function</span> <span class="hljs-title function_">login</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> username = $(<span class="hljs-string">&quot;#username&quot;</span>).<span class="hljs-title function_">val</span>();</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> password = $(<span class="hljs-string">&quot;#password&quot;</span>).<span class="hljs-title function_">val</span>();</span><br><span class="language-javascript">        <span class="hljs-comment">// å‘é€ajax</span></span><br><span class="language-javascript">        $.<span class="hljs-title function_">ajax</span>(&#123;</span><br><span class="language-javascript">            <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;post&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-comment">// å¯¹è±¡ç®€å†™</span></span><br><span class="language-javascript">            <span class="hljs-attr">data</span>: &#123; username, password &#125;,</span><br><span class="language-javascript">            <span class="hljs-comment">// åŸå§‹å†™åˆ†</span></span><br><span class="language-javascript">            <span class="hljs-comment">//data:&#123;username:username,password:password&#125;,</span></span><br><span class="language-javascript">            <span class="hljs-title function_">success</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;);</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="2-6-ES6çš„è¯­æ³•ï¼šå¯¹è±¡è§£æ„"><a href="#2-6-ES6çš„è¯­æ³•ï¼šå¯¹è±¡è§£æ„" class="headerlink" title="2.6 ES6çš„è¯­æ³•ï¼šå¯¹è±¡è§£æ„"></a>2.6 ES6çš„è¯­æ³•ï¼šå¯¹è±¡è§£æ„</h2><p><strong>å¯¹è±¡è§£æ„ï¼š</strong>ES6 æä¾›ä¸€äº›è·å–å¿«æ·è·å–å¯¹è±¡å±æ€§å’Œè¡Œä¸ºæ–¹å¼ã€‚</p><p>ä»£ç ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;ie=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>å¯¹è±¡è§£æ„<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> person = &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;linmuchun&#x27;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">age</span>:<span class="hljs-number">32</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">language</span>:<span class="hljs-string">&quot;cn&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-title function_">say</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>+<span class="hljs-string">&quot;å¹´é¾„æ˜¯ï¼š&quot;</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span>);</span><br><span class="language-javascript">            &#125; </span><br><span class="language-javascript">        &#125;;</span><br><span class="language-javascript">        <span class="hljs-comment">// è·å–å¯¹è±¡çš„å±æ€§å’Œè¡Œä¸º</span></span><br><span class="language-javascript">        <span class="hljs-comment">// æ–¹æ³•1ï¼šé€šè¿‡.çš„æ–¹å¼</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> name = person.<span class="hljs-property">name</span>;</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> age = person.<span class="hljs-property">age</span>;</span><br><span class="language-javascript">        person.<span class="hljs-title function_">say</span>();</span><br><span class="language-javascript">        </span><br><span class="language-javascript">        <span class="hljs-comment">// æ–¹æ³•2ï¼šé€šè¿‡[]çš„æ–¹å¼</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> name = person[<span class="hljs-string">&quot;name&quot;</span>];</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> age = person[<span class="hljs-string">&quot;age&quot;</span>];</span><br><span class="language-javascript">        person[<span class="hljs-string">&quot;say&quot;</span>]();</span><br><span class="language-javascript">        </span><br><span class="language-javascript">        <span class="hljs-comment">// æ–¹æ³•2ï¼šå¯¹è±¡è§£æ„</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> &#123;name,age&#125; = person;</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(name,age);</span><br><span class="language-javascript">        <span class="hljs-comment">// å¯ä»¥ç”¨å†’å·å–å°å</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> &#123;name,age,<span class="hljs-attr">language</span>:lan&#125; = person;</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(name,age,lan);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="2-7-ES6çš„è¯­æ³•ï¼šä¼ æ’­æ“ä½œç¬¦"><a href="#2-7-ES6çš„è¯­æ³•ï¼šä¼ æ’­æ“ä½œç¬¦" class="headerlink" title="2.7 ES6çš„è¯­æ³•ï¼šä¼ æ’­æ“ä½œç¬¦"></a>2.7 ES6çš„è¯­æ³•ï¼šä¼ æ’­æ“ä½œç¬¦</h2><p><strong>å¯¹è±¡ä¼ æ’­æ“ä½œç¬¦ï¼š</strong>â€¦</p><p>ä½œç”¨ï¼šæŠŠä¸€ä¸ªå¯¹è±¡çš„å±æ€§ä¼ æ’­åˆ°å¦å¤–ä¸€ä¸ªå¯¹è±¡ä¸­ã€‚</p><p>ä»£ç ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;ie=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>ä¼ æ’­æ“ä½œç¬¦<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// å¯¹è±¡ä¼ æ’­</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> person = &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">name</span>:<span class="hljs-string">&quot;æ—æ…•æ¤¿&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">age</span>:<span class="hljs-number">18</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">sex</span>:<span class="hljs-string">&#x27;å¥³&#x27;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">address</span>:<span class="hljs-string">&quot;å±±ä¸œé’å²›&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">school</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;æˆ‘åœ¨UPCä¸Šå­¦ï¼&quot;</span>);</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;;</span><br><span class="language-javascript">        </span><br><span class="language-javascript">        <span class="hljs-comment">//è§£æ„å‡ºæ¥</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> &#123;name,age,...person2&#125; = person;</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(name);</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(age);</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person2);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220919192108.png" alt="QQæˆªå›¾20220919192108"></p><h1 id="3-NPMåŒ…ç®¡ç†å™¨"><a href="#3-NPMåŒ…ç®¡ç†å™¨" class="headerlink" title="3. NPMåŒ…ç®¡ç†å™¨"></a>3. NPMåŒ…ç®¡ç†å™¨</h1><h2 id="3-1-ç®€ä»‹"><a href="#3-1-ç®€ä»‹" class="headerlink" title="3.1 ç®€ä»‹"></a>3.1 ç®€ä»‹</h2><p><strong>npm å®˜æ–¹ç½‘ç«™ï¼š<a href="https://www.npmjs.com/">https://www.npmjs.com/</a></strong></p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220919200201.png" alt="QQæˆªå›¾20220919200201"></p><blockquote><p><strong>Nodejsè½¯ä»¶åŒ…ç®¡ç†å·¥å…·</strong></p><p>NPMçš„å…¨ç§°æ˜¯Node Package Managerï¼Œæ˜¯ä¸€ä¸ªNodeJSåŒ…ç®¡ç†å’Œåˆ†å‘å·¥å…·ï¼Œå·²ç»æˆä¸ºäº†éå®˜æ–¹çš„å‘å¸ƒNodeæ¨¡å—ï¼ˆåŒ…ï¼‰çš„æ ‡å‡†ã€‚ ç±»ä¼¼äº Mavenã€‚</p><p>2020å¹´3æœˆ17æ—¥ï¼ŒGithubå®£å¸ƒæ”¶è´­npmï¼ŒGitHubç°åœ¨å·²ç»ä¿è¯npmå°†æ°¸è¿œå…è´¹ã€‚</p></blockquote><p><strong>ä½œç”¨ï¼š</strong></p><ol><li>å¿«é€Ÿæ„å»º nodejs å·¥ç¨‹ã€‚</li><li>å¿«é€Ÿå®‰è£…ä¾èµ–å’Œç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œæ¯”å¦‚ npm install mysql redis ç­‰ç­‰ã€‚</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">åœ¨å‘½ä»¤æç¤ºç¬¦è¾“å…¥ npm -v å¯æŸ¥çœ‹å½“å‰npmç‰ˆæœ¬</span><br>npm -v<br></code></pre></td></tr></table></figure><h2 id="3-2-ä½¿ç”¨npmç®¡ç†é¡¹ç›®"><a href="#3-2-ä½¿ç”¨npmç®¡ç†é¡¹ç›®" class="headerlink" title="3.2 ä½¿ç”¨npmç®¡ç†é¡¹ç›®"></a>3.2 ä½¿ç”¨npmç®¡ç†é¡¹ç›®</h2><ol><li><p>åˆ›å»ºæ–‡ä»¶å¤¹NPM</p></li><li><p>é¡¹ç›®åˆå§‹åŒ–</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm init  #é¡¹ç›®åˆå§‹åŒ–å‘½ä»¤<br><span class="hljs-meta prompt_">#</span><span class="language-bash">å¦‚æœæƒ³ç›´æ¥ç”Ÿæˆ package.json æ–‡ä»¶ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨å‘½ä»¤</span><br>npm init -y<br></code></pre></td></tr></table></figure><p>åˆå§‹åŒ–ï¼š</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220919194729.png" alt="QQæˆªå›¾20220919194729"></p></li><li><p>åˆå§‹åŒ–å®Œæˆ</p><p>é¡¹ç›®åˆå§‹åŒ–å®Œæˆä¹‹åä¼šåœ¨é¡¹ç›®ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ª package.json çš„æ–‡ä»¶ï¼Œç±»ä¼¼äº maven ä¸­çš„ pom.xml æ–‡ä»¶ä½œç”¨ç®¡ç†ä¾èµ–ã€‚</p><p>package.json</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;npm&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;version&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;1.0.0&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;æˆ‘æ˜¯ä¸€ä¸ªnodejsé¡¹ç›®&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;main&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;index.js&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;scripts&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;test&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ä¸€è…”è¯—æ„å•Š&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;license&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ISC&quot;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>è§£é‡Šï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;npm&quot;</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">//é¡¹ç›®åç§°</span><br>  <span class="hljs-attr">&quot;version&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;1.0.0&quot;</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">//é¡¹ç›®ç‰ˆæœ¬å·</span><br>  <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;æˆ‘æ˜¯ä¸€ä¸ªnodejsé¡¹ç›®&quot;</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">//é¡¹ç›®æè¿°</span><br>  <span class="hljs-attr">&quot;main&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;index.js&quot;</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">//å…¥å£js</span><br>  <span class="hljs-attr">&quot;scripts&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span>    <span class="hljs-comment">//è¿è¡Œè„šæœ¬</span><br>    <span class="hljs-attr">&quot;test&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ä¸€è…”è¯—æ„å•Š&quot;</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">//å¼€å‘è€…</span><br>  <span class="hljs-attr">&quot;license&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ISC&quot;</span>  <span class="hljs-comment">//æˆæƒåè®®</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure></li></ol><h2 id="3-3-NpmåŒ…ç®¡ç†å™¨å®‰è£…æ¨¡å—"><a href="#3-3-NpmåŒ…ç®¡ç†å™¨å®‰è£…æ¨¡å—" class="headerlink" title="3.3 NpmåŒ…ç®¡ç†å™¨å®‰è£…æ¨¡å—"></a>3.3 NpmåŒ…ç®¡ç†å™¨å®‰è£…æ¨¡å—</h2><p><strong>npm install</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">ä½¿ç”¨ npm install å®‰è£…ä¾èµ–åŒ…çš„æœ€æ–°ç‰ˆï¼Œ</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">æ¨¡å—å®‰è£…çš„ä½ç½®ï¼šé¡¹ç›®ç›®å½•\node_modules</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">å®‰è£…ä¼šè‡ªåŠ¨åœ¨é¡¹ç›®ç›®å½•ä¸‹æ·»åŠ  package-lock.jsonæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶å¸®åŠ©é”å®šå®‰è£…åŒ…çš„ç‰ˆæœ¬</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">åŒæ—¶package.json æ–‡ä»¶ä¸­ï¼Œä¾èµ–åŒ…ä¼šè¢«æ·»åŠ åˆ°dependenciesèŠ‚ç‚¹ä¸‹ï¼Œç±»ä¼¼mavenä¸­çš„ &lt;dependencies&gt;</span><br>npm install jquery<br><span class="hljs-meta prompt_">#</span><span class="language-bash">å¦‚æœå®‰è£…æ—¶æƒ³æŒ‡å®šç‰¹å®šçš„ç‰ˆæœ¬</span><br>npm install jquery@2.1.x<br><span class="hljs-meta prompt_">#</span><span class="language-bash">devDependenciesèŠ‚ç‚¹ï¼šå¼€å‘æ—¶çš„ä¾èµ–åŒ…ï¼Œé¡¹ç›®æ‰“åŒ…åˆ°ç”Ÿäº§ç¯å¢ƒçš„æ—¶å€™ä¸åŒ…å«çš„ä¾èµ–</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">ä½¿ç”¨ -Då‚æ•°å°†ä¾èµ–æ·»åŠ åˆ°devDependenciesèŠ‚ç‚¹</span><br>npm install --save-dev eslint<br><span class="hljs-meta prompt_">#</span><span class="language-bash">æˆ–</span><br>npm install -D eslint<br><span class="hljs-meta prompt_">#</span><span class="language-bash">å…¨å±€å®‰è£…</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">Node.jså…¨å±€å®‰è£…çš„npmåŒ…å’Œå·¥å…·çš„ä½ç½®ï¼šç”¨æˆ·ç›®å½•\AppData\Roaming\npm\node_modules</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">ä¸€äº›å‘½ä»¤è¡Œå·¥å…·å¸¸ä½¿ç”¨å…¨å±€å®‰è£…çš„æ–¹å¼</span><br>npm install -g webpack<br><span class="hljs-meta prompt_">#</span><span class="language-bash">npmç®¡ç†çš„é¡¹ç›®åœ¨å¤‡ä»½å’Œä¼ è¾“çš„æ—¶å€™ä¸€èˆ¬ä¸æºå¸¦node_modulesæ–‡ä»¶å¤¹</span><br>npm install #æ ¹æ®package.jsonä¸­çš„é…ç½®ä¸‹è½½ä¾èµ–ï¼Œåˆå§‹åŒ–é¡¹ç›®<br></code></pre></td></tr></table></figure><p><strong>å…¶ä»–å‘½ä»¤ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">æ›´æ–°åŒ…ï¼ˆæ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ï¼‰</span><br>npm update åŒ…å<br><span class="hljs-meta prompt_">#</span><span class="language-bash">å…¨å±€æ›´æ–°</span><br>npm update -g åŒ…å<br><span class="hljs-meta prompt_">#</span><span class="language-bash">å¸è½½åŒ…</span><br>npm uninstall åŒ…å<br><span class="hljs-meta prompt_">#</span><span class="language-bash">å…¨å±€å¸è½½</span><br>npm uninstall -g åŒ…å<br></code></pre></td></tr></table></figure><p><strong>Npmä¸‹è½½ä¸‹æ¥çš„æ¨¡å—å¦‚ä½•ä½¿ç”¨ï¼Ÿ</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> redis = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;redis&quot;</span>);<br></code></pre></td></tr></table></figure><p>å‚è€ƒå®˜ç½‘ï¼š</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220919201050.png" alt="QQæˆªå›¾20220919201050"></p><h2 id="3-4-ä¿®æ”¹npmé•œåƒ"><a href="#3-4-ä¿®æ”¹npmé•œåƒ" class="headerlink" title="3.4 ä¿®æ”¹npmé•œåƒ"></a>3.4 ä¿®æ”¹npmé•œåƒ</h2><ol><li><p>ä¿®æ”¹npmé•œåƒ</p><blockquote><p>NPMå®˜æ–¹çš„ç®¡ç†çš„åŒ…éƒ½æ˜¯ä» <a href="http://npmjs.comä¸‹è½½çš„,ä½†æ˜¯è¿™ä¸ªç½‘ç«™åœ¨å›½å†…é€Ÿåº¦å¾ˆæ…¢./">http://npmjs.comä¸‹è½½çš„ï¼Œä½†æ˜¯è¿™ä¸ªç½‘ç«™åœ¨å›½å†…é€Ÿåº¦å¾ˆæ…¢ã€‚</a></p><p>è¿™é‡Œæ¨èä½¿ç”¨æ·˜å® NPM é•œåƒ <a href="http://npm.taobao.org/">http://npm.taobao.org/</a></p><p>æ·˜å® NPM é•œåƒæ˜¯ä¸€ä¸ªå®Œæ•´ npmjs.com é•œåƒï¼ŒåŒæ­¥é¢‘ç‡ç›®å‰ä¸º 10åˆ†é’Ÿä¸€æ¬¡ï¼Œä»¥ä¿è¯å°½é‡ä¸å®˜æ–¹æœåŠ¡åŒæ­¥ã€‚</p></blockquote></li><li><p>è®¾ç½®é•œåƒåœ°å€</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">ç»è¿‡ä¸‹é¢çš„é…ç½®ï¼Œä»¥åæ‰€æœ‰çš„ npm install éƒ½ä¼šç»è¿‡æ·˜å®çš„é•œåƒåœ°å€ä¸‹è½½</span><br>npm config set registry https://registry.npm.taobao.org <br><span class="hljs-meta prompt_">#</span><span class="language-bash">æŸ¥çœ‹npmé…ç½®ä¿¡æ¯</span><br>npm config list<br></code></pre></td></tr></table></figure></li></ol><h1 id="4-Babel"><a href="#4-Babel" class="headerlink" title="4. Babel"></a>4. Babel</h1><h2 id="4-1-ç®€ä»‹"><a href="#4-1-ç®€ä»‹" class="headerlink" title="4.1 ç®€ä»‹"></a>4.1 ç®€ä»‹</h2><ul><li><p>ES6çš„æŸäº›é«˜çº§è¯­æ³•åœ¨æµè§ˆå™¨ç¯å¢ƒç”šè‡³æ˜¯Node.jsç¯å¢ƒä¸­æ— æ³•æ‰§è¡Œã€‚</p></li><li><p>Babelæ˜¯ä¸€ä¸ªå¹¿æ³›ä½¿ç”¨çš„è½¬ç å™¨ï¼Œå¯ä»¥å°†ES6ä»£ç è½¬ä¸ºES5ä»£ç ï¼Œä»è€Œåœ¨ç°æœ‰ç¯å¢ƒæ‰§è¡Œæ‰§è¡Œã€‚</p></li><li><p>è¿™æ„å‘³ç€ï¼Œä½ å¯ä»¥ç°åœ¨å°±ç”¨ ES6 ç¼–å†™ç¨‹åºï¼Œè€Œä¸ç”¨æ‹…å¿ƒç°æœ‰ç¯å¢ƒæ˜¯å¦æ”¯æŒã€‚</p></li></ul><h2 id="4-2-å®‰è£…"><a href="#4-2-å®‰è£…" class="headerlink" title="4.2 å®‰è£…"></a>4.2 å®‰è£…</h2><p>å®‰è£…å‘½ä»¤è¡Œè½¬ç å·¥å…·</p><p>Babelæä¾›babel-cliå·¥å…·ï¼Œç”¨äºå‘½ä»¤è¡Œè½¬ç ã€‚å®ƒçš„å®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm install -g babel-cli<br><span class="hljs-meta prompt_">#</span><span class="language-bash">æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ</span><br>babel --version<br></code></pre></td></tr></table></figure><h2 id="4-3-Babelçš„ä½¿ç”¨"><a href="#4-3-Babelçš„ä½¿ç”¨" class="headerlink" title="4.3 Babelçš„ä½¿ç”¨"></a>4.3 Babelçš„ä½¿ç”¨</h2><ol><li><p>åˆ›å»ºbabelæ–‡ä»¶å¤¹</p></li><li><p>åˆå§‹åŒ–é¡¹ç›®</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm init -y<br></code></pre></td></tr></table></figure></li><li><p>åˆ›å»ºæ–‡ä»¶ src/example.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// è½¬ç å‰</span><br><span class="hljs-comment">// å®šä¹‰æ•°æ®</span><br><span class="hljs-keyword">let</span> input = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br><span class="hljs-comment">// å°†æ•°ç»„çš„æ¯ä¸ªå…ƒç´  +1</span><br>input = input.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item + <span class="hljs-number">1</span>)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(input)<br></code></pre></td></tr></table></figure></li><li><p>é…ç½® .babelrc</p><p>Babelçš„é…ç½®æ–‡ä»¶æ˜¯.babelrcï¼Œå­˜æ”¾åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹ï¼Œè¯¥æ–‡ä»¶ç”¨æ¥è®¾ç½®è½¬ç è§„åˆ™å’Œæ’ä»¶ï¼ŒåŸºæœ¬æ ¼å¼å¦‚ä¸‹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js">&#123;<br>    <span class="hljs-string">&quot;presets&quot;</span>: [],<br>    <span class="hljs-string">&quot;plugins&quot;</span>: []<br>&#125;<br></code></pre></td></tr></table></figure><p>presetså­—æ®µè®¾å®šè½¬ç è§„åˆ™ï¼Œå°†es2015è§„åˆ™åŠ å…¥ .babelrcï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js">&#123;<br>    <span class="hljs-string">&quot;presets&quot;</span>: [<span class="hljs-string">&quot;es2015&quot;</span>],<br>    <span class="hljs-string">&quot;plugins&quot;</span>: []<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>å®‰è£…è½¬ç å™¨ï¼Œåœ¨é¡¹ç›®ä¸­å®‰è£…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm install --save-dev babel-preset-es2015<br></code></pre></td></tr></table></figure></li><li><p>è½¬ç </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">npm install --save-dev csv-loader xml-loader</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">è½¬ç ç»“æœå†™å…¥ä¸€ä¸ªæ–‡ä»¶</span><br>mkdir dist1<br><span class="hljs-meta prompt_"># </span><span class="language-bash">--out-file æˆ– -o å‚æ•°æŒ‡å®šè¾“å‡ºæ–‡ä»¶</span><br>babel src/example.js --out-file dist1/compiled.js<br><span class="hljs-meta prompt_"># </span><span class="language-bash">æˆ–è€…</span><br>babel src/example.js -o dist1/compiled.js<br><span class="hljs-meta prompt_"># </span><span class="language-bash">æ•´ä¸ªç›®å½•è½¬ç </span><br>mkdir dist2<br><span class="hljs-meta prompt_"># </span><span class="language-bash">--out-dir æˆ– -d å‚æ•°æŒ‡å®šè¾“å‡ºç›®å½•</span><br>babel src --out-dir dist2<br><span class="hljs-meta prompt_"># </span><span class="language-bash">æˆ–è€…</span><br>babel src -d dist2<br></code></pre></td></tr></table></figure></li></ol><h2 id="4-4-è‡ªå®šä¹‰è„šæœ¬"><a href="#4-4-è‡ªå®šä¹‰è„šæœ¬" class="headerlink" title="4.4 è‡ªå®šä¹‰è„šæœ¬"></a>4.4 è‡ªå®šä¹‰è„šæœ¬</h2><ol><li><p>æ”¹å†™package.json</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-comment">// ...</span><br>    <span class="hljs-attr">&quot;scripts&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-comment">// ...</span><br>        <span class="hljs-attr">&quot;build&quot;</span><span class="hljs-punctuation">:</span>  <span class="hljs-string">&quot;babel src\\example.js -o dist\\compiled.js&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure></li><li><p>è½¬ç çš„æ—¶å€™ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">mkdir dist<br>npm run build<br></code></pre></td></tr></table></figure></li></ol><h1 id="5-æ¨¡å—åŒ–"><a href="#5-æ¨¡å—åŒ–" class="headerlink" title="5. æ¨¡å—åŒ–"></a>5. æ¨¡å—åŒ–</h1><h2 id="5-1-ç®€ä»‹"><a href="#5-1-ç®€ä»‹" class="headerlink" title="5.1 ç®€ä»‹"></a>5.1 ç®€ä»‹</h2><p><strong>æ¨¡å—åŒ–äº§ç”Ÿçš„èƒŒæ™¯</strong></p><p>éšç€ç½‘ç«™é€æ¸å˜æˆâ€äº’è”ç½‘åº”ç”¨ç¨‹åºâ€ï¼ŒåµŒå…¥ç½‘é¡µçš„Javascriptä»£ç è¶Šæ¥è¶Šåºå¤§ï¼Œè¶Šæ¥è¶Šå¤æ‚ã€‚</p><p>Javascriptæ¨¡å—åŒ–ç¼–ç¨‹ï¼Œå·²ç»æˆä¸ºä¸€ä¸ªè¿«åˆ‡çš„éœ€æ±‚ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œå¼€å‘è€…åªéœ€è¦å®ç°æ ¸å¿ƒçš„ä¸šåŠ¡é€»è¾‘ï¼Œå…¶ä»–éƒ½å¯ä»¥åŠ è½½åˆ«äººå·²ç»å†™å¥½çš„æ¨¡å—ã€‚ä½†æ˜¯ï¼ŒJavascriptä¸æ˜¯ä¸€ç§æ¨¡å—åŒ–ç¼–ç¨‹è¯­è¨€ï¼Œå®ƒä¸æ”¯æŒâ€ç±»â€ï¼ˆclassï¼‰ï¼ŒåŒ…ï¼ˆpackageï¼‰ç­‰æ¦‚å¿µï¼Œä¹Ÿä¸æ”¯æŒâ€æ¨¡å—â€ï¼ˆmoduleï¼‰ã€‚</p><p><strong>æ¨¡å—åŒ–è§„èŒƒ</strong></p><ul><li>CommonJSæ¨¡å—åŒ–è§„èŒƒ</li><li>ES6æ¨¡å—åŒ–è§„èŒƒ</li></ul><h2 id="5-2-CommonJSè§„èŒƒ"><a href="#5-2-CommonJSè§„èŒƒ" class="headerlink" title="5.2 CommonJSè§„èŒƒ"></a>5.2 CommonJSè§„èŒƒ</h2><p>æ¯ä¸ªæ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œæœ‰è‡ªå·±çš„ä½œç”¨åŸŸã€‚åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œé¢å®šä¹‰çš„å˜é‡ã€å‡½æ•°ã€ç±»ï¼Œéƒ½æ˜¯ç§æœ‰çš„ï¼Œå¯¹å…¶ä»–æ–‡ä»¶ä¸å¯è§ã€‚</p><p><strong>CommonJSä½¿ç”¨ exports å’Œrequire æ¥å¯¼å‡ºã€å¯¼å…¥æ¨¡å—ã€‚</strong></p><ol><li><p>åˆ›å»ºâ€œmoduleâ€æ–‡ä»¶å¤¹</p></li><li><p>åˆ›å»º mokuai-common-js/å››åˆ™è¿ç®—.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// å®šä¹‰æˆå‘˜ï¼š</span><br><span class="hljs-keyword">const</span> sum = <span class="hljs-keyword">function</span>(<span class="hljs-params">a,b</span>)&#123;<br>    <span class="hljs-keyword">return</span> a + b<br>&#125;<br><span class="hljs-keyword">const</span> subtract = <span class="hljs-keyword">function</span>(<span class="hljs-params">a,b</span>)&#123;<br>    <span class="hljs-keyword">return</span> a - b<br>&#125;<br><span class="hljs-keyword">const</span> multiply = <span class="hljs-keyword">function</span>(<span class="hljs-params">a,b</span>)&#123;<br>    <span class="hljs-keyword">return</span> a * b<br>&#125;<br><span class="hljs-keyword">const</span> divide = <span class="hljs-keyword">function</span>(<span class="hljs-params">a,b</span>)&#123;<br>    <span class="hljs-keyword">return</span> a / b<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>å¯¼å‡ºæ¨¡å—ä¸­çš„æˆå‘˜</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// å¯¼å‡ºæˆå‘˜ï¼š</span><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>    <span class="hljs-attr">sum</span>: sum,<br>    <span class="hljs-attr">subtract</span>: subtract,<br>    <span class="hljs-attr">multiply</span>: multiply,<br>    <span class="hljs-attr">divide</span>: divide<br>&#125;<br></code></pre></td></tr></table></figure><p>ç®€å†™ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//ç®€å†™</span><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>    sum,<br>    subtract,<br>    multiply,<br>    divide<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>åˆ›å»º mokuai-common-js/å¼•å…¥æ¨¡å—.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//å¼•å…¥æ¨¡å—ï¼Œæ³¨æ„ï¼šå½“å‰è·¯å¾„å¿…é¡»å†™ ./</span><br><span class="hljs-keyword">const</span> m = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;./å››åˆ™è¿ç®—.js&#x27;</span>)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(m)<br><span class="hljs-keyword">const</span> r1 = m.<span class="hljs-title function_">sum</span>(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)<br><span class="hljs-keyword">const</span> r2 = m.<span class="hljs-title function_">subtract</span>(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(r1,r2)<br></code></pre></td></tr></table></figure></li><li><p>è¿è¡Œç¨‹åº</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">node å¼•å…¥æ¨¡å—.js<br></code></pre></td></tr></table></figure></li></ol><h2 id="5-3-ES6æ¨¡å—åŒ–è§„èŒƒ"><a href="#5-3-ES6æ¨¡å—åŒ–è§„èŒƒ" class="headerlink" title="5.3 ES6æ¨¡å—åŒ–è§„èŒƒ"></a>5.3 ES6æ¨¡å—åŒ–è§„èŒƒ</h2><p><strong>ES6ä½¿ç”¨ export å’Œ import æ¥å¯¼å‡ºã€å¯¼å…¥æ¨¡å—ã€‚</strong></p><ol><li><p>åˆ›å»º mokuai-es6 æ–‡ä»¶å¤¹</p></li><li><p>åˆ›å»º src/userApi.js æ–‡ä»¶ï¼Œå¯¼å‡ºæ¨¡å—</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getList</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;è·å–æ•°æ®åˆ—è¡¨&#x27;</span>)<br>&#125;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">save</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;ä¿å­˜æ•°æ®&#x27;</span>)<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>åˆ›å»º src/userComponent.jsæ–‡ä»¶ï¼Œå¯¼å…¥æ¨¡å—</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//åªå–éœ€è¦çš„æ–¹æ³•å³å¯ï¼Œå¤šä¸ªæ–¹æ³•ç”¨é€—å·åˆ†éš”</span><br><span class="hljs-keyword">import</span> &#123; getList, save &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./userApi.js&#x27;</span><br><span class="hljs-title function_">getList</span>()<br><span class="hljs-title function_">save</span>()<br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼šè¿™æ—¶çš„ç¨‹åºæ— æ³•è¿è¡Œçš„ï¼Œå› ä¸ºES6çš„æ¨¡å—åŒ–æ— æ³•åœ¨Node.jsä¸­æ‰§è¡Œï¼Œéœ€è¦ç”¨Babelç¼–è¾‘æˆES5åå†æ‰§è¡Œã€‚</p></li><li><p>åˆå§‹åŒ–é¡¹ç›®</p><p>æŠŠé¡¹ç›®å˜æˆä¸€ä¸ª nodejs é¡¹ç›®</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm init -y<br></code></pre></td></tr></table></figure></li><li><p>é…ç½® .babelrc</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs .babelrc">&#123;<br>    &quot;presets&quot;: [&quot;es2015&quot;],<br>    &quot;plugins&quot;: []<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>å®‰è£…è½¬ç å™¨ï¼Œåœ¨é¡¹ç›®ä¸­å®‰è£…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm install --save-dev babel-preset-es2015<br></code></pre></td></tr></table></figure></li><li><p>å®šä¹‰è¿è¡Œè„šæœ¬ï¼Œpackage.jsonä¸­å¢åŠ â€buildâ€</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-comment">// ...</span><br>    <span class="hljs-attr">&quot;scripts&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>       <span class="hljs-attr">&quot;build&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;babel src -d dist&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure></li><li><p>æ‰§è¡Œå‘½ä»¤è½¬ç </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm run build<br></code></pre></td></tr></table></figure></li><li><p>è¿è¡Œç¨‹åº</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">node dist/userComponent.js<br></code></pre></td></tr></table></figure></li></ol><h2 id="5-4-ES6æ¨¡å—åŒ–å†™æ³•2"><a href="#5-4-ES6æ¨¡å—åŒ–å†™æ³•2" class="headerlink" title="5.4 ES6æ¨¡å—åŒ–å†™æ³•2"></a>5.4 ES6æ¨¡å—åŒ–å†™æ³•2</h2><ol><li><p>åˆ›å»º src/userApi2.js ï¼Œå¯¼å‡ºæ¨¡å—</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>    <span class="hljs-title function_">getList</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;è·å–æ•°æ®åˆ—è¡¨2&#x27;</span>)<br>    &#125;,<br>    <span class="hljs-title function_">save</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;ä¿å­˜æ•°æ®2&#x27;</span>)<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>åˆ›å»º src/userComponent2.jsï¼Œå¯¼å…¥æ¨¡å—</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> user <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./userApi2.js&quot;</span><br>user.<span class="hljs-title function_">getList</span>()<br>user.<span class="hljs-title function_">save</span>()<br></code></pre></td></tr></table></figure></li><li><p>æ‰§è¡Œå‘½ä»¤è½¬ç </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm run build<br></code></pre></td></tr></table></figure></li><li><p>è¿è¡Œç¨‹åº</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">node dist/userComponent2.js<br></code></pre></td></tr></table></figure></li></ol><h1 id="6-Webpack"><a href="#6-Webpack" class="headerlink" title="6. Webpack"></a>6. Webpack</h1><p><strong>webpackå®˜æ–¹æ–‡æ¡£ï¼š<a href="https://webpack.docschina.org/">https://webpack.docschina.org/</a></strong></p><h2 id="6-1-ä»€ä¹ˆæ˜¯Webpack"><a href="#6-1-ä»€ä¹ˆæ˜¯Webpack" class="headerlink" title="6.1 ä»€ä¹ˆæ˜¯Webpack"></a>6.1 ä»€ä¹ˆæ˜¯Webpack</h2><p>Webpack æ˜¯ä¸€ä¸ªå‰ç«¯èµ„æºåŠ è½½/æ‰“åŒ…å·¥å…·ã€‚å®ƒå°†æ ¹æ®æ¨¡å—çš„ä¾èµ–å…³ç³»è¿›è¡Œé™æ€åˆ†æï¼Œç„¶åå°†è¿™äº›æ¨¡å—æŒ‰ç…§æŒ‡å®šçš„è§„åˆ™ç”Ÿæˆå¯¹åº”çš„é™æ€èµ„æºã€‚</p><p>ä»å›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼ŒWebpack å¯ä»¥å°†å¤šç§é™æ€èµ„æº jsã€cssã€less è½¬æ¢æˆä¸€ä¸ªé™æ€æ–‡ä»¶ï¼Œå‡å°‘äº†é¡µé¢çš„è¯·æ±‚ã€‚</p><p><img src="https://img.yiqiangshiyia.cn/blog/webpack001.png" alt="webpack001"></p><h2 id="6-2-Webpackå®‰è£…"><a href="#6-2-Webpackå®‰è£…" class="headerlink" title="6.2 Webpackå®‰è£…"></a>6.2 Webpackå®‰è£…</h2><ol><li><p>å…¨å±€å®‰è£…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm install -g webpack webpack-cli<br></code></pre></td></tr></table></figure></li><li><p>å®‰è£…åæŸ¥çœ‹ç‰ˆæœ¬å·</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">webpack -v<br></code></pre></td></tr></table></figure></li></ol><h2 id="6-3-åˆå§‹åŒ–é¡¹ç›®"><a href="#6-3-åˆå§‹åŒ–é¡¹ç›®" class="headerlink" title="6.3 åˆå§‹åŒ–é¡¹ç›®"></a>6.3 åˆå§‹åŒ–é¡¹ç›®</h2><ol><li><p>åˆ›å»ºwebpackæ–‡ä»¶å¤¹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm init -y<br></code></pre></td></tr></table></figure></li><li><p>åˆ›å»ºsrcæ–‡ä»¶å¤¹</p></li><li><p>srcä¸‹åˆ›å»ºcommon.js</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">exports.info = function (str) &#123;<br>    document.write(str);<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>srcä¸‹åˆ›å»ºutils.js</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">exports.add = function (a, b) &#123;<br>    return a + b;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>srcä¸‹åˆ›å»ºmain.js</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">const common = require(&#x27;./common&#x27;);<br>const utils = require(&#x27;./utils&#x27;);<br>common.info(&#x27;Hello world!&#x27; + utils.add(100, 200));<br></code></pre></td></tr></table></figure></li></ol><h2 id="6-4-JSæ‰“åŒ…"><a href="#6-4-JSæ‰“åŒ…" class="headerlink" title="6.4 JSæ‰“åŒ…"></a>6.4 JSæ‰“åŒ…</h2><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220920102637.png" alt="QQæˆªå›¾20220920102637"></p><p><strong>æ‰“åŒ…æ­¥éª¤ï¼š</strong></p><ol><li><p>webpackç›®å½•ä¸‹åˆ›å»ºé…ç½®æ–‡ä»¶webpack.config.js</p><p>è¯»å–å½“å‰é¡¹ç›®ç›®å½•ä¸‹srcæ–‡ä»¶å¤¹ä¸­çš„main.jsï¼ˆå…¥å£æ–‡ä»¶ï¼‰å†…å®¹ï¼Œåˆ†æèµ„æºä¾èµ–ï¼ŒæŠŠç›¸å…³çš„jsæ–‡ä»¶æ‰“åŒ…ï¼Œæ‰“åŒ…åçš„æ–‡ä»¶æ”¾å…¥å½“å‰ç›®å½•çš„distæ–‡ä»¶å¤¹ä¸‹ï¼Œæ‰“åŒ…åçš„jsæ–‡ä»¶åä¸ºbundle.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//å¯¼å…¥pathæ¨¡å— Node.jså†…ç½®æ¨¡å—</span><br><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;path&quot;</span>);<br><br><span class="hljs-comment">//å®šä¹‰æ‰“åŒ…è§„åˆ™</span><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>    <span class="hljs-attr">entry</span>: <span class="hljs-string">&#x27;./src/main.js&#x27;</span>, <span class="hljs-comment">//é…ç½®å…¥å£æ–‡ä»¶</span><br>    <span class="hljs-attr">output</span>: &#123;<br>        <span class="hljs-comment">//å®šä¹‰è¾“å‡ºæŒ‡å®šçš„ç›®å½•__dirnameå½“å‰é¡¹ç›®æ ¹ç›®å½•ï¼Œäº§ç”Ÿä¸€ä¸ªdistæ–‡ä»¶å¤¹</span><br>        <span class="hljs-attr">path</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&#x27;./dist&#x27;</span>), <span class="hljs-comment">//è¾“å‡ºè·¯å¾„ï¼Œ__dirnameï¼šå½“å‰æ–‡ä»¶æ‰€åœ¨è·¯å¾„</span><br>        <span class="hljs-attr">filename</span>: <span class="hljs-string">&#x27;bundle.js&#x27;</span> <span class="hljs-comment">//è¾“å‡ºæ–‡ä»¶</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>å‘½ä»¤è¡Œæ‰§è¡Œç¼–è¯‘å‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">webpack<br><span class="hljs-meta prompt_">#</span><span class="language-bash">æ‰§è¡ŒåæŸ¥çœ‹bundle.js é‡Œé¢åŒ…å«äº†ä¸Šé¢ä¸¤ä¸ªjsæ–‡ä»¶çš„å†…å®¹å¹¶è¿›è¡Œäº†ä»£ç å‹ç¼©</span><br></code></pre></td></tr></table></figure></li><li><p>webpackç›®å½•ä¸‹åˆ›å»ºindex.html ï¼Œ å¼•ç”¨bundle.js</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;dist/bundle.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æµè§ˆå™¨ä¸­æŸ¥çœ‹index.html</p></li></ol><h2 id="6-5-CSSæ‰“åŒ…"><a href="#6-5-CSSæ‰“åŒ…" class="headerlink" title="6.5 CSSæ‰“åŒ…"></a>6.5 CSSæ‰“åŒ…</h2><ol><li><p>å®‰è£…style-loaderå’Œ css-loader</p><p>Webpack æœ¬èº«åªèƒ½å¤„ç† JavaScript æ¨¡å—ï¼Œå¦‚æœè¦å¤„ç†å…¶ä»–ç±»å‹çš„æ–‡ä»¶ï¼Œå°±éœ€è¦ä½¿ç”¨ loader è¿›è¡Œè½¬æ¢ã€‚</p><p>Loader å¯ä»¥ç†è§£ä¸ºæ˜¯æ¨¡å—å’Œèµ„æºçš„è½¬æ¢å™¨ã€‚</p><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦å®‰è£…ç›¸å…³Loaderæ’ä»¶ï¼š</p><ul><li>css-loader æ˜¯å°† css è£…è½½åˆ° javascript</li><li>style-loader æ˜¯è®© javascript è®¤è¯†css</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm install --save-dev style-loader css-loader<br></code></pre></td></tr></table></figure></li><li><p>ä¿®æ”¹webpack.config.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//å¯¼å…¥pathæ¨¡å— Node.jså†…ç½®æ¨¡å—</span><br><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;path&quot;</span>);<br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>    <span class="hljs-comment">//...,</span><br>    <span class="hljs-attr">output</span>:&#123;<br>        <span class="hljs-comment">//å…¶ä»–é…ç½®</span><br>    &#125;,<br>    <span class="hljs-attr">module</span>: &#123;<br>        <span class="hljs-attr">rules</span>: [  <br>            &#123;  <br>                <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.css$/</span>,    <span class="hljs-comment">//æ‰“åŒ…è§„åˆ™åº”ç”¨åˆ°ä»¥cssç»“å°¾çš„æ–‡ä»¶ä¸Š</span><br>                <span class="hljs-attr">use</span>: [<span class="hljs-string">&#x27;style-loader&#x27;</span>, <span class="hljs-string">&#x27;css-loader&#x27;</span>]<br>            &#125;  <br>        ]  <br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>åœ¨srcæ–‡ä»¶å¤¹åˆ›å»ºstyle.css</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">body</span>&#123;<br>    <span class="hljs-attribute">background</span>:pink;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>ä¿®æ”¹main.jsï¼Œåœ¨ç¬¬ä¸€è¡Œå¼•å…¥style.css</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">require(&#x27;./style<span class="hljs-selector-class">.css</span>&#x27;);<br></code></pre></td></tr></table></figure></li><li><p>è¿è¡Œç¼–è¯‘å‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm run dev<br></code></pre></td></tr></table></figure></li><li><p>æµè§ˆå™¨ä¸­æŸ¥çœ‹index.html ï¼Œ çœ‹çœ‹èƒŒæ™¯æ˜¯ä¸æ˜¯å˜æˆç²‰è‰²</p></li></ol><h1 id="7-Vue-element-admin"><a href="#7-Vue-element-admin" class="headerlink" title="7. Vue-element-admin"></a>7. Vue-element-admin</h1><p><strong>å®˜ç½‘åœ°å€ï¼š<a href="https://panjiachen.github.io/vue-element-admin-site/zh/">https://panjiachen.github.io/vue-element-admin-site/zh/</a></strong></p><p><strong>é¡¹ç›®Githubå¼€æºåœ°å€ï¼š<a href="https://github.com/PanJiaChen/vue-element-admin">https://github.com/PanJiaChen/vue-element-admin</a></strong></p><blockquote><p><a href="http://panjiachen.github.io/vue-element-admin">vue-element-admin</a> æ˜¯ä¸€ä¸ªåå°å‰ç«¯è§£å†³æ–¹æ¡ˆï¼Œå®ƒåŸºäº <a href="https://github.com/vuejs/vue">vue</a> å’Œ <a href="https://github.com/ElemeFE/element">element-ui</a>å®ç°ã€‚å®ƒä½¿ç”¨äº†æœ€æ–°çš„å‰ç«¯æŠ€æœ¯æ ˆï¼Œå†…ç½®äº† i18 å›½é™…åŒ–è§£å†³æ–¹æ¡ˆï¼ŒåŠ¨æ€è·¯ç”±ï¼Œæƒé™éªŒè¯ï¼Œæç‚¼äº†å…¸å‹çš„ä¸šåŠ¡æ¨¡å‹ï¼Œæä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½ç»„ä»¶ï¼Œå®ƒå¯ä»¥å¸®åŠ©ä½ å¿«é€Ÿæ­å»ºä¼ä¸šçº§ä¸­åå°äº§å“åŸå‹ã€‚ç›¸ä¿¡ä¸ç®¡ä½ çš„éœ€æ±‚æ˜¯ä»€ä¹ˆï¼Œæœ¬é¡¹ç›®éƒ½èƒ½å¸®åŠ©åˆ°ä½ ã€‚</p></blockquote><p><strong>è¿è¡Œå·¥ç¨‹å’Œç¼–è¯‘å·¥ç¨‹ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">å…‹éš†é¡¹ç›®</span><br>git clone https://github.com/PanJiaChen/vue-element-admin.git<br><span class="hljs-meta prompt_"># </span><span class="language-bash">è¿›å…¥é¡¹ç›®ç›®å½•</span><br>cd vue-element-admin<br><span class="hljs-meta prompt_"># </span><span class="language-bash">å®‰è£…ä¾èµ–</span><br>npm install<br><span class="hljs-meta prompt_"># </span><span class="language-bash">æœ¬åœ°å¼€å‘ å¯åŠ¨é¡¹ç›®</span><br>npm run dev<br></code></pre></td></tr></table></figure><p><strong>æµ‹è¯•ï¼š</strong></p><p>å¯åŠ¨å®Œæˆåä¼šè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨è®¿é—® <a href="http://localhost:9527/">http://localhost:9527</a></p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220920200845.png" alt="QQæˆªå›¾20220920200845"></p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220920200856.png" alt="QQæˆªå›¾20220920200856"></p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220920201307.png" alt="QQæˆªå›¾20220920201307"></p><p><strong>å°ç»“ï¼š</strong></p><p>nodejs é¡¹ç›®å‡ è¦ç´ </p><ul><li>package.jsonï¼ˆnpm init / npmt init -yï¼‰</li><li>node_modulesï¼ˆnpm install -g jquery / npm iinstall jqueryï¼‰</li><li>è¿è¡Œæ˜¯ä½¿ç”¨ï¼šæŸ¥çœ‹å®˜ç½‘æä¾› å‡ ä¹æ‰€æœ‰çš„nodejséƒ½å¯åŠ¨å’Œæ‰“åŒ…éƒ½æ˜¯å¦‚ä¸‹ï¼š<ul><li>npm run devï¼ˆå¼€å‘è¿è¡Œï¼‰</li><li>npm run buildï¼ˆæ‰“åŒ…ï¼‰</li></ul></li></ul><h1 id="8-package-json"><a href="#8-package-json" class="headerlink" title="8. package.json"></a>8. package.json</h1><ol><li>åœ¨å‘å¸ƒé¡¹ç›®æˆ–è€…æ‹·è´é¡¹ç›®çš„æ—¶å€™ï¼Œnode_moudles å…¶å®æ˜¯æ²¡æ„ä¹‰çš„ã€‚å› ä¸ºå®ƒä»…ä»…åœ¨å¼€å‘å’Œæ‰“åŒ…çš„æ—¶å€™ä½¿ç”¨</li><li>å¦‚æœæ‰˜ç®¡ä»£ç å…¶å®æ²¡å¿…è¦ï¼Œä¸ºä»€ä¹ˆã€‚å› ä¸ºä½ package.jsonæ–‡ä»¶ä¸­å·²ç»è®°å½•äº†è¿™äº›æ¨¡å—åæ ‡ã€‚æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨npm install å»é‡æ–°å®‰è£…å’Œç”Ÿæˆ node-modules ã€‚æ‰€ä»¥çš„nodejsé¡¹ç›®ä¸‹è½½ä»¥åç¬¬ä¸€ä¸ªè¦æ‰§è¡Œçš„å‘½ä»¤éƒ½æ˜¯ npm install çš„åŸå› ä¹Ÿå°±æ˜¯å¦‚æ­¤ã€‚</li><li>è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆå®˜æ–¹ä¸æä¾› node-modules çš„åŸå› ã€‚å› ä¸ºä½ å¯ä»¥ç›´æ¥ç”¨ npm install å»ä¸‹è½½</li></ol>]]></content>
    
    
    <categories>
      
      <category>å¤§å‰ç«¯</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Nodejs</tag>
      
      <tag>Es6</tag>
      
      <tag>Npm</tag>
      
      <tag>Bable</tag>
      
      <tag>æ¨¡å—åŒ–</tag>
      
      <tag>Webpack</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¤§å‰ç«¯-jQuery</title>
    <link href="/2022/09/17/%E5%A4%A7%E5%89%8D%E7%AB%AF-jQuery/"/>
    <url>/2022/09/17/%E5%A4%A7%E5%89%8D%E7%AB%AF-jQuery/</url>
    
    <content type="html"><![CDATA[<p><strong>jQueryå®˜æ–¹ç½‘ç«™ï¼š<a href="https://jquery.com/">https://jquery.com/</a></strong></p><p><strong>jQueryå·¥å…·æ–‡æ¡£ï¼š<a href="https://jquery.cuishifeng.cn/">https://jquery.cuishifeng.cn/</a></strong></p><h2 id="1-ä»€ä¹ˆæ˜¯jQuery"><a href="#1-ä»€ä¹ˆæ˜¯jQuery" class="headerlink" title="1. ä»€ä¹ˆæ˜¯jQuery"></a>1. ä»€ä¹ˆæ˜¯jQuery</h2><blockquote><p>jQueryæ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´çš„<a href="https://baike.baidu.com/item/JavaScript/321142?fromModule=lemma_inlink">JavaScript</a>æ¡†æ¶ï¼Œæ˜¯ç»§Prototypeä¹‹ååˆä¸€ä¸ªä¼˜ç§€çš„JavaScriptä»£ç åº“ï¼ˆæ¡†æ¶ï¼‰äº2006å¹´1æœˆç”±[John Resig](<a href="https://baike.baidu.com/item/John">https://baike.baidu.com/item/John</a> Resig/6336344?fromModule=lemma_inlink)å‘å¸ƒã€‚jQueryè®¾è®¡çš„å®—æ—¨æ˜¯â€œwrite Lessï¼ŒDo Moreâ€ï¼Œå³å€¡å¯¼å†™æ›´å°‘çš„ä»£ç ï¼Œåšæ›´å¤šçš„äº‹æƒ…ã€‚å®ƒå°è£…JavaScriptå¸¸ç”¨çš„åŠŸèƒ½ä»£ç ï¼Œæä¾›ä¸€ç§ç®€ä¾¿çš„JavaScript<a href="https://baike.baidu.com/item/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/1212549?fromModule=lemma_inlink">è®¾è®¡æ¨¡å¼</a>ï¼Œä¼˜åŒ–<a href="https://baike.baidu.com/item/HTML/97049?fromModule=lemma_inlink">HTML</a>æ–‡æ¡£æ“ä½œã€äº‹ä»¶å¤„ç†ã€åŠ¨ç”»è®¾è®¡å’Œ<a href="https://baike.baidu.com/item/Ajax/8425?fromModule=lemma_inlink">Ajax</a>äº¤äº’ã€‚</p><p>jQueryçš„æ ¸å¿ƒç‰¹æ€§å¯ä»¥æ€»ç»“ä¸ºï¼šå…·æœ‰ç‹¬ç‰¹çš„é“¾å¼è¯­æ³•å’ŒçŸ­å°æ¸…æ™°çš„å¤šåŠŸèƒ½æ¥å£ï¼›å…·æœ‰é«˜æ•ˆçµæ´»çš„<a href="https://baike.baidu.com/item/CSS%E9%80%89%E6%8B%A9%E5%99%A8/2819686?fromModule=lemma_inlink">CSSé€‰æ‹©å™¨</a>ï¼Œå¹¶ä¸”å¯å¯¹<a href="https://baike.baidu.com/item/CSS/5457?fromModule=lemma_inlink">CSS</a>é€‰æ‹©å™¨è¿›è¡Œæ‰©å±•ï¼›æ‹¥æœ‰ä¾¿æ·çš„æ’ä»¶æ‰©å±•æœºåˆ¶å’Œä¸°å¯Œçš„æ’ä»¶ã€‚jQueryå…¼å®¹å„ç§ä¸»æµæµè§ˆå™¨ï¼Œå¦‚<a href="https://baike.baidu.com/item/IE/69103?fromModule=lemma_inlink">IE</a> 6.0+ã€FF 1.5+ã€<a href="https://baike.baidu.com/item/Safari/597?fromModule=lemma_inlink">Safari</a> 2.0+ã€Opera 9.0+ç­‰ã€‚</p></blockquote><blockquote><p><strong>è·å–jQuery</strong></p></blockquote><p><strong>æ–¹å¼1ï¼šå®˜ç½‘ä¸‹è½½</strong></p><p>jQueryå®˜æ–¹ç½‘ç«™ï¼š<a href="https://jquery.com/">https://jquery.com/</a></p><p>ä¸‹è½½ç•Œé¢ï¼š</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220917224201.png" alt="QQæˆªå›¾20220917224201"></p><p><strong>æ–¹å¼2ï¼šCDNå¼•å…¥</strong></p><p>é€šè¿‡CDNå¼•å…¥jQueryçš„å‡ ç§æ–¹å¼ï¼š</p><p>ç™¾åº¦ CDN</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æ–°æµª CDN</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://lib.sinaapp.com/js/jquery/2.0.2/jquery-2.0.2.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br></code></pre></td></tr></table></figure><p>åˆæ‹äº‘ CDN</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://upcdn.b0.upaiyun.com/libs/jquery/jquery-2.0.2.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br></code></pre></td></tr></table></figure><p>Google CDN</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br></code></pre></td></tr></table></figure><p>Microsoft CDN</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://ajax.aspnetcdn.com/ajax/jquery/jquery-1.9.0.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br></code></pre></td></tr></table></figure><blockquote><p><strong>å…¬å¼ï¼š $(selector).action()</strong></p></blockquote><ul><li><p>ç¾å…ƒç¬¦å·å®šä¹‰ jQuery</p></li><li><p>é€‰æ‹©ç¬¦ï¼ˆselectorï¼‰â€æŸ¥è¯¢â€å’Œâ€æŸ¥æ‰¾â€ HTML å…ƒç´ </p></li><li><p>jQuery çš„ action() æ‰§è¡Œå¯¹å…ƒç´ çš„æ“ä½œ</p></li></ul><blockquote><p><strong>ä½¿ç”¨jQuery</strong></p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--æ–¹å¼1ï¼šCDNå¼•ç”¨--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--æ–¹å¼2ï¼šæœ¬åœ°libå¼•å…¥--&gt;</span><br>    <span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">    &lt;script src=&quot;lib/jquery-3.4.1.js&quot;&gt;&lt;/script&gt;</span><br><span class="hljs-comment">    --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;test-jquery&quot;</span>&gt;</span>ç‚¹æˆ‘<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">//é€‰æ‹©å™¨å°±æ˜¯cssé€‰æ‹©å™¨</span></span><br><span class="language-javascript">        $(<span class="hljs-string">&#x27;#test-jquery&#x27;</span>).<span class="hljs-title function_">click</span>( <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;Hello jQuery!&quot;</span>);</span><br><span class="language-javascript">        &#125;)</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="2-é€‰æ‹©å™¨"><a href="#2-é€‰æ‹©å™¨" class="headerlink" title="2. é€‰æ‹©å™¨"></a>2. é€‰æ‹©å™¨</h2><p>ä¸ºä»€ä¹ˆjQueryè¦å‘æ˜é€‰æ‹©å™¨ï¼šåŸç”Ÿ js ä»£ç æ“ä½œ DOM å¤ªç¹çï¼ŒjQueryçš„é€‰æ‹©å™¨å°±æ˜¯å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿå®šä½åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªDOMèŠ‚ç‚¹ã€‚</p><blockquote><p><strong>jQueryé€‰æ‹©å™¨</strong></p></blockquote><p><strong>æŒ‰IDæŸ¥æ‰¾</strong></p><p>å¦‚æœæŸä¸ªDOMèŠ‚ç‚¹æœ‰ id å±æ€§ï¼Œåˆ©ç”¨jQueryæŸ¥æ‰¾å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// æŸ¥æ‰¾&lt;div id=&quot;abc&quot;&gt;:</span><br><span class="hljs-keyword">var</span> div = $(<span class="hljs-string">&#x27;#abc&#x27;</span>);<br></code></pre></td></tr></table></figure><p><strong>æŒ‰tagæŸ¥æ‰¾</strong></p><p>æŒ‰tagæŸ¥æ‰¾åªéœ€è¦å†™ä¸Štagåç§°å°±å¯ä»¥äº†ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> ps = $(<span class="hljs-string">&#x27;p&#x27;</span>); <span class="hljs-comment">// è¿”å›æ‰€æœ‰&lt;p&gt;èŠ‚ç‚¹</span><br>ps.<span class="hljs-property">length</span>; <span class="hljs-comment">// æ•°ä¸€æ•°é¡µé¢æœ‰å¤šå°‘ä¸ª&lt;p&gt;èŠ‚ç‚¹</span><br></code></pre></td></tr></table></figure><p><strong>æŒ‰classæŸ¥æ‰¾</strong></p><p>æŒ‰classæŸ¥æ‰¾æ³¨æ„åœ¨classåç§°å‰åŠ ä¸€ä¸ª . ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> a = $(<span class="hljs-string">&#x27;.red&#x27;</span>); <span class="hljs-comment">// æ‰€æœ‰èŠ‚ç‚¹åŒ…å«`class=&quot;red&quot;`éƒ½å°†è¿”å›</span><br><span class="hljs-comment">// ä¾‹å¦‚:</span><br><span class="hljs-comment">// &lt;div class=&quot;red&quot;&gt;...&lt;/div&gt;</span><br><span class="hljs-comment">// &lt;p class=&quot;green red&quot;&gt;...&lt;/p&gt;</span><br></code></pre></td></tr></table></figure><p><strong>æŒ‰å±æ€§æŸ¥æ‰¾</strong></p><p>ä¸€ä¸ªDOMèŠ‚ç‚¹é™¤äº† id å’Œ class å¤–è¿˜å¯ä»¥æœ‰å¾ˆå¤šå±æ€§ï¼Œå¾ˆå¤šæ—¶å€™æŒ‰å±æ€§æŸ¥æ‰¾ä¼šéå¸¸æ–¹ä¾¿ï¼Œæ¯”å¦‚åœ¨ä¸€ä¸ªè¡¨å•ä¸­æŒ‰å±æ€§æ¥æŸ¥æ‰¾ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> email = $(<span class="hljs-string">&#x27;[name=email]&#x27;</span>); <span class="hljs-comment">// æ‰¾å‡º&lt;??? name=&quot;email&quot;&gt;</span><br><span class="hljs-keyword">var</span> passwordInput = $(<span class="hljs-string">&#x27;[type=password]&#x27;</span>); <span class="hljs-comment">// æ‰¾å‡º&lt;??? type=&quot;password&quot;&gt;</span><br><span class="hljs-keyword">var</span> a = $(<span class="hljs-string">&#x27;[items=&quot;A B&quot;]&#x27;</span>); <span class="hljs-comment">// æ‰¾å‡º&lt;??? items=&quot;A B&quot;&gt;</span><br></code></pre></td></tr></table></figure><p>å½“å±æ€§çš„å€¼åŒ…å«ç©ºæ ¼ç­‰ç‰¹æ®Šå­—ç¬¦æ—¶ï¼Œéœ€è¦ç”¨åŒå¼•å·æ‹¬èµ·æ¥ã€‚</p><p>æŒ‰å±æ€§æŸ¥æ‰¾è¿˜å¯ä»¥ä½¿ç”¨å‰ç¼€æŸ¥æ‰¾æˆ–è€…åç¼€æŸ¥æ‰¾ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> icons = $(<span class="hljs-string">&#x27;[name^=icon]&#x27;</span>); <span class="hljs-comment">// æ‰¾å‡ºæ‰€æœ‰nameå±æ€§å€¼ä»¥iconå¼€å¤´çš„DOM</span><br><span class="hljs-comment">// ä¾‹å¦‚: name=&quot;icon-1&quot;, name=&quot;icon-2&quot;</span><br><span class="hljs-keyword">var</span> names = $(<span class="hljs-string">&#x27;[name$=with]&#x27;</span>); <span class="hljs-comment">// æ‰¾å‡ºæ‰€æœ‰nameå±æ€§å€¼ä»¥withç»“å°¾çš„DOM</span><br><span class="hljs-comment">// ä¾‹å¦‚: name=&quot;startswith&quot;, name=&quot;endswith&quot;</span><br></code></pre></td></tr></table></figure><blockquote><p><strong>exampleï¼š</strong></p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">//åŸç”Ÿjsï¼Œé€‰æ‹©å™¨å°‘ä¸”éº»çƒ¦ä¸å¥½è®°</span></span><br><span class="language-javascript">        <span class="hljs-comment">//æ ‡ç­¾é€‰æ‹©å™¨</span></span><br><span class="language-javascript">        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementsByTagName</span>();</span><br><span class="language-javascript">        <span class="hljs-comment">//idé€‰æ‹©å™¨</span></span><br><span class="language-javascript">        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>();</span><br><span class="language-javascript">        <span class="hljs-comment">//ç±»é€‰æ‹©å™¨</span></span><br><span class="language-javascript">        <span class="hljs-variable language_">document</span>.<span class="hljs-property">getElementsByClassName</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">//jQuery cssä¸­çš„é€‰æ‹©å™¨jQueryå…¨éƒ¨éƒ½èƒ½ä½¿ç”¨</span></span><br><span class="language-javascript">        $(<span class="hljs-string">&#x27;p&#x27;</span>).<span class="hljs-title function_">click</span>()  <span class="hljs-comment">//æ ‡ç­¾é€‰æ‹©å™¨</span></span><br><span class="language-javascript">        $(<span class="hljs-string">&#x27;#id1&#x27;</span>).<span class="hljs-title function_">click</span>()  <span class="hljs-comment">//idé€‰æ‹©å™¨</span></span><br><span class="language-javascript">        $(<span class="hljs-string">&#x27;.class1&#x27;</span>).<span class="hljs-title function_">click</span>()  <span class="hljs-comment">//classé€‰æ‹©å™¨</span></span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="3-æ“ä½œDOM"><a href="#3-æ“ä½œDOM" class="headerlink" title="3. æ“ä½œDOM"></a>3. æ“ä½œDOM</h2><blockquote><p><strong>è·å– text å’Œ HTML</strong></p></blockquote><p>jQueryå¯¹è±¡çš„ text() å’Œ html() æ–¹æ³•åˆ†åˆ«è·å–èŠ‚ç‚¹çš„æ–‡æœ¬å’ŒåŸå§‹HTMLæ–‡æœ¬ï¼Œä¾‹å¦‚ï¼Œå¦‚ä¸‹çš„HTMLç»“æ„ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- HTMLç»“æ„ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;test-ul&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;js&quot;</span>&gt;</span>JavaScript<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;book&quot;</span>&gt;</span>Java <span class="hljs-symbol">&amp;amp;</span> JavaScript<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    $(<span class="hljs-string">&#x27;#test-ul li[name=js]&#x27;</span>).<span class="hljs-title function_">text</span>(); <span class="hljs-comment">// &#x27;JavaScript&#x27;</span></span><br><span class="language-javascript">    $(<span class="hljs-string">&#x27;#test-ul li[name=book]&#x27;</span>).<span class="hljs-title function_">text</span>(); <span class="hljs-comment">// &#x27;Java &amp; JavaScript&#x27;</span></span><br><span class="language-javascript">$(<span class="hljs-string">&#x27;#test-ul li[name=book]&#x27;</span>).<span class="hljs-title function_">html</span>(); <span class="hljs-comment">// &#x27;Java &amp;amp; JavaScript&#x27;</span></span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><blockquote><p><strong>è®¾ç½®æ–‡æœ¬æˆ–HTML</strong></p></blockquote><p>æ— å‚æ•°è°ƒç”¨ text() æ˜¯è·å–æ–‡æœ¬ï¼Œä¼ å…¥å‚æ•°å°±å˜æˆè®¾ç½®æ–‡æœ¬ï¼ŒHTMLä¹Ÿæ˜¯ç±»ä¼¼æ“ä½œ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js">$(<span class="hljs-string">&#x27;#test-ul li.js&#x27;</span>).<span class="hljs-title function_">html</span>(<span class="hljs-string">&#x27;&lt;span style=&quot;color: red&quot;&gt;JavaScript&lt;/span&gt;&#x27;</span>);<br>$(<span class="hljs-string">&#x27;#test-ul li[name=book]&#x27;</span>).<span class="hljs-title function_">text</span>(<span class="hljs-string">&#x27;JavaScript &amp; ECMAScript&#x27;</span>);<br><span class="hljs-comment">//ä¸€ä¸ªjQueryå¯¹è±¡å¯ä»¥åŒ…å«0ä¸ªæˆ–ä»»æ„ä¸ªDOMå¯¹è±¡ï¼Œå®ƒçš„æ–¹æ³•å®é™…ä¸Šä¼šä½œç”¨åœ¨å¯¹åº”çš„æ¯ä¸ªDOMèŠ‚ç‚¹ä¸Š</span><br>$(<span class="hljs-string">&#x27;#test-ul li&#x27;</span>).<span class="hljs-title function_">text</span>(<span class="hljs-string">&#x27;JS&#x27;</span>); <span class="hljs-comment">// ä¸¤ä¸ªèŠ‚ç‚¹éƒ½å˜æˆäº†JS</span><br></code></pre></td></tr></table></figure><blockquote><p><strong>ä¿®æ”¹CSS</strong></p></blockquote><p>jQueryå¯¹è±¡æœ‰â€œæ‰¹é‡æ“ä½œâ€çš„ç‰¹ç‚¹ï¼Œç”¨äºä¿®æ”¹CSSå¾ˆæ–¹ä¾¿ã€‚è¦é«˜äº®æ˜¾ç¤ºåŠ¨æ€è¯­è¨€ï¼Œè°ƒç”¨jQueryå¯¹è±¡çš„ css(â€˜nameâ€™, â€˜valueâ€™) æ–¹æ³•ï¼Œç”¨ä¸€è¡Œè¯­å¥å®ç°ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- HTMLç»“æ„ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;test-css&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;lang dy&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>JavaScript<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;lang&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Java<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;lang dy&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Python<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;lang&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Swift<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;lang dy&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Scheme<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    $(<span class="hljs-string">&#x27;#test-css li.dy&gt;span&#x27;</span>).<span class="hljs-title function_">css</span>(<span class="hljs-string">&#x27;background-color&#x27;</span>, <span class="hljs-string">&#x27;#ffd351&#x27;</span>).<span class="hljs-title function_">css</span>(<span class="hljs-string">&#x27;color&#x27;</span>,<span class="hljs-string">&#x27;red&#x27;</span>);</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><p>è¿˜æœ‰å¾ˆå¤šæ“ä½œå…·ä½“å¯æŸ¥çœ‹æ–‡æ¡£â€¦â€¦</p><blockquote><p><strong>æ˜¾ç¤ºå’Œéšè—DOM</strong></p></blockquote><p>æ˜¾ç¤ºå’Œéšè—DOMå…ƒç´ ä½¿ç”¨éå¸¸æ™®éï¼ŒjQueryç›´æ¥æä¾› show() å’Œ hide() æ–¹æ³•ã€‚</p><p>æœ¬è´¨ï¼šè®¾ç½®CSSçš„ display å±æ€§ä¸º none</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js">a = $(<span class="hljs-string">&#x27;a[target=_blank]&#x27;</span>).<span class="hljs-property">a</span>.<span class="hljs-title function_">hide</span>();  <span class="hljs-comment">// éšè—</span><br>a = $(<span class="hljs-string">&#x27;a[target=_blank]&#x27;</span>).<span class="hljs-property">a</span>.<span class="hljs-title function_">show</span>(); <span class="hljs-comment">// æ˜¾ç¤º</span><br></code></pre></td></tr></table></figure><blockquote><p><strong>è·å–DOMä¿¡æ¯</strong></p></blockquote><p>jQueryå¯¹è±¡çš„æ–¹æ³•å¯ä»¥ç›´æ¥è·å–DOMçš„é«˜å®½ç­‰ä¿¡æ¯ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// æµè§ˆå™¨å¯è§†çª—å£å¤§å°:</span><br>$(<span class="hljs-variable language_">window</span>).<span class="hljs-title function_">width</span>(); <span class="hljs-comment">// 800</span><br>$(<span class="hljs-variable language_">window</span>).<span class="hljs-title function_">height</span>(); <span class="hljs-comment">// 600</span><br><span class="hljs-comment">// HTMLæ–‡æ¡£å¤§å°:</span><br>$(<span class="hljs-variable language_">document</span>).<span class="hljs-title function_">width</span>(); <span class="hljs-comment">// 800</span><br>$(<span class="hljs-variable language_">document</span>).<span class="hljs-title function_">height</span>(); <span class="hljs-comment">// 3500</span><br><span class="hljs-comment">// æŸä¸ªdivçš„å¤§å°:</span><br><span class="hljs-keyword">var</span> div = $(<span class="hljs-string">&#x27;#test-div&#x27;</span>);<br>div.<span class="hljs-title function_">width</span>(); <span class="hljs-comment">// 600</span><br>div.<span class="hljs-title function_">height</span>(); <span class="hljs-comment">// 300</span><br>div.<span class="hljs-title function_">width</span>(<span class="hljs-number">400</span>); <span class="hljs-comment">// è®¾ç½®CSSå±æ€§ width: 400pxï¼Œæ˜¯å¦ç”Ÿæ•ˆè¦çœ‹CSSæ˜¯å¦æœ‰æ•ˆ</span><br>div.<span class="hljs-title function_">height</span>(<span class="hljs-string">&#x27;200px&#x27;</span>); <span class="hljs-comment">// è®¾ç½®CSSå±æ€§ height: 200pxï¼Œæ˜¯å¦ç”Ÿæ•ˆè¦çœ‹CSSæ˜¯å¦æœ‰æ•ˆ</span><br></code></pre></td></tr></table></figure><p>jQueryå¯¹è±¡ attr() å’Œ removeAttr() æ–¹æ³•ç”¨äºæ“ä½œDOMèŠ‚ç‚¹çš„å±æ€§ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;div id=<span class="hljs-string">&quot;test-div&quot;</span> name=<span class="hljs-string">&quot;Test&quot;</span> start=<span class="hljs-string">&quot;1&quot;</span>&gt;...&lt;/div&gt;<br><span class="hljs-keyword">var</span> div = $(<span class="hljs-string">&#x27;#test-div&#x27;</span>);<br>div.<span class="hljs-title function_">attr</span>(<span class="hljs-string">&#x27;data&#x27;</span>); <span class="hljs-comment">// undefined, å±æ€§ä¸å­˜åœ¨</span><br>div.<span class="hljs-title function_">attr</span>(<span class="hljs-string">&#x27;name&#x27;</span>); <span class="hljs-comment">// &#x27;Test&#x27;</span><br>div.<span class="hljs-title function_">attr</span>(<span class="hljs-string">&#x27;name&#x27;</span>, <span class="hljs-string">&#x27;Hello&#x27;</span>); <span class="hljs-comment">// divçš„nameå±æ€§å˜ä¸º&#x27;Hello&#x27;</span><br>div.<span class="hljs-title function_">removeAttr</span>(<span class="hljs-string">&#x27;name&#x27;</span>); <span class="hljs-comment">// åˆ é™¤nameå±æ€§</span><br>div.<span class="hljs-title function_">attr</span>(<span class="hljs-string">&#x27;name&#x27;</span>); <span class="hljs-comment">// undefined</span><br></code></pre></td></tr></table></figure><blockquote><p><strong>æ“ä½œè¡¨å•</strong></p></blockquote><p>å¯¹äºè¡¨å•å…ƒç´ ï¼ŒjQueryå¯¹è±¡ç»Ÿä¸€æä¾› val() æ–¹æ³•è·å–å’Œè®¾ç½®å¯¹åº”çš„ value å±æ€§ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/*</span><br><span class="hljs-comment">    &lt;input id=&quot;test-input&quot; name=&quot;email&quot; value=&quot;&quot;&gt;</span><br><span class="hljs-comment">    &lt;select id=&quot;test-select&quot; name=&quot;city&quot;&gt;</span><br><span class="hljs-comment">        &lt;option value=&quot;BJ&quot; selected&gt;Beijing&lt;/option&gt;</span><br><span class="hljs-comment">        &lt;option value=&quot;SH&quot;&gt;Shanghai&lt;/option&gt;</span><br><span class="hljs-comment">        &lt;option value=&quot;SZ&quot;&gt;Shenzhen&lt;/option&gt;</span><br><span class="hljs-comment">    &lt;/select&gt;</span><br><span class="hljs-comment">    &lt;textarea id=&quot;test-textarea&quot;&gt;Hello&lt;/textarea&gt;</span><br><span class="hljs-comment">*/</span><br><span class="hljs-keyword">var</span><br>input = $(<span class="hljs-string">&#x27;#test-input&#x27;</span>),<br>    select = $(<span class="hljs-string">&#x27;#test-select&#x27;</span>),<br>textarea = $(<span class="hljs-string">&#x27;#test-textarea&#x27;</span>);<br>input.<span class="hljs-title function_">val</span>(); <span class="hljs-comment">// &#x27;test&#x27;</span><br>input.<span class="hljs-title function_">val</span>(<span class="hljs-string">&#x27;abc@example.com&#x27;</span>); <span class="hljs-comment">// æ–‡æœ¬æ¡†çš„å†…å®¹å·²å˜ä¸ºabc@example.com</span><br><br>select.<span class="hljs-title function_">val</span>(); <span class="hljs-comment">// &#x27;BJ&#x27;</span><br>select.<span class="hljs-title function_">val</span>(<span class="hljs-string">&#x27;SH&#x27;</span>); <span class="hljs-comment">// é€‰æ‹©æ¡†å·²å˜ä¸ºShanghai</span><br><br>textarea.<span class="hljs-title function_">val</span>(); <span class="hljs-comment">// &#x27;Hello&#x27;</span><br>textarea.<span class="hljs-title function_">val</span>(<span class="hljs-string">&#x27;Hi&#x27;</span>); <span class="hljs-comment">// æ–‡æœ¬åŒºåŸŸå·²æ›´æ–°ä¸º&#x27;Hi&#x27;</span><br></code></pre></td></tr></table></figure><p>å¯è§ï¼Œä¸€ä¸ª val() å°±ç»Ÿä¸€äº†å„ç§è¾“å…¥æ¡†çš„å–å€¼å’Œèµ‹å€¼çš„é—®é¢˜ã€‚</p><blockquote><p><strong>æ·»åŠ DOM</strong></p></blockquote><p>æ·»åŠ æ–°çš„DOMèŠ‚ç‚¹ï¼Œé™¤äº†é€šè¿‡jQueryçš„ html() è¿™ç§æš´åŠ›æ–¹æ³•å¤–ï¼Œè¿˜å¯ä»¥ç”¨ append() æ–¹æ³•ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;test-div&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>JavaScript<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Python<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Swift<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å‘åˆ—è¡¨æ–°å¢ä¸€ä¸ªè¯­è¨€ï¼Œé¦–å…ˆè¦æ‹¿åˆ° &lt;ul&gt; èŠ‚ç‚¹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> ul = $(<span class="hljs-string">&#x27;#test-div&gt;ul&#x27;</span>);<br></code></pre></td></tr></table></figure><p>ç„¶åï¼Œè°ƒç”¨ append() ä¼ å…¥HTMLç‰‡æ®µï¼Œappend() æŠŠDOMæ·»åŠ åˆ°æœ€åï¼Œ prepend() åˆ™æŠŠDOMæ·»åŠ åˆ°æœ€å‰ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">ul.<span class="hljs-title function_">append</span>(<span class="hljs-string">&#x27;&lt;li&gt;&lt;span&gt;Haskell&lt;/span&gt;&lt;/li&gt;&#x27;</span>);<br></code></pre></td></tr></table></figure><p>å¦‚æœè¦æŠŠæ–°èŠ‚ç‚¹æ’å…¥åˆ°æŒ‡å®šä½ç½®ï¼Œå¯ä»¥å…ˆå®šä½åˆ°JavaScriptï¼Œç„¶åç”¨ after() æ–¹æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> js = $(<span class="hljs-string">&#x27;#test-div&gt;ul&gt;li:first-child&#x27;</span>);<br>js.<span class="hljs-title function_">after</span>(<span class="hljs-string">&#x27;&lt;li&gt;&lt;span&gt;Lua&lt;/span&gt;&lt;/li&gt;&#x27;</span>);<br></code></pre></td></tr></table></figure><blockquote><p><strong>åˆ é™¤èŠ‚ç‚¹</strong></p></blockquote><p>åˆ é™¤DOMèŠ‚ç‚¹ï¼šæ‹¿åˆ°jQueryå¯¹è±¡åç›´æ¥è°ƒç”¨ remove() æ–¹æ³•ã€‚å¦‚æœjQueryå¯¹è±¡åŒ…å«è‹¥å¹²DOMèŠ‚ç‚¹ï¼Œå®é™…ä¸Šå¯ä»¥ä¸€æ¬¡åˆ é™¤å¤šä¸ªDOMèŠ‚ç‚¹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> li = $(<span class="hljs-string">&#x27;#test-div&gt;ul&gt;li&#x27;</span>);<br>li.<span class="hljs-title function_">remove</span>(); <span class="hljs-comment">// æ‰€æœ‰&lt;li&gt;å…¨è¢«åˆ é™¤</span><br></code></pre></td></tr></table></figure><h2 id="4-äº‹ä»¶"><a href="#4-äº‹ä»¶" class="headerlink" title="4. äº‹ä»¶"></a>4. äº‹ä»¶</h2><p>jQueryèƒ½å¤Ÿç»‘å®šçš„äº‹ä»¶ä¸»è¦åŒ…æ‹¬ï¼š</p><blockquote><p><strong>é¼ æ ‡äº‹ä»¶</strong></p></blockquote><p>click: é¼ æ ‡å•å‡»æ—¶è§¦å‘</p><p>dblclickï¼šé¼ æ ‡åŒå‡»æ—¶è§¦å‘</p><p>mouseenterï¼šé¼ æ ‡è¿›å…¥æ—¶è§¦å‘</p><p>mouseleaveï¼šé¼ æ ‡ç§»å‡ºæ—¶è§¦å‘</p><p>mousemoveï¼šé¼ æ ‡åœ¨DOMå†…éƒ¨ç§»åŠ¨æ—¶è§¦å‘</p><p>hoverï¼šé¼ æ ‡è¿›å…¥å’Œé€€å‡ºæ—¶è§¦å‘ä¸¤ä¸ªå‡½æ•°</p><blockquote><p><strong>é”®ç›˜äº‹ä»¶</strong></p></blockquote><p>é”®ç›˜äº‹ä»¶ä»…ä½œç”¨åœ¨å½“å‰ç„¦ç‚¹çš„DOMä¸Š ã€‚</p><p>keydownï¼šé”®ç›˜æŒ‰ä¸‹æ—¶è§¦å‘</p><p>keyupï¼šé”®ç›˜æ¾å¼€æ—¶è§¦å‘</p><p>keypressï¼šæŒ‰ä¸€æ¬¡é”®åè§¦å‘ã€‚</p><blockquote><p><strong>å…¶ä»–äº‹ä»¶</strong></p></blockquote><p>focusï¼šå½“DOMè·å¾—ç„¦ç‚¹æ—¶è§¦å‘</p><p>blurï¼šå½“DOMå¤±å»ç„¦ç‚¹æ—¶è§¦å‘</p><p>changeï¼šå½“ ã€ æˆ– çš„å†…å®¹æ”¹å˜æ—¶è§¦å‘</p><p>submitï¼šå½“ æäº¤æ—¶è§¦å‘</p><p>readyï¼šå½“é¡µé¢è¢«è½½å…¥å¹¶ä¸”DOMæ ‘å®Œæˆåˆå§‹åŒ–åè§¦å‘</p><blockquote><p><strong>testï¼š</strong></p></blockquote><p>è·å–é¼ æ ‡å½“å‰åæ ‡ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.bootcss.com/jquery/3.4.1/jquery.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-id">#testMouseMoveDiv</span>&#123;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">300px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid black;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-comment">&lt;!--è·å–é¼ æ ‡å½“å‰çš„ä¸€ä¸ªåæ ‡--&gt;</span><br>mousemove: <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;testMouseMoveSpan&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;testMouseMoveDiv&quot;</span>&gt;</span><br>    åœ¨æ­¤åŒºåŸŸç§»åŠ¨é¼ æ ‡è¯•è¯•<br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-handlebars"><span class="language-xml"></span></span><br><span class="language-xml"><span class="language-handlebars">    <span class="hljs-comment">&lt;!--ç”±äºreadyäº‹ä»¶å¸¸ç”¨ï¼Œæ­¤å¤„ä¸ºçœç•¥å†™æ³•--&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars">    <span class="hljs-comment">&lt;!--ç­‰ä»·äºï¼š$(document).ready(function () &#123;...&#125;--&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars">    $(function () &#123;</span></span><br><span class="language-xml"><span class="language-handlebars">        $(&#x27;#testMouseMoveDiv&#x27;).mousemove(function (e) &#123;</span></span><br><span class="language-xml"><span class="language-handlebars">        $(&#x27;#testMouseMoveSpan&#x27;).text(&#x27;pageX = &#x27; + e.pageX + &#x27;, pageY = &#x27; + e.pageY);</span></span><br><span class="language-xml"><span class="language-handlebars">        &#125;);</span></span><br><span class="language-xml"><span class="language-handlebars">    &#125;);</span></span><br><span class="language-xml"><span class="language-handlebars"></span></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æµ‹è¯•ç»“æœï¼š</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220917233013.png" alt="QQæˆªå›¾20220917233013"></p>]]></content>
    
    
    <categories>
      
      <category>å¤§å‰ç«¯</category>
      
    </categories>
    
    
    <tags>
      
      <tag>jQuery</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¤§å‰ç«¯-JavaScript</title>
    <link href="/2022/09/13/%E5%A4%A7%E5%89%8D%E7%AB%AF-JavaScript/"/>
    <url>/2022/09/13/%E5%A4%A7%E5%89%8D%E7%AB%AF-JavaScript/</url>
    
    <content type="html"><![CDATA[<p><strong>JavaScriptå‚è€ƒç½‘ç«™ï¼š<a href="https://www.liaoxuefeng.com/wiki/1022910821149312">https://www.liaoxuefeng.com/wiki/1022910821149312</a></strong></p><h1 id="1-æ¦‚è¿°"><a href="#1-æ¦‚è¿°" class="headerlink" title="1. æ¦‚è¿°"></a>1. æ¦‚è¿°</h1><h2 id="1-1-ä»€ä¹ˆæ˜¯JavaScript"><a href="#1-1-ä»€ä¹ˆæ˜¯JavaScript" class="headerlink" title="1.1 ä»€ä¹ˆæ˜¯JavaScript"></a>1.1 ä»€ä¹ˆæ˜¯JavaScript</h2><blockquote><ul><li><p>JavaScriptï¼ˆç®€ç§°â€œJSâ€ï¼‰ æ˜¯ä¸€ç§å…·æœ‰å‡½æ•°ä¼˜å…ˆçš„è½»é‡çº§ï¼Œè§£é‡Šå‹æˆ–å³æ—¶ç¼–è¯‘å‹çš„<a href="https://baike.baidu.com/item/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/9845131?fromModule=lemma_inlink">ç¼–ç¨‹è¯­è¨€</a>ã€‚è™½ç„¶å®ƒæ˜¯ä½œä¸ºå¼€å‘<a href="https://baike.baidu.com/item/Web/150564?fromModule=lemma_inlink">Web</a>é¡µé¢çš„<a href="https://baike.baidu.com/item/%E8%84%9A%E6%9C%AC%E8%AF%AD%E8%A8%80/1379708?fromModule=lemma_inlink">è„šæœ¬è¯­è¨€</a>è€Œå‡ºåï¼Œä½†æ˜¯å®ƒä¹Ÿè¢«ç”¨åˆ°äº†å¾ˆå¤šé<a href="https://baike.baidu.com/item/%E6%B5%8F%E8%A7%88%E5%99%A8/213911?fromModule=lemma_inlink">æµè§ˆå™¨</a>ç¯å¢ƒä¸­ï¼ŒJavaScript åŸºäºåŸå‹ç¼–ç¨‹ã€å¤šèŒƒå¼çš„åŠ¨æ€è„šæœ¬è¯­è¨€ï¼Œå¹¶ä¸”æ”¯æŒ<a href="https://baike.baidu.com/item/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/2262089?fromModule=lemma_inlink">é¢å‘å¯¹è±¡</a>ã€å‘½ä»¤å¼ã€å£°æ˜å¼ã€<a href="https://baike.baidu.com/item/%E5%87%BD%E6%95%B0/301912?fromModule=lemma_inlink">å‡½æ•°</a>å¼ç¼–ç¨‹èŒƒå¼ã€‚</p></li><li><p>JavaScriptåœ¨1995å¹´ç”±<a href="https://baike.baidu.com/item/Netscape/2778944?fromModule=lemma_inlink">Netscape</a>å…¬å¸çš„Brendan Eichï¼Œåœ¨ç½‘æ™¯å¯¼èˆªè€…æµè§ˆå™¨ä¸Šé¦–æ¬¡è®¾è®¡å®ç°è€Œæˆã€‚å› ä¸ºNetscapeä¸<a href="https://baike.baidu.com/item/Sun/69463?fromModule=lemma_inlink">Sun</a>åˆä½œï¼ŒNetscapeç®¡ç†å±‚å¸Œæœ›å®ƒå¤–è§‚çœ‹èµ·æ¥åƒJavaï¼Œå› æ­¤å–åä¸ºJavaScriptã€‚ä½†å®é™…ä¸Šå®ƒçš„è¯­æ³•é£æ ¼ä¸SelfåŠ<a href="https://baike.baidu.com/item/Scheme/8379129?fromModule=lemma_inlink">Scheme</a>è¾ƒä¸ºæ¥è¿‘ã€‚</p></li><li><p>JavaScriptçš„æ ‡å‡†æ˜¯[ECMAScript ](<a href="https://baike.baidu.com/item/ECMAScript">https://baike.baidu.com/item/ECMAScript</a> /1889420?fromModule=lemma_inlink)ã€‚æˆªè‡³ 2012 å¹´ï¼Œæ‰€æœ‰æµè§ˆå™¨éƒ½å®Œæ•´çš„æ”¯æŒECMAScript 5.1ï¼Œæ—§ç‰ˆæœ¬çš„æµè§ˆå™¨è‡³å°‘æ”¯æŒECMAScript 3 æ ‡å‡†ã€‚2015å¹´6æœˆ17æ—¥ï¼ŒECMAå›½é™…ç»„ç»‡å‘å¸ƒäº†ECMAScriptçš„ç¬¬å…­ç‰ˆï¼Œè¯¥ç‰ˆæœ¬æ­£å¼åç§°ä¸º ECMAScript 2015ï¼Œä½†é€šå¸¸è¢«ç§°ä¸ºECMAScript 6 æˆ–è€…ES2015ã€‚</p></li></ul></blockquote><p>JavaScriptæ˜¯ä¸€ç§è¿è¡Œåœ¨æµè§ˆå™¨ä¸­çš„è§£é‡Šå‹çš„ç¼–ç¨‹è¯­è¨€ã€‚å› ä¸ºåœ¨Webä¸–ç•Œé‡Œï¼Œåªæœ‰JavaScriptèƒ½è·¨å¹³å°ã€è·¨æµè§ˆå™¨é©±åŠ¨ç½‘é¡µï¼Œä¸ç”¨æˆ·äº¤äº’ã€‚</p><p>æ–°å…´çš„Node.jsæŠŠJavaScriptå¼•å…¥åˆ°äº†æœåŠ¡å™¨ç«¯ï¼ŒJavaScriptå·²ç»å˜æˆäº†å…¨èƒ½å‹è¯­è¨€ã€‚</p><h2 id="1-2-ECMAScript"><a href="#1-2-ECMAScript" class="headerlink" title="1.2 ECMAScript"></a>1.2 ECMAScript</h2><blockquote><p><strong>ECMAScript</strong>æ˜¯ä¸€ç§ç”±<a href="https://baike.baidu.com/item/Ecma%E5%9B%BD%E9%99%85?fromModule=lemma_inlink">Ecmaå›½é™…</a>ï¼ˆå‰èº«ä¸º<a href="https://baike.baidu.com/item/%E6%AC%A7%E6%B4%B2%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%88%B6%E9%80%A0%E5%95%86%E5%8D%8F%E4%BC%9A/2052072?fromModule=lemma_inlink">æ¬§æ´²è®¡ç®—æœºåˆ¶é€ å•†åä¼š</a>ï¼ŒEuropean Computer Manufacturers Associationï¼‰é€šè¿‡ECMA-262æ ‡å‡†åŒ–çš„è„šæœ¬<a href="https://baike.baidu.com/item/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E8%AF%AD%E8%A8%80?fromModule=lemma_inlink">ç¨‹åºè®¾è®¡è¯­è¨€</a>ã€‚è¿™ç§è¯­è¨€åœ¨<a href="https://baike.baidu.com/item/%E4%B8%87%E7%BB%B4%E7%BD%91?fromModule=lemma_inlink">ä¸‡ç»´ç½‘</a>ä¸Šåº”ç”¨å¹¿æ³›ï¼Œå®ƒå¾€å¾€è¢«ç§°ä¸º<a href="https://baike.baidu.com/item/JavaScript?fromModule=lemma_inlink">JavaScript</a>æˆ–<a href="https://baike.baidu.com/item/JScript?fromModule=lemma_inlink">JScript</a>ï¼Œæ‰€ä»¥å®ƒå¯ä»¥ç†è§£ä¸ºæ˜¯JavaScriptçš„ä¸€ä¸ªæ ‡å‡†,ä½†å®é™…ä¸Šåä¸¤è€…æ˜¯ECMA-262æ ‡å‡†çš„å®ç°å’Œæ‰©å±•ã€‚</p></blockquote><h1 id="2-å¿«é€Ÿå…¥é—¨"><a href="#2-å¿«é€Ÿå…¥é—¨" class="headerlink" title="2. å¿«é€Ÿå…¥é—¨"></a>2. å¿«é€Ÿå…¥é—¨</h1><h2 id="2-1-å¼•å…¥JavaScript"><a href="#2-1-å¼•å…¥JavaScript" class="headerlink" title="2.1 å¼•å…¥JavaScript"></a>2.1 å¼•å…¥JavaScript</h2><ol><li><p>å†…éƒ¨æ ‡ç­¾</p><p>JavaScriptä»£ç å¯ä»¥ç›´æ¥åµŒåœ¨ç½‘é¡µçš„ä»»ä½•åœ°æ–¹ï¼Œä¸è¿‡é€šå¸¸éƒ½æŠŠJavaScriptä»£ç æ”¾åˆ°&lt;head&gt;ä¸­ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <br>    <span class="hljs-comment">&lt;!--scriptæ ‡ç­¾å†…å†™JavaScriptä»£ç --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;Hello World!&quot;</span>);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ç”± &lt;script&gt;&lt;/script&gt; åŒ…å«çš„ä»£ç å°±æ˜¯JavaScriptä»£ç ï¼Œå®ƒå°†ç›´æ¥è¢«æµè§ˆå™¨æ‰§è¡Œã€‚</p></li><li><p>å¤–éƒ¨å¼•ç”¨</p><p>æŠŠJavaScriptä»£ç æ”¾åˆ°ä¸€ä¸ªå•ç‹¬çš„.jsæ–‡ä»¶ï¼Œç„¶ååœ¨HTMLä¸­é€šè¿‡ &lt;script src=â€â€¦â€&gt;&lt;/script&gt; å¼•å…¥è¿™ä¸ªæ–‡ä»¶ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <br>    <span class="hljs-comment">&lt;!--å¤–éƒ¨å¼•å…¥--&gt;</span><br>    <span class="hljs-comment">&lt;!--ä¸»è¦ï¼šscriptæ ‡ç­¾å¿…é¡»æˆå¯¹å‡ºç°--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;/static/js/hello.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure></li></ol><p> &lt;script&gt; æ ‡ç­¾çš„typeå±æ€§ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!--ä¸ç”¨æ˜¾å¼å®šä¹‰ï¼Œä¹Ÿé»˜è®¤æ˜¯JavaScript--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="2-2-åŸºæœ¬è¯­æ³•"><a href="#2-2-åŸºæœ¬è¯­æ³•" class="headerlink" title="2.2 åŸºæœ¬è¯­æ³•"></a>2.2 åŸºæœ¬è¯­æ³•</h2><p>â€¦â€¦</p><p><strong>æµè§ˆå™¨è°ƒè¯•ï¼š</strong></p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220914184905.png" alt="QQæˆªå›¾20220914184905"></p><h2 id="2-3-æ•°æ®ç±»å‹"><a href="#2-3-æ•°æ®ç±»å‹" class="headerlink" title="2.3 æ•°æ®ç±»å‹"></a>2.3 æ•°æ®ç±»å‹</h2><p>åœ¨JavaScriptä¸­å®šä¹‰äº†ä»¥ä¸‹å‡ ç§æ•°æ®ç±»å‹ï¼š</p><ul><li><p><strong>number</strong></p><p>JavaScriptä¸åŒºåˆ†æ•´æ•°å’Œæµ®ç‚¹æ•°ï¼Œç»Ÿä¸€ç”¨Numberè¡¨ç¤ºï¼Œä»¥ä¸‹éƒ½æ˜¯åˆæ³•çš„Numberç±»å‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-number">123</span>;  <span class="hljs-comment">// æ•´æ•°123</span><br><span class="hljs-number">0.456</span>;  <span class="hljs-comment">// æµ®ç‚¹æ•°0.456</span><br><span class="hljs-number">1.2345e3</span>;  <span class="hljs-comment">// ç§‘å­¦è®¡æ•°æ³•è¡¨ç¤º1.2345x1000ï¼Œç­‰åŒäº1234.5</span><br>-<span class="hljs-number">99</span>;  <span class="hljs-comment">// è´Ÿæ•°</span><br><span class="hljs-title class_">NaN</span>;  <span class="hljs-comment">// NaNè¡¨ç¤ºNot a Numberï¼Œå½“æ— æ³•è®¡ç®—ç»“æœæ—¶ç”¨NaNè¡¨ç¤º</span><br><span class="hljs-title class_">Infinity</span>;  <span class="hljs-comment">// Infinityè¡¨ç¤ºæ— é™å¤§</span><br></code></pre></td></tr></table></figure></li><li><p><strong>å­—ç¬¦ä¸²</strong></p><p>å­—ç¬¦ä¸²æ˜¯ä»¥å•å¼•å·å’ŒåŒå¼•å·æ‹¬èµ·æ¥çš„ä»»æ„æ–‡æœ¬ï¼Œå¦‚ï¼šâ€™abcâ€™ï¼Œâ€abcâ€</p></li><li><p><strong>å¸ƒå°”å‹</strong></p><p>trueï¼Œfalse</p></li><li><p><strong>é€»è¾‘è¿ç®—ç¬¦</strong></p><p>&amp;&amp;    ||    !</p></li><li><p><strong>æ¯”è¾ƒè¿ç®—ç¬¦</strong></p><p>=    èµ‹å€¼</p><p>==    ç­‰äºï¼ˆç±»å‹ä¸ä¸€æ ·ï¼Œå€¼ä¸€æ ·ï¼Œä¹Ÿä¼šåˆ¤æ–­ä¸ºtrueï¼‰</p><p>===    ç»å¯¹ç­‰äºï¼ˆç±»å‹ä¸€æ ·ï¼Œå€¼ä¸€æ ·ï¼Œæ‰ä¼šåˆ¤æ–­ä¸ºtrueï¼‰</p><p>ç”±äºJavaScriptè¿™ä¸ªè®¾è®¡ç¼ºé™·ï¼Œä¸è¦ä½¿ç”¨ == æ¯”è¾ƒï¼Œå§‹ç»ˆåšæŒä½¿ç”¨ === æ¯”è¾ƒã€‚</p><p>Noteï¼š</p><ul><li><p>NaN è¿™ä¸ªç‰¹æ®Šçš„Numberä¸æ‰€æœ‰å…¶ä»–å€¼éƒ½ä¸ç›¸ç­‰ï¼ŒåŒ…æ‹¬å®ƒè‡ªå·±ï¼Œå”¯ä¸€èƒ½åˆ¤æ–­ NaN çš„æ–¹æ³•æ˜¯é€šè¿‡ isNaN() å‡½æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">NaN</span> === <span class="hljs-title class_">NaN</span>;  <span class="hljs-comment">// false</span><br><span class="hljs-built_in">isNaN</span>(<span class="hljs-title class_">NaN</span>);  <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure></li><li><p>æ³¨æ„æµ®ç‚¹æ•°çš„ç›¸ç­‰æ¯”è¾ƒï¼šæµ®ç‚¹æ•°åœ¨è¿ç®—è¿‡ç¨‹ä¸­ä¼šäº§ç”Ÿè¯¯å·®ï¼Œå› ä¸ºè®¡ç®—æœºæ— æ³•ç²¾ç¡®è¡¨ç¤ºæ— é™å¾ªç¯å°æ•°ã€‚è¦æ¯”è¾ƒä¸¤ä¸ªæµ®ç‚¹æ•°æ˜¯å¦ç›¸ç­‰ï¼Œåªèƒ½è®¡ç®—å®ƒä»¬ä¹‹å·®çš„ç»å¯¹å€¼ï¼Œçœ‹æ˜¯å¦å°äºæŸä¸ªé˜ˆå€¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-number">1</span> / <span class="hljs-number">3</span> === (<span class="hljs-number">1</span> - <span class="hljs-number">2</span> / <span class="hljs-number">3</span>);  <span class="hljs-comment">// false</span><br><span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(<span class="hljs-number">1</span> / <span class="hljs-number">3</span> - (<span class="hljs-number">1</span> - <span class="hljs-number">2</span> / <span class="hljs-number">3</span>)) &lt; <span class="hljs-number">0.0000001</span>; <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure></li></ul></li><li><p><strong>nullå’Œundefined</strong></p><p>nullï¼šè¡¨ç¤ºç©ºçš„å€¼</p><p>undefinedï¼šæœªå®šä¹‰</p></li><li><p><strong>æ•°ç»„</strong></p><p>Javaä¸­æ•°ç»„å¿…é¡»æ˜¯ç›¸åŒç±»å‹çš„å¯¹è±¡ï¼ŒJavaScriptä¸­ä¸è¦æ±‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//ä¿è¯ä»£ç çš„å¯è¯»æ€§ï¼Œå°½é‡ä½¿ç”¨[]</span><br><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-literal">null</span>,<span class="hljs-string">&quot;hello&quot;</span>,<span class="hljs-literal">true</span>];<br><span class="hljs-keyword">var</span> array = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-literal">null</span>,<span class="hljs-string">&quot;hello&quot;</span>,<span class="hljs-literal">true</span>);<br></code></pre></td></tr></table></figure><p>å¦‚æœæ•°ç»„è¶Šç•ŒæŠ¥é”™ï¼šundefined</p></li><li><p><strong>å¯¹è±¡</strong></p><p>JavaScriptçš„å¯¹è±¡æ˜¯ä¸€ç»„ç”±é”®-å€¼ç»„æˆçš„æ— åºé›†åˆ</p><p>å¯¹è±¡æ˜¯å¤§æ‹¬å·ï¼Œæ•°ç»„æ˜¯ä¸­æ‹¬å·ã€‚æ¯ä¸ªå±æ€§ä¹‹é—´ä½¿ç”¨é€—å·éš”å¼€ï¼Œæœ€åä¸€ä¸ªä¸éœ€è¦æ·»åŠ </p><p>JavaScriptå¯¹è±¡çš„é”®éƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œå€¼å¯ä»¥æ˜¯ä»»æ„æ•°æ®ç±»å‹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> person = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Bob&#x27;</span>,<br>    <span class="hljs-attr">age</span>: <span class="hljs-number">20</span>,<br>    <span class="hljs-attr">tags</span>: [<span class="hljs-string">&#x27;js&#x27;</span>, <span class="hljs-string">&#x27;web&#x27;</span>, <span class="hljs-string">&#x27;mobile&#x27;</span>],<br>    <span class="hljs-attr">city</span>: <span class="hljs-string">&#x27;Beijing&#x27;</span>,<br>    <span class="hljs-attr">hasCar</span>: <span class="hljs-literal">true</span>,<br>    <span class="hljs-attr">zipcode</span>: <span class="hljs-literal">null</span><br>&#125;;<br></code></pre></td></tr></table></figure><p>å–å¯¹è±¡çš„å€¼ï¼šå¯¹è±¡å˜é‡.å±æ€§å</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js">person.<span class="hljs-property">name</span>;  <span class="hljs-comment">// &#x27;Bob&#x27;</span><br>person.<span class="hljs-property">zipcode</span>;  <span class="hljs-comment">// null</span><br></code></pre></td></tr></table></figure></li><li><p><strong>å˜é‡</strong></p><p>å˜é‡åœ¨JavaScriptä¸­å°±æ˜¯ç”¨ä¸€ä¸ªå˜é‡åè¡¨ç¤ºï¼Œå˜é‡åæ˜¯å¤§å°å†™è‹±æ–‡ã€æ•°å­—ã€ $ å’Œ _ çš„ç»„åˆï¼Œä¸”ä¸èƒ½ç”¨æ•°å­—å¼€å¤´ã€‚å˜é‡åä¹Ÿä¸èƒ½æ˜¯JavaScriptçš„å…³é”®å­—ï¼Œå¦‚ if ã€ while ç­‰ã€‚ç”³æ˜ä¸€ä¸ªå˜é‡ç”¨ var è¯­å¥ï¼Œæ¯”å¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> a; <span class="hljs-comment">// ç”³æ˜äº†å˜é‡aï¼Œæ­¤æ—¶açš„å€¼ä¸ºundefined</span><br><span class="hljs-keyword">var</span> $b = <span class="hljs-number">1</span>; <span class="hljs-comment">// ç”³æ˜äº†å˜é‡$bï¼ŒåŒæ—¶ç»™$bèµ‹å€¼ï¼Œæ­¤æ—¶$bçš„å€¼ä¸º1</span><br><span class="hljs-keyword">var</span> s_007 = <span class="hljs-string">&#x27;007&#x27;</span>; <span class="hljs-comment">// s_007æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²</span><br><span class="hljs-keyword">var</span> <span class="hljs-title class_">Answer</span> = <span class="hljs-literal">true</span>; <span class="hljs-comment">// Answeræ˜¯ä¸€ä¸ªå¸ƒå°”å€¼true</span><br><span class="hljs-keyword">var</span> t = <span class="hljs-literal">null</span>; <span class="hljs-comment">// tçš„å€¼æ˜¯null</span><br></code></pre></td></tr></table></figure><p>åœ¨JavaScriptä¸­ï¼Œä½¿ç”¨ç­‰å· = å¯¹å˜é‡è¿›è¡Œèµ‹å€¼ã€‚å¯ä»¥æŠŠä»»æ„æ•°æ®ç±»å‹èµ‹å€¼ç»™å˜é‡ï¼ŒåŒä¸€ä¸ªå˜é‡å¯ä»¥åå¤èµ‹å€¼ï¼Œè€Œä¸”å¯ä»¥æ˜¯ä¸åŒç±»å‹çš„å˜é‡ï¼Œä½†æ˜¯è¦æ³¨æ„åªèƒ½ç”¨ var ç”³æ˜ä¸€æ¬¡ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> a = <span class="hljs-number">123</span>; <span class="hljs-comment">// açš„å€¼æ˜¯æ•´æ•°123</span><br>a = <span class="hljs-string">&#x27;ABC&#x27;</span>; <span class="hljs-comment">// aå˜ä¸ºå­—ç¬¦ä¸²</span><br></code></pre></td></tr></table></figure></li></ul><h2 id="2-4-ä¸¥æ ¼æ£€æŸ¥æ¨¡å¼"><a href="#2-4-ä¸¥æ ¼æ£€æŸ¥æ¨¡å¼" class="headerlink" title="2.4 ä¸¥æ ¼æ£€æŸ¥æ¨¡å¼"></a>2.4 ä¸¥æ ¼æ£€æŸ¥æ¨¡å¼</h2><p>å¦‚æœä¸€ä¸ªå˜é‡æ²¡æœ‰é€šè¿‡ var ç”³æ˜å°±è¢«ä½¿ç”¨ï¼Œé‚£ä¹ˆè¯¥å˜é‡å°±è‡ªåŠ¨è¢«ç”³æ˜ä¸ºå…¨å±€å˜é‡</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">strictæ¨¡å¼å‰æï¼šIDEAéœ€è¦æ”¯æŒES6è¯­æ³•</span><br><span class="hljs-comment">&#x27;use strict&#x27;ï¼šä¸¥æ ¼æ£€æŸ¥æ¨¡å¼ï¼Œé˜²æ­¢JavaScriptéšæ„æ€§äº§ç”Ÿçš„ä¸€äº›é—®é¢˜</span><br><span class="hljs-comment">å¿…é¡»å†™åœ¨JavaScriptçš„ç¬¬ä¸€è¡Œ</span><br><span class="hljs-comment">å±€éƒ¨å˜é‡éƒ½å»ºè®®ç”¨letå®šä¹‰</span><br><span class="hljs-comment">--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"><span class="hljs-meta"></span></span><br><span class="hljs-meta"><span class="language-javascript">        &#x27;use strict&#x27;</span>;</span><br><span class="language-javascript">        <span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>;</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h1 id="3-æ•°æ®ç±»å‹"><a href="#3-æ•°æ®ç±»å‹" class="headerlink" title="3.æ•°æ®ç±»å‹"></a>3.æ•°æ®ç±»å‹</h1><h2 id="3-1-å­—ç¬¦ä¸²"><a href="#3-1-å­—ç¬¦ä¸²" class="headerlink" title="3.1 å­—ç¬¦ä¸²"></a>3.1 å­—ç¬¦ä¸²</h2><ol><li><p><strong>æ­£å¸¸å­—ç¬¦ä¸²ä½¿ç”¨å•å¼•å·æˆ–åŒå¼•å·</strong></p></li><li><p>**è½¬ä¹‰å­—ç¬¦ **</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js">\<span class="hljs-string">&#x27;</span><br><span class="hljs-string">\n    // æ¢è¡Œ</span><br><span class="hljs-string">\t    // Tabæ¢è¡Œ</span><br><span class="hljs-string">\u4e2d\u6587    // Unicodeå­—ç¬¦ å®Œå…¨ç­‰åŒäº &#x27;</span>ä¸­æ–‡<span class="hljs-string">&#x27;</span><br><span class="hljs-string">\x41    //Ascllå­—ç¬¦ å®Œå…¨ç­‰åŒäº &#x27;</span>A<span class="hljs-string">&#x27;</span><br></code></pre></td></tr></table></figure></li><li><p><strong>å¤šè¡Œå­—ç¬¦ä¸²</strong></p><p>ç”±äºå¤šè¡Œå­—ç¬¦ä¸²ç”¨ \n å†™èµ·æ¥æ¯”è¾ƒè´¹äº‹ï¼Œæ‰€ä»¥æœ€æ–°çš„ES6æ ‡å‡†æ–°å¢äº†ä¸€ç§å¤šè¡Œå­—ç¬¦ä¸²çš„è¡¨ç¤ºæ–¹æ³•ï¼Œç”¨åå¼•å· ``è¡¨ç¤ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-string">`è¿™æ˜¯ä¸€ä¸ª</span><br><span class="hljs-string">å¤šè¡Œ</span><br><span class="hljs-string">å­—ç¬¦ä¸²`</span>;<br></code></pre></td></tr></table></figure></li><li><p><strong>æ¨¡æ¿å­—ç¬¦ä¸²</strong></p><p>è¦æŠŠå¤šä¸ªå­—ç¬¦ä¸²è¿æ¥èµ·æ¥ï¼Œå¯ä»¥ç”¨ + å·è¿æ¥ï¼Œå¦‚æœæœ‰å¾ˆå¤šå˜é‡éœ€è¦è¿æ¥ï¼Œç”¨ + å·å°±æ¯”è¾ƒéº»çƒ¦ã€‚ES6æ–°å¢äº†ä¸€ç§æ¨¡æ¿å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæ–¹æ³•å’Œä¸Šé¢çš„å¤šè¡Œå­—ç¬¦ä¸²ä¸€æ ·ï¼Œä½†æ˜¯å®ƒä¼šè‡ªåŠ¨æ›¿æ¢å­—ç¬¦ä¸²ä¸­çš„å˜é‡ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> name = <span class="hljs-string">&quot;linmuchun&quot;</span>;<br><span class="hljs-keyword">var</span> age = <span class="hljs-number">18</span>;<br><span class="hljs-keyword">var</span> msg = <span class="hljs-string">`&quot;æˆ‘æ˜¯&quot;<span class="hljs-subst">$&#123;name&#125;</span>&quot;ï¼Œæˆ‘ä»Šå¹´&quot;<span class="hljs-subst">$&#123;age&#125;</span>&quot;å²äº†ï¼&quot;`</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(msg);<br><span class="hljs-comment">//è¾“å‡ºï¼š&quot;æˆ‘æ˜¯&quot;linmuchun&quot;ï¼Œæˆ‘ä»Šå¹´&quot;18&quot;å²äº†ï¼&quot;</span><br></code></pre></td></tr></table></figure></li><li><p><strong>æ“ä½œå­—ç¬¦ä¸²</strong></p><ul><li><p>å­—ç¬¦ä¸²é•¿åº¦</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> s = <span class="hljs-string">&#x27;Hello, world!&#x27;</span>;<br>s.<span class="hljs-property">length</span>; <span class="hljs-comment">// 13</span><br></code></pre></td></tr></table></figure></li><li><p>å¯å˜æ€§ä¸ä¸å¯å˜æ€§</p><p>è¦è·å–å­—ç¬¦ä¸²æŸä¸ªæŒ‡å®šä½ç½®çš„å­—ç¬¦ï¼Œä½¿ç”¨ç±»ä¼¼Arrayçš„ä¸‹æ ‡æ“ä½œï¼Œç´¢å¼•å·ä»0å¼€å§‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> s = <span class="hljs-string">&#x27;Hello, world!&#x27;</span>;<br><br>s[<span class="hljs-number">0</span>]; <span class="hljs-comment">// &#x27;H&#x27;</span><br>s[<span class="hljs-number">6</span>]; <span class="hljs-comment">// &#x27; &#x27;</span><br>s[<span class="hljs-number">7</span>]; <span class="hljs-comment">// &#x27;w&#x27;</span><br>s[<span class="hljs-number">12</span>]; <span class="hljs-comment">// &#x27;!&#x27;</span><br>s[<span class="hljs-number">13</span>]; <span class="hljs-comment">// undefined è¶…å‡ºèŒƒå›´çš„ç´¢å¼•ä¸ä¼šæŠ¥é”™ï¼Œä½†ä¸€å¾‹è¿”å›undefined</span><br></code></pre></td></tr></table></figure><p>éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œå­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ï¼Œå¦‚æœå¯¹å­—ç¬¦ä¸²çš„æŸä¸ªç´¢å¼•èµ‹å€¼ï¼Œä¸ä¼šæœ‰ä»»ä½•é”™è¯¯ï¼Œä½†æ˜¯ï¼Œä¹Ÿæ²¡æœ‰ä»»ä½•æ•ˆæœï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> s = <span class="hljs-string">&#x27;Test&#x27;</span>;<br>s[<span class="hljs-number">0</span>] = <span class="hljs-string">&#x27;X&#x27;</span>;<br><span class="hljs-title function_">alert</span>(s); <span class="hljs-comment">// sä»ç„¶ä¸º&#x27;Test&#x27;</span><br></code></pre></td></tr></table></figure></li></ul></li></ol><ul><li><p>toUpperCase() æŠŠä¸€ä¸ªå­—ç¬¦ä¸²å…¨éƒ¨å˜ä¸ºå¤§å†™</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> s = <span class="hljs-string">&#x27;Hello&#x27;</span>;<br>s.<span class="hljs-title function_">toUpperCase</span>(); <span class="hljs-comment">// è¿”å›&#x27;HELLO&#x27;</span><br></code></pre></td></tr></table></figure></li><li><p>toLowerCase() æŠŠä¸€ä¸ªå­—ç¬¦ä¸²å…¨éƒ¨å˜ä¸ºå°å†™</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> s = <span class="hljs-string">&#x27;Hello&#x27;</span>;<br><span class="hljs-keyword">var</span> lower = s.<span class="hljs-title function_">toLowerCase</span>(); <span class="hljs-comment">// è¿”å›&#x27;hello&#x27;å¹¶èµ‹å€¼ç»™å˜é‡lower</span><br>lower; <span class="hljs-comment">// &#x27;hello&#x27;</span><br></code></pre></td></tr></table></figure></li><li><p>indexOf() ä¼šæœç´¢æŒ‡å®šå­—ç¬¦ä¸²å‡ºç°çš„ä½ç½®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> s = <span class="hljs-string">&#x27;hello, world&#x27;</span>;<br>s.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&#x27;world&#x27;</span>); <span class="hljs-comment">// è¿”å›7</span><br>s.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&#x27;World&#x27;</span>); <span class="hljs-comment">// æ²¡æœ‰æ‰¾åˆ°æŒ‡å®šçš„å­ä¸²ï¼Œè¿”å›-1</span><br></code></pre></td></tr></table></figure></li><li><p>substring() è¿”å›æŒ‡å®šç´¢å¼•åŒºé—´çš„å­ä¸²</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> s = <span class="hljs-string">&#x27;hello, world&#x27;</span><br>s.<span class="hljs-title function_">substring</span>(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>); <span class="hljs-comment">// ä»ç´¢å¼•0å¼€å§‹åˆ°5ï¼ˆä¸åŒ…æ‹¬5ï¼‰ï¼Œè¿”å›&#x27;hello&#x27;</span><br>s.<span class="hljs-title function_">substring</span>(<span class="hljs-number">7</span>); <span class="hljs-comment">// ä»ç´¢å¼•7å¼€å§‹åˆ°ç»“æŸï¼Œè¿”å›&#x27;world&#x27;</span><br></code></pre></td></tr></table></figure></li></ul><h2 id="3-2-æ•°ç»„"><a href="#3-2-æ•°ç»„" class="headerlink" title="3.2 æ•°ç»„"></a>3.2 æ•°ç»„</h2><p>JavaScriptçš„ Array å¯ä»¥åŒ…å«ä»»æ„æ•°æ®ç±»å‹ï¼Œå¹¶é€šè¿‡ç´¢å¼•æ¥è®¿é—®æ¯ä¸ªå…ƒç´ ã€‚</p><p>è¦å–å¾— Array çš„é•¿åº¦ï¼Œç›´æ¥è®¿é—® length å±æ€§ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3.14</span>, <span class="hljs-string">&#x27;Hello&#x27;</span>, <span class="hljs-literal">null</span>, <span class="hljs-literal">true</span>];<br>arr.<span class="hljs-property">length</span>; <span class="hljs-comment">// 6</span><br></code></pre></td></tr></table></figure><p>è¯·æ³¨æ„ï¼Œç›´æ¥ç»™ Array çš„ length èµ‹ä¸€ä¸ªæ–°çš„å€¼ä¼šå¯¼è‡´ Array å¤§å°çš„å˜åŒ–ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br>arr.<span class="hljs-property">length</span>; <span class="hljs-comment">// 3</span><br>arr.<span class="hljs-property">length</span> = <span class="hljs-number">6</span>;<br>arr; <span class="hljs-comment">// arrå˜ä¸º[1, 2, 3, undefined, undefined, undefined]</span><br>arr.<span class="hljs-property">length</span> = <span class="hljs-number">2</span>;<br>arr; <span class="hljs-comment">// arrå˜ä¸º[1, 2]</span><br></code></pre></td></tr></table></figure><p>Array å¯ä»¥é€šè¿‡ç´¢å¼•æŠŠå¯¹åº”çš„å…ƒç´ ä¿®æ”¹ä¸ºæ–°çš„å€¼ï¼Œå› æ­¤ï¼Œå¯¹ Array çš„ç´¢å¼•è¿›è¡Œèµ‹å€¼ä¼šç›´æ¥ä¿®æ”¹è¿™ä¸ª Array</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> arr = [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>];<br>arr[<span class="hljs-number">1</span>] = <span class="hljs-number">99</span>;<br>arr; <span class="hljs-comment">// arrç°åœ¨å˜ä¸º[&#x27;A&#x27;, 99, &#x27;C&#x27;]</span><br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼šå¦‚æœé€šè¿‡ç´¢å¼•èµ‹å€¼æ—¶ï¼Œç´¢å¼•è¶…è¿‡äº†èŒƒå›´ï¼ŒåŒæ ·ä¼šå¼•èµ· Array å¤§å°çš„å˜åŒ–ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br>arr[<span class="hljs-number">5</span>] = <span class="hljs-string">&#x27;x&#x27;</span>;<br>arr; <span class="hljs-comment">// arrå˜ä¸º[1, 2, 3, undefined, undefined, &#x27;x&#x27;]</span><br></code></pre></td></tr></table></figure><p>å¤§å¤šæ•°å…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸å…è®¸ç›´æ¥æ”¹å˜æ•°ç»„çš„å¤§å°ï¼Œè¶Šç•Œè®¿é—®ç´¢å¼•ä¼šæŠ¥é”™ã€‚ä½†æ˜¯JavaScriptçš„ Array å´ä¸ä¼šæœ‰ä»»ä½•é”™è¯¯ã€‚åœ¨ç¼–å†™ä»£ç æ—¶ï¼Œæœ€å¥½ä¸è¦ç›´æ¥ä¿®æ”¹ Array çš„å¤§å°ï¼Œè®¿é—®ç´¢å¼•æ—¶è¦ç¡®ä¿ç´¢å¼•ä¸ä¼šè¶Šç•Œã€‚</p><p><strong>å¸¸ç”¨æ–¹æ³•ï¼š</strong></p><ul><li><p><strong>indexOf()</strong></p><p>ä¸Stringç±»ä¼¼ï¼ŒArray ä¹Ÿå¯ä»¥é€šè¿‡ indexOf() æ¥æœç´¢ä¸€ä¸ªæŒ‡å®šçš„å…ƒç´ çš„ä½ç½®ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-string">&#x27;30&#x27;</span>, <span class="hljs-string">&#x27;xyz&#x27;</span>];<br>arr.<span class="hljs-title function_">indexOf</span>(<span class="hljs-number">10</span>); <span class="hljs-comment">// å…ƒç´ 10çš„ç´¢å¼•ä¸º0</span><br>arr.<span class="hljs-title function_">indexOf</span>(<span class="hljs-number">20</span>); <span class="hljs-comment">// å…ƒç´ 20çš„ç´¢å¼•ä¸º1</span><br>arr.<span class="hljs-title function_">indexOf</span>(<span class="hljs-number">30</span>); <span class="hljs-comment">// å…ƒç´ 30æ²¡æœ‰æ‰¾åˆ°ï¼Œè¿”å›-1</span><br>arr.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&#x27;30&#x27;</span>); <span class="hljs-comment">// å…ƒç´ &#x27;30&#x27;çš„ç´¢å¼•ä¸º2</span><br></code></pre></td></tr></table></figure></li><li><p><strong>slice()</strong></p><p>slice() å°±æ˜¯å¯¹åº”Stringçš„ substring() ï¼Œå®ƒæˆªå– Array çš„éƒ¨åˆ†å…ƒç´ ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°çš„ Array</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> arr = [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>, <span class="hljs-string">&#x27;E&#x27;</span>, <span class="hljs-string">&#x27;F&#x27;</span>, <span class="hljs-string">&#x27;G&#x27;</span>];<br>arr.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>); <span class="hljs-comment">// ä»ç´¢å¼•0å¼€å§‹ï¼Œåˆ°ç´¢å¼•3ç»“æŸï¼Œä½†ä¸åŒ…æ‹¬ç´¢å¼•3: [&#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;]</span><br>arr.<span class="hljs-title function_">slice</span>(<span class="hljs-number">3</span>); <span class="hljs-comment">// ä»ç´¢å¼•3å¼€å§‹åˆ°ç»“æŸ: [&#x27;D&#x27;, &#x27;E&#x27;, &#x27;F&#x27;, &#x27;G&#x27;]</span><br></code></pre></td></tr></table></figure><p>å¦‚æœä¸ç»™ slice() ä¼ é€’ä»»ä½•å‚æ•°ï¼Œå®ƒå°±ä¼šä»å¤´åˆ°å°¾æˆªå–æ‰€æœ‰å…ƒç´ ã€‚é…±ç´«å¯ä»¥å¾ˆå®¹æ˜“åœ°å¤åˆ¶ä¸€ä¸ª Array ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> arr = [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>, <span class="hljs-string">&#x27;E&#x27;</span>, <span class="hljs-string">&#x27;F&#x27;</span>, <span class="hljs-string">&#x27;G&#x27;</span>];<br><span class="hljs-keyword">var</span> aCopy = arr.<span class="hljs-title function_">slice</span>();<br>aCopy; <span class="hljs-comment">// [&#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;, &#x27;D&#x27;, &#x27;E&#x27;, &#x27;F&#x27;, &#x27;G&#x27;]</span><br>aCopy === arr; <span class="hljs-comment">// false</span><br></code></pre></td></tr></table></figure></li><li><p><strong>push() å’Œ pop()</strong></p><p>push() å‘ Array çš„æœ«å°¾æ·»åŠ è‹¥å¹²å…ƒç´ ï¼Œpop() åˆ™æŠŠ Array çš„æœ€åä¸€ä¸ªå…ƒç´ åˆ é™¤æ‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>];<br>arr.<span class="hljs-title function_">push</span>(<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>); <span class="hljs-comment">// è¿”å›Arrayæ–°çš„é•¿åº¦: 4</span><br>arr; <span class="hljs-comment">// [1, 2, &#x27;A&#x27;, &#x27;B&#x27;]</span><br>arr.<span class="hljs-title function_">pop</span>(); <span class="hljs-comment">// pop()è¿”å›&#x27;B&#x27;</span><br>arr; <span class="hljs-comment">// [1, 2, &#x27;A&#x27;]</span><br>arr.<span class="hljs-title function_">pop</span>(); arr.<span class="hljs-title function_">pop</span>(); arr.<span class="hljs-title function_">pop</span>(); <span class="hljs-comment">// è¿ç»­pop 3æ¬¡</span><br>arr; <span class="hljs-comment">// []</span><br>arr.<span class="hljs-title function_">pop</span>(); <span class="hljs-comment">// ç©ºæ•°ç»„ç»§ç»­popä¸ä¼šæŠ¥é”™ï¼Œè€Œæ˜¯è¿”å›undefined</span><br>arr; <span class="hljs-comment">// []</span><br></code></pre></td></tr></table></figure></li><li><p><strong>unshift() å’Œ shift()</strong></p><p>unshift() å¾€ Array çš„å¤´éƒ¨æ·»åŠ è‹¥å¹²å…ƒç´ ï¼Œshift() æŠŠArray çš„ç¬¬ä¸€ä¸ªå…ƒç´ åˆ æ‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>];<br>arr.<span class="hljs-title function_">unshift</span>(<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>); <span class="hljs-comment">// è¿”å›Arrayæ–°çš„é•¿åº¦: 4</span><br>arr; <span class="hljs-comment">// [&#x27;A&#x27;, &#x27;B&#x27;, 1, 2]</span><br>arr.<span class="hljs-title function_">shift</span>(); <span class="hljs-comment">// &#x27;A&#x27;</span><br>arr; <span class="hljs-comment">// [&#x27;B&#x27;, 1, 2]</span><br>arr.<span class="hljs-title function_">shift</span>(); arr.<span class="hljs-title function_">shift</span>(); arr.<span class="hljs-title function_">shift</span>(); <span class="hljs-comment">// è¿ç»­shift 3æ¬¡</span><br>arr; <span class="hljs-comment">// []</span><br>arr.<span class="hljs-title function_">shift</span>(); <span class="hljs-comment">// ç©ºæ•°ç»„ç»§ç»­shiftä¸ä¼šæŠ¥é”™ï¼Œè€Œæ˜¯è¿”å›undefined</span><br>arr; <span class="hljs-comment">// []</span><br></code></pre></td></tr></table></figure></li><li><p><strong>sort()</strong></p><p>sort() å¯ä»¥å¯¹å½“å‰ Array è¿›è¡Œæ’åº</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> arr = [<span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;A&#x27;</span>];<br>arr.<span class="hljs-title function_">sort</span>();<br>arr; <span class="hljs-comment">// [&#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;]</span><br></code></pre></td></tr></table></figure></li><li><p><strong>reverse()</strong></p><p>reverse() æŠŠæ•´ä¸ª Array çš„å…ƒç´ åè½¬</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> arr = [<span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;three&#x27;</span>];<br>arr.<span class="hljs-title function_">reverse</span>();<br>arr; <span class="hljs-comment">// [&#x27;three&#x27;, &#x27;two&#x27;, &#x27;one&#x27;]</span><br></code></pre></td></tr></table></figure></li><li><p><strong>splice</strong></p><p>splice() æ–¹æ³•æ˜¯ä¿®æ”¹ Array çš„â€œä¸‡èƒ½æ–¹æ³•â€ï¼Œå®ƒå¯ä»¥ä»æŒ‡å®šçš„ç´¢å¼•å¼€å§‹åˆ é™¤è‹¥å¹²å…ƒç´ ï¼Œç„¶åå†ä»è¯¥ä½ç½®æ·»åŠ è‹¥å¹²å…ƒç´ </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// ä»ç´¢å¼•2å¼€å§‹åˆ é™¤3ä¸ªå…ƒç´ ,ç„¶åå†æ·»åŠ ä¸¤ä¸ªå…ƒç´ :</span><br>arr.<span class="hljs-title function_">splice</span>(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-string">&#x27;Google&#x27;</span>, <span class="hljs-string">&#x27;Facebook&#x27;</span>); <span class="hljs-comment">// è¿”å›åˆ é™¤çš„å…ƒç´  [&#x27;Yahoo&#x27;, &#x27;AOL&#x27;,&#x27;Excite&#x27;]</span><br>arr; <span class="hljs-comment">// [&#x27;Microsoft&#x27;, &#x27;Apple&#x27;, &#x27;Google&#x27;, &#x27;Facebook&#x27;,&#x27;Oracle&#x27;]</span><br><span class="hljs-comment">// åªåˆ é™¤,ä¸æ·»åŠ :</span><br>arr.<span class="hljs-title function_">splice</span>(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>); <span class="hljs-comment">// [&#x27;Google&#x27;, &#x27;Facebook&#x27;]</span><br>arr; <span class="hljs-comment">// [&#x27;Microsoft&#x27;, &#x27;Apple&#x27;, &#x27;Oracle&#x27;]</span><br><span class="hljs-comment">// åªæ·»åŠ ,ä¸åˆ é™¤:</span><br>arr.<span class="hljs-title function_">splice</span>(<span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;Google&#x27;</span>, <span class="hljs-string">&#x27;Facebook&#x27;</span>); <span class="hljs-comment">// è¿”å›[],å› ä¸ºæ²¡æœ‰åˆ é™¤ä»»ä½•å…ƒ</span><br>arr; <span class="hljs-comment">// [&#x27;Microsoft&#x27;, &#x27;Apple&#x27;, &#x27;Google&#x27;, &#x27;Facebook&#x27;, &#x27;Oracle&#x27;]</span><br></code></pre></td></tr></table></figure></li><li><p><strong>concat()</strong></p><p>concat() æ–¹æ³•æŠŠå½“å‰çš„ Array å’Œå¦ä¸€ä¸ª Array è¿æ¥èµ·æ¥ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„ Array</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> arr = [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>];<br><span class="hljs-keyword">var</span> added = arr.<span class="hljs-title function_">concat</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]);<br>added; <span class="hljs-comment">// [&#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;, 1, 2, 3]</span><br>arr; <span class="hljs-comment">// [&#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;]</span><br></code></pre></td></tr></table></figure></li><li><p><strong>join()</strong></p><p>join() æ–¹æ³•æŠŠå½“å‰ Array çš„æ¯ä¸ªå…ƒç´ éƒ½ç”¨æŒ‡å®šçš„å­—ç¬¦ä¸²è¿æ¥èµ·æ¥ï¼Œç„¶åè¿”å›è¿æ¥åçš„å­—ç¬¦ä¸²ï¼Œå¦‚æœ Array çš„å…ƒç´ ä¸æ˜¯å­—ç¬¦ä¸²ï¼Œå°†è‡ªåŠ¨è½¬æ¢ä¸ºå­—ç¬¦ä¸²åå†è¿æ¥ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> arr = [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br>arr.<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;-&#x27;</span>); <span class="hljs-comment">// &#x27;A-B-C-1-2-3&#x27;</span><br></code></pre></td></tr></table></figure></li><li><p><strong>å¤šç»´æ•°ç»„</strong></p><p>å¦‚æœæ•°ç»„çš„æŸä¸ªå…ƒç´ åˆæ˜¯ä¸€ä¸ª Array ï¼Œåˆ™å¯ä»¥å½¢æˆå¤šç»´æ•°ç»„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> arr = [[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>],[<span class="hljs-string">&quot;4&quot;</span>,<span class="hljs-string">&quot;5&quot;</span>,<span class="hljs-string">&quot;6&quot;</span>],[<span class="hljs-number">400</span>, <span class="hljs-number">500</span>, <span class="hljs-number">600</span>]];<br></code></pre></td></tr></table></figure></li></ul><h2 id="3-3-å¯¹è±¡"><a href="#3-3-å¯¹è±¡" class="headerlink" title="3.3 å¯¹è±¡"></a>3.3 å¯¹è±¡</h2><p>JavaScriptçš„å¯¹è±¡æ˜¯ä¸€ç§æ— åºçš„é›†åˆæ•°æ®ç±»å‹ï¼Œå®ƒç”±è‹¥å¹²é”®å€¼å¯¹ç»„æˆã€‚JavaScriptçš„å¯¹è±¡ç”¨äºæè¿°ç°å®ä¸–ç•Œä¸­çš„æŸä¸ªå¯¹è±¡ã€‚</p><p>JavaScriptä¸­æ‰€æœ‰çš„é”®éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œå€¼æ˜¯ä»»æ„å¯¹è±¡</p><p><strong>å¯¹è±¡çš„å¸¸ç”¨æ“ä½œï¼š</strong></p><ol><li><p>å®šä¹‰ä¸€ä¸ªå¯¹è±¡</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> person = &#123;<br>    name : <span class="hljs-string">&quot;æ—æ…•æ¤¿&quot;</span>,<br>    age : <span class="hljs-number">18</span>,<br>    school : <span class="hljs-string">&quot;upc&quot;</span>,<br>    <span class="hljs-attr">location</span>: <span class="hljs-string">&quot;Qingdao&quot;</span><br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>å¯¹è±¡èµ‹å€¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">person.<span class="hljs-property">age</span> = <span class="hljs-number">20</span><br></code></pre></td></tr></table></figure></li><li><p>è·å–å¯¹è±¡çš„å±æ€§</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">å¯¹è±¡.å±æ€§<br></code></pre></td></tr></table></figure></li><li><p>åŠ¨æ€çš„åˆ å‡å±æ€§</p><p>åŠ¨æ€åˆ é™¤ï¼šé€šè¿‡deleteåŠ¨æ€çš„åˆ é™¤å¯¹è±¡çš„å±æ€§</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">delete</span> person.<span class="hljs-property">name</span><br></code></pre></td></tr></table></figure><p>åŠ¨æ€æ·»åŠ ï¼šç›´æ¥ç»™æ–°çš„å±æ€§æ·»åŠ å€¼å³å¯</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">person.<span class="hljs-property">apperance</span> = <span class="hljs-string">&quot;beautiful&quot;</span><br></code></pre></td></tr></table></figure></li><li><p>åˆ¤æ–­å±æ€§å€¼æ˜¯å¦åœ¨è¿™ä¸ªå¯¹è±¡ä¸­</p><p>è¦æ£€æµ‹å¯¹è±¡æ˜¯å¦æ‹¥æœ‰æŸä¸€å±æ€§ï¼Œå¯ä»¥ç”¨ in æ“ä½œç¬¦ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-string">&#x27;age&#x27;</span> <span class="hljs-keyword">in</span> person;  <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure><p>å¦‚æœç”¨ in åˆ¤æ–­ä¸€ä¸ªå±æ€§å­˜åœ¨ï¼Œè¿™ä¸ªå±æ€§ä¸ä¸€å®šæ˜¯è¿™ä¸ªå¯¹è±¡çš„ï¼Œå®ƒå¯èƒ½æ˜¯è¿™ä¸ªå¯¹è±¡ç»§æ‰¿å¾—åˆ°çš„ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-string">&#x27;toString&#x27;</span> <span class="hljs-keyword">in</span> xiaoming; <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure><p>å› ä¸º toString å®šä¹‰åœ¨ object å¯¹è±¡ä¸­ï¼Œè€Œæ‰€æœ‰å¯¹è±¡æœ€ç»ˆéƒ½ä¼šåœ¨åŸå‹é“¾ä¸ŠæŒ‡å‘ objectï¼Œæ‰€ä»¥xiaoming ä¹Ÿæ‹¥æœ‰ toString å±æ€§ã€‚</p></li><li><p>åˆ¤æ–­ä¸€ä¸ªå±æ€§æ˜¯å¦æ˜¯å¯¹è±¡è‡ªèº«æ‹¥æœ‰çš„ï¼Œè€Œä¸æ˜¯ç»§æ‰¿å¾—åˆ°çš„ï¼Œå¯ä»¥ç”¨ hasOwnProperty() æ–¹æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js">person.<span class="hljs-title function_">hasOwnProperty</span>(<span class="hljs-string">&#x27;age&#x27;</span>)  <span class="hljs-comment">// true</span><br>person.<span class="hljs-title function_">hasOwnProperty</span>(<span class="hljs-string">&#x27;toString&#x27;</span>)  <span class="hljs-comment">// false</span><br></code></pre></td></tr></table></figure></li></ol><h2 id="3-4-æµç¨‹æ§åˆ¶"><a href="#3-4-æµç¨‹æ§åˆ¶" class="headerlink" title="3.4 æµç¨‹æ§åˆ¶"></a>3.4 æµç¨‹æ§åˆ¶</h2><ul><li><p><strong>if åˆ¤æ–­</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> age = <span class="hljs-number">3</span>;<br><span class="hljs-keyword">if</span> (age &gt;= <span class="hljs-number">18</span>) &#123;<br><span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;adult&#x27;</span>);<br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (age &gt;= <span class="hljs-number">6</span>) &#123;<br><span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;teenager&#x27;</span>);<br>&#125; <span class="hljs-keyword">else</span> &#123;<br><span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;kid&#x27;</span>);<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p><strong>forå¾ªç¯</strong></p><p>åŸºç¡€è¯­æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> x = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">var</span> i;<br><span class="hljs-keyword">for</span> (i=<span class="hljs-number">1</span>; i&lt;=<span class="hljs-number">10000</span>; i++) &#123;<br>x = x + i;<br>&#125;<br>x; <span class="hljs-comment">// 50005000</span><br></code></pre></td></tr></table></figure><p>éå†æ•°ç»„ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> arr = [<span class="hljs-string">&#x27;Apple&#x27;</span>, <span class="hljs-string">&#x27;Google&#x27;</span>, <span class="hljs-string">&#x27;Microsoft&#x27;</span>];<br><span class="hljs-keyword">var</span> i, x;<br><span class="hljs-keyword">for</span> (i=<span class="hljs-number">0</span>; i&lt;arr.<span class="hljs-property">length</span>; i++) &#123;<br>    x = arr[i];<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x);<br>&#125;<br></code></pre></td></tr></table></figure><p>æ— é™å¾ªç¯ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> x = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> (;;) &#123; <span class="hljs-comment">// å°†æ— é™å¾ªç¯ä¸‹å»</span><br>    <span class="hljs-keyword">if</span> (x &gt; <span class="hljs-number">100</span>) &#123;<br>    <span class="hljs-keyword">break</span>; <span class="hljs-comment">// é€šè¿‡ifåˆ¤æ–­æ¥é€€å‡ºå¾ªç¯</span><br>    &#125;<br>x ++;<br>&#125;<br></code></pre></td></tr></table></figure><p>for â€¦ inï¼Œå®ƒå¯ä»¥æŠŠä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰å±æ€§ä¾æ¬¡å¾ªç¯å‡ºæ¥ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> o = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Jack&#x27;</span>,<br>    <span class="hljs-attr">age</span>: <span class="hljs-number">20</span>,<br>    <span class="hljs-attr">city</span>: <span class="hljs-string">&#x27;Beijing&#x27;</span><br>&#125;;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> o) &#123;<br>    <span class="hljs-keyword">if</span> (o.<span class="hljs-title function_">hasOwnProperty</span>(key)) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(key); <span class="hljs-comment">// &#x27;name&#x27;, &#x27;age&#x27;, &#x27;city&#x27;</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç”±äº Array ä¹Ÿæ˜¯å¯¹è±¡ï¼Œè€Œå®ƒçš„æ¯ä¸ªå…ƒç´ çš„ç´¢å¼•è¢«è§†ä¸ºå¯¹è±¡çš„å±æ€§ï¼Œæ‰€ä»¥éå†å‡ºæ¥æ˜¯ä¸‹æ ‡</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> a = [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>];<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i <span class="hljs-keyword">in</span> a) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i); <span class="hljs-comment">// &#x27;0&#x27;, &#x27;1&#x27;, &#x27;2&#x27;</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a[i]); <span class="hljs-comment">// &#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;</span><br>&#125;<br></code></pre></td></tr></table></figure><p><strong>noteï¼š</strong>for in æ‰“å°æ•°ç»„çš„ä¸‹æ ‡ï¼Œfor ofæ‰“å°æ•°ç»„çš„å…ƒç´ </p></li><li><p><strong>whileå¾ªç¯</strong></p><p>åŸºæœ¬æ“ä½œï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> x = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">var</span> n = <span class="hljs-number">99</span>;<br><span class="hljs-keyword">while</span> (n &gt; <span class="hljs-number">0</span>) &#123;<br>    x = x + n;<br>    n = n - <span class="hljs-number">2</span>;<br>&#125;<br>x; <span class="hljs-comment">// 2500</span><br></code></pre></td></tr></table></figure><p>do while</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> n = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">do</span> &#123;<br>n = n + <span class="hljs-number">1</span>;<br>&#125; <span class="hljs-keyword">while</span> (n &lt; <span class="hljs-number">100</span>);<br>n; <span class="hljs-comment">// 100</span><br></code></pre></td></tr></table></figure></li></ul><h2 id="3-5-Map-å’Œ-Set"><a href="#3-5-Map-å’Œ-Set" class="headerlink" title="3.5 Map å’Œ Set"></a>3.5 Map å’Œ Set</h2><p>JavaScriptçš„é»˜è®¤å¯¹è±¡è¡¨ç¤ºæ–¹å¼ { } å¯ä»¥è§†ä¸ºå…¶ä»–è¯­è¨€ä¸­çš„ Map æˆ– Dictionary çš„æ•°æ®ç»“æ„ï¼Œå³ä¸€ç»„é”®å€¼å¯¹ã€‚ä½†æ˜¯JavaScriptçš„å¯¹è±¡æœ‰ä¸ªå°é—®é¢˜ï¼Œå°±æ˜¯é”®å¿…é¡»æ˜¯å­—ç¬¦ä¸²ã€‚ä½†å®é™…ä¸ŠNumberæˆ–è€…å…¶ä»–æ•°æ®ç±»å‹ä½œä¸ºé”®ä¹Ÿæ˜¯éå¸¸åˆç†çš„ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæœ€æ–°çš„ES6è§„èŒƒå¼•å…¥äº†æ–°çš„æ•°æ®ç±»å‹ Map ã€‚</p><ul><li><p><strong>Map</strong></p><p>Map æ˜¯ä¸€ç»„é”®å€¼å¯¹çš„ç»“æ„ï¼Œå…·æœ‰æå¿«çš„æŸ¥æ‰¾é€Ÿåº¦ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//å­¦ç”Ÿçš„åå­— -- å­¦ç”Ÿæˆç»©</span><br><span class="hljs-keyword">var</span> map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>([[<span class="hljs-string">&quot;stu1&quot;</span>,<span class="hljs-number">100</span>],[<span class="hljs-string">&quot;stu2&quot;</span>,<span class="hljs-number">98</span>],[<span class="hljs-string">&quot;stu3&quot;</span>,<span class="hljs-number">80</span>]]);<br><span class="hljs-keyword">var</span> score = map.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;stu1&quot;</span>);  <span class="hljs-comment">//é€šè¿‡keyè·å–value</span><br>map.<span class="hljs-title function_">set</span>(<span class="hljs-string">&quot;stu4&quot;</span>,<span class="hljs-number">95</span>);<br></code></pre></td></tr></table></figure><p>åˆå§‹åŒ– Map éœ€è¦ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œæˆ–è€…ç›´æ¥åˆå§‹åŒ–ä¸€ä¸ªç©º Mapã€‚Map å…·æœ‰ä»¥ä¸‹æ–¹æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> m = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>(); <span class="hljs-comment">// ç©ºMap</span><br>m.<span class="hljs-title function_">set</span>(<span class="hljs-string">&#x27;Adam&#x27;</span>, <span class="hljs-number">67</span>); <span class="hljs-comment">// æ·»åŠ æ–°çš„key-value</span><br>m.<span class="hljs-title function_">set</span>(<span class="hljs-string">&#x27;Bob&#x27;</span>, <span class="hljs-number">59</span>);<br>m.<span class="hljs-title function_">has</span>(<span class="hljs-string">&#x27;Adam&#x27;</span>); <span class="hljs-comment">// æ˜¯å¦å­˜åœ¨key &#x27;Adam&#x27;: true</span><br>m.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;Adam&#x27;</span>); <span class="hljs-comment">// 67</span><br>m.<span class="hljs-title function_">delete</span>(<span class="hljs-string">&#x27;Adam&#x27;</span>); <span class="hljs-comment">// åˆ é™¤key &#x27;Adam&#x27;</span><br>m.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;Adam&#x27;</span>); <span class="hljs-comment">// undefined</span><br></code></pre></td></tr></table></figure><p>ä¸€ä¸ªkeyåªèƒ½å¯¹åº”ä¸€ä¸ªvalueï¼Œå¤šæ¬¡å¯¹ä¸€ä¸ªkeyæ”¾å…¥valueï¼Œåé¢çš„å€¼ä¼šæŠŠå‰é¢çš„å€¼é¡¶æ›¿ã€‚</p></li><li><p><strong>Set</strong></p><p>Set å’Œ Map ç±»ä¼¼ï¼Œä¹Ÿæ˜¯ä¸€ç»„keyçš„é›†åˆï¼Œä½†ä¸å­˜å‚¨valueã€‚ç”±äºkeyä¸èƒ½é‡å¤ï¼Œæ‰€ä»¥Set ä¸­æ²¡æœ‰é‡å¤çš„keyã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> s1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(); <span class="hljs-comment">// ç©ºSet</span><br><span class="hljs-keyword">var</span> s2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]); <span class="hljs-comment">// å«1, 2, 3</span><br></code></pre></td></tr></table></figure><p>Setå…·æœ‰ä»¥ä¸‹æ–¹æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> set = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">3</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>]);<br>set.<span class="hljs-title function_">add</span>(<span class="hljs-number">2</span>);  <span class="hljs-comment">// æ·»åŠ </span><br>set.<span class="hljs-title function_">delete</span>(<span class="hljs-number">1</span>);  <span class="hljs-comment">// åˆ é™¤</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(set.<span class="hljs-title function_">has</span>(<span class="hljs-number">3</span>))  <span class="hljs-comment">// æ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´ </span><br></code></pre></td></tr></table></figure></li></ul><h2 id="3-6-Iterable"><a href="#3-6-Iterable" class="headerlink" title="3.6 Iterable"></a>3.6 Iterable</h2><p><strong>éå†æ•°ç»„</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">5</span>,<span class="hljs-number">2</span>,<span class="hljs-number">4</span>];<br><span class="hljs-comment">//for inæ‰“å°æ•°ç»„çš„ä¸‹æ ‡</span><br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> x <span class="hljs-keyword">in</span> arr)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x);  <span class="hljs-comment">// 0,1,2,3,4</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr[x]);  <span class="hljs-comment">// 1,3,5,2,4</span><br>&#125;<br><span class="hljs-comment">//for ofæ‰“å°æ•°ç»„çš„å…ƒç´ </span><br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> x <span class="hljs-keyword">of</span> arr)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x);  <span class="hljs-comment">// 1,3,5,2,4</span><br>&#125;<br></code></pre></td></tr></table></figure><p><strong>éå†map</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>([[<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;x&#x27;</span>], [<span class="hljs-number">2</span>, <span class="hljs-string">&#x27;y&#x27;</span>], [<span class="hljs-number">3</span>, <span class="hljs-string">&#x27;z&#x27;</span>]]);<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> x <span class="hljs-keyword">of</span> map) &#123; <span class="hljs-comment">// éå†Map</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x[<span class="hljs-number">0</span>] + <span class="hljs-string">&#x27;=&#x27;</span> + x[<span class="hljs-number">1</span>]);<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>éå†set</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> set = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>]);<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> x <span class="hljs-keyword">of</span> set) &#123; <span class="hljs-comment">// éå†Set</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x);<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>Iterable</strong></p><p>éå† Array å¯ä»¥é‡‡ç”¨ä¸‹æ ‡å¾ªç¯ï¼Œéå†Map å’Œ Set å°±æ— æ³•ä½¿ç”¨ä¸‹æ ‡ã€‚ä¸ºäº†ç»Ÿä¸€é›†åˆç±»å‹ï¼ŒES6æ ‡å‡†å¼•å…¥äº†æ–°çš„ iterable ç±»å‹ï¼ŒArrayï¼ŒMapï¼ŒSet å±äºã€‚</p><p>ä½¿ç”¨ iterable å†…ç½®çš„ forEach æ–¹æ³•ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªå‡½æ•°ï¼Œæ¯æ¬¡è¿­ä»£å°±è‡ªåŠ¨å›è°ƒè¯¥å‡½æ•°ã€‚</p><p>ä»¥ Array ä¸ºä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js">arr.<span class="hljs-title function_">forEach</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">element, index, array</span>) &#123;<br>    <span class="hljs-comment">// element: æŒ‡å‘å½“å‰å…ƒç´ çš„å€¼</span><br>    <span class="hljs-comment">// index: æŒ‡å‘å½“å‰ç´¢å¼•</span><br>    <span class="hljs-comment">// array: æŒ‡å‘Arrayå¯¹è±¡æœ¬èº«</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(element + <span class="hljs-string">&#x27;, index = &#x27;</span> + index);<br>&#125;);<br></code></pre></td></tr></table></figure><p>Set æ²¡æœ‰ç´¢å¼•ï¼Œå› æ­¤å›è°ƒå‡½æ•°çš„å‰ä¸¤ä¸ªå‚æ•°éƒ½æ˜¯å…ƒç´ æœ¬èº«ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>]);<br>s.<span class="hljs-title function_">forEach</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">element, sameElement, set</span>) &#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(element);<br>&#125;);<br></code></pre></td></tr></table></figure><p>Map çš„å›è°ƒå‡½æ•°å‚æ•°ä¾æ¬¡ä¸º value ã€ key å’Œ map æœ¬èº«ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> m = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>([[<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;x&#x27;</span>], [<span class="hljs-number">2</span>, <span class="hljs-string">&#x27;y&#x27;</span>], [<span class="hljs-number">3</span>, <span class="hljs-string">&#x27;z&#x27;</span>]]);<br>m.<span class="hljs-title function_">forEach</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">value, key, map</span>) &#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value);<br>&#125;);<br></code></pre></td></tr></table></figure><h1 id="4-å‡½æ•°"><a href="#4-å‡½æ•°" class="headerlink" title="4. å‡½æ•°"></a>4. å‡½æ•°</h1><h2 id="4-1-å‡½æ•°å®šä¹‰"><a href="#4-1-å‡½æ•°å®šä¹‰" class="headerlink" title="4.1 å‡½æ•°å®šä¹‰"></a>4.1 å‡½æ•°å®šä¹‰</h2><p><strong>æ–¹å¼1ï¼š</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">abs</span>(<span class="hljs-params">x</span>) &#123;<br>    <span class="hljs-keyword">if</span> (x &gt;= <span class="hljs-number">0</span>) &#123;<br>    <span class="hljs-keyword">return</span> x;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-keyword">return</span> -x;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸€æ—¦æ‰§è¡Œåˆ° return æ—¶ï¼Œå‡½æ•°å°±æ‰§è¡Œå®Œæ¯•ï¼Œå¹¶å°†ç»“æœè¿”å›ã€‚</p><p>å¦‚æœæ²¡æœ‰ return è¯­å¥ï¼Œå‡½æ•°æ‰§è¡Œå®Œæ¯•åä¹Ÿä¼šè¿”å›ç»“æœï¼Œåªæ˜¯ç»“æœä¸º undefined ã€‚</p><p><strong>æ–¹å¼2ï¼š</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> abs = <span class="hljs-keyword">function</span> (<span class="hljs-params">x</span>) &#123;<br>    <span class="hljs-keyword">if</span> (x &gt;= <span class="hljs-number">0</span>) &#123;<br>    <span class="hljs-keyword">return</span> x;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-keyword">return</span> -x;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>function (x) { â€¦ } æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œå®ƒæ²¡æœ‰å‡½æ•°åã€‚ä½†æ˜¯ï¼Œè¿™ä¸ªåŒ¿åå‡½æ•°èµ‹å€¼ç»™äº†å˜é‡ abs ï¼Œæ‰€ä»¥ï¼Œé€šè¿‡å˜é‡ abs å°±å¯ä»¥è°ƒç”¨è¯¥å‡½æ•°ã€‚</p><p>æŒ‰ç…§å®Œæ•´è¯­æ³•éœ€è¦åœ¨å‡½æ•°ä½“æœ«å°¾åŠ ä¸€ä¸ª ; ï¼Œè¡¨ç¤ºèµ‹å€¼è¯­å¥ç»“æŸã€‚</p><h2 id="4-2-å‡½æ•°è°ƒç”¨"><a href="#4-2-å‡½æ•°è°ƒç”¨" class="headerlink" title="4.2 å‡½æ•°è°ƒç”¨"></a>4.2 å‡½æ•°è°ƒç”¨</h2><p>è°ƒç”¨å‡½æ•°æ—¶ï¼ŒæŒ‰é¡ºåºä¼ å…¥å‚æ•°å³å¯ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">abs</span>(<span class="hljs-number">10</span>); <span class="hljs-comment">// è¿”å›10</span><br><span class="hljs-title function_">abs</span>(-<span class="hljs-number">9</span>); <span class="hljs-comment">// è¿”å›9</span><br></code></pre></td></tr></table></figure><p>ç”±äºJavaScriptå…è®¸ä¼ å…¥ä»»æ„ä¸ªå‚æ•°è€Œä¸å½±å“è°ƒç”¨ï¼Œå› æ­¤ä¼ å…¥çš„å‚æ•°æ¯”å®šä¹‰çš„å‚æ•°å¤šä¹Ÿæ²¡æœ‰é—®é¢˜ï¼Œè™½ç„¶å‡½æ•°å†…éƒ¨å¹¶ä¸éœ€è¦è¿™äº›å‚æ•°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">abs</span>(<span class="hljs-number">10</span>, <span class="hljs-string">&#x27;blablabla&#x27;</span>); <span class="hljs-comment">// è¿”å›10</span><br><span class="hljs-title function_">abs</span>(-<span class="hljs-number">9</span>, <span class="hljs-string">&#x27;haha&#x27;</span>, <span class="hljs-string">&#x27;hehe&#x27;</span>, <span class="hljs-literal">null</span>); <span class="hljs-comment">// è¿”å›9</span><br></code></pre></td></tr></table></figure><p>ä¼ å…¥çš„å‚æ•°æ¯”å®šä¹‰çš„å°‘ä¹Ÿæ²¡æœ‰é—®é¢˜ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">abs</span>(); <span class="hljs-comment">// è¿”å›NaN</span><br></code></pre></td></tr></table></figure><p>æ­¤æ—¶ abs(x) å‡½æ•°çš„å‚æ•° x å°†æ”¶åˆ° undefinedï¼Œè®¡ç®—ç»“æœä¸º NaN ã€‚</p><p>è¦é¿å…æ”¶åˆ° undefined ï¼Œå¯ä»¥å¯¹å‚æ•°è¿›è¡Œæ£€æŸ¥ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">abs</span>(<span class="hljs-params">x</span>) &#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> x !== <span class="hljs-string">&#x27;number&#x27;</span>) &#123;<br>    <span class="hljs-keyword">throw</span> <span class="hljs-string">&#x27;Not a number&#x27;</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (x &gt;= <span class="hljs-number">0</span>) &#123;<br>    <span class="hljs-keyword">return</span> x;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-keyword">return</span> -x;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p><strong>argumentså…³é”®å­—</strong></p></blockquote><p>JavaScriptè¿˜æœ‰ä¸€ä¸ªå…è´¹èµ é€çš„å…³é”®å­— arguments ï¼Œå®ƒåªåœ¨å‡½æ•°å†…éƒ¨èµ·ä½œç”¨ï¼Œå¹¶ä¸”æ°¸è¿œæŒ‡å‘å½“å‰å‡½æ•°çš„è°ƒç”¨è€…ä¼ å…¥çš„æ‰€æœ‰å‚æ•°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params">x</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;x = &#x27;</span> + x); <span class="hljs-comment">// 10</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-variable language_">arguments</span>.<span class="hljs-property">length</span>; i++) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;arg &#x27;</span> + i + <span class="hljs-string">&#x27; = &#x27;</span> + <span class="hljs-variable language_">arguments</span>[i]); <span class="hljs-comment">// 10, 20, 30</span><br>    &#125;<br>&#125;<br><span class="hljs-title function_">foo</span>(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>);<br></code></pre></td></tr></table></figure><p>åˆ©ç”¨ arguments ï¼Œä½ å¯ä»¥è·å¾—è°ƒç”¨è€…ä¼ å…¥çš„æ‰€æœ‰å‚æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå³ä½¿å‡½æ•°ä¸å®šä¹‰ä»»ä½•å‚æ•°ï¼Œè¿˜æ˜¯å¯ä»¥æ‹¿åˆ°å‚æ•°çš„å€¼ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">abs</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">arguments</span>.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>    <span class="hljs-keyword">var</span> x = <span class="hljs-variable language_">arguments</span>[<span class="hljs-number">0</span>];<br>    <span class="hljs-keyword">return</span> x &gt;= <span class="hljs-number">0</span> ? x : -x;<br>&#125;<br><span class="hljs-title function_">abs</span>(); <span class="hljs-comment">// 0</span><br><span class="hljs-title function_">abs</span>(<span class="hljs-number">10</span>); <span class="hljs-comment">// 10</span><br><span class="hljs-title function_">abs</span>(-<span class="hljs-number">9</span>); <span class="hljs-comment">// 9</span><br></code></pre></td></tr></table></figure><p>å®é™…ä¸Š arguments æœ€å¸¸ç”¨äºåˆ¤æ–­ä¼ å…¥å‚æ•°çš„ä¸ªæ•°ã€‚ä½ å¯èƒ½ä¼šçœ‹åˆ°è¿™æ ·çš„å†™æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// foo(a[, b], c)</span><br><span class="hljs-comment">// æ¥æ”¶2~3ä¸ªå‚æ•°ï¼Œbæ˜¯å¯é€‰å‚æ•°ï¼Œå¦‚æœåªä¼ 2ä¸ªå‚æ•°ï¼Œbé»˜è®¤ä¸ºnullï¼š</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params">a, b, c</span>) &#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">arguments</span>.<span class="hljs-property">length</span> === <span class="hljs-number">2</span>) &#123;<br>        <span class="hljs-comment">// å®é™…æ‹¿åˆ°çš„å‚æ•°æ˜¯aå’Œbï¼Œcä¸ºundefined</span><br>        c = b; <span class="hljs-comment">// æŠŠbèµ‹ç»™c</span><br>        b = <span class="hljs-literal">null</span>; <span class="hljs-comment">// bå˜ä¸ºé»˜è®¤å€¼</span><br>    &#125;<br>    <span class="hljs-comment">// ...</span><br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p><strong>restå‚æ•°</strong></p></blockquote><p>ç”±äºJavaScriptå‡½æ•°å…è®¸æ¥æ”¶ä»»æ„ä¸ªå‚æ•°ï¼Œäºæ˜¯æˆ‘ä»¬å°±ä¸å¾—ä¸ç”¨ arguments æ¥è·å–æ‰€æœ‰å‚æ•°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params">a, b</span>) &#123;<br>    <span class="hljs-keyword">var</span> i, rest = [];<br>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">arguments</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">2</span>) &#123;<br>        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">2</span>; i&lt;<span class="hljs-variable language_">arguments</span>.<span class="hljs-property">length</span>; i++) &#123;<br>        rest.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">arguments</span>[i]);<br>        &#125;<br>&#125;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;a = &#x27;</span> + a);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;b = &#x27;</span> + b);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(rest);<br>&#125;<br></code></pre></td></tr></table></figure><p>é—®é¢˜ï¼šarguments åŒ…å«æ‰€æœ‰çš„å‚æ•°ï¼Œæˆ‘ä»¬æœ‰çš„æ—¶å€™å¯ä»¥ç”¨å¤šä½™çš„å‚æ•°æ¥è¿›è¡Œé™„åŠ æ“ä½œï¼Œéœ€è¦æ’é™¤å·²æœ‰çš„å‚æ•°ã€‚ES6æ ‡å‡†å¼•å…¥äº†restå‚æ•°ï¼Œä¸Šé¢çš„å‡½æ•°å¯ä»¥æ”¹å†™ä¸ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params">a, b, ...rest</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;a = &#x27;</span> + a);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;b = &#x27;</span> + b);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(rest);<br>&#125;<br><span class="hljs-title function_">foo</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>);<br><span class="hljs-comment">// ç»“æœ:</span><br><span class="hljs-comment">// a = 1</span><br><span class="hljs-comment">// b = 2</span><br><span class="hljs-comment">// Array [ 3, 4, 5 ]</span><br><span class="hljs-title function_">foo</span>(<span class="hljs-number">1</span>);<br><span class="hljs-comment">// ç»“æœ:</span><br><span class="hljs-comment">// a = 1</span><br><span class="hljs-comment">// b = undefined</span><br><span class="hljs-comment">// Array []</span><br></code></pre></td></tr></table></figure><p>restå‚æ•°åªèƒ½å†™åœ¨æœ€åï¼Œå‰é¢ç”¨ â€¦ æ ‡è¯†ï¼ˆç±»ä¼¼äºå¯å˜é•¿å‚æ•°ï¼‰ï¼Œä»è¿è¡Œç»“æœå¯çŸ¥ï¼Œä¼ å…¥çš„å‚æ•°å…ˆç»‘å®šaï¼Œbï¼Œå¤šä½™çš„å‚æ•°ä»¥æ•°ç»„å½¢å¼äº¤ç»™å˜é‡ rest ï¼Œæ‰€ä»¥ï¼Œä¸å†éœ€è¦ arguments æˆ‘ä»¬å°±è·å–äº†å…¨éƒ¨å‚æ•°ã€‚</p><h2 id="4-3-å˜é‡ä½œç”¨åŸŸ"><a href="#4-3-å˜é‡ä½œç”¨åŸŸ" class="headerlink" title="4.3 å˜é‡ä½œç”¨åŸŸ"></a>4.3 å˜é‡ä½œç”¨åŸŸ</h2><blockquote><p><strong>å˜é‡çš„ä½œç”¨åŸŸ</strong></p></blockquote><p>åœ¨JavaScriptä¸­ï¼Œç”¨ var ç”³æ˜çš„å˜é‡å®é™…ä¸Šæ˜¯æœ‰ä½œç”¨åŸŸçš„ã€‚</p><p>å¦‚æœä¸€ä¸ªå˜é‡åœ¨å‡½æ•°ä½“å†…éƒ¨ç”³æ˜ï¼Œåˆ™è¯¥å˜é‡çš„ä½œç”¨åŸŸä¸ºæ•´ä¸ªå‡½æ•°ä½“ï¼Œåœ¨å‡½æ•°ä½“å¤–ä¸å¯å¼•ç”¨è¯¥å˜é‡ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-meta">&#x27;use strict&#x27;</span>;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> x = <span class="hljs-number">1</span>;<br>    x = x + <span class="hljs-number">1</span>;<br>&#125;<br>x = x + <span class="hljs-number">2</span>;  <span class="hljs-comment">// ReferenceError æ— æ³•åœ¨å‡½æ•°ä½“å¤–å¼•ç”¨å˜é‡x</span><br></code></pre></td></tr></table></figure><p>å¦‚æœä¸¤ä¸ªä¸åŒçš„å‡½æ•°å„è‡ªç”³æ˜äº†åŒä¸€ä¸ªå˜é‡ï¼Œé‚£ä¹ˆè¯¥å˜é‡åªåœ¨å„è‡ªçš„å‡½æ•°ä½“å†…èµ·ä½œç”¨ã€‚æ¢å¥è¯è¯´ï¼Œä¸åŒå‡½æ•°å†…éƒ¨çš„åŒåå˜é‡äº’ç›¸ç‹¬ç«‹ï¼Œäº’ä¸å½±å“ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-meta">&#x27;use strict&#x27;</span>;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> x = <span class="hljs-number">1</span>;<br>    x = x + <span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">bar</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> x = <span class="hljs-string">&#x27;A&#x27;</span>;<br>    x = x + <span class="hljs-string">&#x27;B&#x27;</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç”±äºJavaScriptçš„å‡½æ•°å¯ä»¥åµŒå¥—ï¼Œæ­¤æ—¶ï¼Œå†…éƒ¨å‡½æ•°å¯ä»¥è®¿é—®å¤–éƒ¨å‡½æ•°å®šä¹‰çš„å˜é‡ï¼Œåè¿‡æ¥åˆ™ä¸è¡Œï¼ˆç±»ä¼¼äºåŒ¿åå†…éƒ¨ç±»ï¼‰ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-meta">&#x27;use strict&#x27;</span>;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> x = <span class="hljs-number">1</span>;<br>    <span class="hljs-comment">//å†…éƒ¨å‡½æ•°å¯ä»¥è®¿é—®å¤–éƒ¨å‡½æ•°çš„æˆå‘˜ï¼Œåä¹‹åˆ™ä¸è¡Œ</span><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">bar</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> y = x + <span class="hljs-number">1</span>; <span class="hljs-comment">// barå¯ä»¥è®¿é—®fooçš„å˜é‡x</span><br>    &#125;<br>    <span class="hljs-keyword">var</span> z = y + <span class="hljs-number">1</span>; <span class="hljs-comment">// ReferenceError fooä¸å¯ä»¥è®¿é—®barçš„å˜é‡y</span><br>&#125;<br></code></pre></td></tr></table></figure><p>å¦‚æœå†…éƒ¨å‡½æ•°å’Œå¤–éƒ¨å‡½æ•°çš„å˜é‡åé‡åï¼šå‡½æ•°åœ¨æŸ¥æ‰¾å˜é‡æ—¶ä»è‡ªèº«å‡½æ•°å®šä¹‰å¼€å§‹ï¼Œä»â€œå†…â€å‘â€œå¤–â€æŸ¥æ‰¾ã€‚å¦‚æœå†…éƒ¨å‡½æ•°å®šä¹‰äº†ä¸å¤–éƒ¨å‡½æ•°é‡åçš„å˜é‡ï¼Œåˆ™å†…éƒ¨å‡½æ•°çš„å˜é‡å°†â€œå±è”½â€å¤–éƒ¨å‡½æ•°çš„å˜é‡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> x = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">bar</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">var</span> x = <span class="hljs-string">&#x27;A&#x27;</span>;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;x in bar() = &#x27;</span> + x); <span class="hljs-comment">// &#x27;A&#x27;</span><br>    &#125;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;x in foo() = &#x27;</span> + x); <span class="hljs-comment">// 1</span><br>    <span class="hljs-title function_">bar</span>();<br>    &#125;<br><span class="hljs-title function_">foo</span>();<br></code></pre></td></tr></table></figure><blockquote><p><strong>å˜é‡æå‡</strong></p></blockquote><p>JavaScriptçš„å‡½æ•°å®šä¹‰æœ‰ä¸ªç‰¹ç‚¹ï¼Œå®ƒä¼šå…ˆæ‰«ææ•´ä¸ªå‡½æ•°ä½“çš„è¯­å¥ï¼ŒæŠŠæ‰€æœ‰ç”³æ˜çš„å˜é‡â€œæå‡â€åˆ°å‡½æ•°é¡¶éƒ¨ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-meta">&#x27;use strict&#x27;</span>;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> x = <span class="hljs-string">&#x27;Hello, &#x27;</span> + y;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x);<br>    <span class="hljs-keyword">var</span> y = <span class="hljs-string">&#x27;Bob&#x27;</span>;<br>&#125;<br><span class="hljs-title function_">foo</span>();<br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼šHello, undefined</p><p>å¹¶æ²¡æœ‰æŠ¥é”™ï¼Œå› ä¸ºJavaScriptå¼•æ“è‡ªåŠ¨æå‡äº†å˜é‡ y çš„å£°æ˜ï¼Œä½†ä¸ä¼šæå‡å˜é‡ y çš„èµ‹å€¼ã€‚</p><p>å¯¹äºä¸Šè¿° foo() å‡½æ•°ï¼ŒJavaScriptå¼•æ“çœ‹åˆ°çš„ä»£ç ç›¸å½“äºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> y; <span class="hljs-comment">// æå‡å˜é‡yçš„ç”³æ˜ï¼Œæ­¤æ—¶yä¸ºundefined</span><br>    <span class="hljs-keyword">var</span> x = <span class="hljs-string">&#x27;Hello, &#x27;</span> + y;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x);<br>    y = <span class="hljs-string">&#x27;Bob&#x27;</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç”±äºJavaScriptçš„è¿™ä¸€æ€ªå¼‚çš„â€œç‰¹æ€§â€ï¼Œæˆ‘ä»¬åœ¨å‡½æ•°å†…éƒ¨å®šä¹‰å˜é‡æ—¶ï¼Œè¯·ä¸¥æ ¼éµå®ˆâ€œåœ¨å‡½æ•°å†…éƒ¨é¦–å…ˆç”³æ˜æ‰€æœ‰å˜é‡â€è¿™ä¸€è§„åˆ™ã€‚æœ€å¸¸è§çš„åšæ³•æ˜¯ç”¨ä¸€ä¸ª var ç”³æ˜å‡½æ•°å†…éƒ¨ç”¨åˆ°çš„æ‰€æœ‰å˜é‡ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span><br>        x = <span class="hljs-number">1</span>, <span class="hljs-comment">// xåˆå§‹åŒ–ä¸º1</span><br>        y = x + <span class="hljs-number">1</span>, <span class="hljs-comment">// yåˆå§‹åŒ–ä¸º2</span><br>        z, i; <span class="hljs-comment">// zå’Œiä¸ºundefined</span><br>    <span class="hljs-comment">// å…¶ä»–è¯­å¥:</span><br>    <span class="hljs-keyword">for</span> (i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">100</span>; i++) &#123;<br>    ...<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p><strong>å…¨å±€ä½œç”¨åŸŸ</strong></p></blockquote><p>ä¸åœ¨ä»»ä½•å‡½æ•°å†…å®šä¹‰çš„å˜é‡å°±å…·æœ‰å…¨å±€ä½œç”¨åŸŸ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//å…¨å±€å˜é‡</span><br><span class="hljs-keyword">var</span> x = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">f</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x);<br>&#125;<br><span class="hljs-title function_">f</span>();<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x);<br></code></pre></td></tr></table></figure><p>JavaScripté»˜è®¤æœ‰ä¸€ä¸ªå…¨å±€å¯¹è±¡ window ï¼Œå…¨å±€ä½œç”¨åŸŸçš„å˜é‡å®é™…ä¸Šè¢«ç»‘å®šåˆ° window çš„ä¸€ä¸ªå±æ€§ï¼Œç›´æ¥è®¿é—®å…¨å±€å˜é‡ course å’Œè®¿é—® window.course æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-meta">&#x27;use strict&#x27;</span>;<br><span class="hljs-keyword">var</span> course = <span class="hljs-string">&#x27;Learn JavaScript&#x27;</span>;<br><span class="hljs-title function_">alert</span>(course); <span class="hljs-comment">// &#x27;Learn JavaScript&#x27;</span><br><span class="hljs-title function_">alert</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">course</span>); <span class="hljs-comment">// &#x27;Learn JavaScript </span><br><span class="hljs-comment">// é»˜è®¤æ‰€æœ‰å…¨å±€å˜é‡éƒ½ä¼šè‡ªåŠ¨ç»‘å®šåœ¨windowså¯¹è±¡ä¸‹</span><br></code></pre></td></tr></table></figure><p>é¡¶å±‚å‡½æ•°çš„å®šä¹‰ä¹Ÿè¢«è§†ä¸ºä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå¹¶ç»‘å®šåˆ° window å¯¹è±¡ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-meta">&#x27;use strict&#x27;</span>;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) &#123;<br><span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;foo&#x27;</span>);<br>&#125;<br><span class="hljs-title function_">foo</span>(); <span class="hljs-comment">// ç›´æ¥è°ƒç”¨foo()</span><br><span class="hljs-variable language_">window</span>.<span class="hljs-title function_">foo</span>(); <span class="hljs-comment">// é€šè¿‡window.foo()è°ƒç”¨</span><br></code></pre></td></tr></table></figure><p>æ¯æ¬¡ç›´æ¥è°ƒç”¨çš„ alert() å‡½æ•°å…¶å®ä¹Ÿæ˜¯ window çš„ä¸€ä¸ªå˜é‡ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-meta">&#x27;use strict&#x27;</span>;<br><span class="hljs-variable language_">window</span>.<span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;è°ƒç”¨window.alert()&#x27;</span>);<br><span class="hljs-comment">// æŠŠalertä¿å­˜åˆ°å¦ä¸€ä¸ªå˜é‡:</span><br><span class="hljs-keyword">var</span> old_alert = <span class="hljs-variable language_">window</span>.<span class="hljs-property">alert</span>;<br><span class="hljs-comment">// ç»™alertèµ‹ä¸€ä¸ªæ–°å‡½æ•°:</span><br><span class="hljs-variable language_">window</span>.<span class="hljs-property">alert</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;&#125;<br><span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;æ— æ³•ç”¨alert()æ˜¾ç¤ºäº†!&#x27;</span>);<br><span class="hljs-comment">// æ¢å¤alert:</span><br><span class="hljs-variable language_">window</span>.<span class="hljs-property">alert</span> = old_alert;<br><span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;åˆå¯ä»¥ç”¨alert()äº†!&#x27;</span>);<br></code></pre></td></tr></table></figure><p>JavaScriptå®é™…ä¸Šåªæœ‰ä¸€ä¸ªå…¨å±€ä½œç”¨åŸŸã€‚ä»»ä½•å˜é‡ï¼ˆå‡½æ•°ä¹Ÿè§†ä¸ºå˜é‡ï¼‰ï¼Œå¦‚æœæ²¡æœ‰åœ¨å½“å‰å‡½æ•°ä½œç”¨åŸŸä¸­æ‰¾åˆ°ï¼Œå°±ä¼šç»§ç»­å¾€ä¸ŠæŸ¥æ‰¾ï¼Œæœ€åå¦‚æœåœ¨å…¨å±€ä½œç”¨åŸŸä¸­ä¹Ÿæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™æŠ¥ ReferenceError é”™è¯¯ã€‚</p><blockquote><p><strong>è§„èŒƒ</strong></p></blockquote><p>å…¨å±€å˜é‡ä¼šç»‘å®šåˆ° window ä¸Šï¼Œä¸åŒçš„JavaScriptæ–‡ä»¶å¦‚æœä½¿ç”¨äº†ç›¸åŒçš„å…¨å±€å˜é‡ï¼Œæˆ–è€…å®šä¹‰äº†ç›¸åŒåå­—çš„é¡¶å±‚å‡½æ•°ï¼Œéƒ½ä¼šé€ æˆå‘½åå†²çªï¼Œå¹¶ä¸”å¾ˆéš¾è¢«å‘ç°ã€‚</p><p><strong>å‡å°‘å†²çªçš„æ–¹æ³•ï¼š</strong>æ˜¯æŠŠè‡ªå·±çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°å…¨éƒ¨ç»‘å®šåˆ°ä¸€ä¸ªå…¨å±€å˜é‡ä¸­ã€‚ä¾‹å¦‚æŠŠè‡ªå·±çš„ä»£ç å…¨éƒ¨æ”¾å…¥å”¯ä¸€çš„åå­—ç©ºé—´ MYAPP ä¸­ï¼Œä¼šå¤§å¤§å‡å°‘å…¨å±€å˜é‡å†²çªçš„å¯èƒ½ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// å”¯ä¸€çš„å…¨å±€å˜é‡MYAPP:</span><br><span class="hljs-keyword">var</span> <span class="hljs-variable constant_">MYAPP</span> = &#123;&#125;;<br><span class="hljs-comment">// å…¶ä»–å˜é‡:</span><br><span class="hljs-variable constant_">MYAPP</span>.<span class="hljs-property">name</span> = <span class="hljs-string">&#x27;myapp&#x27;</span>;<br><span class="hljs-variable constant_">MYAPP</span>.<span class="hljs-property">version</span> = <span class="hljs-number">1.0</span>;<br><span class="hljs-comment">// å…¶ä»–å‡½æ•°:</span><br><span class="hljs-variable constant_">MYAPP</span>.<span class="hljs-property">foo</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br><span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;foo&#x27;</span>;<br>&#125;;<br></code></pre></td></tr></table></figure><blockquote><p><strong>å±€éƒ¨ä½œç”¨åŸŸï¼šlet</strong></p></blockquote><p>ç”±äºJavaScriptçš„å˜é‡ä½œç”¨åŸŸå®é™…ä¸Šæ˜¯å‡½æ•°å†…éƒ¨ï¼Œæˆ‘ä»¬åœ¨ for å¾ªç¯ç­‰è¯­å¥å—ä¸­æ˜¯æ— æ³•å®šä¹‰å…·æœ‰å±€éƒ¨ä½œç”¨åŸŸçš„å˜é‡çš„ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-meta">&#x27;use strict&#x27;</span>;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">100</span>; i++) &#123;<br>    <span class="hljs-comment">//</span><br>    &#125;<br>    i += <span class="hljs-number">100</span>; <span class="hljs-comment">// ä»ç„¶å¯ä»¥å¼•ç”¨å˜é‡i</span><br>&#125;<br></code></pre></td></tr></table></figure><p>è§£å†³æ–¹æ³•ï¼šES6å¼•å…¥äº†æ–°çš„å…³é”®å­— let ï¼Œç”¨ let æ›¿ä»£ var å¯ä»¥ç”³æ˜ä¸€ä¸ªå—çº§ä½œç”¨åŸŸçš„å˜é‡ï¼š</p><p>å»ºè®®ä½¿ç”¨ let å»å®šä¹‰å±€éƒ¨ä½œç”¨åŸŸçš„å˜é‡</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-meta">&#x27;use strict&#x27;</span>;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> sum = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">100</span>; i++) &#123;<br>    sum += i;<br>    &#125;<br>    i += <span class="hljs-number">1</span>;  <span class="hljs-comment">// SyntaxError</span><br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p><strong>å¸¸é‡ï¼šconst</strong></p></blockquote><p>åœ¨ES6ä¹‹å‰è¦ç”³æ˜ä¸€ä¸ªå¸¸é‡ï¼Œé€šå¸¸ç”¨å…¨éƒ¨å¤§å†™çš„å˜é‡æ¥è¡¨ç¤ºâ€œè¿™æ˜¯ä¸€ä¸ªå¸¸é‡ï¼Œä¸è¦ä¿®æ”¹å®ƒçš„å€¼â€ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> <span class="hljs-variable constant_">PI</span> = <span class="hljs-number">3.14</span>;<br></code></pre></td></tr></table></figure><p>ES6æ ‡å‡†å¼•å…¥äº†æ–°çš„å…³é”®å­— const æ¥å®šä¹‰å¸¸é‡ï¼Œ const ä¸ let éƒ½å…·æœ‰å—çº§ä½œç”¨åŸŸï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-meta">&#x27;use strict&#x27;</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">PI</span> = <span class="hljs-number">3.14</span>;  <span class="hljs-comment">// åªè¯»å˜é‡</span><br><span class="hljs-variable constant_">PI</span> = <span class="hljs-number">3</span>; <span class="hljs-comment">// æŸäº›æµè§ˆå™¨ä¸æŠ¥é”™ï¼Œä½†æ˜¯æ— æ•ˆæœ</span><br><span class="hljs-variable constant_">PI</span>; <span class="hljs-comment">// 3.14</span><br></code></pre></td></tr></table></figure><h2 id="4-4-æ–¹æ³•"><a href="#4-4-æ–¹æ³•" class="headerlink" title="4.4 æ–¹æ³•"></a>4.4 æ–¹æ³•</h2><blockquote><p><strong>å®šä¹‰æ–¹æ³•</strong></p></blockquote><p>æ–¹æ³•å°±æ˜¯æŠŠå‡½æ•°æ”¾åœ¨å¯¹è±¡çš„é‡Œé¢ï¼Œå¯¹è±¡åªæœ‰ä¸¤ä¸ªä¸œè¥¿ï¼šå±æ€§å’Œæ–¹æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> linmuchun = &#123;<br>    name : <span class="hljs-string">&#x27;æ—æ…•æ¤¿&#x27;</span>,<br>    birth : <span class="hljs-number">2002</span>,<br>    <span class="hljs-comment">//æ–¹æ³•</span><br>    age : <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-keyword">var</span> now = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">getFullYear</span>();<br>        <span class="hljs-keyword">return</span> now-<span class="hljs-variable language_">this</span>.<span class="hljs-property">birth</span>;<br>    &#125;<br>&#125;<br><span class="hljs-comment">//å±æ€§</span><br>linmuchun.<span class="hljs-property">name</span><br><span class="hljs-comment">//æ–¹æ³•ï¼Œä¸€å®šè¦å¸¦()</span><br>linmuchun.<span class="hljs-title function_">age</span>()<br></code></pre></td></tr></table></figure><p>thiså…³é”®å­—ï¼šåœ¨ä¸€ä¸ªæ–¹æ³•å†…éƒ¨ï¼Œ this æ˜¯ä¸€ä¸ªç‰¹æ®Šå˜é‡ï¼Œå®ƒå§‹ç»ˆæŒ‡å‘å½“å‰å¯¹è±¡ã€‚</p><p>æ‹†å¼€å†™æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">getAge</span>(<span class="hljs-params"></span>) &#123;<br><span class="hljs-keyword">var</span> y = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">getFullYear</span>();<br><span class="hljs-keyword">return</span> y - <span class="hljs-variable language_">this</span>.<span class="hljs-property">birth</span>;<br>&#125;<br><span class="hljs-keyword">var</span> linmuchun = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;å°æ˜&#x27;</span>,<br>    <span class="hljs-attr">birth</span>: <span class="hljs-number">2002</span>,<br>    <span class="hljs-attr">age</span>: getAge<br>&#125;;<br>xiaoming.<span class="hljs-title function_">age</span>(); <span class="hljs-comment">// 20 æ­£å¸¸ç»“æœ</span><br><span class="hljs-title function_">getAge</span>(); <span class="hljs-comment">// NaN å•ç‹¬è°ƒç”¨å‡½æ•°ï¼Œå‡½æ•°çš„thisæŒ‡å‘å…¨å±€å¯¹è±¡window</span><br></code></pre></td></tr></table></figure><blockquote><p><strong>apply</strong></p></blockquote><p>apply å…³é”®å­—å¯ä»¥æ§åˆ¶ this çš„æŒ‡å‘ï¼Œè¦æŒ‡å®šå‡½æ•°çš„ this æŒ‡å‘å“ªä¸ªå¯¹è±¡ï¼Œå¯ä»¥ç”¨å‡½æ•°æœ¬èº«çš„ apply æ–¹æ³•ï¼Œå®ƒæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å°±æ˜¯éœ€è¦ç»‘å®šçš„ this å˜é‡ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ Array ï¼Œè¡¨ç¤ºå‡½æ•°æœ¬èº«çš„å‚æ•°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">getAge</span>(<span class="hljs-params"></span>) &#123;<br><span class="hljs-keyword">var</span> y = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">getFullYear</span>();<br><span class="hljs-keyword">return</span> y - <span class="hljs-variable language_">this</span>.<span class="hljs-property">birth</span>;<br>&#125;<br><span class="hljs-keyword">var</span> linmuchun = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;å°æ˜&#x27;</span>,<br>    <span class="hljs-attr">birth</span>: <span class="hljs-number">2002</span>,<br>    <span class="hljs-attr">age</span>: getAge<br>&#125;;<br>getAge.<span class="hljs-title function_">apply</span>(linmuchun,[]);  <span class="hljs-comment">//thisæŒ‡å‘äº†linmuchunï¼Œå‚æ•°ä¸ºç©º</span><br></code></pre></td></tr></table></figure><h1 id="5-æ ‡å‡†å¯¹è±¡"><a href="#5-æ ‡å‡†å¯¹è±¡" class="headerlink" title="5.  æ ‡å‡†å¯¹è±¡"></a>5.  æ ‡å‡†å¯¹è±¡</h1><h2 id="5-1-æ ‡å‡†å¯¹è±¡"><a href="#5-1-æ ‡å‡†å¯¹è±¡" class="headerlink" title="5.1 æ ‡å‡†å¯¹è±¡"></a>5.1 æ ‡å‡†å¯¹è±¡</h2><p>åœ¨JavaScriptçš„ä¸–ç•Œé‡Œï¼Œä¸€åˆ‡éƒ½æ˜¯å¯¹è±¡ã€‚ä½†æ˜¯æŸäº›å¯¹è±¡è¿˜æ˜¯å’Œå…¶ä»–å¯¹è±¡ä¸å¤ªä¸€æ ·ã€‚ä¸ºäº†åŒºåˆ†å¯¹è±¡çš„ç±»å‹ï¼Œæˆ‘ä»¬ç”¨ typeof æ“ä½œç¬¦è·å–å¯¹è±¡çš„ç±»å‹ï¼Œå®ƒæ€»æ˜¯è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">typeof</span> <span class="hljs-number">123</span>; <span class="hljs-comment">// &#x27;number&#x27;</span><br><span class="hljs-keyword">typeof</span> <span class="hljs-title class_">NaN</span>; <span class="hljs-comment">// &#x27;number&#x27;</span><br><span class="hljs-keyword">typeof</span> <span class="hljs-string">&#x27;str&#x27;</span>; <span class="hljs-comment">// &#x27;string&#x27;</span><br><span class="hljs-keyword">typeof</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// &#x27;boolean&#x27;</span><br><span class="hljs-keyword">typeof</span> <span class="hljs-literal">undefined</span>; <span class="hljs-comment">// &#x27;undefined&#x27;</span><br><span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Math</span>.<span class="hljs-property">abs</span>; <span class="hljs-comment">// &#x27;function&#x27;</span><br><span class="hljs-keyword">typeof</span> <span class="hljs-literal">null</span>; <span class="hljs-comment">// &#x27;object&#x27;</span><br><span class="hljs-keyword">typeof</span> []; <span class="hljs-comment">// &#x27;object&#x27;</span><br><span class="hljs-keyword">typeof</span> &#123;&#125;; <span class="hljs-comment">// &#x27;object&#x27;</span><br></code></pre></td></tr></table></figure><h2 id="5-2-Date"><a href="#5-2-Date" class="headerlink" title="5.2 Date"></a>5.2 Date</h2><p>åœ¨JavaScriptä¸­ï¼ŒDate å¯¹è±¡ç”¨æ¥è¡¨ç¤ºæ—¥æœŸå’Œæ—¶é—´ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> now = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();<br>now; <span class="hljs-comment">// Thu Sep 15 2022 18:53:40 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)</span><br>now.<span class="hljs-title function_">getFullYear</span>(); <span class="hljs-comment">// 2022 å¹´ä»½</span><br>now.<span class="hljs-title function_">getMonth</span>(); <span class="hljs-comment">// 8 æœˆä»½ æ³¨æ„æœˆä»½èŒƒå›´æ˜¯0~11 8ä»£è¡¨9æœˆ</span><br>now.<span class="hljs-title function_">getDate</span>(); <span class="hljs-comment">// 15 è¡¨ç¤º15å·</span><br>now.<span class="hljs-title function_">getDay</span>(); <span class="hljs-comment">// 4 è¡¨ç¤ºæ˜ŸæœŸå››</span><br>now.<span class="hljs-title function_">getHours</span>(); <span class="hljs-comment">// 18 24å°æ—¶åˆ¶</span><br>now.<span class="hljs-title function_">getMinutes</span>(); <span class="hljs-comment">// 53 åˆ†é’Ÿ</span><br>now.<span class="hljs-title function_">getSeconds</span>(); <span class="hljs-comment">// 40 ç§’</span><br>now.<span class="hljs-title function_">getMilliseconds</span>(); <span class="hljs-comment">// 844 æ¯«ç§’æ•°</span><br>now.<span class="hljs-title function_">getTime</span>(); <span class="hljs-comment">// 1663239220844 ä»¥numberå½¢å¼è¡¨ç¤ºçš„æ—¶é—´æˆ³</span><br></code></pre></td></tr></table></figure><p><strong>æ—¶åŒº</strong></p><p>Date å¯¹è±¡è¡¨ç¤ºçš„æ—¶é—´æ€»æ˜¯æŒ‰æµè§ˆå™¨æ‰€åœ¨æ—¶åŒºæ˜¾ç¤ºçš„ï¼Œä¸è¿‡æˆ‘ä»¬æ—¢å¯ä»¥æ˜¾ç¤ºæœ¬åœ°æ—¶é—´ï¼Œä¹Ÿå¯ä»¥æ˜¾ç¤ºè°ƒæ•´åçš„UTCæ—¶é—´ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> d = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-number">1663239220844</span>);<br>d.<span class="hljs-title function_">toLocaleString</span>(); <span class="hljs-comment">// &#x27;2022/9/15 18:53:40&#x27; æ˜¾ç¤ºçš„å­—ç¬¦ä¸²ä¸æ“ä½œç³»ç»Ÿè®¾å®šçš„æ ¼å¼æœ‰å…³</span><br>d.<span class="hljs-title function_">toUTCString</span>(); <span class="hljs-comment">// &#x27;Thu, 15 Sep 2022 10:53:40 GMT&#x27; UTCæ—¶é—´ä¸æœ¬åœ°æ—¶é—´ç›¸å·®8å°æ—¶</span><br></code></pre></td></tr></table></figure><p>JavaScriptæ—¶åŒºè½¬æ¢ï¼šåªè¦ä¼ é€’çš„æ˜¯ä¸€ä¸ª number ç±»å‹çš„æ—¶é—´æˆ³ï¼Œå°±ä¸ç”¨å…³å¿ƒæ—¶åŒºè½¬æ¢ã€‚ä»»ä½•æµè§ˆå™¨éƒ½å¯ä»¥æŠŠä¸€ä¸ªæ—¶é—´æˆ³æ­£ç¡®è½¬æ¢ä¸ºæœ¬åœ°æ—¶é—´ã€‚</p><h2 id="5-3-JSON"><a href="#5-3-JSON" class="headerlink" title="5.3 JSON"></a>5.3 JSON</h2><blockquote><p>JSONï¼ˆ<a href="https://baike.baidu.com/item/JavaScript?fromModule=lemma_inlink">JavaScript</a> Object Notation, JSå¯¹è±¡ç®€è°±ï¼‰æ˜¯ä¸€ç§è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼ã€‚å®ƒåŸºäº <a href="https://baike.baidu.com/item/ECMAScript?fromModule=lemma_inlink">ECMAScript</a>ï¼ˆEuropean Computer Manufacturers Association, æ¬§æ´²è®¡ç®—æœºåä¼šåˆ¶å®šçš„jsè§„èŒƒï¼‰çš„ä¸€ä¸ªå­é›†ï¼Œé‡‡ç”¨å®Œå…¨ç‹¬ç«‹äºç¼–ç¨‹è¯­è¨€çš„æ–‡æœ¬æ ¼å¼æ¥å­˜å‚¨å’Œè¡¨ç¤ºæ•°æ®ã€‚ç®€æ´å’Œæ¸…æ™°çš„å±‚æ¬¡ç»“æ„ä½¿å¾— JSON æˆä¸ºç†æƒ³çš„æ•°æ®äº¤æ¢è¯­è¨€ã€‚ æ˜“äºäººé˜…è¯»å’Œç¼–å†™ï¼ŒåŒæ—¶ä¹Ÿæ˜“äºæœºå™¨è§£æå’Œç”Ÿæˆï¼Œå¹¶æœ‰æ•ˆåœ°æå‡ç½‘ç»œä¼ è¾“æ•ˆç‡ã€‚</p></blockquote><p>åœ¨ JavaScript è¯­è¨€ä¸­ï¼Œä¸€åˆ‡éƒ½æ˜¯å¯¹è±¡ã€‚å› æ­¤ä»»ä½•JavaScript æ”¯æŒçš„ç±»å‹éƒ½å¯ä»¥é€šè¿‡ JSON æ¥è¡¨ç¤ºï¼Œä¾‹å¦‚å­—ç¬¦ä¸²ã€æ•°å­—ã€å¯¹è±¡ã€æ•°ç»„ç­‰ã€‚</p><p>è¯­æ³•æ ¼å¼ï¼š</p><ul><li><p>å¯¹è±¡éƒ½ç”¨ {}</p></li><li><p>æ•°ç»„éƒ½ç”¨ []</p></li><li><p>å¯¹è±¡è¡¨ç¤ºä¸ºé”®å€¼å¯¹ï¼Œæ•°æ®ç”±é€—å·åˆ†éš”</p></li></ul><p>JSON é”®å€¼å¯¹æ˜¯ç”¨æ¥ä¿å­˜ JavaScript å¯¹è±¡çš„ä¸€ç§æ–¹å¼ï¼Œå’Œ JavaScript å¯¹è±¡çš„å†™æ³•ä¹Ÿå¤§åŒå°å¼‚ï¼Œé”®/å€¼å¯¹ç»„åˆä¸­çš„é”®åå†™åœ¨å‰é¢å¹¶ç”¨åŒå¼•å· â€œâ€ åŒ…è£¹ï¼Œä½¿ç”¨å†’å· : åˆ†éš”ï¼Œç„¶åç´§æ¥ç€å€¼ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;linmuchun&quot;</span><span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#123;</span><span class="hljs-attr">&quot;age&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;18&quot;</span><span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#123;</span><span class="hljs-attr">&quot;sex&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;å¥³&quot;</span><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p> JSON å’Œ JavaScript å¯¹è±¡çš„å…³ç³»å¯ä»¥è¿™ä¹ˆç†è§£ï¼šJSON æ˜¯ JavaScript å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºæ³•ï¼Œå®ƒä½¿ç”¨æ–‡æœ¬è¡¨ç¤ºä¸€ä¸ª JS å¯¹è±¡çš„ä¿¡æ¯ï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> obj = &#123;<span class="hljs-attr">a</span>: <span class="hljs-string">&#x27;Hello&#x27;</span>, <span class="hljs-attr">b</span>: <span class="hljs-string">&#x27;World&#x27;</span>&#125;; <span class="hljs-comment">//è¿™æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ³¨æ„é”®åä¹Ÿæ˜¯å¯ä»¥ä½¿ç”¨å¼•å·åŒ…è£¹çš„</span><br><span class="hljs-keyword">var</span> json = <span class="hljs-string">&#x27;&#123;&quot;a&quot;: &quot;Hello&quot;, &quot;b&quot;: &quot;World&quot;&#125;&#x27;</span>; <span class="hljs-comment">//è¿™æ˜¯ä¸€ä¸ª JSON å­—ç¬¦ä¸²ï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²</span><br></code></pre></td></tr></table></figure><p>JSON å­—ç¬¦ä¸²å’Œ JavaScript å¯¹è±¡äº’è½¬ï¼š</p><ul><li><p>è¦å®ç°ä»JSONå­—ç¬¦ä¸²è½¬æ¢ä¸ºJavaScript å¯¹è±¡ï¼Œä½¿ç”¨ JSON.parse() æ–¹æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> obj = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-string">&#x27;&#123;&quot;a&quot;: &quot;Hello&quot;, &quot;b&quot;: &quot;World&quot;&#125;&#x27;</span>);<br><span class="hljs-comment">//ç»“æœæ˜¯ &#123;a: &#x27;Hello&#x27;, b: &#x27;World&#x27;&#125;</span><br></code></pre></td></tr></table></figure></li><li><p>è¦å®ç°ä»JavaScript å¯¹è±¡è½¬æ¢ä¸ºJSONå­—ç¬¦ä¸²ï¼Œä½¿ç”¨ JSON.stringify() æ–¹æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> json = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(&#123;<span class="hljs-attr">a</span>: <span class="hljs-string">&#x27;Hello&#x27;</span>, <span class="hljs-attr">b</span>: <span class="hljs-string">&#x27;World&#x27;</span>&#125;);<br><span class="hljs-comment">//ç»“æœæ˜¯ &#x27;&#123;&quot;a&quot;: &quot;Hello&quot;, &quot;b&quot;: &quot;World&quot;&#125;&#x27;</span><br></code></pre></td></tr></table></figure></li></ul><p><strong>ä»£ç æµ‹è¯•ï¼š</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--scriptæ ‡ç­¾å†…å†™JavaScriptä»£ç --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"><span class="hljs-meta"></span></span><br><span class="hljs-meta"><span class="language-javascript">        &#x27;use strict&#x27;</span>;</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> user = &#123;</span><br><span class="language-javascript">            name : <span class="hljs-string">&quot;æ—æ…•æ¤¿&quot;</span>,</span><br><span class="language-javascript">            age : <span class="hljs-number">18</span>,</span><br><span class="language-javascript">            sex : <span class="hljs-string">&#x27;å¥³&#x27;</span></span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(user);</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// å¯¹è±¡è½¬æ¢ä¸ºjsonå­—ç¬¦ä¸²</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> jsonUser = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(user);</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(jsonUser);</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// jsonå­—ç¬¦ä¸²è½¬æ¢ä¸ºå¯¹è±¡ å‚æ•°ä¸ºjsonå­—ç¬¦ä¸²</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> obj = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-string">&#x27;&#123;&quot;name&quot;:&quot;æ—æ…•æ¤¿&quot;,&quot;age&quot;:&quot;18&quot;,&quot;sex&quot;:&quot;å¥³&quot;&#125;&#x27;</span>);</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h1 id="6-é¢å‘å¯¹è±¡ç¼–ç¨‹"><a href="#6-é¢å‘å¯¹è±¡ç¼–ç¨‹" class="headerlink" title="6. é¢å‘å¯¹è±¡ç¼–ç¨‹"></a>6. é¢å‘å¯¹è±¡ç¼–ç¨‹</h1><h2 id="6-1-é¢å‘å¯¹è±¡ç¼–ç¨‹"><a href="#6-1-é¢å‘å¯¹è±¡ç¼–ç¨‹" class="headerlink" title="6.1 é¢å‘å¯¹è±¡ç¼–ç¨‹"></a><strong>6.1 é¢å‘å¯¹è±¡ç¼–ç¨‹</strong></h2><p>JavaScriptçš„é¢å‘å¯¹è±¡ç¼–ç¨‹å’Œå¤§å¤šæ•°å…¶ä»–è¯­è¨€å¦‚Javaã€C#çš„é¢å‘å¯¹è±¡ç¼–ç¨‹éƒ½ä¸å¤ªä¸€æ ·ã€‚Javaé¢å‘å¯¹è±¡çš„ä¸¤ä¸ªåŸºæœ¬æ¦‚å¿µï¼š</p><ol><li>ç±»ï¼šç±»æ˜¯å¯¹è±¡çš„ç±»å‹æ¨¡æ¿ï¼Œä¾‹å¦‚ï¼Œå®šä¹‰ Student ç±»æ¥è¡¨ç¤ºå­¦ç”Ÿï¼Œç±»æœ¬èº«æ˜¯ä¸€ç§ç±»å‹ï¼ŒStudent è¡¨ç¤ºå­¦ç”Ÿç±»å‹ï¼Œä½†ä¸è¡¨ç¤ºä»»ä½•å…·ä½“çš„æŸä¸ªå­¦ç”Ÿã€‚</li><li>å®ä¾‹ï¼šå®ä¾‹æ˜¯æ ¹æ®ç±»åˆ›å»ºçš„å¯¹è±¡ï¼Œä¾‹å¦‚ï¼Œæ ¹æ® Student ç±»å¯ä»¥åˆ›å»ºå‡º student1ã€student2ã€student3 ç­‰å¤šä¸ªå®ä¾‹ï¼Œæ¯ä¸ªå®ä¾‹è¡¨ç¤ºä¸€ä¸ªå…·ä½“çš„å­¦ç”Ÿï¼Œä»–ä»¬å…¨éƒ½å±äºStudent ç±»å‹ã€‚</li></ol><h2 id="6-2-åŸå‹ç»§æ‰¿"><a href="#6-2-åŸå‹ç»§æ‰¿" class="headerlink" title="6.2 åŸå‹ç»§æ‰¿"></a>6.2 åŸå‹ç»§æ‰¿</h2><p>ç±»å’Œå®ä¾‹æ˜¯å¤§å¤šæ•°é¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€çš„åŸºæœ¬æ¦‚å¿µã€‚ä¸è¿‡ï¼Œåœ¨JavaScriptä¸­è¿™ä¸ªæ¦‚å¿µæœ‰æ‰€ä¸åŒã€‚JavaScriptä¸åŒºåˆ†ç±»å’Œå®ä¾‹çš„æ¦‚å¿µï¼Œè€Œæ˜¯é€šè¿‡åŸå‹ï¼ˆprototypeï¼‰æ¥å®ç°é¢å‘å¯¹è±¡ç¼–ç¨‹ã€‚</p><p>åˆ›å»ºå¯¹è±¡ Student ï¼Œç„¶ååˆ›å»ºå‡º xiaomingï¼ŒæŠŠ xiaoming çš„åŸå‹æŒ‡å‘äº†å¯¹è±¡ Student ï¼ˆç±»ä¼¼äºJavaä¸­çš„ç»§æ‰¿ï¼‰ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> <span class="hljs-title class_">Student</span> = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Robot&#x27;</span>,<br>    <span class="hljs-attr">height</span>: <span class="hljs-number">1.2</span>,<br>    <span class="hljs-attr">run</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> + <span class="hljs-string">&#x27; is running...&#x27;</span>);<br>    &#125;<br>&#125;;<br><span class="hljs-keyword">var</span> xiaoming = &#123;<br><span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;å°æ˜&#x27;</span><br>&#125;;<br>xiaoming.<span class="hljs-property">__proto__</span> = <span class="hljs-title class_">Student</span>;<br></code></pre></td></tr></table></figure><p>xiaoming æœ‰è‡ªå·±çš„ name å±æ€§ï¼Œä½†å¹¶æ²¡æœ‰å®šä¹‰ run() æ–¹æ³•ã€‚ä¸è¿‡ï¼Œç”±äºå°æ˜æ˜¯ä» Studentç»§æ‰¿è€Œæ¥ï¼Œåªè¦ Student æœ‰ run() æ–¹æ³•ï¼Œ xiaoming ä¹Ÿå¯ä»¥è°ƒç”¨ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js">xiaoming.<span class="hljs-property">name</span>; <span class="hljs-comment">// &#x27;å°æ˜&#x27;</span><br>xiaoming.<span class="hljs-title function_">run</span>(); <span class="hljs-comment">// å°æ˜ is running...</span><br></code></pre></td></tr></table></figure><p>JavaScriptçš„åŸå‹é“¾å’ŒJavaçš„ClassåŒºåˆ«å°±åœ¨ï¼Œå®ƒæ²¡æœ‰â€œClassâ€çš„æ¦‚å¿µï¼Œæ‰€æœ‰å¯¹è±¡éƒ½æ˜¯å®ä¾‹ï¼Œæ‰€è°“ç»§æ‰¿å…³ç³»ä¸è¿‡æ˜¯æŠŠä¸€ä¸ªå¯¹è±¡çš„åŸå‹æŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡è€Œå·²ã€‚</p><h2 id="6-3-classç»§æ‰¿"><a href="#6-3-classç»§æ‰¿" class="headerlink" title="6.3 classç»§æ‰¿"></a><strong>6.3 classç»§æ‰¿</strong></h2><p>æ–°çš„å…³é”®å­— class ä»ES6å¼€å§‹æ­£å¼è¢«å¼•å…¥åˆ°JavaScriptä¸­ã€‚ class çš„ç›®çš„å°±æ˜¯è®©å®šä¹‰ç±»æ›´ç®€å•ã€‚</p><p>ç”¨å‡½æ•°å®ç° Student çš„æ–¹æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Student</span>(<span class="hljs-params">name</span>) &#123;<br><span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>&#125;<br><span class="hljs-comment">// ç»™Studentæ–°å¢ä¸€ä¸ªæ–¹æ³•</span><br><span class="hljs-title class_">Student</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">hello</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br><span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;Hello, &#x27;</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> + <span class="hljs-string">&#x27;!&#x27;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>å¦‚æœç”¨æ–°çš„ class å…³é”®å­—æ¥ç¼–å†™ Studentï¼Œå¯ä»¥è¿™æ ·å†™ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> &#123;<br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>    &#125;<br>    <span class="hljs-comment">// ç»™Studentæ–°å¢ä¸€ä¸ªæ–¹æ³•</span><br>    <span class="hljs-title function_">hello</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;Hello, &#x27;</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> + <span class="hljs-string">&#x27;!&#x27;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ¯”è¾ƒä¸€ä¸‹å°±å¯ä»¥å‘ç°ï¼Œclass çš„å®šä¹‰åŒ…å«äº†æ„é€ å‡½æ•° constructor å’Œå®šä¹‰åœ¨åŸå‹å¯¹è±¡ä¸Šçš„å‡½æ•°hello() ï¼ˆæ³¨æ„æ²¡æœ‰ function å…³é”®å­—ï¼‰ï¼Œè¿™æ ·å°±é¿å…äº† Student.prototype.hello = function () {â€¦} è¿™æ ·åˆ†æ•£çš„ä»£ç ã€‚</p><p>åˆ›å»ºä¸€ä¸ª Student å¯¹è±¡ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> xiaoming = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">&#x27;å°æ˜&#x27;</span>);<br>xiaoming.<span class="hljs-title function_">hello</span>();<br></code></pre></td></tr></table></figure><p>ç”¨ class å®šä¹‰å¯¹è±¡çš„å¦ä¸€ä¸ªå·¨å¤§çš„å¥½å¤„æ˜¯ç»§æ‰¿æ›´æ–¹ä¾¿äº†ã€‚æˆ‘ä»¬ä» Student æ´¾ç”Ÿä¸€ä¸ªPrimaryStudent éœ€è¦ç¼–å†™çš„ä»£ç é‡ã€‚ç°åœ¨ï¼ŒåŸå‹ç»§æ‰¿çš„ä¸­é—´å¯¹è±¡ï¼ŒåŸå‹å¯¹è±¡çš„æ„é€ å‡½æ•°ç­‰ç­‰éƒ½ä¸éœ€è¦è€ƒè™‘äº†ï¼Œç›´æ¥é€šè¿‡ extends æ¥å®ç°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">PrimaryStudent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Student</span> &#123;<br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name, grade</span>) &#123;<br>        <span class="hljs-variable language_">super</span>(name); <span class="hljs-comment">// è®°å¾—ç”¨superè°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•!</span><br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">grade</span> = grade;<br>    &#125;<br>    <span class="hljs-title function_">myGrade</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;I am at grade &#x27;</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">grade</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="6-æ“ä½œBOMï¼ˆé‡ç‚¹ï¼‰"><a href="#6-æ“ä½œBOMï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="6. æ“ä½œBOMï¼ˆé‡ç‚¹ï¼‰"></a>6. æ“ä½œBOMï¼ˆé‡ç‚¹ï¼‰</h1><h2 id="6-1-æµè§ˆå™¨"><a href="#6-1-æµè§ˆå™¨" class="headerlink" title="6.1 æµè§ˆå™¨"></a>6.1 æµè§ˆå™¨</h2><p>ç”±äºJavaScriptçš„å‡ºç°å°±æ˜¯ä¸ºäº†èƒ½åœ¨æµè§ˆå™¨ä¸­è¿è¡Œï¼Œæ‰€ä»¥æµè§ˆå™¨è‡ªç„¶æ˜¯JavaScriptå¼€å‘è€…å¿…é¡»è¦å…³æ³¨çš„ã€‚</p><p>ç›®å‰ä¸»æµçš„æµè§ˆå™¨åˆ†è¿™ä¹ˆå‡ ç§ï¼š</p><p>åŸç”Ÿæµè§ˆå™¨ï¼š</p><ul><li><p>IE</p></li><li><p>Chrome</p></li><li><p>Safari</p></li><li><p>Firefox</p></li></ul><p>å¥—å£³æµè§ˆå™¨ï¼š</p><ul><li>QQæµè§ˆå™¨</li><li>360æµè§ˆå™¨</li></ul><h2 id="6-2-BOM"><a href="#6-2-BOM" class="headerlink" title="6.2 BOM"></a>6.2 BOM</h2><p>BOMï¼ˆBrowser Object Modeï¼‰æµè§ˆå™¨å¯¹è±¡æ¨¡å‹ï¼Œæ˜¯Javascriptçš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚å®ƒæä¾›äº†ä¸€ç³»åˆ—å¯¹è±¡ç”¨äºä¸æµè§ˆå™¨çª—å£è¿›è¡Œäº¤äº’ï¼Œè¿™äº›å¯¹è±¡é€šå¸¸ç»Ÿç§°ä¸ºBOMã€‚</p><p>å„å†…ç½®å¯¹è±¡ä¹‹é—´æŒ‰ç…§æŸç§å±‚æ¬¡ç»„ç»‡èµ·æ¥çš„æ¨¡å‹ç»Ÿç§°ä¸ºBomæµè§ˆå™¨å¯¹è±¡æ¨¡å‹</p><p><img src="https://img.yiqiangshiyia.cn/blog/bom.png" alt="bom"></p><h2 id="6-3-window"><a href="#6-3-window" class="headerlink" title="6.3 window"></a>6.3 window</h2><p>window ä»£è¡¨æµè§ˆå™¨çª—å£ï¼Œä¹Ÿå¯ä»¥å……å½“å…¨å±€ä½œç”¨åŸŸã€‚å› ä¸ºwindowå¯¹è±¡æ˜¯Bomä¸­æ‰€æœ‰å¯¹è±¡çš„æ ¸å¿ƒå’Œçˆ¶å¯¹è±¡ï¼Œæ‰€ä»¥å®šä¹‰åœ¨å…¨å±€ä½œç”¨åŸŸä¸­çš„å˜é‡ å‡½æ•°ä»¥åŠ Javascriptä¸­çš„å†…ç½®å‡½æ•°éƒ½å¯ä»¥è¢«windowå¯¹è±¡è°ƒç”¨ã€‚</p><p>window å¯¹è±¡æœ‰ innerWidth å’Œ innerHeight å±æ€§ï¼Œå¯ä»¥è·å–æµè§ˆå™¨çª—å£çš„å†…éƒ¨å®½åº¦å’Œé«˜åº¦ã€‚å†…éƒ¨å®½é«˜æ˜¯æŒ‡é™¤å»èœå•æ ã€å·¥å…·æ ã€è¾¹æ¡†ç­‰å ä½å…ƒç´ åï¼Œç”¨äºæ˜¾ç¤ºç½‘é¡µçš„å‡€å®½é«˜ã€‚è¿˜æœ‰ä¸€ä¸ª outerWidth å’Œ outerHeight å±æ€§ï¼Œå¯ä»¥è·å–æµè§ˆå™¨çª—å£çš„æ•´ä¸ªå®½é«˜ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-meta">&#x27;use strict&#x27;</span>;<br><span class="hljs-comment">// æµè§ˆå™¨çš„å†…éƒ¨é«˜åº¦å’Œå†…éƒ¨å®½åº¦</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>);<br><br><span class="hljs-comment">// æµè§ˆå™¨çš„å¤–éƒ¨é«˜åº¦å’Œå¤–éƒ¨å®½åº¦</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">outerWidth</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">outerHeight</span>);<br></code></pre></td></tr></table></figure><h2 id="6-4-navigator"><a href="#6-4-navigator" class="headerlink" title="6.4 navigator"></a>6.4 navigator</h2><p>navigator å¯¹è±¡è¡¨ç¤ºæµè§ˆå™¨çš„ä¿¡æ¯ï¼Œæœ€å¸¸ç”¨çš„å±æ€§åŒ…æ‹¬ï¼š</p><ul><li><p>navigator.appNameï¼šæµè§ˆå™¨åç§°</p></li><li><p>navigator.appVersionï¼šæµè§ˆå™¨ç‰ˆæœ¬</p></li><li><p>navigator.languageï¼šæµè§ˆå™¨è®¾ç½®çš„è¯­è¨€</p></li><li><p>navigator.platformï¼šæ“ä½œç³»ç»Ÿç±»å‹</p></li><li><p>navigator.userAgentï¼šæµè§ˆå™¨è®¾å®šçš„ User-Agent å­—ç¬¦ä¸²</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-meta">&#x27;use strict&#x27;</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(navigator.<span class="hljs-property">appName</span>);  <span class="hljs-comment">// &#x27;Netscape&#x27;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(navigator.<span class="hljs-property">appVersion</span>);  <span class="hljs-comment">// &#x27;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.0.0 Safari/537.36&#x27;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(navigator.<span class="hljs-property">language</span>);  <span class="hljs-comment">// &#x27;zh-CN&#x27;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(navigator.<span class="hljs-property">platform</span>);  <span class="hljs-comment">// &#x27;Win32&#x27;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(navigator.<span class="hljs-property">userAgent</span>);  <span class="hljs-comment">// &#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.0.0 Safari/537.36&#x27;</span><br></code></pre></td></tr></table></figure><p>å¤§å¤šæ—¶å€™ä¸ä¼šä½¿ç”¨ navigator å¯¹è±¡ï¼Œå› ä¸ºä¼šè¢«äººä¸ºä¿®æ”¹ï¼Œä¸å»ºè®®ä½¿ç”¨è¿™äº›å±æ€§æ¥åˆ¤æ–­å’Œç¼–å†™ä»£ç ã€‚</p><h2 id="6-5-screen"><a href="#6-5-screen" class="headerlink" title="6.5 screen"></a>6.5 screen</h2><p>screen å¯¹è±¡è¡¨ç¤ºå±å¹•çš„ä¿¡æ¯ï¼Œå¸¸ç”¨çš„å±æ€§æœ‰ï¼š</p><ul><li><p>screen.widthï¼šå±å¹•å®½åº¦ï¼Œä»¥åƒç´ ä¸ºå•ä½</p></li><li><p>screen.heightï¼šå±å¹•é«˜åº¦ï¼Œä»¥åƒç´ ä¸ºå•ä½</p></li><li><p>screen.colorDepthï¼šè¿”å›é¢œè‰²ä½æ•°ï¼Œå¦‚8ã€16ã€24ã€‚</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(screen.<span class="hljs-property">width</span>);  <span class="hljs-comment">// 1280</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(screen.<span class="hljs-property">height</span>);  <span class="hljs-comment">// 800</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(screen.<span class="hljs-property">colorDepth</span>);   <span class="hljs-comment">// 24</span><br></code></pre></td></tr></table></figure><h2 id="6-6-location"><a href="#6-6-location" class="headerlink" title="6.6 location"></a>6.6 location</h2><p>location å¯¹è±¡è¡¨ç¤ºå½“å‰é¡µé¢çš„URLä¿¡æ¯ã€‚ä¾‹å¦‚ï¼š<a href="https://www.baidu.com/">https://www.baidu.com/</a></p><p>location ä»£è¡¨å½“å‰é¡µé¢ URL ä¿¡æ¯ï¼š</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220916194325.png" alt="QQæˆªå›¾20220916194325"></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js">location.<span class="hljs-title function_">reload</span>();  <span class="hljs-comment">// åˆ·æ–°ç½‘é¡µ</span><br>location.<span class="hljs-title function_">assign</span>(<span class="hljs-string">&#x27;https://yiqiangshiyia.cn/&#x27;</span>); <span class="hljs-comment">// è®¾ç½®ä¸€ä¸ªæ–°çš„URLåœ°å€</span><br></code></pre></td></tr></table></figure><h2 id="6-7-document"><a href="#6-7-document" class="headerlink" title="6.7 document"></a>6.7 document</h2><p>document å¯¹è±¡è¡¨ç¤ºå½“å‰é¡µé¢ã€‚ç”±äºHTMLåœ¨æµè§ˆå™¨ä¸­ä»¥DOMå½¢å¼è¡¨ç¤ºä¸ºæ ‘å½¢ç»“æ„ï¼Œ document å¯¹è±¡å°±æ˜¯æ•´ä¸ªDOMæ ‘çš„æ ¹èŠ‚ç‚¹ã€‚</p><blockquote><p><strong>title å±æ€§</strong></p></blockquote><p>document çš„ title å±æ€§æ˜¯ä»HTMLæ–‡æ¡£ä¸­è¯»å–çš„ï¼Œä½†æ˜¯å¯ä»¥åŠ¨æ€æ”¹å˜ï¼šè§‚è§ˆå™¨çª—å£æ ‡é¢˜å‘ç”Ÿå˜åŒ–</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">document</span>.<span class="hljs-property">title</span> = <span class="hljs-string">&#x27;ä¸€è…”è¯—æ„å•Š&#x27;</span>;<br></code></pre></td></tr></table></figure><blockquote><p><strong>è·å–å…·ä½“çš„æ–‡æ¡£æ ‘èŠ‚ç‚¹</strong></p></blockquote><p>è¦æŸ¥æ‰¾DOMæ ‘çš„æŸä¸ªèŠ‚ç‚¹ï¼Œéœ€è¦ä» document å¯¹è±¡å¼€å§‹æŸ¥æ‰¾ã€‚æœ€å¸¸ç”¨çš„æŸ¥æ‰¾æ˜¯æ ¹æ®IDå’ŒTag Nameã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">dl</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;code-menu&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;border:solid 1px #ccc;padding:6px;&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dt</span>&gt;</span>Java<span class="hljs-tag">&lt;/<span class="hljs-name">dt</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dd</span>&gt;</span>Spring<span class="hljs-tag">&lt;/<span class="hljs-name">dd</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dt</span>&gt;</span>Python<span class="hljs-tag">&lt;/<span class="hljs-name">dt</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dd</span>&gt;</span>Django<span class="hljs-tag">&lt;/<span class="hljs-name">dd</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dt</span>&gt;</span>Linux<span class="hljs-tag">&lt;/<span class="hljs-name">dt</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dd</span>&gt;</span>Docker<span class="hljs-tag">&lt;/<span class="hljs-name">dd</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dl</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ç”¨ document å¯¹è±¡æä¾›çš„ getElementById() å’Œ getElementsByTagName() å¯ä»¥æŒ‰IDè·å¾—ä¸€ä¸ªDOMèŠ‚ç‚¹å’ŒæŒ‰Tagåç§°è·å¾—ä¸€ç»„DOMèŠ‚ç‚¹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">var</span> <span class="hljs-variable">menu</span> <span class="hljs-operator">=</span> document.getElementById(<span class="hljs-string">&#x27;code-menu&#x27;</span>);<br><span class="hljs-type">var</span> <span class="hljs-variable">drinks</span> <span class="hljs-operator">=</span> document.getElementsByTagName(<span class="hljs-string">&#x27;dt&#x27;</span>);<br><span class="hljs-keyword">var</span> i, s;<br><span class="hljs-keyword">for</span> (i=<span class="hljs-number">0</span>; i&lt;drinks.length; i++) &#123;<br>s = s + drinks[i].innerHTML + <span class="hljs-string">&#x27;,&#x27;</span>;<br>&#125;<br>console.log(s);<br></code></pre></td></tr></table></figure><blockquote><p><strong>cookie å±æ€§</strong></p></blockquote><p>document å¯¹è±¡è¿˜æœ‰ä¸€ä¸ª cookie å±æ€§ï¼Œå¯ä»¥è·å–å½“å‰é¡µé¢çš„Cookieã€‚</p><p>JavaScriptå¯ä»¥é€šè¿‡ document.cookie è¯»å–åˆ°å½“å‰é¡µé¢çš„Cookieï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">document</span>.<span class="hljs-property">cookie</span>; <span class="hljs-comment">// &#x27;v=123; remember=true; prefer=zh&#x27;</span><br></code></pre></td></tr></table></figure><p>ç”±äºJavaScriptèƒ½è¯»å–åˆ°é¡µé¢çš„Cookieï¼Œè€Œç”¨æˆ·çš„ç™»å½•ä¿¡æ¯é€šå¸¸ä¹Ÿå­˜åœ¨Cookieä¸­ï¼Œè¿™å°±é€ æˆäº†å·¨å¤§çš„å®‰å…¨éšæ‚£ï¼Œè¿™æ˜¯å› ä¸ºåœ¨HTMLé¡µé¢ä¸­å¼•å…¥ç¬¬ä¸‰æ–¹çš„JavaScriptä»£ç æ˜¯å…è®¸çš„ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!--www.example.com--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;http://www.foo.com/jquery.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>    ...<br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å¦‚æœå¼•å…¥çš„ç¬¬ä¸‰æ–¹çš„JavaScriptä¸­å­˜åœ¨æ¶æ„ä»£ç ï¼Œåˆ™ <a href="http://www.foo.com/">www.foo.com</a> ç½‘ç«™å°†ç›´æ¥è·å–åˆ° <a href="http://www.example.com/">www.example.com</a> ç½‘ç«™çš„ç”¨æˆ·ç™»å½•ä¿¡æ¯ã€‚</p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒæœåŠ¡å™¨åœ¨è®¾ç½®Cookieæ—¶å¯ä»¥ä½¿ç”¨ httpOnly ï¼Œè®¾å®šäº† httpOnly çš„Cookieå°†ä¸èƒ½è¢«JavaScriptè¯»å–ã€‚è¿™ä¸ªè¡Œä¸ºç”±æµè§ˆå™¨å®ç°ï¼Œä¸»æµæµè§ˆå™¨å‡æ”¯æŒ httpOnly é€‰é¡¹ï¼ŒIEä»IE6 SP1å¼€å§‹æ”¯æŒã€‚</p><p>ä¸ºäº†ç¡®ä¿å®‰å…¨ï¼ŒæœåŠ¡å™¨ç«¯åœ¨è®¾ç½®Cookieæ—¶ï¼Œåº”è¯¥å§‹ç»ˆåšæŒä½¿ç”¨ httpOnly ã€‚</p><h2 id="6-8-history"><a href="#6-8-history" class="headerlink" title="6.8 history"></a>6.8 history</h2><p>history å¯¹è±¡ä¿å­˜äº†æµè§ˆå™¨çš„å†å²è®°å½•ï¼ŒJavaScriptå¯ä»¥è°ƒç”¨ history å¯¹è±¡çš„ back() æˆ– forward () ï¼Œç›¸å½“äºç”¨æˆ·ç‚¹å‡»äº†æµè§ˆå™¨çš„â€œåé€€â€æˆ–â€œå‰è¿›â€æŒ‰é’®ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js">history.<span class="hljs-title function_">back</span>();  <span class="hljs-comment">// åé€€</span><br>history.<span class="hljs-title function_">forward</span>();  <span class="hljs-comment">// å‰è¿›</span><br></code></pre></td></tr></table></figure><h1 id="7-æ“ä½œDOMï¼ˆé‡ç‚¹ï¼‰"><a href="#7-æ“ä½œDOMï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="7. æ“ä½œDOMï¼ˆé‡ç‚¹ï¼‰"></a>7. æ“ä½œDOMï¼ˆé‡ç‚¹ï¼‰</h1><h2 id="7-1-DOM"><a href="#7-1-DOM" class="headerlink" title="7.1 DOM"></a>7.1 DOM</h2><blockquote><p>æ–‡æ¡£å¯¹è±¡æ¨¡å‹DOMï¼ˆDocument Object Modelï¼‰å®šä¹‰è®¿é—®å’Œå¤„ç†HTMLæ–‡æ¡£çš„æ ‡å‡†æ–¹æ³•ã€‚DOM å°†HTMLæ–‡æ¡£å‘ˆç°ä¸ºå¸¦æœ‰å…ƒç´ ã€å±æ€§å’Œæ–‡æœ¬çš„æ ‘ç»“æ„ï¼ˆèŠ‚ç‚¹æ ‘ï¼‰ã€‚</p></blockquote><p>å…ˆæ¥çœ‹çœ‹ä¸‹é¢ä»£ç ï¼š</p><p><img src="https://img.yiqiangshiyia.cn/blog/dom1.jpg" alt="dom1"></p><p>å°†HTMLä»£ç åˆ†è§£ä¸ºDOMèŠ‚ç‚¹å±‚æ¬¡å›¾ï¼š</p><p><img src="https://img.yiqiangshiyia.cn/blog/dom2.jpg" alt="dom2"></p><p>ç”±äºHTMLæ–‡æ¡£è¢«æµè§ˆå™¨è§£æåå°±æ˜¯ä¸€æ£µDOMæ ‘ï¼Œè¦æ”¹å˜HTMLçš„ç»“æ„ï¼Œå°±éœ€è¦é€šè¿‡JavaScriptæ¥æ“ä½œDOMã€‚DOMæ˜¯ä¸€ä¸ªæ ‘å½¢ç»“æ„ã€‚æ“ä½œä¸€ä¸ªDOMèŠ‚ç‚¹æœ‰ä»¥ä¸‹å‡ ä¸ªæ“ä½œï¼š</p><ul><li><p>æ›´æ–°ï¼šæ›´æ–°è¯¥DOMèŠ‚ç‚¹çš„å†…å®¹ï¼Œç›¸å½“äºæ›´æ–°äº†è¯¥DOMèŠ‚ç‚¹è¡¨ç¤ºçš„HTMLçš„å†…å®¹</p></li><li><p>éå†ï¼šéå†è¯¥DOMèŠ‚ç‚¹ä¸‹çš„å­èŠ‚ç‚¹ï¼Œä»¥ä¾¿è¿›è¡Œè¿›ä¸€æ­¥æ“ä½œ</p></li><li><p>æ·»åŠ ï¼šåœ¨è¯¥DOMèŠ‚ç‚¹ä¸‹æ–°å¢ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œç›¸å½“äºåŠ¨æ€å¢åŠ äº†ä¸€ä¸ªHTMLèŠ‚ç‚¹</p></li><li><p>åˆ é™¤ï¼šå°†è¯¥èŠ‚ç‚¹ä»HTMLä¸­åˆ é™¤ï¼Œç›¸å½“äºåˆ æ‰äº†è¯¥DOMèŠ‚ç‚¹çš„å†…å®¹ä»¥åŠå®ƒåŒ…å«çš„æ‰€æœ‰å­èŠ‚ç‚¹</p></li></ul><h2 id="7-2-è·å–DOM"><a href="#7-2-è·å–DOM" class="headerlink" title="7.2 è·å–DOM"></a>7.2 è·å–DOM</h2><p>åœ¨æ“ä½œä¸€ä¸ªDOMèŠ‚ç‚¹å‰ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡å„ç§æ–¹å¼å…ˆæ‹¿åˆ°è¿™ä¸ªDOMèŠ‚ç‚¹ã€‚æœ€å¸¸ç”¨çš„æ–¹æ³•æ˜¯ document.getElementById() å’Œ document.getElementsByTagName() ï¼Œä»¥åŠCSSé€‰æ‹©å™¨document.getElementsByClassName() ã€‚</p><p>è¦æ“ä½œä¸€ä¸ªDOMèŠ‚ç‚¹ï¼Œå°±å¿…é¡»é¦–å…ˆè·å¾—è¿™ä¸ªDOMèŠ‚ç‚¹ï¼š</p><p>è·å–DOMèŠ‚ç‚¹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;father&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;p1&quot;</span>&gt;</span>p1<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;p2&quot;</span>&gt;</span>p2<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">//å¯¹åº”cssé€‰æ‹©å™¨</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> h1 = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementsByTagName</span>(<span class="hljs-string">&quot;h1&quot;</span>);</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> p1 = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;p1&quot;</span>);</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> p2 = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementsByClassName</span>(<span class="hljs-string">&quot;p2&quot;</span>);</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> father = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;father&quot;</span>);  <span class="hljs-comment">//è·å–çˆ¶èŠ‚ç‚¹</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> children = father.<span class="hljs-property">children</span>;  <span class="hljs-comment">//è·å–çˆ¶èŠ‚ç‚¹ä¸‹çš„æ‰€æœ‰å­èŠ‚ç‚¹</span></span><br><span class="language-javascript">        father.<span class="hljs-property">firstChild</span>;</span><br><span class="language-javascript">        father.<span class="hljs-property">lastChild</span>;</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>åŸç”ŸJSä»£ç ï¼Œåé¢å°½é‡ä½¿ç”¨ jQuery()</p><h2 id="7-3-æ›´æ–°DOM"><a href="#7-3-æ›´æ–°DOM" class="headerlink" title="7.3 æ›´æ–°DOM"></a>7.3 æ›´æ–°DOM</h2><p>æ‹¿åˆ°ä¸€ä¸ªDOMèŠ‚ç‚¹åï¼Œæˆ‘ä»¬å¯ä»¥å¯¹å®ƒè¿›è¡Œæ›´æ–°ã€‚å¯ä»¥åˆ©ç”¨ JS åŠ¨æ€çš„æ“ä½œç½‘é¡µã€‚</p><p><strong>æ“ä½œæ–‡æœ¬ï¼š</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;id1&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> id1 = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;id1&quot;</span>);</span><br><span class="language-javascript">        <span class="hljs-comment">//æ“ä½œæ–‡æœ¬</span></span><br><span class="language-javascript">        id1.<span class="hljs-property">innerText</span> = <span class="hljs-string">&#x27;456&#x27;</span>;  <span class="hljs-comment">//ä¿®æ”¹æ–‡æœ¬çš„å€¼</span></span><br><span class="language-javascript">        id1.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">&#x27;&lt;strong&gt;123&lt;/strong&gt;&#x27;</span>;  <span class="hljs-comment">//å¯ä»¥è§£æHTMLæ–‡æœ¬æ ‡ç­¾</span></span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>æ“ä½œcssï¼š</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;id1&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> id1 = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;id1&quot;</span>);</span><br><span class="language-javascript">        id1.<span class="hljs-property">innerText</span> = <span class="hljs-string">&#x27;abc&#x27;</span>;</span><br><span class="language-javascript">        <span class="hljs-comment">//æ“ä½œcss</span></span><br><span class="language-javascript">        id1.<span class="hljs-property">style</span>.<span class="hljs-property">color</span> = <span class="hljs-string">&#x27;red&#x27;</span>;</span><br><span class="language-javascript">        id1.<span class="hljs-property">style</span>.<span class="hljs-property">fontSize</span> = <span class="hljs-string">&#x27;20px&#x27;</span>;</span><br><span class="language-javascript">        id1.<span class="hljs-property">style</span>.<span class="hljs-property">padding</span> = <span class="hljs-string">&#x27;2em&#x27;</span>;</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="7-4-æ’å…¥DOM"><a href="#7-4-æ’å…¥DOM" class="headerlink" title="7.4 æ’å…¥DOM"></a>7.4 æ’å…¥DOM</h2><p>æˆ‘ä»¬è·å¾—äº†æŸä¸ªDOMèŠ‚ç‚¹ï¼Œå‡è®¾è¿™ä¸ªèŠ‚ç‚¹æ˜¯ç©ºçš„ï¼Œé€šè¿‡ innerHTML å°±å¯ä»¥å¢åŠ ä¸€ä¸ªå…ƒç´ ï¼Œä½†æ˜¯è¿™ä¸ªDOMèŠ‚ç‚¹ä»¥åŠå­˜åœ¨å…ƒç´ å°±ä¼šäº§ç”Ÿè¦†ç›–ã€‚</p><blockquote><p><strong>appendChild</strong></p></blockquote><p>æ’å…¥æ–°çš„èŠ‚ç‚¹ï¼šä½¿ç”¨ appendChildï¼ŒæŠŠä¸€ä¸ªå­èŠ‚ç‚¹æ·»åŠ åˆ°çˆ¶èŠ‚ç‚¹çš„æœ€åä¸€ä¸ªå­èŠ‚ç‚¹ã€‚æ’å…¥çš„ js èŠ‚ç‚¹å·²ç»å­˜åœ¨äºå½“å‰çš„æ–‡æ¡£æ ‘ï¼Œå› æ­¤è¿™ä¸ªèŠ‚ç‚¹é¦–å…ˆä¼šä»åŸå…ˆçš„ä½ç½®åˆ é™¤ï¼Œå†æ’å…¥åˆ°æ–°çš„ä½ç½®ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;js&quot;</span>&gt;</span>JavaScript<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;list&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;javase&quot;</span>&gt;</span>JavaSE<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;javaee&quot;</span>&gt;</span>JavaEE<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;javame&quot;</span>&gt;</span>JavaME<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> js = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;js&quot;</span>);  <span class="hljs-comment">//å·²ç»å­˜åœ¨çš„èŠ‚ç‚¹</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> list = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;list&quot;</span>);</span><br><span class="language-javascript">        list.<span class="hljs-title function_">appendChild</span>(js);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>åˆ›å»ºä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ï¼Œç„¶åæ’å…¥åˆ°æŒ‡å®šä½ç½®ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;js&quot;</span>&gt;</span>JavaScript<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;list&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;javase&quot;</span>&gt;</span>JavaSE<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;javaee&quot;</span>&gt;</span>JavaEE<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;javame&quot;</span>&gt;</span>JavaME<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> list = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;list&quot;</span>);</span><br><span class="language-javascript">        <span class="hljs-comment">//é€šè¿‡jsåˆ›å»ºä¸€ä¸ªæ–°çš„èŠ‚ç‚¹</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> newP = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;p&#x27;</span>);  <span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªpæ ‡ç­¾</span></span><br><span class="language-javascript">        newP.<span class="hljs-property">id</span> = <span class="hljs-string">&#x27;newP&#x27;</span>;</span><br><span class="language-javascript">        newP.<span class="hljs-property">innerText</span> = <span class="hljs-string">&quot;Hello World!&quot;</span>;  &lt;!--ç­‰ä»·äº&lt;p id=<span class="hljs-string">&quot;newP&quot;</span>&gt;<span class="hljs-title class_">Hello</span> <span class="hljs-title class_">World</span>!&lt;/p&gt;--&gt;</span><br><span class="language-javascript">        list.<span class="hljs-title function_">appendChild</span>(newP);  <span class="hljs-comment">//è¿½åŠ èŠ‚ç‚¹</span></span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>åŠ¨æ€åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹ç„¶åæ·»åŠ åˆ°DOMæ ‘ä¸­ï¼Œå¯ä»¥å®ç°å¾ˆå¤šåŠŸèƒ½ã€‚</p><p>ä¾‹å¦‚ï¼šåˆ›å»ºäº†ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç„¶åæŠŠå®ƒæ·»åŠ åˆ°èŠ‚ç‚¹çš„æœ«å°¾ï¼Œè¿™æ ·å°±åŠ¨æ€åœ°ç»™æ–‡æ¡£æ·»åŠ äº†æ–°çš„CSSå®šä¹‰ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> myStyle = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;style&#x27;</span>);<br>myStyle.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&#x27;type&#x27;</span>, <span class="hljs-string">&#x27;text/css&#x27;</span>);<br>myStyle.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">&#x27;p &#123; color: red &#125;&#x27;</span>;<br><span class="hljs-comment">//head å¤´éƒ¨æ ‡ç­¾</span><br><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementsByTagName</span>(<span class="hljs-string">&#x27;head&#x27;</span>)[<span class="hljs-number">0</span>].<span class="hljs-title function_">appendChild</span>(d);<br></code></pre></td></tr></table></figure><blockquote><p><strong>insertBefore</strong></p></blockquote><p>æŠŠå­èŠ‚ç‚¹æ’å…¥åˆ°æŒ‡å®šçš„ä½ç½®ï¼šå¯ä»¥ä½¿ç”¨ parentElement.insertBefore(newElement, referenceElement);ï¼Œå­èŠ‚ç‚¹ä¼šæ’å…¥åˆ° referenceElement ä¹‹å‰ã€‚</p><p>ä»»æ„ä½ç½®æ’å…¥èŠ‚ç‚¹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;js&quot;</span>&gt;</span>JavaScript<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;list&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;javase&quot;</span>&gt;</span>JavaSE<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;javaee&quot;</span>&gt;</span>JavaEE<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;javame&quot;</span>&gt;</span>JavaME<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> javaee = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;javaee&quot;</span>);</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> js = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;js&quot;</span>);</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> list = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;list&quot;</span>);</span><br><span class="language-javascript">        <span class="hljs-comment">// å‚æ•°ï¼š(newNode,targetNode)</span></span><br><span class="language-javascript">        list.<span class="hljs-title function_">insertBefore</span>(js,javaee);  <span class="hljs-comment">//æŠŠjså‡ºå…¥åˆ°javaeeå‰é¢</span></span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="7-5-åˆ é™¤DOM"><a href="#7-5-åˆ é™¤DOM" class="headerlink" title="7.5 åˆ é™¤DOM"></a>7.5 åˆ é™¤DOM</h2><p>è¦åˆ é™¤ä¸€ä¸ªèŠ‚ç‚¹ï¼Œé¦–å…ˆè¦è·å¾—è¯¥èŠ‚ç‚¹æœ¬èº«ä»¥åŠå®ƒçš„çˆ¶èŠ‚ç‚¹ï¼Œç„¶åè°ƒç”¨çˆ¶èŠ‚ç‚¹çš„ removeChild æŠŠè‡ªå·±åˆ æ‰ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;father&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;p1&quot;</span>&gt;</span>p1<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;p2&quot;</span>&gt;</span>p2<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> self = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;p1&quot;</span>);</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> father = p1.<span class="hljs-property">parentElement</span>;  <span class="hljs-comment">//é€šè¿‡å­èŠ‚ç‚¹è·å–çˆ¶èŠ‚ç‚¹</span></span><br><span class="language-javascript">        father.<span class="hljs-title function_">removeChild</span>(self);  <span class="hljs-comment">//åˆ é™¤å­èŠ‚ç‚¹</span></span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>é€šè¿‡æŒ‡å®šçš„ä¸‹æ ‡åˆ é™¤ï¼šåˆ é™¤å¤šä¸ªèŠ‚ç‚¹çš„æ—¶å€™ children æ˜¯åœ¨æ—¶åˆ»å˜åŒ–çš„ï¼ˆä¸‹æ ‡åœ¨å˜ï¼‰</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;father&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;p1&quot;</span>&gt;</span>p1<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;p2&quot;</span>&gt;</span>p2<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> father = p1.<span class="hljs-property">parentElement</span>;  <span class="hljs-comment">//é€šè¿‡å­èŠ‚ç‚¹è·å–çˆ¶èŠ‚ç‚¹</span></span><br><span class="language-javascript">        <span class="hljs-comment">//åˆ é™¤æ˜¯ä¸€ä¸ªåŠ¨æ€çš„è¿‡ç¨‹</span></span><br><span class="language-javascript">        father.<span class="hljs-title function_">removeChild</span>(father.<span class="hljs-property">children</span>[<span class="hljs-number">0</span>]);</span><br><span class="language-javascript">        father.<span class="hljs-title function_">removeChild</span>(father.<span class="hljs-property">children</span>[<span class="hljs-number">0</span>]);</span><br><span class="language-javascript">        father.<span class="hljs-title function_">removeChild</span>(father.<span class="hljs-property">children</span>[<span class="hljs-number">0</span>]);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h1 id="8-æ“ä½œè¡¨å•"><a href="#8-æ“ä½œè¡¨å•" class="headerlink" title="8. æ“ä½œè¡¨å•"></a>8. æ“ä½œè¡¨å•</h1><h2 id="8-1-å›é¡¾"><a href="#8-1-å›é¡¾" class="headerlink" title="8.1 å›é¡¾"></a>8.1 å›é¡¾</h2><p>ç”¨JavaScriptæ“ä½œè¡¨å•å’Œæ“ä½œDOMæ˜¯ç±»ä¼¼çš„ï¼Œå› ä¸ºè¡¨å•æœ¬èº«ä¹Ÿæ˜¯DOMæ ‘ã€‚</p><p>ä¸è¿‡è¡¨å•çš„è¾“å…¥æ¡†ã€ä¸‹æ‹‰æ¡†ç­‰å¯ä»¥æ¥æ”¶ç”¨æˆ·è¾“å…¥ï¼Œæ‰€ä»¥ç”¨JavaScriptæ¥æ“ä½œè¡¨å•ï¼Œå¯ä»¥è·å¾—ç”¨æˆ·è¾“å…¥çš„å†…å®¹ï¼Œæˆ–è€…å¯¹ä¸€ä¸ªè¾“å…¥æ¡†è®¾ç½®æ–°çš„å†…å®¹ã€‚</p><p>è¡¨å•çš„ç›®çš„ï¼šæäº¤ä¿¡æ¯</p><p>HTMLè¡¨å•çš„è¾“å…¥æ§ä»¶ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p><ul><li><p>æ–‡æœ¬æ¡†ï¼šå¯¹åº”çš„ &lt;input type=â€textâ€&gt;  â€”-  ç”¨äºè¾“å…¥æ–‡æœ¬</p></li><li><p>å¯†ç æ¡†ï¼šå¯¹åº”çš„ &lt;input type=â€passwordâ€&gt;  â€”-  ç”¨äºè¾“å…¥å¯†ç </p></li><li><p>å•é€‰æ¡†ï¼šå¯¹åº”çš„ &lt;input type=â€radioâ€&gt;  â€”-  ç”¨äºé€‰æ‹©ä¸€é¡¹</p></li><li><p>å¤é€‰æ¡†ï¼šå¯¹åº”çš„ &lt;input type=â€checkboxâ€&gt;  â€”- ç”¨äºé€‰æ‹©å¤šé¡¹</p></li><li><p>ä¸‹æ‹‰æ¡†ï¼šå¯¹åº”çš„ &lt;select&gt;  â€”-  ç”¨äºé€‰æ‹©ä¸€é¡¹</p></li><li><p>éšè—æ–‡æœ¬ï¼šå¯¹åº”çš„ &lt;input type=â€hiddenâ€&gt;  â€”-  ç”¨æˆ·ä¸å¯è§ï¼Œä½†è¡¨å•æäº¤æ—¶ä¼šæŠŠéšè—æ–‡æœ¬å‘é€åˆ°æœåŠ¡å™¨ã€‚</p></li></ul><h2 id="8-2-è·å–å’Œè®¾ç½®å€¼"><a href="#8-2-è·å–å’Œè®¾ç½®å€¼" class="headerlink" title="8.2 è·å–å’Œè®¾ç½®å€¼"></a>8.2 è·å–å’Œè®¾ç½®å€¼</h2><blockquote><p><strong>è·å–å€¼</strong></p></blockquote><p>å¦‚æœæˆ‘ä»¬è·å¾—äº†ä¸€ä¸ª &lt;input&gt; èŠ‚ç‚¹çš„å¼•ç”¨ï¼Œå°±å¯ä»¥ç›´æ¥è°ƒç”¨ value è·å¾—å¯¹åº”çš„ç”¨æˆ·è¾“å…¥å€¼ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;input type=<span class="hljs-string">&quot;text&quot;</span> id=<span class="hljs-string">&quot;email&quot;</span>&gt;<br><span class="hljs-keyword">var</span> input = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;email&#x27;</span>);<br>input.<span class="hljs-property">value</span>; <span class="hljs-comment">// &#x27;ç”¨æˆ·è¾“å…¥çš„å€¼&#x27;</span><br></code></pre></td></tr></table></figure><p>è¿™ç§æ–¹å¼å¯ä»¥åº”ç”¨äº text ã€ password ã€ hidden ä»¥åŠ select ã€‚ä½†æ˜¯ï¼Œå¯¹äºå•é€‰æ¡†å’Œå¤é€‰æ¡†ï¼Œ value å±æ€§è¿”å›çš„æ°¸è¿œæ˜¯HTMLé¢„è®¾çš„å€¼ï¼Œè€Œæˆ‘ä»¬éœ€è¦è·å¾—çš„å®é™…æ˜¯ç”¨æˆ·æ˜¯å¦â€œå‹¾ä¸Šäº†â€é€‰é¡¹ï¼Œæ‰€ä»¥åº”è¯¥ç”¨ checked åˆ¤æ–­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;label&gt;<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;weekday&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;monday&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;1&quot;</span>&gt;</span>Monday<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;weekday&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;tuesday&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;2&quot;</span>&gt;</span>Tuesday<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">var mon = document.getElementById(&#x27;monday&#x27;);</span><br><span class="language-xml">var tue = document.getElementById(&#x27;tuesday&#x27;);</span><br><span class="language-xml">mon.value; // &#x27;1&#x27;</span><br><span class="language-xml">tue.value; // &#x27;2&#x27;</span><br><span class="language-xml">mon.checked; // trueæˆ–è€…false</span><br><span class="language-xml">tue.checked; // trueæˆ–è€…false</span><br></code></pre></td></tr></table></figure><blockquote><p><strong>è®¾ç½®å€¼</strong></p></blockquote><p>è®¾ç½®å€¼å’Œè·å–å€¼ç±»ä¼¼ï¼Œå¯¹äº text ã€ password ã€ hidden ä»¥åŠ select ï¼Œç›´æ¥è®¾ç½® valueå°±å¯ä»¥ã€‚å¯¹äºå•é€‰æ¡†å’Œå¤é€‰æ¡†ï¼Œè®¾ç½® checked ä¸º true æˆ– false å³å¯ã€‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;input type=<span class="hljs-string">&quot;text&quot;</span> id=<span class="hljs-string">&quot;email&quot;</span>&gt;<br><span class="hljs-keyword">var</span> input = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;email&#x27;</span>);<br>input.<span class="hljs-property">value</span> = <span class="hljs-string">&#x27;test@example.com&#x27;</span>; <span class="hljs-comment">// æ–‡æœ¬æ¡†çš„å†…å®¹å·²æ›´æ–°</span><br></code></pre></td></tr></table></figure><p><strong>exampleï¼š</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;post&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>ç”¨æˆ·åï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;username&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--å¤šé€‰æ¡†çš„å€¼å°±æ˜¯å®šä¹‰å¥½çš„value--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>æ€§åˆ«ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;sex&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;man&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;boy&quot;</span>&gt;</span>ç”·<br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;sex&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;women&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;girl&quot;</span>&gt;</span>å¥³<br>        <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">//å¾—åˆ°è¾“å…¥æ¡†çš„å€¼</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> input_text = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;username&quot;</span>);</span><br><span class="language-javascript">        <span class="hljs-comment">//å¾—åˆ°è¾“å…¥æ¡†çš„å€¼</span></span><br><span class="language-javascript">        input_text.<span class="hljs-property">value</span>;</span><br><span class="language-javascript">        <span class="hljs-comment">//ä¿®æ”¹è¾“å…¥æ¡†çš„å€¼</span></span><br><span class="language-javascript">        input_text.<span class="hljs-property">value</span> = <span class="hljs-string">&#x27;123456&#x27;</span>;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">//å¾—åˆ°å¤šé€‰æ¡†çš„å€¼</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> boy_radio = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;boy&quot;</span>);</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> girl_radio = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;girl&quot;</span>);</span><br><span class="language-javascript">        boy_radio.<span class="hljs-property">value</span>;  <span class="hljs-comment">//è·å–å€¼ï¼Œä½†æ˜¯è·å–åˆ°çš„å¯èƒ½ä¸æ˜¯æ‰€é€‰ä¸­çš„å€¼</span></span><br><span class="language-javascript">        girl_radio.<span class="hljs-property">value</span>;</span><br><span class="language-javascript">        <span class="hljs-comment">//å¯¹äºå•é€‰æ¡†ï¼Œå¤šé€‰æ¡†ç­‰å›ºå®šçš„å€¼ï¼Œboy_radio.valueåªèƒ½è·å–åˆ°å½“å‰å€¼</span></span><br><span class="language-javascript">        boy_radio.<span class="hljs-property">checked</span>;  <span class="hljs-comment">//æŸ¥çœ‹è¿”å›çš„ç»“æœï¼Œæ˜¯å¦ä¸ºtrueï¼Œå¦‚æœä¸ºtrueåˆ™è¢«é€‰ä¸­</span></span><br><span class="language-javascript">        boy_radio.<span class="hljs-property">checked</span> = <span class="hljs-literal">true</span>;  <span class="hljs-comment">//é€šè¿‡jsèµ‹å€¼æ“ä½œè¡¨å•</span></span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="8-4-æäº¤è¡¨å•ï¼ˆéªŒè¯ï¼‰"><a href="#8-4-æäº¤è¡¨å•ï¼ˆéªŒè¯ï¼‰" class="headerlink" title="8.4 æäº¤è¡¨å•ï¼ˆéªŒè¯ï¼‰"></a>8.4 æäº¤è¡¨å•ï¼ˆéªŒè¯ï¼‰</h2><p>JavaScriptå¯ä»¥ä»¥ä¸¤ç§æ–¹å¼æ¥å¤„ç†è¡¨å•çš„æäº¤ã€‚</p><blockquote><p><strong>æ–¹å¼ä¸€ï¼š</strong>é€šè¿‡ &lt;form&gt; å…ƒç´ çš„ submit() æ–¹æ³•æäº¤ä¸€ä¸ªè¡¨å•</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!-- <span class="hljs-variable constant_">HTML</span> --&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;test-form&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;test&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;doSubmitForm()&quot;</span>&gt;</span>Submit<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">function</span> <span class="hljs-title function_">doSubmitForm</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">var</span> form = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test-form&#x27;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">// å¯ä»¥åœ¨æ­¤ä¿®æ”¹formçš„input...</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">// æäº¤form:</span></span></span><br><span class="language-javascript"><span class="language-xml">    form.<span class="hljs-title function_">submit</span>();</span></span><br><span class="language-javascript"><span class="language-xml">&#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>è¿™ç§æ–¹å¼çš„ç¼ºç‚¹æ˜¯æ‰°ä¹±äº†æµè§ˆå™¨å¯¹formçš„æ­£å¸¸æäº¤ã€‚æµè§ˆå™¨é»˜è®¤ç‚¹å‡»&lt;button type=â€submitâ€&gt; æ—¶æäº¤è¡¨å•ï¼Œæˆ–è€…ç”¨æˆ·åœ¨æœ€åä¸€ä¸ªè¾“å…¥æ¡†æŒ‰å›è½¦é”®ã€‚å› æ­¤å¯ä»¥ç”¨æ–¹å¼äºŒã€‚</p><blockquote><p><strong>æ–¹å¼äºŒï¼š</strong>å“åº” &lt;form&gt; æœ¬èº«çš„onsubmit äº‹ä»¶ï¼Œåœ¨æäº¤formæ—¶ä½œä¿®æ”¹</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!-- <span class="hljs-variable constant_">HTML</span> --&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;test-form&quot;</span> <span class="hljs-attr">onsubmit</span>=<span class="hljs-string">&quot;return checkForm()&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;test&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span>Submit<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">function</span> <span class="hljs-title function_">checkForm</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">var</span> form = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test-form&#x27;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">// å¯ä»¥åœ¨æ­¤ä¿®æ”¹formçš„input...</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">// ç»§ç»­ä¸‹ä¸€æ­¥:</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</span></span><br><span class="language-javascript"><span class="language-xml">&#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>æ³¨æ„è¦ return true æ¥å‘Šè¯‰æµè§ˆå™¨ç»§ç»­æäº¤ï¼Œå¦‚æœ return falseï¼Œæµè§ˆå™¨å°†ä¸ä¼šç»§ç»­æäº¤formï¼Œè¿™ç§æƒ…å†µé€šå¸¸å¯¹åº”ç”¨æˆ·è¾“å…¥æœ‰è¯¯ï¼Œæç¤ºç”¨æˆ·é”™è¯¯ä¿¡æ¯åç»ˆæ­¢æäº¤formã€‚</p><p>åœ¨æ£€æŸ¥å’Œä¿®æ”¹ &lt;input&gt; æ—¶ï¼Œè¦å……åˆ†åˆ©ç”¨ &lt;input type=â€hiddenâ€&gt; æ¥ä¼ é€’æ•°æ®ã€‚</p><blockquote><p><strong>MD5 ç®—æ³•</strong></p></blockquote><p>ç™»å½•è¡¨å•å¸Œæœ›ç”¨æˆ·è¾“å…¥ç”¨æˆ·åå’Œå£ä»¤ï¼Œå‡ºäºå®‰å…¨è€ƒè™‘æäº¤è¡¨å•æ—¶ä¸ä¼ è¾“æ˜æ–‡å£ä»¤ï¼Œè€Œæ˜¯å£ä»¤çš„MD5ã€‚</p><p>ç›´æ¥ä¿®æ”¹ &lt;input&gt; ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!-- <span class="hljs-variable constant_">HTML</span> --&gt;<br>&lt;form id=&quot;login-form&quot; method=&quot;post&quot; onsubmit=&quot;return checkForm()&quot;&gt;<br>    &lt;input type=&quot;text&quot; id=&quot;username&quot; name=&quot;username&quot;&gt;<br>    &lt;input type=&quot;password&quot; id=&quot;password&quot; name=&quot;password&quot;&gt;<br>    &lt;button type=&quot;submit&quot;&gt;Submit&lt;/button&gt;<br>&lt;/form&gt;<br>&lt;script src=&quot;https://cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.min.js&quot;&gt;<br>&lt;/script&gt;<br>&lt;script&gt;<br>function checkForm() &#123;<br>    var pwd = document.getElementById(&#x27;password&#x27;);<br>    // æŠŠç”¨æˆ·è¾“å…¥çš„æ˜æ–‡å˜ä¸ºMD5:<br>    pwd.value = md5(pwd.value);<br>    // ç»§ç»­ä¸‹ä¸€æ­¥:<br>    return true;<br>&#125;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><p>è¿™ä¸ªåšæ³•çœ‹ä¸Šå»æ²¡å•¥é—®é¢˜ï¼Œä½†ç”¨æˆ·è¾“å…¥äº†å£ä»¤æäº¤æ—¶ï¼Œå£ä»¤æ¡†çš„æ˜¾ç¤ºä¼šçªç„¶ä»å‡ ä¸ª * å˜æˆ32ä¸ªï¼ˆå› ä¸ºMD5æœ‰32ä¸ªå­—ç¬¦ï¼‰ã€‚<br>è¦æƒ³ä¸æ”¹å˜ç”¨æˆ·çš„è¾“å…¥ï¼Œå¯ä»¥åˆ©ç”¨ &lt;input type=â€hiddenâ€&gt; å®ç°ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.min.js&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-comment">&lt;!-- HTML --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;login-form&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span> <span class="hljs-attr">onsubmit</span>=<span class="hljs-string">&quot;return checkForm()&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;input-password&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;md5-password&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span>Submit<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">function</span> <span class="hljs-title function_">checkForm</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> input_pwd = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;input-password&#x27;</span>);</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> md5_pwd = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;md5-password&#x27;</span>);</span><br><span class="language-javascript">        <span class="hljs-comment">// æŠŠç”¨æˆ·è¾“å…¥çš„æ˜æ–‡å˜ä¸ºMD5:</span></span><br><span class="language-javascript">        md5_pwd.<span class="hljs-property">value</span> = <span class="hljs-title function_">md5</span>(input_pwd.<span class="hljs-property">value</span>);</span><br><span class="language-javascript">        <span class="hljs-comment">// ç»§ç»­ä¸‹ä¸€æ­¥:</span></span><br><span class="language-javascript">        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>å¤§å‰ç«¯</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SSMæ¡†æ¶æ•´åˆ</title>
    <link href="/2022/09/09/SSM%E6%A1%86%E6%9E%B6%E6%95%B4%E5%90%88/"/>
    <url>/2022/09/09/SSM%E6%A1%86%E6%9E%B6%E6%95%B4%E5%90%88/</url>
    
    <content type="html"><![CDATA[<h2 id="1-æ¦‚è¿°"><a href="#1-æ¦‚è¿°" class="headerlink" title="1. æ¦‚è¿°"></a>1. æ¦‚è¿°</h2><p><strong>ä¸šåŠ¡æµç¨‹ï¼š</strong></p><p><img src="https://img.yiqiangshiyia.cn/blog/%E4%B8%9A%E5%8A%A1%E6%B5%81%E7%A8%8B.png" alt="ä¸šåŠ¡æµç¨‹"></p><p><strong>é¡¹ç›®ç›®å½•ç»“æ„å›¾ï¼š</strong></p><p><img src="https://img.yiqiangshiyia.cn/blog/%E9%A1%B9%E7%9B%AE%E7%9B%AE%E5%BD%95.png" alt="é¡¹ç›®ç›®å½•"></p><h2 id="2-æ•°æ®åº“åˆ›å»º"><a href="#2-æ•°æ®åº“åˆ›å»º" class="headerlink" title="2. æ•°æ®åº“åˆ›å»º"></a>2. æ•°æ®åº“åˆ›å»º</h2><p><strong>åˆ›å»ºä¸€ä¸ªå­˜æ”¾ä¹¦ç±æ•°æ®çš„æ•°æ®åº“è¡¨</strong></p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220909200447.png" alt="QQæˆªå›¾20220909200447"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs mysql">CREATE DATABASE `ssmbuild`;<br><br>USE `ssmbuild`;<br><br>DROP TABLE IF EXISTS `books`;<br><br>CREATE TABLE `books` (<br>`bookID` INT(10) NOT NULL AUTO_INCREMENT COMMENT &#x27;ä¹¦id&#x27;,<br>`bookName` VARCHAR(100) NOT NULL COMMENT &#x27;ä¹¦å&#x27;,<br>`bookCounts` INT(11) NOT NULL COMMENT &#x27;æ•°é‡&#x27;,<br>`detail` VARCHAR(200) NOT NULL COMMENT &#x27;æè¿°&#x27;,<br>KEY `bookID` (`bookID`)<br>) ENGINE=INNODB DEFAULT CHARSET=utf8<br><br>INSERT INTO `books`(`bookID`,`bookName`,`bookCounts`,`detail`)VALUES<br>(1,&#x27;Java&#x27;,50,&#x27;ä»å…¥é—¨åˆ°æ”¾å¼ƒ&#x27;),<br>(2,&#x27;MySQL&#x27;,10,&#x27;ä»åˆ åº“åˆ°è·‘è·¯&#x27;),<br>(3,&#x27;Linux&#x27;,20,&#x27;ä»è¿›é—¨åˆ°è¿›ç‰¢&#x27;),<br>(4,&#x27;Python&#x27;,30,&#x27;ä»å…¥é—¨åˆ°å…¥åœŸ&#x27;);<br></code></pre></td></tr></table></figure><h2 id="3-ç¯å¢ƒæ­å»º"><a href="#3-ç¯å¢ƒæ­å»º" class="headerlink" title="3. ç¯å¢ƒæ­å»º"></a>3. ç¯å¢ƒæ­å»º</h2><ol><li><p><strong>æ–°å»ºMavené¡¹ç›®</strong></p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220910114207.png" alt="QQæˆªå›¾20220910114207"></p></li><li><p><strong>å¯¼å…¥ç›¸å…³çš„pomä¾èµ–</strong></p><p>pom.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">  <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">modelVersion</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.example<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>ssmbuild<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">packaging</span>&gt;</span>war<span class="hljs-tag">&lt;/<span class="hljs-name">packaging</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>ssmbuild Maven Webapp<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- FIXME change it to the project&#x27;s website --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>http://www.example.com<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">project.build.sourceEncoding</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">maven.compiler.source</span>&gt;</span>1.7<span class="hljs-tag">&lt;/<span class="hljs-name">maven.compiler.source</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">maven.compiler.target</span>&gt;</span>1.7<span class="hljs-tag">&lt;/<span class="hljs-name">maven.compiler.target</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--junit--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.13<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--mysqlé©±åŠ¨--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>8.0.30<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--æ•°æ®åº“è¿æ¥æ± --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.mchange<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>c3p0<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.9.5.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--servlet-jspä¾èµ–--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>servlet-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.5<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet.jsp<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jsp-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jstl<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--mybatis--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.5.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-spring<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.0.7<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--Spring--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-webmvc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.3.22<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-jdbc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.3.22<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.aspectj<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>aspectjweaver<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.9.9.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--lombok--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.18.24<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br><br>  <span class="hljs-comment">&lt;!--é™æ€èµ„æºå¯¼å‡ºé—®é¢˜--&gt;</span><br></code></pre></td></tr></table></figure></li><li><p><strong>é…ç½®mavenèµ„æºè¿‡æ»¤</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/java<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/resources<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p><strong>å»ºç«‹åŸºæœ¬ç»“æ„å’Œé…ç½®æ¡†æ¶</strong></p><p>mybatis-config.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span> ?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">configuration</span></span><br><span class="hljs-meta">        <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span><br><span class="hljs-meta">        <span class="hljs-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ApplicationContext.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">        https://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure></li></ol><h2 id="4-Mybatiså±‚"><a href="#4-Mybatiså±‚" class="headerlink" title="4. Mybatiså±‚"></a>4. Mybatiså±‚</h2><ol><li><p><strong>æ•°æ®åº“é…ç½®æ–‡ä»¶</strong></p><p>database.properties</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-attr">jdbc.driver</span>=<span class="hljs-string">com.mysql.jdbc.Driver</span><br><span class="hljs-attr">jdbc.url</span>=<span class="hljs-string">jdbc:mysql://localhost:3306/ssmbuild?useSSL=true&amp;useUnicode=true&amp;characterEncoding=utf8</span><br><span class="hljs-attr">jdbc.username</span>=<span class="hljs-string">root</span><br><span class="hljs-attr">jdbc.password</span>=<span class="hljs-string">123456</span><br></code></pre></td></tr></table></figure></li><li><p><strong>IDEAè¿æ¥æ•°æ®åº“</strong></p></li><li><p><strong>ç¼–å†™MyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶</strong></p><p>mybatis-config.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span> ?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">configuration</span></span><br><span class="hljs-meta">        <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span><br><span class="hljs-meta">        <span class="hljs-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span><br><span class="hljs-comment">&lt;!--configurationæ ¸å¿ƒé…ç½®æ–‡ä»¶--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--é…ç½®æ•°æ®æºï¼Œäº¤ç»™springå»åš--&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">settings</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--æ ‡å‡†çš„æ—¥å¿—å·¥å‚å®ç°--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">setting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;logImpl&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;STDOUT_LOGGING&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">settings</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">typeAliases</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">package</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;com.ssm.pojo&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">typeAliases</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--æ¯ä¸€ä¸ªMapper.xmléƒ½éœ€è¦åœ¨mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æ³¨å†Œ--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;com/ssm/dao/BookMapper.xml&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p><strong>ä½¿ç”¨lombokæ’ä»¶ï¼Œç¼–å†™æ•°æ®åº“å¯¹åº”çš„å®ä½“ç±»Books</strong></p><p>Books.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.ssm.pojo;<br><br><span class="hljs-keyword">import</span> lombok.AllArgsConstructor;<br><span class="hljs-keyword">import</span> lombok.Data;<br><span class="hljs-keyword">import</span> lombok.NoArgsConstructor;<br><br><span class="hljs-meta">@Data</span><br><span class="hljs-meta">@AllArgsConstructor</span><br><span class="hljs-meta">@NoArgsConstructor</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Books</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> bookID;<br>    <span class="hljs-keyword">private</span> String bookName;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> bookCounts;<br>    <span class="hljs-keyword">private</span> String detail;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p><strong>ç¼–å†™Daoå±‚çš„ Mapperæ¥å£</strong></p><p>BookMapper.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.ssm.dao;<br><br><span class="hljs-keyword">import</span> com.ssm.pojo.Books;<br><span class="hljs-keyword">import</span> org.apache.ibatis.annotations.Param;<br><br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">BookMapper</span> &#123;<br>    <span class="hljs-comment">//å¢åŠ ä¸€ä¸ªBook</span><br>    <span class="hljs-type">int</span> <span class="hljs-title function_">addBook</span><span class="hljs-params">(Books books)</span>;<br><br>    <span class="hljs-comment">//æ ¹æ®idåˆ é™¤ä¸€ä¸ªBook</span><br>    <span class="hljs-type">int</span> <span class="hljs-title function_">deleteBookById</span><span class="hljs-params">(<span class="hljs-meta">@Param(&quot;bookID&quot;)</span> <span class="hljs-type">int</span> id)</span>;<br><br>    <span class="hljs-comment">//æ›´æ–°Book</span><br>    <span class="hljs-type">int</span> <span class="hljs-title function_">updateBook</span><span class="hljs-params">(Books books)</span>;<br><br>    <span class="hljs-comment">//æ ¹æ®idæŸ¥è¯¢ï¼Œè¿”å›ä¸€ä¸ªBook</span><br>    Books <span class="hljs-title function_">queryBookById</span><span class="hljs-params">(<span class="hljs-meta">@Param(&quot;bookID&quot;)</span> <span class="hljs-type">int</span> id)</span>;<br><br>    <span class="hljs-comment">//æŸ¥è¯¢æ‰€æœ‰Bookï¼Œè¿”å›listé›†åˆ</span><br>    List&lt;Books&gt; <span class="hljs-title function_">queryAllBook</span><span class="hljs-params">()</span>;<br><br>    Books <span class="hljs-title function_">queryBookByName</span><span class="hljs-params">(<span class="hljs-meta">@Param(&quot;bookName&quot;)</span> String bookName)</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p><strong>ç¼–å†™æ¥å£å¯¹åº”çš„ xml æ–‡ä»¶</strong></p><p>BookMapper.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span> ?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">mapper</span></span><br><span class="hljs-meta">        <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span><br><span class="hljs-meta">        <span class="hljs-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span><br><span class="hljs-comment">&lt;!--namespaceç»‘å®šä¸€ä¸ªå¯¹åº”çš„Mapper/Daoæ¥å£--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">&quot;com.ssm.dao.BookMapper&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--å¢åŠ ä¸€ä¸ªBook--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">insert</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;addBook&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;Books&quot;</span>&gt;</span><br>        insert into books(bookName,bookCounts,detail)<br>        values(#&#123;bookName&#125;,#&#123;bookCounts&#125;,#&#123;detail&#125;)<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">insert</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--æ ¹æ®idåˆ é™¤ä¸€ä¸ªBook--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">delete</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;deleteBookById&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;int&quot;</span>&gt;</span><br>        delete from books where bookID = #&#123;bookID&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">delete</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--æ›´æ–°Book--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">update</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;updateBook&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;Books&quot;</span>&gt;</span><br>        update books set bookName=#&#123;bookName&#125;,bookCounts=#&#123;bookCounts&#125;,detail=#&#123;detail&#125;<br>        where bookID = #&#123;bookID&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">update</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--æ ¹æ®idæŸ¥è¯¢ï¼Œè¿”å›ä¸€ä¸ªBook--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;queryBookById&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;Books&quot;</span>&gt;</span><br>        select * from books where bookID = #&#123;bookID&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--æŸ¥è¯¢å…¨éƒ¨Book--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;queryAllBook&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;Books&quot;</span>&gt;</span><br>        select * from books<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;queryBookByName&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;Books&quot;</span>&gt;</span><br>        select * from books where bookName = #&#123;bookName&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p><strong>ç¼–å†™Serviceå±‚çš„æ¥å£å’Œå®ç°ç±»</strong></p><p>Serviceå±‚çš„æ¥å£ï¼šBookService.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.ssm.service;<br><br><span class="hljs-keyword">import</span> com.ssm.pojo.Books;<br><span class="hljs-keyword">import</span> org.apache.ibatis.annotations.Param;<br><br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">BookService</span> &#123;<br>    <span class="hljs-comment">//å¢åŠ ä¸€ä¸ªBook</span><br>    <span class="hljs-type">int</span> <span class="hljs-title function_">addBook</span><span class="hljs-params">(Books books)</span>;<br><br>    <span class="hljs-comment">//æ ¹æ®idåˆ é™¤ä¸€ä¸ªBook</span><br>    <span class="hljs-type">int</span> <span class="hljs-title function_">deleteBookById</span><span class="hljs-params">(<span class="hljs-type">int</span> id)</span>;<br><br>    <span class="hljs-comment">//æ›´æ–°Book</span><br>    <span class="hljs-type">int</span> <span class="hljs-title function_">updateBook</span><span class="hljs-params">(Books books)</span>;<br><br>    <span class="hljs-comment">//æ ¹æ®idæŸ¥è¯¢ï¼Œè¿”å›ä¸€ä¸ªBook</span><br>    Books <span class="hljs-title function_">queryBookById</span><span class="hljs-params">(<span class="hljs-type">int</span> id)</span>;<br><br>    <span class="hljs-comment">//æŸ¥è¯¢å…¨éƒ¨Bookï¼Œè¿”å›listé›†åˆ</span><br>    List&lt;Books&gt; <span class="hljs-title function_">queryAllBook</span><span class="hljs-params">()</span>;<br><br>    Books <span class="hljs-title function_">queryBookByName</span><span class="hljs-params">(String bookName)</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>Serviceå±‚çš„å®ç°ç±»ï¼šBookServiceImpl.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.ssm.service;<br><br><span class="hljs-keyword">import</span> com.ssm.dao.BookMapper;<br><span class="hljs-keyword">import</span> com.ssm.pojo.Books;<br><br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BookServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">BookService</span> &#123;<br>    <span class="hljs-comment">//serviceå±‚è°ƒdaoå±‚ï¼šç»„åˆDao</span><br>    <span class="hljs-keyword">private</span> BookMapper bookMapper;<br>    <span class="hljs-comment">//è°ƒç”¨daoå±‚çš„æ“ä½œï¼Œè®¾ç½®ä¸€ä¸ªsetæ¥å£ï¼Œæ–¹ä¾¿Springç®¡ç†</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setBookMapper</span><span class="hljs-params">(BookMapper bookMapper)</span>&#123;<br>        <span class="hljs-built_in">this</span>.bookMapper = bookMapper;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">addBook</span><span class="hljs-params">(Books books)</span> &#123;<br>        <span class="hljs-keyword">return</span> bookMapper.addBook(books);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">deleteBookById</span><span class="hljs-params">(<span class="hljs-type">int</span> id)</span> &#123;<br>        <span class="hljs-keyword">return</span> bookMapper.deleteBookById(id);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">updateBook</span><span class="hljs-params">(Books books)</span> &#123;<br>        <span class="hljs-keyword">return</span> bookMapper.updateBook(books);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> Books <span class="hljs-title function_">queryBookById</span><span class="hljs-params">(<span class="hljs-type">int</span> id)</span> &#123;<br>        <span class="hljs-keyword">return</span> bookMapper.queryBookById(id);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> List&lt;Books&gt; <span class="hljs-title function_">queryAllBook</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> bookMapper.queryAllBook();<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> Books <span class="hljs-title function_">queryBookByName</span><span class="hljs-params">(String bookName)</span> &#123;<br>        <span class="hljs-keyword">return</span> bookMapper.queryBookByName(bookName);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h2 id="5-Springå±‚"><a href="#5-Springå±‚" class="headerlink" title="5. Springå±‚"></a>5. Springå±‚</h2><ol><li><p><strong>é…ç½®Springæ•´åˆMyBatis</strong></p><p>æ•°æ®æºä½¿ç”¨c3p0è¿æ¥æ± </p></li><li><p><strong>ç¼–å†™Springæ•´åˆMybatisçš„ç›¸å…³çš„é…ç½®æ–‡ä»¶</strong></p><p>spring-dao.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/context</span></span><br><span class="hljs-string"><span class="hljs-tag">   https://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--1.å…³è”æ•°æ®åº“å±æ€§æ–‡ä»¶ï¼šdatabase.properties--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">context:property-placeholder</span> <span class="hljs-attr">location</span>=<span class="hljs-string">&quot;classpath:database.properties&quot;</span> /&gt;</span><br><br>    <span class="hljs-comment">&lt;!--2.æ•°æ®åº“è¿æ¥æ± --&gt;</span><br>    <span class="hljs-comment">&lt;!--DataSourceï¼šæ•°æ®åº“è¿æ¥æ±  c3p0 dbcp druid</span><br><span class="hljs-comment">        dbcpï¼šåŠè‡ªåŠ¨åŒ–æ“ä½œï¼Œä¸èƒ½è‡ªåŠ¨è¿æ¥</span><br><span class="hljs-comment">        c3p0ï¼šè‡ªåŠ¨åŒ–æ“ä½œï¼ˆè‡ªåŠ¨çš„åŠ è½½é…ç½®æ–‡ä»¶ï¼Œå¹¶è®¾ç½®åˆ°å¯¹è±¡é‡Œé¢ï¼‰</span><br><span class="hljs-comment">    --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--é…ç½®è¿æ¥æ± å±æ€§--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;driverClass&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.driver&#125;&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;jdbcUrl&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.url&#125;&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;user&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.username&#125;&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.password&#125;&quot;</span>/&gt;</span><br><br><br>        <span class="hljs-comment">&lt;!--é…ç½®c3poè¿æ¥æ± çš„ç§æœ‰å±æ€§--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;maxPoolSize&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;30&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;minPoolSize&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;10&quot;</span>/&gt;</span><br>        <span class="hljs-comment">&lt;!--å…³é—­åä¸è‡ªåŠ¨commit--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;autoCommitOnClose&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;false&quot;</span>/&gt;</span><br>        <span class="hljs-comment">&lt;!--è·å–è¿æ¥è¶…æ—¶æ—¶é—´--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;checkoutTimeout&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;10000&quot;</span>/&gt;</span><br>        <span class="hljs-comment">&lt;!--å½“è·å–è¿æ¥å¤±è´¥é‡è¯•æ¬¡æ•°--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;acquireRetryAttempts&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;2&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--3.é…ç½®sqlSessionFactoryå¯¹è±¡--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;sqlSessionFactory&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--æ³¨å…¥æ•°æ®åº“è¿æ¥æ± --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;dataSource&quot;</span>/&gt;</span><br>        <span class="hljs-comment">&lt;!--ç»‘å®šMybatisé…ç½®æ–‡ä»¶--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;configLocation&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;classpath:mybatis-config.xml&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--4.é…ç½®æ‰«ædaoæ¥å£åŒ…ï¼ŒåŠ¨æ€å®ç°daoæ¥å£æ³¨å…¥åˆ°Springå®¹å™¨ä¸­--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--æ³¨å…¥sqlSessionFactory--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;sqlSessionFactoryBeanName&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;sqlSessionFactory&quot;</span>/&gt;</span><br>        <span class="hljs-comment">&lt;!--ç»™å‡ºéœ€è¦æ‰«æçš„daoæ¥å£åŒ…--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;basePackage&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;com.ssm.dao&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p><strong>Springæ•´åˆserviceå±‚</strong></p><p>spring-service.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:aop</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/aop&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:tx</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/tx&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/aop</span></span><br><span class="hljs-string"><span class="hljs-tag">       https://www.springframework.org/schema/aop/spring-aop.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/tx</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/tx/spring-tx.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/context</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--1.æ‰«æserviceç›¸å…³çš„bean--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">&quot;com.ssm.service&quot;</span>/&gt;</span><br><br>    <span class="hljs-comment">&lt;!--2.BookServiceImplæ³¨å…¥åˆ°IOCå®¹å™¨ä¸­ï¼šå¯ä»¥é€šè¿‡é…ç½®æˆ–è€…æ³¨è§£å®ç°--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;BookServiceImpl&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.ssm.service.BookServiceImpl&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;bookMapper&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;bookMapper&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--3.é…ç½®äº‹ç‰©ç®¡ç†å™¨--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;transactionManager&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--æ³¨å…¥æ•°æ®åº“è¿æ¥æ± --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;dataSource&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--4.aopäº‹ç‰©æ”¯æŒï¼šAOPäº‹ç‰©æ¨ªåˆ‡--&gt;</span><br>    <span class="hljs-comment">&lt;!--noteï¼šé™¤æŸ¥è¯¢å¤–æ‰€æœ‰çš„æ•°æ®åº“æ“ä½œéƒ½éœ€è¦æäº¤äº‹ç‰©--&gt;</span><br>    <span class="hljs-comment">&lt;!--é…ç½®äº‹ç‰©é€šçŸ¥--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">tx:advice</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;txAdvice&quot;</span> <span class="hljs-attr">transaction-manager</span>=<span class="hljs-string">&quot;transactionManager&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--ç»™å“ªäº›æ–¹æ³•é…ç½®äº‹ç‰©--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">tx:attributes</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">tx:method</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;*&quot;</span> <span class="hljs-attr">propagation</span>=<span class="hljs-string">&quot;REQUIRED&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">tx:attributes</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">tx:advice</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--é…ç½®äº‹ç‰©åˆ‡å…¥--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">aop:config</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">aop:pointcut</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;txPointCut&quot;</span> <span class="hljs-attr">expression</span>=<span class="hljs-string">&quot;execution(* com.ssm.dao.*.*(..))&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">aop:advisor</span> <span class="hljs-attr">advice-ref</span>=<span class="hljs-string">&quot;txAdvice&quot;</span> <span class="hljs-attr">pointcut-ref</span>=<span class="hljs-string">&quot;txPointCut&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">aop:config</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure></li></ol><h2 id="6-SpringMVCå±‚"><a href="#6-SpringMVCå±‚" class="headerlink" title="6. SpringMVCå±‚"></a>6. SpringMVCå±‚</h2><h3 id="6-1-SpringMVCå±‚é…ç½®"><a href="#6-1-SpringMVCå±‚é…ç½®" class="headerlink" title="6.1 SpringMVCå±‚é…ç½®"></a>6.1 SpringMVCå±‚é…ç½®</h3><ol><li><p><strong>web.xml</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">web-app</span> <span class="hljs-keyword">PUBLIC</span></span><br><span class="hljs-meta"> <span class="hljs-string">&quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;</span></span><br><span class="hljs-meta"> <span class="hljs-string">&quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;</span> &gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">web-app</span>&gt;</span><br>  <span class="hljs-comment">&lt;!--1.æ³¨å†ŒDispatcherServlet SpringMVCæ ¸å¿ƒï¼šè¯·æ±‚åˆ†å‘å™¨ï¼Œå‰ç«¯æ§åˆ¶å™¨--&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>DispatchServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--å…³è”ä¸€ä¸ªSpringçš„é…ç½®æ–‡ä»¶ï¼šapplicationContext.xml--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>contextConfigLocation<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>classpath:applicationContext.xml<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">load-on-startup</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">load-on-startup</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>DispatchServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br><br>  <span class="hljs-comment">&lt;!--2.é…ç½®encodingFilterï¼šå¤„ç†ä¹±ç é—®é¢˜--&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">filter</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-class</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>utf-8<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">filter-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/*<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">filter-mapping</span>&gt;</span><br><br>  <span class="hljs-comment">&lt;!--3.è®¾ç½®Sessionè¿‡æœŸæ—¶é—´--&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">session-config</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">session-timeout</span>&gt;</span>15<span class="hljs-tag">&lt;/<span class="hljs-name">session-timeout</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">session-config</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">web-app</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p><strong>spring-mvc.xml</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:mvc</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/mvc&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/beans/spring-beans-4.2.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/mvc</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/mvc/spring-mvc-4.2.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/context</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/context/spring-context-4.2.xsd&quot;</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--é…ç½®SpringMVC--&gt;</span><br>    <span class="hljs-comment">&lt;!--1.å¼€å¯SpringMVCæ³¨è§£é©±åŠ¨--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mvc:annotation-driven</span>/&gt;</span><br><br>    <span class="hljs-comment">&lt;!--2.é™æ€èµ„æºè¿‡æ»¤--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mvc:default-servlet-handler</span>/&gt;</span><br><br>    <span class="hljs-comment">&lt;!--3.æ‰«æåŒ…ï¼šæ‰«æwebç›¸å…³çš„bean--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">&quot;com.ssm.controller&quot;</span>/&gt;</span><br><br>    <span class="hljs-comment">&lt;!--4.è§†å›¾è§£æå™¨--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;InternalResourceViewResolver&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewClass&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;org.springframework.web.servlet.view.JstlView&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;prefix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;/WEB-INF/jsp/&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;suffix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;.jsp&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p><strong>Springé…ç½®æ•´åˆæ–‡ä»¶</strong></p><p>applicationContext.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">        https://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">import</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;spring-dao.xml&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">import</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;spring-service.xml&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">import</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;spring-mvc.xml&quot;</span>/&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure></li></ol><p>é¡¹ç›®é…ç½®æ–‡ä»¶ç»“æŸï¼ï¼ï¼</p><h3 id="6-2-Controllerå±‚"><a href="#6-2-Controllerå±‚" class="headerlink" title="6.2 Controllerå±‚"></a>6.2 Controllerå±‚</h3><ol><li><p><strong>æŸ¥è¯¢å…¨éƒ¨ä¹¦ç±</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-meta">@RequestMapping(&quot;/book&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BookController</span> &#123;<br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-meta">@Qualifier(&quot;BookServiceImpl&quot;)</span>  <span class="hljs-comment">//ä½¿ç”¨æ³¨è§£è‡ªåŠ¨è£…é…</span><br>    <span class="hljs-keyword">private</span> BookService bookService;<br><br>    <span class="hljs-comment">//æŸ¥è¯¢å…¨éƒ¨ä¹¦ç±</span><br>    <span class="hljs-meta">@RequestMapping(&quot;/allBook&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">list</span><span class="hljs-params">(Model model)</span>&#123;<br>        List&lt;Books&gt; list = bookService.queryAllBook();<br>        model.addAttribute(<span class="hljs-string">&quot;list&quot;</span>,list);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;allBook&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p><strong>æ·»åŠ ä¹¦ç±</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-meta">@RequestMapping(&quot;/book&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BookController</span> &#123;<br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-meta">@Qualifier(&quot;BookServiceImpl&quot;)</span>  <span class="hljs-comment">//ä½¿ç”¨æ³¨è§£è‡ªåŠ¨è£…é…</span><br>    <span class="hljs-keyword">private</span> BookService bookService;<br>    <br>    <span class="hljs-comment">//æ·»åŠ ä¹¦ç±</span><br>    <span class="hljs-meta">@RequestMapping(&quot;/toAddBook&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toAddPaper</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;addBook&quot;</span>;<br>    &#125;<br>    <span class="hljs-meta">@RequestMapping(&quot;/addBook&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">addPaper</span><span class="hljs-params">(Books books)</span>&#123;<br>        System.out.println(books);<br>        bookService.addBook(books);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;redirect:/book/allBook&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p><strong>ä¿®æ”¹ä¹¦ç±</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-meta">@RequestMapping(&quot;/book&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BookController</span> &#123;<br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-meta">@Qualifier(&quot;BookServiceImpl&quot;)</span>  <span class="hljs-comment">//ä½¿ç”¨æ³¨è§£è‡ªåŠ¨è£…é…</span><br>    <span class="hljs-keyword">private</span> BookService bookService;<br>    <br>    <span class="hljs-comment">//ä¿®æ”¹ä¹¦ç±</span><br>    <span class="hljs-meta">@RequestMapping(&quot;/toUpdateBook&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toUpdateBook</span><span class="hljs-params">(Model model,<span class="hljs-type">int</span> id)</span>&#123;<br>        <span class="hljs-type">Books</span> <span class="hljs-variable">books</span> <span class="hljs-operator">=</span> bookService.queryBookById(id);<br>        System.out.println(books);<br>        model.addAttribute(<span class="hljs-string">&quot;books&quot;</span>,books);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;updateBook&quot;</span>;<br>    &#125;<br>    <span class="hljs-meta">@RequestMapping(&quot;/updateBook&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">updateBook</span><span class="hljs-params">(Model model,Books book)</span>&#123;<br>        System.out.println(book);<br>        bookService.updateBook(book);<br>        <span class="hljs-type">Books</span> <span class="hljs-variable">books</span> <span class="hljs-operator">=</span> bookService.queryBookById(book.getBookID());<br>        model.addAttribute(<span class="hljs-string">&quot;books&quot;</span>,books);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;redirect:/book/allBook&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p><strong>åˆ é™¤ä¹¦ç±</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-meta">@RequestMapping(&quot;/book&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BookController</span> &#123;<br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-meta">@Qualifier(&quot;BookServiceImpl&quot;)</span>  <span class="hljs-comment">//ä½¿ç”¨æ³¨è§£è‡ªåŠ¨è£…é…</span><br>    <span class="hljs-keyword">private</span> BookService bookService;<br>    <br>    <span class="hljs-comment">//åˆ é™¤ä¹¦ç±</span><br>    <span class="hljs-meta">@RequestMapping(&quot;/del/&#123;bookId&#125;&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">deleteBook</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable(&quot;bookId&quot;)</span> <span class="hljs-type">int</span> id)</span>&#123;<br>        bookService.deleteBookById(id);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;redirect:/book/allBook&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p><strong>BookControllerç±»ç¼–å†™</strong></p><p>BookController.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.ssm.controller;<br><br><span class="hljs-keyword">import</span> com.ssm.pojo.Books;<br><span class="hljs-keyword">import</span> com.ssm.service.BookService;<br><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;<br><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Qualifier;<br><span class="hljs-keyword">import</span> org.springframework.stereotype.Controller;<br><span class="hljs-keyword">import</span> org.springframework.ui.Model;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.PathVariable;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;<br><br><span class="hljs-keyword">import</span> java.util.ArrayList;<br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-meta">@Controller</span><br><span class="hljs-meta">@RequestMapping(&quot;/book&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BookController</span> &#123;<br>    <span class="hljs-comment">//controllerå±‚è°ƒç”¨serviceå±‚</span><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-meta">@Qualifier(&quot;BookServiceImpl&quot;)</span>  <span class="hljs-comment">//ä½¿ç”¨æ³¨è§£è‡ªåŠ¨è£…é…</span><br>    <span class="hljs-keyword">private</span> BookService bookService;<br><br>    <span class="hljs-comment">//æŸ¥è¯¢å…¨éƒ¨ä¹¦ç±ï¼Œå¹¶ä¸”è¿”å›åˆ°ä¸€ä¸ªä¹¦ç±å±•ç¤ºé¡µé¢</span><br>    <span class="hljs-meta">@RequestMapping(&quot;/allBook&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">list</span><span class="hljs-params">(Model model)</span>&#123;<br>        List&lt;Books&gt; list = bookService.queryAllBook();<br>        model.addAttribute(<span class="hljs-string">&quot;list&quot;</span>,list);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;allBook&quot;</span>;<br>    &#125;<br><br>    <span class="hljs-comment">//è·³è½¬åˆ°å¢åŠ ä¹¦ç±é¡µé¢</span><br>    <span class="hljs-meta">@RequestMapping(&quot;/toAddBook&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toAddPaper</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;addBook&quot;</span>;<br>    &#125;<br><br>    <span class="hljs-comment">//æ·»åŠ ä¹¦ç±çš„è¯·æ±‚</span><br>    <span class="hljs-meta">@RequestMapping(&quot;/addBook&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">addBook</span><span class="hljs-params">(Books books)</span>&#123;<br>        bookService.addBook(books);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;redirect:/book/allBook&quot;</span>;  <span class="hljs-comment">//é‡å®šå‘åˆ°æˆ‘ä»¬çš„@RequestMapping(&quot;allBook&quot;)è¯·æ±‚</span><br>    &#125;<br><br>    <span class="hljs-comment">//è·³è½¬åˆ°ä¿®æ”¹ä¹¦ç±é¡µé¢</span><br>    <span class="hljs-meta">@RequestMapping(&quot;/toUpdateBook&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toUpdatePaper</span><span class="hljs-params">(Model model,<span class="hljs-type">int</span> id)</span>&#123;<br>        <span class="hljs-type">Books</span> <span class="hljs-variable">books</span> <span class="hljs-operator">=</span> bookService.queryBookById(id);<br>        <span class="hljs-comment">//é€šè¿‡Modelé¡µé¢è¿”å›ç»™å‰ç«¯é¡µé¢</span><br>        model.addAttribute(<span class="hljs-string">&quot;QBook&quot;</span>,books);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;updateBook&quot;</span>;<br>    &#125;<br><br>    <span class="hljs-comment">//ä¿®æ”¹ä¹¦ç±</span><br>    <span class="hljs-meta">@RequestMapping(&quot;/updateBook&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">updateBook</span><span class="hljs-params">(Books books)</span>&#123;<br>        bookService.updateBook(books);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;redirect:/book/allBook&quot;</span>;<br>    &#125;<br><br>    <span class="hljs-comment">//åˆ é™¤ä¹¦ç±</span><br>    <span class="hljs-meta">@RequestMapping(&quot;/deleteBook/&#123;bookId&#125;&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">deleteBook</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable(&quot;bookId&quot;)</span> <span class="hljs-type">int</span> id)</span>&#123;<br>        bookService.deleteBookById(id);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;redirect:/book/allBook&quot;</span>;<br>    &#125;<br><br>    <span class="hljs-comment">//æŸ¥è¯¢ä¹¦ç±</span><br>    <span class="hljs-meta">@RequestMapping(&quot;/queryBook&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">queryBook</span><span class="hljs-params">(String queryBookByName,Model model)</span>&#123;<br>        <span class="hljs-type">Books</span> <span class="hljs-variable">books</span> <span class="hljs-operator">=</span> bookService.queryBookByName(queryBookByName);<br>        List&lt;Books&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;Books&gt;();<br>        list.add(books);<br><br>        <span class="hljs-comment">//å½“æŸ¥è¯¢ç»“æœä¸ºnullæ—¶</span><br>        <span class="hljs-keyword">if</span>(books == <span class="hljs-literal">null</span>)&#123;<br>            list = bookService.queryAllBook();<br>            model.addAttribute(<span class="hljs-string">&quot;error&quot;</span>,<span class="hljs-string">&quot;æœªæŸ¥è¯¢åˆ°ä¹¦ç±&quot;</span>);<br>        &#125;<br><br>        model.addAttribute(<span class="hljs-string">&quot;list&quot;</span>,list);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;allBook&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h3 id="6-3-è§†å›¾å±‚"><a href="#6-3-è§†å›¾å±‚" class="headerlink" title="6.3 è§†å›¾å±‚"></a>6.3 è§†å›¾å±‚</h3><ol><li><p><strong>ç¼–å†™é¦–é¡µ</strong> </p><p>index.jsp</p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> isELIgnored=<span class="hljs-string">&quot;false&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>&lt;title&gt;é¦–é¡µ&lt;/title&gt;<br>&lt;style&gt;<br>    a &#123;<br>            text-decoration: none;<br>            color: black;<br>            font-size: 18px;<br>        &#125;<br>        h3 &#123;<br>            width: 180px;<br>            height: 38px;<br>            margin: 100px auto;<br>            text-align: center;<br>            line-height: 38px;<br>            background: deepskyblue;<br>            border-radius: 4px;<br>        &#125;<br>    &lt;/style&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br><br>&lt;h3&gt;<br>    &lt;a href=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/book/allBook&quot;</span>&gt;è¿›å…¥ä¹¦ç±é¡µé¢&lt;/a&gt;<br>&lt;/h3&gt;<br><br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure></li><li><p><strong>ä¹¦ç±åˆ—è¡¨é¡µé¢</strong></p><p>allbook.jsp</p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ taglib prefix=<span class="hljs-string">&quot;c&quot;</span> uri=<span class="hljs-string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> %&gt;<br>&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> isELIgnored=<span class="hljs-string">&quot;false&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>    &lt;title&gt;ä¹¦ç±åˆ—è¡¨&lt;/title&gt;<br>    &lt;meta name=<span class="hljs-string">&quot;viewport&quot;</span> content=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;<br>    &lt;%--å¼•å…¥Bootstrapç¾åŒ–ç•Œé¢--%&gt;<br>    &lt;link href=<span class="hljs-string">&quot;https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css&quot;</span> rel=<span class="hljs-string">&quot;stylesheet&quot;</span>&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br><br>&lt;div class=<span class="hljs-string">&quot;container&quot;</span>&gt;<br>    &lt;div class=<span class="hljs-string">&quot;row clearfix&quot;</span>&gt;<br>        &lt;div class=<span class="hljs-string">&quot;col-md-12 column&quot;</span>&gt;<br>            &lt;div class=<span class="hljs-string">&quot;page-header&quot;</span>&gt;<br>                &lt;h1&gt;<br>                    &lt;small&gt;ä¹¦ç±åˆ—è¡¨ -- æ˜¾ç¤ºæ‰€æœ‰ä¹¦ç±&lt;/small&gt;<br>                &lt;/h1&gt;<br>            &lt;/div&gt;<br>        &lt;/div&gt;<br>    &lt;/div&gt;<br><br>    &lt;div class=<span class="hljs-string">&quot;row&quot;</span>&gt;<br>        &lt;div class=<span class="hljs-string">&quot;col-md-4 column&quot;</span>&gt;<br>            &lt;%--toAddBook--%&gt;<br>            &lt;a class=<span class="hljs-string">&quot;btn btn-primary&quot;</span> href=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/book/toAddBook&quot;</span>&gt;æ–°å¢ä¹¦ç±&lt;/a&gt;<br>            &lt;%--æ˜¾ç¤ºå…¨éƒ¨ä¹¦ç±--%&gt;<br>            &lt;a class=<span class="hljs-string">&quot;btn btn-primary&quot;</span> href=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/book/allBook&quot;</span>&gt;æ˜¾ç¤ºå…¨éƒ¨ä¹¦ç±&lt;/a&gt;<br>        &lt;/div&gt;<br>        &lt;div class=<span class="hljs-string">&quot;col-md-8 column&quot;</span>&gt;<br>             &lt;%--æŸ¥è¯¢ä¹¦ç±--%&gt;<br>            &lt;form class=<span class="hljs-string">&quot;form-inline&quot;</span> action=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/book/queryBook&quot;</span> method=<span class="hljs-string">&quot;post&quot;</span> style=<span class="hljs-string">&quot;float:right&quot;</span>&gt;<br>                &lt;span style=<span class="hljs-string">&quot;color:red; font-weight:bold&quot;</span>&gt;$&#123;error&#125;&lt;/span&gt;<br>                &lt;input type=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;queryBookByName&quot;</span> class=<span class="hljs-string">&quot;form-control&quot;</span> placeholder=<span class="hljs-string">&quot;è¯·è¾“å‡ºè¦æŸ¥è¯¢ä¹¦ç±çš„åç§°&quot;</span>&gt;<br>                &lt;input type=<span class="hljs-string">&quot;submit&quot;</span> value=<span class="hljs-string">&quot;æŸ¥è¯¢&quot;</span> class=<span class="hljs-string">&quot;btn btn-primary&quot;</span>&gt;<br>            &lt;/form&gt;<br>        &lt;/div&gt;<br>    &lt;/div&gt;<br><br>    &lt;div class=<span class="hljs-string">&quot;row clearfix&quot;</span>&gt;<br>        &lt;div class=<span class="hljs-string">&quot;col-md-12 column&quot;</span>&gt;<br>            &lt;table class=<span class="hljs-string">&quot;table table-hover table-striped&quot;</span>&gt;<br>                &lt;thead&gt;<br>                    &lt;tr&gt;<br>                        &lt;th&gt;ä¹¦ç±ç¼–å·&lt;/th&gt;<br>                        &lt;th&gt;ä¹¦ç±åå­—&lt;/th&gt;<br>                        &lt;th&gt;ä¹¦ç±æ•°é‡&lt;/th&gt;<br>                        &lt;th&gt;ä¹¦ç±è¯¦æƒ…&lt;/th&gt;<br>                        &lt;th&gt;æ“ä½œ&lt;/th&gt;<br>                    &lt;/tr&gt;<br>                &lt;/thead&gt;<br>                &lt;%--ä¹¦ç±ä»æ•°æ®åº“ä¸­æŸ¥è¯¢å‡ºæ¥ï¼Œä»å°è£…çš„listä¸­éå†å‡ºæ¥ï¼šforEach--%&gt;<br>                &lt;tbody&gt;<br>                    &lt;c:forEach <span class="hljs-keyword">var</span>=<span class="hljs-string">&quot;book&quot;</span> items=<span class="hljs-string">&quot;$&#123;requestScope.get(&#x27;list&#x27;)&#125;&quot;</span>&gt;<br>                        &lt;tr&gt;<br>                            &lt;td&gt;$&#123;book.getBookID()&#125;&lt;/td&gt;<br>                            &lt;td&gt;$&#123;book.getBookName()&#125;&lt;/td&gt;<br>                            &lt;td&gt;$&#123;book.getBookCounts()&#125;&lt;/td&gt;<br>                            &lt;td&gt;$&#123;book.getDetail()&#125;&lt;/td&gt;<br>                            &lt;td&gt;<br>                                &lt;a href=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/book/toUpdateBook?id=$&#123;book.bookID&#125;&quot;</span>&gt;ä¿®æ”¹&lt;/a&gt;<br>                                &amp;nbsp; | &amp;nbsp;<br>                                &lt;a href=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/book/deleteBook/$&#123;book.bookID&#125;&quot;</span>&gt;åˆ é™¤&lt;/a&gt;<br>                            &lt;/td&gt;<br>                        &lt;/tr&gt;<br>                    &lt;/c:forEach&gt;<br>                &lt;/tbody&gt;<br>            &lt;/table&gt;<br>        &lt;/div&gt;<br>    &lt;/div&gt;<br>&lt;/div&gt;<br><br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure></li><li><p><strong>æ·»åŠ ä¹¦ç±é¡µé¢</strong></p><p>addBook.jsp</p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ taglib prefix=<span class="hljs-string">&quot;c&quot;</span> uri=<span class="hljs-string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> %&gt;<br>&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> isELIgnored=<span class="hljs-string">&quot;false&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>    &lt;title&gt;æ–°å¢ä¹¦ç±&lt;/title&gt;<br>    &lt;meta name=<span class="hljs-string">&quot;viewport&quot;</span> content=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;<br>    &lt;%--å¼•å…¥Bootstrapç¾åŒ–ç•Œé¢--%&gt;<br>    &lt;link href=<span class="hljs-string">&quot;https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css&quot;</span> rel=<span class="hljs-string">&quot;stylesheet&quot;</span>&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br><br>&lt;div class=<span class="hljs-string">&quot;container&quot;</span>&gt;<br>    &lt;div class=<span class="hljs-string">&quot;row clearfix&quot;</span>&gt;<br>        &lt;div class=<span class="hljs-string">&quot;col-md-12 column&quot;</span>&gt;<br>            &lt;div class=<span class="hljs-string">&quot;page-header&quot;</span>&gt;<br>                &lt;h1&gt;<br>                    &lt;small&gt;æ–°å¢ä¹¦ç±&lt;/small&gt;<br>                &lt;/h1&gt;<br>            &lt;/div&gt;<br>        &lt;/div&gt;<br>    &lt;/div&gt;<br><br>    &lt;form action=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/book/addBook&quot;</span> method=<span class="hljs-string">&quot;post&quot;</span>&gt;<br>        &lt;div class=<span class="hljs-string">&quot;form-group&quot;</span>&gt;<br>            &lt;label&gt;ä¹¦ç±åç§°ï¼š&lt;/label&gt;<br>            &lt;input type=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;bookName&quot;</span> class=<span class="hljs-string">&quot;form-control&quot;</span> required&gt;<br>        &lt;/div&gt;<br>        &lt;div class=<span class="hljs-string">&quot;form-group&quot;</span>&gt;<br>            &lt;label&gt;ä¹¦ç±æ•°é‡ï¼š&lt;/label&gt;<br>            &lt;input type=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;bookCounts&quot;</span> class=<span class="hljs-string">&quot;form-control&quot;</span> required&gt;<br>        &lt;/div&gt;<br>        &lt;div class=<span class="hljs-string">&quot;form-group&quot;</span>&gt;<br>            &lt;label&gt;ä¹¦ç±æè¿°ï¼š&lt;/label&gt;<br>            &lt;input type=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;detail&quot;</span> class=<span class="hljs-string">&quot;form-control&quot;</span> required&gt;<br>        &lt;/div&gt;<br>        &lt;div class=<span class="hljs-string">&quot;form-group&quot;</span>&gt;<br>            &lt;input type=<span class="hljs-string">&quot;submit&quot;</span> class=<span class="hljs-string">&quot;form-control&quot;</span> value=<span class="hljs-string">&quot;æ·»åŠ &quot;</span>&gt;<br>        &lt;/div&gt;<br>    &lt;/form&gt;<br>&lt;/div&gt;<br><br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure></li><li><p><strong>ä¿®æ”¹ä¹¦ç±é¡µé¢</strong></p><p>updateBook.jsp</p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ taglib prefix=<span class="hljs-string">&quot;c&quot;</span> uri=<span class="hljs-string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> %&gt;<br>&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> isELIgnored=<span class="hljs-string">&quot;false&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>    &lt;title&gt;ä¿®æ”¹ä¹¦ç±&lt;/title&gt;<br>    &lt;meta name=<span class="hljs-string">&quot;viewport&quot;</span> content=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;<br>    &lt;%--å¼•å…¥Bootstrapç¾åŒ–ç•Œé¢--%&gt;<br>    &lt;link href=<span class="hljs-string">&quot;https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css&quot;</span> rel=<span class="hljs-string">&quot;stylesheet&quot;</span>&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>&lt;div class=<span class="hljs-string">&quot;container&quot;</span>&gt;<br>    &lt;div class=<span class="hljs-string">&quot;row clearfix&quot;</span>&gt;<br>        &lt;div class=<span class="hljs-string">&quot;col-md-12 column&quot;</span>&gt;<br>            &lt;div class=<span class="hljs-string">&quot;page-header&quot;</span>&gt;<br>                &lt;h1&gt;<br>                    &lt;small&gt;ä¿®æ”¹ä¹¦ç±&lt;/small&gt;<br>                &lt;/h1&gt;<br>            &lt;/div&gt;<br>        &lt;/div&gt;<br>    &lt;/div&gt;<br><br>    &lt;form action=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/book/updateBook&quot;</span> method=<span class="hljs-string">&quot;post&quot;</span>&gt;<br>        &lt;%--å‡ºç°çš„é—®é¢˜ï¼šæäº¤äº†ä¿®æ”¹çš„SQLè¯·æ±‚ï¼Œä½†æ˜¯ä¿®æ”¹å¤±è´¥ï¼Œåˆæ¬¡è€ƒè™‘æ˜¯äº‹ç‰©æœªæäº¤çš„é—®é¢˜ï¼Œä½†äº‹ç‰©é…ç½®å®Œæ¯•ä¾æ—§å¤±è´¥--%&gt;<br>        &lt;%--æŸ¥çœ‹SQLè¯­å¥èƒ½å¦æ‰§è¡ŒæˆåŠŸï¼šSQLæ‰§è¡Œå¤±è´¥ï¼Œä¿®æ”¹æœªå®Œæˆ--%&gt;<br>        &lt;%--å‰ç«¯ä¼ é€’éšè—åŸŸ--%&gt;<br>        &lt;input type=<span class="hljs-string">&quot;hidden&quot;</span> name=<span class="hljs-string">&quot;bookID&quot;</span> value=<span class="hljs-string">&quot;$&#123;QBook.bookID&#125;&quot;</span>&gt;<br>        &lt;div class=<span class="hljs-string">&quot;form-group&quot;</span>&gt;<br>            &lt;label&gt;ä¹¦ç±åç§°ï¼š&lt;/label&gt;<br>            &lt;input type=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;bookName&quot;</span> class=<span class="hljs-string">&quot;form-control&quot;</span> value=<span class="hljs-string">&quot;$&#123;QBook.bookName&#125;&quot;</span> required&gt;<br>        &lt;/div&gt;<br>        &lt;div class=<span class="hljs-string">&quot;form-group&quot;</span>&gt;<br>            &lt;label&gt;ä¹¦ç±æ•°é‡ï¼š&lt;/label&gt;<br>            &lt;input type=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;bookCounts&quot;</span> class=<span class="hljs-string">&quot;form-control&quot;</span> value=<span class="hljs-string">&quot;$&#123;QBook.bookCounts&#125;&quot;</span> required&gt;<br>        &lt;/div&gt;<br>        &lt;div class=<span class="hljs-string">&quot;form-group&quot;</span>&gt;<br>            &lt;label&gt;ä¹¦ç±æè¿°ï¼š&lt;/label&gt;<br>            &lt;input type=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;detail&quot;</span> class=<span class="hljs-string">&quot;form-control&quot;</span> value=<span class="hljs-string">&quot;$&#123;QBook.detail&#125;&quot;</span> required&gt;<br>        &lt;/div&gt;<br>        &lt;div class=<span class="hljs-string">&quot;form-group&quot;</span>&gt;<br>            &lt;input type=<span class="hljs-string">&quot;submit&quot;</span> class=<span class="hljs-string">&quot;form-control&quot;</span> value=<span class="hljs-string">&quot;ä¿®æ”¹&quot;</span>&gt;<br>        &lt;/div&gt;<br>    &lt;/form&gt;<br>&lt;/div&gt;<br><br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure></li></ol><p><strong>é…ç½®Tomcatè¿è¡Œæµ‹è¯•</strong></p><h2 id="7-è¿è¡Œç»“æœ"><a href="#7-è¿è¡Œç»“æœ" class="headerlink" title="7. è¿è¡Œç»“æœ"></a>7. è¿è¡Œç»“æœ</h2><p><strong>é¦–é¡µï¼š</strong></p><p><img src="https://img.yiqiangshiyia.cn/blog/%E9%A6%96%E9%A1%B5.png" alt="é¦–é¡µ"></p><p><strong>ä¹¦ç±åˆ—è¡¨ï¼š</strong></p><p><img src="https://img.yiqiangshiyia.cn/blog/%E4%B9%A6%E7%B1%8D%E5%88%97%E8%A1%A8.png" alt="ä¹¦ç±åˆ—è¡¨"></p><p><strong>æ–°å¢ä¹¦ç±ï¼š</strong></p><p><img src="https://img.yiqiangshiyia.cn/blog/%E6%96%B0%E5%A2%9E%E4%B9%A6%E7%B1%8D.png" alt="æ–°å¢ä¹¦ç±"></p><p><strong>ä¿®æ”¹ä¹¦ç±ï¼š</strong></p><p><img src="https://img.yiqiangshiyia.cn/blog/%E4%BF%AE%E6%94%B9%E4%B9%A6%E7%B1%8D.png" alt="ä¿®æ”¹ä¹¦ç±"></p><p><strong>ä¿®æ”¹ä¹¦ç±åé‡å®šå‘ï¼š</strong></p><p><img src="https://img.yiqiangshiyia.cn/blog/%E4%B9%A6%E7%B1%8D%E4%BF%AE%E6%94%B9%E5%90%8E%E9%87%8D%E5%AE%9A%E5%90%91.png" alt="ä¹¦ç±ä¿®æ”¹åé‡å®šå‘"></p><p><strong>æŸ¥è¯¢ä¹¦ç±ï¼š</strong></p><p><img src="https://img.yiqiangshiyia.cn/blog/%E6%9F%A5%E8%AF%A2%E4%B9%A6%E7%B1%8D.png" alt="æŸ¥è¯¢ä¹¦ç±"></p><p><strong>æŸ¥è¯¢ä¹¦ç±æœªæŸ¥åˆ°ï¼š</strong></p><p><img src="https://img.yiqiangshiyia.cn/blog/%E6%9F%A5%E8%AF%A2%E4%B9%A6%E7%B1%8D%E6%9C%AA%E6%9F%A5%E5%88%B0.png" alt="æŸ¥è¯¢ä¹¦ç±æœªæŸ¥åˆ°"></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>SSM</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode 2022ä¹æœˆåˆ·é¢˜æ—¥è®°</title>
    <link href="/2022/09/02/LeetCode-2022%E4%B9%9D%E6%9C%88%E5%88%B7%E9%A2%98%E6%97%A5%E8%AE%B0/"/>
    <url>/2022/09/02/LeetCode-2022%E4%B9%9D%E6%9C%88%E5%88%B7%E9%A2%98%E6%97%A5%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h2 id="LC-687-æœ€é•¿åŒå€¼è·¯å¾„"><a href="#LC-687-æœ€é•¿åŒå€¼è·¯å¾„" class="headerlink" title="LC 687.æœ€é•¿åŒå€¼è·¯å¾„"></a>LC 687.æœ€é•¿åŒå€¼è·¯å¾„</h2><h3 id="é¢˜ç›®å¤§æ„"><a href="#é¢˜ç›®å¤§æ„" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘çš„ root ï¼Œè¿”å›æœ€é•¿çš„è·¯å¾„çš„é•¿åº¦ ï¼Œè¿™ä¸ªè·¯å¾„ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹å…·æœ‰ç›¸åŒå€¼ ã€‚è¿™æ¡è·¯å¾„å¯ä»¥ç»è¿‡ä¹Ÿå¯ä»¥ä¸ç»è¿‡æ ¹èŠ‚ç‚¹ã€‚</p><p>ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„è·¯å¾„é•¿åº¦ ç”±å®ƒä»¬ä¹‹é—´çš„è¾¹æ•°è¡¨ç¤ºã€‚</p><p><a href="https://leetcode.cn/problems/longest-univalue-path/">https://leetcode.cn/problems/longest-univalue-path/</a></p><h3 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p><strong>Key Pointï¼š</strong>è¿™é“é¢˜æ˜¯ä¸€é“äºŒå‰æ ‘è·¯å¾„é—®é¢˜ï¼Œæœ€å…³é”®çš„ç‚¹å°±æ˜¯ç†è§£è¿™é“é¢˜æ˜¯ä¸€ä¸ª<strong>è‡ªä¸‹è€Œä¸Šçš„dfs</strong>ï¼Œä¸åŒäºæ­£å¸¸çš„è‡ªä¸Šè€Œä¸‹çš„dfsã€‚ç†è§£äº†è¿™é“é¢˜çš„è‡ªä¸‹è€Œä¸Šé€’å½’å°±æ¸…æ™°äº†ï¼</p><p>è§£é¢˜æ€è·¯ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢</p><blockquote><p>æˆ‘ä»¬å°†äºŒå‰æ ‘çœ‹æˆä¸€ä¸ªæœ‰å‘å›¾ï¼ˆä»çˆ¶ç»“ç‚¹æŒ‡å‘å­ç»“ç‚¹çš„è¾¹ï¼‰ï¼Œå®šä¹‰åŒå€¼æœ‰å‘è·¯å¾„ä¸ºä»æŸä¸€ç»“ç‚¹å‡ºå‘ï¼Œåˆ°è¾¾å®ƒçš„æŸä¸€åä»£èŠ‚ç‚¹çš„è·¯å¾„ï¼Œä¸”ç»è¿‡çš„ç»“ç‚¹çš„å€¼ç›¸åŒã€‚æœ€é•¿åŒå€¼è·¯å¾„é•¿åº¦å¿…å®šä¸ºæŸä¸€èŠ‚ç‚¹çš„å·¦æœ€é•¿åŒå€¼æœ‰å‘è·¯å¾„é•¿åº¦ä¸å³æœ€é•¿åŒå€¼æœ‰å‘è·¯å¾„é•¿åº¦ä¹‹å’Œã€‚</p><p>ä½¿ç”¨å˜é‡ res ä¿å­˜æœ€é•¿åŒå€¼è·¯å¾„é•¿åº¦ã€‚æˆ‘ä»¬å¯¹æ ¹ç»“ç‚¹è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œå¯¹äºå½“å‰æœç´¢çš„ç»“ç‚¹ rootï¼Œæˆ‘ä»¬åˆ†åˆ«è·å–å®ƒå·¦ç»“ç‚¹çš„æœ€é•¿åŒå€¼æœ‰å‘è·¯å¾„é•¿åº¦ leftï¼Œå³ç»“ç‚¹çš„æœ€é•¿åŒå€¼æœ‰å‘è·¯å¾„é•¿åº¦ rightã€‚å¦‚æœç»“ç‚¹ root çš„å·¦ç»“ç‚¹éç©ºä¸”ç»“ç‚¹ root çš„å€¼ä¸å®ƒçš„å·¦ç»“ç‚¹çš„å€¼ç›¸ç­‰ï¼Œé‚£ä¹ˆç»“ç‚¹ root çš„å·¦æœ€é•¿åŒå€¼æœ‰å‘è·¯å¾„é•¿åº¦ left1 = left+1ï¼Œå¦åˆ™ left1=0ï¼›å¦‚æœç»“ç‚¹ root çš„å³ç»“ç‚¹éç©ºä¸”ç»“ç‚¹ root çš„å€¼ä¸å®ƒçš„å³ç»“ç‚¹çš„å€¼ç›¸ç­‰ï¼Œé‚£ä¹ˆç»“ç‚¹ root çš„å³æœ€é•¿åŒå€¼æœ‰å‘è·¯å¾„é•¿åº¦ right1=right+1ï¼Œå¦åˆ™ right1=0ã€‚ä»¤ res=max(res,left1+right1)ï¼Œå¹¶ä¸”è¿”å›ç»“ç‚¹ root å¯¹åº”çš„æœ€é•¿åŒå€¼æœ‰å‘è·¯å¾„é•¿åº¦ max(left1,right1)ã€‚</p></blockquote><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Definition for a binary tree node.</span><br><span class="hljs-comment"> * struct TreeNode &#123;</span><br><span class="hljs-comment"> *     int val;</span><br><span class="hljs-comment"> *     TreeNode *left;</span><br><span class="hljs-comment"> *     TreeNode *right;</span><br><span class="hljs-comment"> *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) &#123;&#125;</span><br><span class="hljs-comment"> * &#125;;</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">int</span> ans = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">longestUnivaluePath</span><span class="hljs-params">(TreeNode* root)</span> </span>&#123;<br>        <span class="hljs-built_in">dfs</span>(root);<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">dfs</span><span class="hljs-params">(TreeNode* root)</span></span>&#123;<br>        <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">nullptr</span>)&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>        &#125;<br>        <span class="hljs-type">int</span> left = <span class="hljs-built_in">dfs</span>(root-&gt;left);<br>        <span class="hljs-type">int</span> right = <span class="hljs-built_in">dfs</span>(root-&gt;right);<br>        <span class="hljs-type">int</span> curleft = <span class="hljs-number">0</span>, curright = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">if</span>(root-&gt;left &amp;&amp; root-&gt;val == root-&gt;left-&gt;val)&#123;<br>            curleft = left+<span class="hljs-number">1</span>;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(root-&gt;right &amp;&amp; root-&gt;val == root-&gt;right-&gt;val)&#123;<br>            curright = right+<span class="hljs-number">1</span>;<br>        &#125;<br>        ans = <span class="hljs-built_in">max</span>(ans,curleft+curright);<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">max</span>(curleft,curright);<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="LC-707-è®¾è®¡é“¾è¡¨"><a href="#LC-707-è®¾è®¡é“¾è¡¨" class="headerlink" title="LC 707. è®¾è®¡é“¾è¡¨"></a>LC 707. è®¾è®¡é“¾è¡¨</h2><h3 id="é¢˜ç›®å¤§æ„-1"><a href="#é¢˜ç›®å¤§æ„-1" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>è®¾è®¡é“¾è¡¨çš„å®ç°ã€‚æ‚¨å¯ä»¥é€‰æ‹©ä½¿ç”¨å•é“¾è¡¨æˆ–åŒé“¾è¡¨ã€‚å•é“¾è¡¨ä¸­çš„èŠ‚ç‚¹åº”è¯¥å…·æœ‰ä¸¤ä¸ªå±æ€§ï¼šval å’Œ nextã€‚val æ˜¯å½“å‰èŠ‚ç‚¹çš„å€¼ï¼Œnext æ˜¯æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆ/å¼•ç”¨ã€‚å¦‚æœè¦ä½¿ç”¨åŒå‘é“¾è¡¨ï¼Œåˆ™è¿˜éœ€è¦ä¸€ä¸ªå±æ€§ prev ä»¥æŒ‡ç¤ºé“¾è¡¨ä¸­çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹ã€‚å‡è®¾é“¾è¡¨ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½æ˜¯ 0-index çš„ã€‚</p><p>åœ¨é“¾è¡¨ç±»ä¸­å®ç°è¿™äº›åŠŸèƒ½ï¼š</p><ul><li><p>get(index)ï¼šè·å–é“¾è¡¨ä¸­ç¬¬ index ä¸ªèŠ‚ç‚¹çš„å€¼ã€‚å¦‚æœç´¢å¼•æ— æ•ˆï¼Œåˆ™è¿”å›-1ã€‚</p></li><li><p>addAtHead(val)ï¼šåœ¨é“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹å‰æ·»åŠ ä¸€ä¸ªå€¼ä¸º val çš„èŠ‚ç‚¹ã€‚æ’å…¥åï¼Œæ–°èŠ‚ç‚¹å°†æˆä¸ºé“¾è¡¨çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚</p></li><li><p>addAtTail(val)ï¼šå°†å€¼ä¸º val çš„èŠ‚ç‚¹è¿½åŠ åˆ°é“¾è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚</p></li><li><p>addAtIndex(index,val)ï¼šåœ¨é“¾è¡¨ä¸­çš„ç¬¬ index ä¸ªèŠ‚ç‚¹ä¹‹å‰æ·»åŠ å€¼ä¸º val  çš„èŠ‚ç‚¹ã€‚å¦‚æœ index ç­‰äºé“¾è¡¨çš„é•¿åº¦ï¼Œåˆ™è¯¥èŠ‚ç‚¹å°†é™„åŠ åˆ°é“¾è¡¨çš„æœ«å°¾ã€‚å¦‚æœ index å¤§äºé“¾è¡¨é•¿åº¦ï¼Œåˆ™ä¸ä¼šæ’å…¥èŠ‚ç‚¹ã€‚å¦‚æœindexå°äº0ï¼Œåˆ™åœ¨å¤´éƒ¨æ’å…¥èŠ‚ç‚¹ã€‚</p></li><li><p>deleteAtIndex(index)ï¼šå¦‚æœç´¢å¼• index æœ‰æ•ˆï¼Œåˆ™åˆ é™¤é“¾è¡¨ä¸­çš„ç¬¬ index ä¸ªèŠ‚ç‚¹ã€‚</p></li></ul><p>ç¤ºä¾‹ï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">MyLinkedList</span> linkedList = new MyLinkedList();<br><span class="hljs-attribute">linkedList</span>.addAtHead(<span class="hljs-number">1</span>);<br><span class="hljs-attribute">linkedList</span>.addAtTail(<span class="hljs-number">3</span>);<br><span class="hljs-attribute">linkedList</span>.addAtIndex(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>);   //é“¾è¡¨å˜ä¸º<span class="hljs-number">1</span>-&gt; <span class="hljs-number">2</span>-&gt; <span class="hljs-number">3</span><br><span class="hljs-attribute">linkedList</span>.get(<span class="hljs-number">1</span>);            //è¿”å›<span class="hljs-number">2</span><br><span class="hljs-attribute">linkedList</span>.deleteAtIndex(<span class="hljs-number">1</span>);  //ç°åœ¨é“¾è¡¨æ˜¯<span class="hljs-number">1</span>-&gt; <span class="hljs-number">3</span><br><span class="hljs-attribute">linkedList</span>.get(<span class="hljs-number">1</span>);            //è¿”å›<span class="hljs-number">3</span><br></code></pre></td></tr></table></figure><h3 id="é¢˜è§£-1"><a href="#é¢˜è§£-1" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyLinkedList</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-comment">//å®šä¹‰é“¾è¡¨èŠ‚ç‚¹ç»“æ„ä½“</span><br>    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">ListNode</span>&#123;<br>        <span class="hljs-type">int</span> val;  <span class="hljs-comment">///èŠ‚ç‚¹çš„å€¼</span><br>        ListNode* next;  <span class="hljs-comment">//èŠ‚ç‚¹çš„æŒ‡é’ˆï¼ŒæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span><br>        <span class="hljs-comment">//ä¸‰ä¸ªæ„é€ å‡½æ•°</span><br>        <span class="hljs-built_in">ListNode</span>() : <span class="hljs-built_in">val</span>(<span class="hljs-number">0</span>), <span class="hljs-built_in">next</span>(<span class="hljs-literal">nullptr</span>)&#123;&#125;  <span class="hljs-comment">//å‚æ•°ä¸ºç©º</span><br>        <span class="hljs-built_in">ListNode</span>(<span class="hljs-type">int</span> x) : <span class="hljs-built_in">val</span>(x), <span class="hljs-built_in">next</span>(<span class="hljs-literal">nullptr</span>)&#123;&#125;  <span class="hljs-comment">//ä¸€ä¸ªå‚æ•°</span><br>        <span class="hljs-built_in">ListNode</span>(<span class="hljs-type">int</span> x,ListNode* next) : <span class="hljs-built_in">val</span>(x), <span class="hljs-built_in">next</span>(next)&#123;&#125;  <span class="hljs-comment">//ä¸¤ä¸ªå‚æ•°</span><br>    &#125;;<br>    <span class="hljs-type">int</span> len;  <span class="hljs-comment">//é“¾è¡¨é•¿åº¦</span><br>    ListNode* dummyNode;  <span class="hljs-comment">//å®šä¹‰è™šæ‹Ÿå¤´ç»“ç‚¹</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-comment">//æ„é€ å‡½æ•°</span><br>    <span class="hljs-built_in">MyLinkedList</span>() &#123;<br>        len = <span class="hljs-number">0</span>;  <span class="hljs-comment">//é“¾è¡¨é•¿åº¦åˆå§‹åŒ–ä¸º0</span><br>        dummyNode = <span class="hljs-keyword">new</span> <span class="hljs-built_in">ListNode</span>();  <span class="hljs-comment">//åˆ›å»ºé“¾è¡¨è™šæ‹Ÿå¤´èŠ‚ç‚¹</span><br>    &#125;<br>    <br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">get</span><span class="hljs-params">(<span class="hljs-type">int</span> index)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(index &lt; <span class="hljs-number">0</span> || index &gt; len<span class="hljs-number">-1</span>)&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;  <span class="hljs-comment">//æ‰€æœ‰æ— æ•ˆè¿”å›-1</span><br>        &#125;<br>        ListNode* head = dummyNode-&gt;next;  <span class="hljs-comment">//å¤´èŠ‚ç‚¹</span><br>        <span class="hljs-keyword">while</span>(index--)&#123;<br>            head = head-&gt;next;  <span class="hljs-comment">//æ‰¾åˆ°ç¬¬indexä¸ªé“¾è¡¨èŠ‚ç‚¹</span><br>        &#125;<br>        <span class="hljs-keyword">return</span> head-&gt;val;  <span class="hljs-comment">//è¿”å›ç¬¬indexä¸ªé“¾è¡¨èŠ‚ç‚¹çš„å€¼</span><br>    &#125;<br>    <br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">addAtHead</span><span class="hljs-params">(<span class="hljs-type">int</span> val)</span> </span>&#123;<br>        ListNode* node = <span class="hljs-keyword">new</span> <span class="hljs-built_in">ListNode</span>(val);<br>        node-&gt;next = dummyNode-&gt;next;<br>        dummyNode-&gt;next = node;<br>        len++;<br>    &#125;<br>    <br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">addAtTail</span><span class="hljs-params">(<span class="hljs-type">int</span> val)</span> </span>&#123;<br>        ListNode* node = <span class="hljs-keyword">new</span> <span class="hljs-built_in">ListNode</span>(val);<br>        ListNode* cur = dummyNode;<br>        <span class="hljs-keyword">while</span>(cur-&gt;next)&#123;<br>            cur = cur-&gt;next;<br>        &#125;<br>        cur-&gt;next = node;<br>        len++;<br>    &#125;<br>    <br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">addAtIndex</span><span class="hljs-params">(<span class="hljs-type">int</span> index, <span class="hljs-type">int</span> val)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(val&lt;<span class="hljs-number">0</span> || val&gt;<span class="hljs-number">1000</span> || index&gt;len)&#123;<br>            <span class="hljs-keyword">return</span>;  <span class="hljs-comment">//valå€¼æˆ–indexå€¼æ— æ•ˆï¼Œç›´æ¥è¿”å›</span><br>        &#125;<br>        <span class="hljs-keyword">if</span>(index &lt;= <span class="hljs-number">0</span>)&#123;<br>            <span class="hljs-built_in">addAtHead</span>(val);<br>        &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(index == len)&#123;<br>            <span class="hljs-built_in">addAtTail</span>(val);<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            ListNode* node = <span class="hljs-keyword">new</span> <span class="hljs-built_in">ListNode</span>(val);<br>            ListNode* cur = dummyNode;<br>            <span class="hljs-keyword">while</span>(index--)&#123;    <span class="hljs-comment">//ç¬¬index-1èŠ‚ç‚¹çš„ä½ç½®</span><br>                cur = cur-&gt;next;<br>            &#125;<br>            node-&gt;next = cur-&gt;next;<br>            cur-&gt;next = node;<br>            len++;<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">deleteAtIndex</span><span class="hljs-params">(<span class="hljs-type">int</span> index)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(index &lt; <span class="hljs-number">0</span> || index &gt; len<span class="hljs-number">-1</span>)&#123;<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>        ListNode* cur = dummyNode;<br>        ListNode* temp = <span class="hljs-literal">nullptr</span>;<br>        <span class="hljs-keyword">while</span>(index--)&#123;<br>            cur = cur-&gt;next;<br>        &#125;<br>        temp = cur-&gt;next;<br>        cur-&gt;next = cur-&gt;next-&gt;next;<br>        <span class="hljs-keyword">delete</span> temp;<br>        len--;<br>    &#125;<br>&#125;;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Your MyLinkedList object will be instantiated and called as such:</span><br><span class="hljs-comment"> * MyLinkedList* obj = new MyLinkedList();</span><br><span class="hljs-comment"> * int param_1 = obj-&gt;get(index);</span><br><span class="hljs-comment"> * obj-&gt;addAtHead(val);</span><br><span class="hljs-comment"> * obj-&gt;addAtTail(val);</span><br><span class="hljs-comment"> * obj-&gt;addAtIndex(index,val);</span><br><span class="hljs-comment"> * obj-&gt;deleteAtIndex(index);</span><br><span class="hljs-comment"> */</span><br></code></pre></td></tr></table></figure><p>æœ‰è™šæ‹ŸèŠ‚ç‚¹ï¼Œæœ‰é•¿åº¦çš„è¯¦è§£ç‰ˆC++ ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyLinkedList</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">Listnode</span>&#123;<span class="hljs-comment">//å®šä¹‰é“¾è¡¨ç»“ç‚¹ç»“æ„ä½“</span><br>        <span class="hljs-type">int</span> val;<span class="hljs-comment">//ç»“ç‚¹çš„å€¼val</span><br>        Listnode* next;<span class="hljs-comment">//ç»“ç‚¹çš„æŒ‡é’ˆåŸŸnext,æŒ‡å‘ä¸‹ä¸€ä¸ªç»“ç‚¹</span><br>        <span class="hljs-comment">//ä¸‰ä¸ªListnodeæ„é€ å‡½æ•°</span><br>        <span class="hljs-built_in">Listnode</span>():<span class="hljs-built_in">val</span>(<span class="hljs-number">0</span>),<span class="hljs-built_in">next</span>(<span class="hljs-literal">nullptr</span>)&#123;&#125;<span class="hljs-comment">//å‚æ•°ä¸ºç©º</span><br>        <span class="hljs-built_in">Listnode</span>(<span class="hljs-type">int</span> v):<span class="hljs-built_in">val</span>(v),<span class="hljs-built_in">next</span>(<span class="hljs-literal">nullptr</span>)&#123;&#125;<span class="hljs-comment">//ä¸€ä¸ªå‚æ•°</span><br>        <span class="hljs-built_in">Listnode</span>(<span class="hljs-type">int</span> v,Listnode* n):<span class="hljs-built_in">val</span>(v),<span class="hljs-built_in">next</span>(n)&#123;&#125;<span class="hljs-comment">//ä¸¤ä¸ªå‚æ•°</span><br>    &#125;;<br>    <span class="hljs-type">int</span> len;<span class="hljs-comment">//é“¾è¡¨é•¿åº¦</span><br>    Listnode* dummyhead;<span class="hljs-comment">//é“¾è¡¨è™šæ‹Ÿå¤´ç»“ç‚¹</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">MyLinkedList</span>() &#123;<span class="hljs-comment">//MyLinkedListæ„é€ å‡½æ•°</span><br>        len=<span class="hljs-number">0</span>;<span class="hljs-comment">//é“¾è¡¨é•¿åº¦åˆå§‹åŒ–ä¸º0</span><br>        dummyhead=<span class="hljs-keyword">new</span> <span class="hljs-built_in">Listnode</span>();<span class="hljs-comment">//åˆ›å»ºé“¾è¡¨è™šæ‹Ÿå¤´ç»“ç‚¹</span><br>    &#125;<br>    <br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">get</span><span class="hljs-params">(<span class="hljs-type">int</span> index)</span> </span>&#123;<span class="hljs-comment">//è·å–é“¾è¡¨ä¸­ç¬¬indexä¸ªèŠ‚ç‚¹çš„å€¼</span><br>        <span class="hljs-keyword">if</span>(index&lt;<span class="hljs-number">0</span>||index&gt;len<span class="hljs-number">-1</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<span class="hljs-comment">//ç´¢å¼•æ— æ•ˆè¿”å›-1</span><br>        Listnode* head=dummyhead-&gt;next;<span class="hljs-comment">//dummyheadæ˜¯è™šæ‹Ÿå¤´ç»“ç‚¹,è€Œdummyhead-&gt;nextæ˜¯å¤´ç»“ç‚¹</span><br>        <span class="hljs-keyword">while</span>(index--) head=head-&gt;next;<span class="hljs-comment">//æ‰¾åˆ°ç¬¬indexä¸ªé“¾è¡¨ç»“ç‚¹</span><br>        <span class="hljs-keyword">return</span> head-&gt;val;<span class="hljs-comment">//è¿”å›ç¬¬indexä¸ªé“¾è¡¨ç»“ç‚¹çš„å€¼val</span><br>    &#125;<br>    <br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">addAtHead</span><span class="hljs-params">(<span class="hljs-type">int</span> val)</span> </span>&#123;<span class="hljs-comment">//åœ¨é“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹å‰æ·»åŠ ä¸€ä¸ªå€¼ä¸ºvalçš„èŠ‚ç‚¹</span><br>        <span class="hljs-keyword">if</span>(val&lt;<span class="hljs-number">0</span>||val&gt;<span class="hljs-number">1000</span>) <span class="hljs-keyword">return</span>;<span class="hljs-comment">//valå€¼æ— æ•ˆï¼Œç›´æ¥è¿”å›</span><br>        Listnode* n=<span class="hljs-keyword">new</span> <span class="hljs-built_in">Listnode</span>(val);<span class="hljs-comment">//æ–°å»ºå€¼ä¸ºvalçš„é“¾è¡¨ç»“ç‚¹n</span><br>        n-&gt;next=dummyhead-&gt;next;<span class="hljs-comment">//å°†æ–°é“¾è¡¨ç»“ç‚¹næ’å…¥å¤´ç»“ç‚¹å‰,æ–°ç»“ç‚¹çš„æŒ‡é’ˆåŸŸnextä¸ºå¤´ç»“ç‚¹æŒ‡é’ˆ,å³æ–°ç»“ç‚¹nçš„nextæŒ‡é’ˆæŒ‡å‘å¤´ç»“ç‚¹</span><br>        dummyhead-&gt;next=n;<span class="hljs-comment">//è™šæ‹Ÿå¤´ç»“ç‚¹æŒ‡é’ˆåŸŸnextä¸ºæ–°ç»“ç‚¹æŒ‡é’ˆn,å³è™šæ‹Ÿå¤´ç»“ç‚¹çš„nextæŒ‡é’ˆæŒ‡å‘æ–°ç»“ç‚¹n</span><br>        len++;<span class="hljs-comment">//é“¾è¡¨é•¿åº¦åŠ ä¸€</span><br>    &#125;<br>    <br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">addAtTail</span><span class="hljs-params">(<span class="hljs-type">int</span> val)</span> </span>&#123;<span class="hljs-comment">//å°†å€¼ä¸ºvalçš„èŠ‚ç‚¹è¿½åŠ åˆ°é“¾è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ </span><br>        <span class="hljs-keyword">if</span>(val&lt;<span class="hljs-number">0</span>||val&gt;<span class="hljs-number">1000</span>) <span class="hljs-keyword">return</span>;<span class="hljs-comment">//valå€¼æ— æ•ˆï¼Œç›´æ¥è¿”å›</span><br>        Listnode* n=<span class="hljs-keyword">new</span> <span class="hljs-built_in">Listnode</span>(val),*cur=dummyhead;<span class="hljs-comment">//æ–°å»ºå€¼ä¸ºvalçš„é“¾è¡¨ç»“ç‚¹nå’Œå½“å‰ç»“ç‚¹æŒ‡é’ˆå˜é‡cur</span><br>        <span class="hljs-keyword">while</span>(cur-&gt;next) cur=cur-&gt;next;<span class="hljs-comment">//é€šè¿‡curæ‰¾åˆ°é“¾è¡¨ä¸­æœ€åä¸€ä¸ªç»“ç‚¹</span><br>        cur-&gt;next=n;<span class="hljs-comment">//å°†æ–°ç»“ç‚¹næ’å…¥é“¾è¡¨æœ«å°¾,å³æœ€åä¸€ä¸ªç»“ç‚¹çš„æŒ‡é’ˆåŸŸä¸ºæ–°ç»“ç‚¹æŒ‡é’ˆn</span><br>        len++;<span class="hljs-comment">//é“¾è¡¨é•¿åº¦åŠ ä¸€</span><br>    &#125;<br>    <br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">addAtIndex</span><span class="hljs-params">(<span class="hljs-type">int</span> index, <span class="hljs-type">int</span> val)</span> </span>&#123;<span class="hljs-comment">//åœ¨é“¾è¡¨ä¸­çš„ç¬¬indexä¸ªèŠ‚ç‚¹ä¹‹å‰æ·»åŠ å€¼ä¸ºvalçš„èŠ‚ç‚¹</span><br>        <span class="hljs-keyword">if</span>(val&lt;<span class="hljs-number">0</span>||val&gt;<span class="hljs-number">1000</span>||index&gt;len) <span class="hljs-keyword">return</span>;<span class="hljs-comment">//valå€¼æˆ–indexå€¼æ— æ•ˆï¼Œç›´æ¥è¿”å›</span><br>        <span class="hljs-keyword">if</span>(index&lt;=<span class="hljs-number">0</span>) <span class="hljs-built_in">addAtHead</span>(val);<span class="hljs-comment">//index&lt;=0æ—¶,åœ¨å¤´éƒ¨æ’å…¥å€¼ä¸ºvalçš„æ–°ç»“ç‚¹</span><br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(index==len) <span class="hljs-built_in">addAtTail</span>(val);<span class="hljs-comment">//index=lenæ—¶,åœ¨å°¾éƒ¨æ’å…¥å€¼ä¸ºvalçš„æ–°ç»“ç‚¹</span><br>        <span class="hljs-keyword">else</span>&#123;<br>            Listnode* n=<span class="hljs-keyword">new</span> <span class="hljs-built_in">Listnode</span>(val),*cur=dummyhead;<span class="hljs-comment">//æ–°å»ºå€¼ä¸ºvalçš„é“¾è¡¨ç»“ç‚¹nå’Œå½“å‰ç»“ç‚¹æŒ‡é’ˆå˜é‡cur</span><br>            <span class="hljs-keyword">while</span>(index--) cur=cur-&gt;next;<span class="hljs-comment">//æ‰¾åˆ°ç¬¬index-1ä¸ªé“¾è¡¨ç»“ç‚¹</span><br>            n-&gt;next=cur-&gt;next;<span class="hljs-comment">//å°†æ–°é“¾è¡¨ç»“ç‚¹næ’å…¥ç¬¬indexä¸ªé“¾è¡¨ç»“ç‚¹å‰,æ–°ç»“ç‚¹çš„æŒ‡é’ˆåŸŸnextä¸ºç¬¬indexä¸ªé“¾è¡¨ç»“ç‚¹çš„æŒ‡é’ˆåŸŸnext,å³æ–°ç»“ç‚¹nçš„nextæŒ‡é’ˆæŒ‡å‘ç¬¬indexä¸ªé“¾è¡¨ç»“ç‚¹</span><br>            cur-&gt;next=n;<span class="hljs-comment">//ç¬¬indexä¸ªé“¾è¡¨ç»“ç‚¹çš„æŒ‡é’ˆåŸŸnextä¸ºæ–°ç»“ç‚¹æŒ‡é’ˆn,å³ç¬¬indexä¸ªé“¾è¡¨ç»“ç‚¹çš„nextæŒ‡é’ˆæŒ‡å‘æ–°ç»“ç‚¹n</span><br>            len++;<span class="hljs-comment">//é“¾è¡¨é•¿åº¦åŠ ä¸€</span><br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">deleteAtIndex</span><span class="hljs-params">(<span class="hljs-type">int</span> index)</span> </span>&#123;<span class="hljs-comment">//åˆ é™¤é“¾è¡¨ä¸­çš„ç¬¬indexä¸ªèŠ‚ç‚¹</span><br>        <span class="hljs-keyword">if</span>(index&lt;<span class="hljs-number">0</span>||index&gt;len<span class="hljs-number">-1</span>) <span class="hljs-keyword">return</span>;<span class="hljs-comment">//indexå€¼æ— æ•ˆï¼Œç›´æ¥è¿”å›</span><br>        Listnode* cur=dummyhead,*t=<span class="hljs-literal">nullptr</span>;<span class="hljs-comment">//å½“å‰ç»“ç‚¹æŒ‡é’ˆå˜é‡curå’Œä¸´æ—¶ç»“ç‚¹t</span><br>        <span class="hljs-keyword">while</span>(index--) cur=cur-&gt;next;<span class="hljs-comment">//æ‰¾åˆ°ç¬¬index-1ä¸ªç»“ç‚¹</span><br>        t=cur-&gt;next;<span class="hljs-comment">//tä¿å­˜è¦åˆ é™¤çš„ç¬¬indexä¸ªç»“ç‚¹</span><br>        cur-&gt;next=t-&gt;next;<span class="hljs-comment">//ç¬¬index-1ä¸ªç»“ç‚¹çš„æŒ‡é’ˆåŸŸnextä¸ºç¬¬indexä¸ªç»“ç‚¹çš„æŒ‡é’ˆåŸŸnext,å³åˆ é™¤ç¬¬indexä¸ªç»“ç‚¹</span><br>        <span class="hljs-keyword">delete</span> t;<span class="hljs-comment">//é‡Šæ”¾ç¬¬indexä¸ªç»“ç‚¹çš„ç©ºé—´</span><br>        len--;<span class="hljs-comment">//é“¾è¡¨é•¿åº¦å‡ä¸€</span><br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>äºŒå‰æ ‘</tag>
      
      <tag>DFS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SSM-Spring MVC</title>
    <link href="/2022/09/02/SSM-SpringMVC/"/>
    <url>/2022/09/02/SSM-SpringMVC/</url>
    
    <content type="html"><![CDATA[<p><strong>SpringMVCå®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.spring.io/spring/docs/5.2.0.RELEASE/spring-framework-reference/web.html#spring-web">https://docs.spring.io/spring/docs/5.2.0.RELEASE/spring-framework-reference/web.html#spring-web</a></strong></p><h1 id="1-å›é¡¾MVC"><a href="#1-å›é¡¾MVC" class="headerlink" title="1. å›é¡¾MVC"></a>1. å›é¡¾MVC</h1><h2 id="1-1-ä»€ä¹ˆæ˜¯MVC"><a href="#1-1-ä»€ä¹ˆæ˜¯MVC" class="headerlink" title="1.1 ä»€ä¹ˆæ˜¯MVC"></a>1.1 ä»€ä¹ˆæ˜¯MVC</h2><ul><li>MVCæ˜¯æ¨¡å‹ï¼ˆModelï¼‰ã€è§†å›¾ï¼ˆViewï¼‰ã€æ§åˆ¶å™¨ï¼ˆControllerï¼‰çš„ç®€å†™ï¼Œæ˜¯ä¸€ç§è½¯ä»¶è®¾è®¡è§„èŒƒã€‚ </li><li>æ˜¯å°†ä¸šåŠ¡é€»è¾‘ã€æ•°æ®ã€æ˜¾ç¤ºåˆ†ç¦»çš„æ–¹æ³•æ¥ç»„ç»‡ä»£ç ã€‚ </li><li>MVCä¸»è¦ä½œç”¨æ˜¯<strong>é™ä½äº†è§†å›¾ä¸ä¸šåŠ¡é€»è¾‘é—´çš„åŒå‘å¶åˆ</strong>ã€‚ </li><li>MVCä¸æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œ<strong>MVCæ˜¯ä¸€ç§æ¶æ„æ¨¡å¼</strong>ã€‚å½“ç„¶ä¸åŒçš„MVCå­˜åœ¨å·®å¼‚ã€‚</li></ul><p><strong>Modelï¼ˆæ¨¡å‹ï¼‰ï¼š</strong>æ•°æ®æ¨¡å‹ï¼Œæä¾›è¦å±•ç¤ºçš„æ•°æ®ï¼Œå› æ­¤åŒ…å«æ•°æ®å’Œè¡Œä¸ºï¼Œå¯ä»¥è®¤ä¸ºæ˜¯é¢†åŸŸæ¨¡å‹æˆ– JavaBeanç»„ä»¶ï¼ˆåŒ…å«æ•°æ®å’Œè¡Œä¸ºï¼‰ï¼Œä¸è¿‡ç°åœ¨ä¸€èˆ¬éƒ½åˆ†ç¦»å¼€æ¥ï¼šValue Objectï¼ˆæ•°æ®Daoï¼‰å’ŒæœåŠ¡å±‚ï¼ˆè¡Œä¸ºServiceï¼‰ã€‚ä¹Ÿå°±æ˜¯æ¨¡å‹æä¾›äº†æ¨¡å‹æ•°æ®æŸ¥è¯¢å’Œæ¨¡å‹æ•°æ®çš„çŠ¶æ€æ›´æ–°ç­‰åŠŸèƒ½ï¼ŒåŒ…æ‹¬æ•°æ®å’Œä¸šåŠ¡ã€‚ </p><p><strong>Viewï¼ˆè§†å›¾ï¼‰ï¼š</strong>è´Ÿè´£è¿›è¡Œæ¨¡å‹çš„å±•ç¤ºï¼Œä¸€èˆ¬å°±æ˜¯æˆ‘ä»¬è§åˆ°çš„ç”¨æˆ·ç•Œé¢ï¼Œå®¢æˆ·æƒ³çœ‹åˆ°çš„ä¸œè¥¿ã€‚ </p><p><strong>Controllerï¼ˆæ§åˆ¶å™¨ï¼‰ï¼š</strong>æ¥æ”¶ç”¨æˆ·è¯·æ±‚ï¼Œå§”æ‰˜ç»™æ¨¡å‹è¿›è¡Œå¤„ç†ï¼ˆçŠ¶æ€æ”¹å˜ï¼‰ï¼Œå¤„ç†å®Œæ¯•åæŠŠè¿”å›çš„æ¨¡å‹ æ•°æ®è¿”å›ç»™è§†å›¾ï¼Œç”±è§†å›¾è´Ÿè´£å±•ç¤ºã€‚ ä¹Ÿå°±æ˜¯è¯´æ§åˆ¶å™¨åšäº†ä¸ªè°ƒåº¦å‘˜çš„å·¥ä½œã€‚</p><p><strong>æœ€å…¸å‹çš„MVCå°±æ˜¯JSP + servlet + javabeançš„æ¨¡å¼ã€‚</strong></p><p><img src="https://img.yiqiangshiyia.cn/blog/SpringMVC-001.jpg" alt="SpringMVC-001"></p><h2 id="1-2-Model1æ—¶ä»£"><a href="#1-2-Model1æ—¶ä»£" class="headerlink" title="1.2 Model1æ—¶ä»£"></a>1.2 Model1æ—¶ä»£</h2><p><strong>JSPï¼šæœ¬è´¨å°±æ˜¯ä¸€ä¸ªServlet</strong></p><ul><li>åœ¨webæ—©æœŸçš„å¼€å‘ä¸­ï¼Œé€šå¸¸é‡‡ç”¨çš„éƒ½æ˜¯Model1ã€‚ </li><li>Model1ä¸­ï¼Œä¸»è¦åˆ†ä¸ºä¸¤å±‚ï¼Œè§†å›¾å±‚å’Œæ¨¡å‹å±‚ã€‚</li></ul><p>Model1ä¼˜ç‚¹ï¼šæ¶æ„ç®€å•ï¼Œæ¯”è¾ƒé€‚åˆå°å‹é¡¹ç›®å¼€å‘</p><p>Model1ç¼ºç‚¹ï¼šJSPèŒè´£ä¸å•ä¸€ï¼ŒèŒè´£è¿‡é‡ï¼Œä¸ä¾¿äºç»´æŠ¤</p><h2 id="1-3-Model2æ—¶ä»£"><a href="#1-3-Model2æ—¶ä»£" class="headerlink" title="1.3 Model2æ—¶ä»£"></a>1.3 Model2æ—¶ä»£</h2><p>Model2æŠŠä¸€ä¸ªé¡¹ç›®åˆ†æˆä¸‰éƒ¨åˆ†ï¼ŒåŒ…æ‹¬<strong>è§†å›¾ã€æ§åˆ¶ã€æ¨¡å‹</strong>ã€‚</p><ol><li>ç”¨æˆ·å‘è¯·æ±‚</li><li>Servletæ¥æ”¶è¯·æ±‚æ•°æ®ï¼Œå¹¶è°ƒç”¨å¯¹åº”çš„ä¸šåŠ¡é€»è¾‘æ–¹æ³•</li><li>ä¸šåŠ¡å¤„ç†å®Œæ¯•ï¼Œè¿”å›æ›´æ–°åçš„æ•°æ®ç»™servlet</li><li>servletè½¬å‘åˆ°JSPï¼Œç”±JSPæ¥æ¸²æŸ“é¡µé¢</li><li>å“åº”ç»™å‰ç«¯æ›´æ–°åçš„é¡µé¢</li></ol><p><strong>èŒè´£åˆ†æï¼š</strong> </p><p><strong>Controllerï¼šæ§åˆ¶å™¨</strong></p><ol><li>å–å¾—è¡¨å•æ•°æ®</li><li>è°ƒç”¨ä¸šåŠ¡é€»è¾‘</li><li>è½¬å‘æŒ‡å®šçš„é¡µé¢</li></ol><p><strong>Modelï¼šæ¨¡å‹</strong></p><ol><li>ä¸šåŠ¡é€»è¾‘</li><li>ä¿å­˜æ•°æ®çš„çŠ¶æ€</li></ol><p><strong>Viewï¼šè§†å›¾</strong></p><ol><li>æ˜¾ç¤ºé¡µé¢</li></ol><p>Model2è¿™æ ·ä¸ä»…æé«˜çš„ä»£ç çš„å¤ç”¨ç‡ä¸é¡¹ç›®çš„æ‰©å±•æ€§ï¼Œä¸”å¤§å¤§é™ä½äº†é¡¹ç›®çš„ç»´æŠ¤æˆæœ¬ã€‚Model 1æ¨¡å¼çš„å®ç°æ¯”è¾ƒç®€å•ï¼Œé€‚ç”¨äºå¿«é€Ÿå¼€å‘å°è§„æ¨¡é¡¹ç›®ï¼ŒModel1ä¸­JSPé¡µé¢èº«å…¼Viewå’ŒControllerä¸¤ç§è§’è‰²ï¼Œå°†æ§åˆ¶é€»è¾‘å’Œè¡¨ç°é€»è¾‘æ··æ‚åœ¨ä¸€èµ·ï¼Œä»è€Œå¯¼è‡´ä»£ç çš„é‡ç”¨æ€§éå¸¸ä½ï¼Œå¢åŠ äº†åº”ç”¨çš„æ‰©å±•æ€§å’Œç»´æŠ¤çš„éš¾åº¦ã€‚ Model2æ¶ˆé™¤äº†Model1çš„ç¼ºç‚¹ã€‚</p><h2 id="1-4-å›é¡¾Servlet"><a href="#1-4-å›é¡¾Servlet" class="headerlink" title="1.4 å›é¡¾Servlet"></a>1.4 å›é¡¾Servlet</h2><ol><li><p>æ–°å»ºä¸€ä¸ªMavenå·¥ç¨‹å½“åšçˆ¶å·¥ç¨‹ï¼Œåœ¨ pom.xml ä¸­å¯¼å…¥ä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.13.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-webmvc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.3.22<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>servlet-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.5<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet.jsp<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jsp-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jstl<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>å»ºç«‹ä¸€ä¸ª web å­æ¨¡å—</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220902165900.png" alt="QQæˆªå›¾20220902165900"></p></li><li><p>ç¼–å†™ä¸€ä¸ªServletç±»ï¼Œç”¨æ¥å¤„ç†ç”¨æˆ·çš„è¯·æ±‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//å®ç°Servletæ¥å£</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-comment">//1.è·å–å‰ç«¯å‚æ•°</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">method</span> <span class="hljs-operator">=</span> req.getParameter(<span class="hljs-string">&quot;method&quot;</span>);<br>        <span class="hljs-keyword">if</span> (method.equals(<span class="hljs-string">&quot;add&quot;</span>))&#123;<br>            req.getSession().setAttribute(<span class="hljs-string">&quot;msg&quot;</span>,<span class="hljs-string">&quot;æ‰§è¡Œäº†addæ–¹æ³•&quot;</span>);<br>        &#125;<br>        <span class="hljs-keyword">if</span> (method.equals(<span class="hljs-string">&quot;delete&quot;</span>))&#123;<br>            req.getSession().setAttribute(<span class="hljs-string">&quot;msg&quot;</span>,<span class="hljs-string">&quot;æ‰§è¡Œäº†deleteæ–¹æ³•&quot;</span>);<br>        &#125;<br>        <span class="hljs-comment">//2.è°ƒç”¨ä¸šåŠ¡å±‚</span><br><br>        <span class="hljs-comment">//3.è§†å›¾è½¬å‘æˆ–è€…é‡å®šå‘</span><br>        req.getRequestDispatcher(<span class="hljs-string">&quot;/WEB-INF/jsp/hello.jsp&quot;</span>).forward(req,resp);<br>    &#125;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        doGet(req,resp);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™hello.jspï¼Œåœ¨WEB-INFç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªjspçš„æ–‡ä»¶å¤¹ï¼Œæ–°å»ºhello.jsp</p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> isELIgnored=<span class="hljs-string">&quot;false&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>&lt;title&gt;HelloServlet&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>$&#123;msg&#125;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure></li><li><p>åœ¨web.xmlä¸­æ³¨å†ŒServlet</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">web-app</span> <span class="hljs-keyword">PUBLIC</span></span><br><span class="hljs-meta"> <span class="hljs-string">&quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;</span></span><br><span class="hljs-meta"> <span class="hljs-string">&quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;</span> &gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">web-app</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>HelloServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>ssm.study.servlet.HelloServlet <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>HelloServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/HelloServlet<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">web-app</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>é…ç½®Tomcatï¼Œå¹¶å¯åŠ¨æµ‹è¯•</p><ul><li>localhost:8080/user?method=add </li><li>localhost:8080/user?method=delete</li></ul></li></ol><p><strong>MVCæ¡†æ¶è¦åšå“ªäº›äº‹æƒ…</strong> </p><ol><li>å°†urlæ˜ å°„åˆ°javaç±»æˆ–javaç±»çš„æ–¹æ³•</li><li>å°è£…ç”¨æˆ·æäº¤çš„æ•°æ®</li><li>å¤„ç†è¯·æ±‚â€“è°ƒç”¨ç›¸å…³çš„ä¸šåŠ¡å¤„ç†â€“å°è£…å“åº”æ•°æ®</li><li>å°†å“åº”çš„æ•°æ®è¿›è¡Œæ¸²æŸ“ . jsp / html ç­‰è¡¨ç¤ºå±‚æ•°æ®</li></ol><p><strong>è¯´æ˜ï¼š</strong> </p><p>å¸¸è§çš„æœåŠ¡å™¨ç«¯MVCæ¡†æ¶æœ‰ï¼šStrutsã€Spring MVCã€ASP.NET MVCã€Zend Frameworkã€JSFï¼›å¸¸è§å‰ç«¯MVCæ¡†æ¶ï¼švueã€angularjsã€reactã€backboneï¼›ç”±MVCæ¼”åŒ–å‡ºäº†å¦å¤–ä¸€äº›æ¨¡å¼å¦‚ï¼šMVPã€MVVM ç­‰</p><h1 id="2-ä»€ä¹ˆæ˜¯SpringMVC"><a href="#2-ä»€ä¹ˆæ˜¯SpringMVC" class="headerlink" title="2. ä»€ä¹ˆæ˜¯SpringMVC"></a>2. ä»€ä¹ˆæ˜¯SpringMVC</h1><h2 id="2-1-æ¦‚è¿°"><a href="#2-1-æ¦‚è¿°" class="headerlink" title="2.1 æ¦‚è¿°"></a>2.1 æ¦‚è¿°</h2><p><img src="https://img.yiqiangshiyia.cn/blog/SpringMVC-004.jpg" alt="SpringMVC-004"></p><p>Spring MVCæ˜¯Spring Frameworkçš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯åŸºäºJavaå®ç°MVCçš„è½»é‡çº§Webæ¡†æ¶ã€‚ </p><p><a href="https://docs.spring.io/spring/docs/5.2.0.RELEASE/spring-framework-reference/web.html#spring-web">SpringMVCå®˜æ–¹æ–‡æ¡£</a></p><p><strong>ä¸ºä»€ä¹ˆè¦å­¦ä¹ SpringMVCï¼Ÿ</strong> </p><p>Spring MVCçš„ç‰¹ç‚¹ï¼š</p><ol><li>è½»é‡çº§ï¼Œç®€å•æ˜“å­¦</li><li>é«˜æ•ˆ , åŸºäºè¯·æ±‚å“åº”çš„MVCæ¡†æ¶</li><li>ä¸Springå…¼å®¹æ€§å¥½ï¼Œæ— ç¼ç»“åˆ</li><li>çº¦å®šä¼˜äºé…ç½®</li><li>åŠŸèƒ½å¼ºå¤§ï¼šRESTfulã€æ•°æ®éªŒè¯ã€æ ¼å¼åŒ–ã€æœ¬åœ°åŒ–ã€ä¸»é¢˜ç­‰</li><li>ç®€æ´çµæ´» </li></ol><p>Springçš„webæ¡†æ¶å›´ç»•<strong>DispatcherServlet</strong> [ è°ƒåº¦Servlet ] è®¾è®¡ã€‚ </p><p>DispatcherServletçš„ä½œç”¨æ˜¯å°†è¯·æ±‚åˆ†å‘åˆ°ä¸åŒçš„å¤„ç†å™¨ã€‚ä»Spring 2.5å¼€å§‹ï¼Œä½¿ç”¨Java 5æˆ–è€…ä»¥ä¸Šç‰ˆæœ¬çš„ ç”¨æˆ·å¯ä»¥é‡‡ç”¨åŸºäºæ³¨è§£å½¢å¼è¿›è¡Œå¼€å‘ï¼Œååˆ†ç®€æ´</p><p>æ­£å› ä¸ºSpringMVCå¥½ , ç®€å• , ä¾¿æ· , æ˜“å­¦ , å¤©ç”Ÿå’ŒSpringæ— ç¼é›†æˆ(ä½¿ç”¨SpringIoCå’ŒAop) , ä½¿ç”¨çº¦å®šä¼˜äº é…ç½® . èƒ½å¤Ÿè¿›è¡Œç®€å•çš„junitæµ‹è¯• . æ”¯æŒRestfulé£æ ¼ .å¼‚å¸¸å¤„ç† , æœ¬åœ°åŒ– , å›½é™…åŒ– , æ•°æ®éªŒè¯ , ç±»å‹è½¬æ¢ , æ‹¦ æˆªå™¨ ç­‰ç­‰â€¦â€¦æ‰€ä»¥æˆ‘ä»¬è¦å­¦ä¹ </p><h2 id="2-2-ä¸­å¿ƒæ§åˆ¶å™¨"><a href="#2-2-ä¸­å¿ƒæ§åˆ¶å™¨" class="headerlink" title="2.2 ä¸­å¿ƒæ§åˆ¶å™¨"></a>2.2 ä¸­å¿ƒæ§åˆ¶å™¨</h2><p>â€‹        Springçš„webæ¡†æ¶å›´ç»•DispatcherServletè®¾è®¡ã€‚DispatcherServletçš„ä½œç”¨æ˜¯å°†è¯·æ±‚åˆ†å‘åˆ°ä¸åŒçš„å¤„ç†å™¨ã€‚ä»Spring 2.5å¼€å§‹ï¼Œä½¿ç”¨Java 5æˆ–è€…ä»¥ä¸Šç‰ˆæœ¬çš„ç”¨æˆ·å¯ä»¥é‡‡ç”¨åŸºäºæ³¨è§£çš„controllerå£°æ˜æ–¹å¼ã€‚ </p><p>â€‹        Spring MVCæ¡†æ¶åƒè®¸å¤šå…¶ä»–MVCæ¡†æ¶ä¸€æ ·, <strong>ä»¥è¯·æ±‚ä¸ºé©±åŠ¨ , å›´ç»•ä¸€ä¸ªä¸­å¿ƒServletåˆ†æ´¾è¯·æ±‚åŠæä¾›å…¶ä»– åŠŸèƒ½ï¼ŒDispatcherServletæ˜¯ä¸€ä¸ªå®é™…çš„Servlet (å®ƒç»§æ‰¿è‡ªHttpServlet åŸºç±»)ã€‚</strong></p><p><img src="https://img.yiqiangshiyia.cn/blog/SpringMVC-005.jpg" alt="SpringMVC-005"></p><p>SpringMVCçš„åŸç†å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š </p><p>å½“å‘èµ·è¯·æ±‚æ—¶è¢«å‰ç½®çš„æ§åˆ¶å™¨æ‹¦æˆªåˆ°è¯·æ±‚ï¼Œæ ¹æ®è¯·æ±‚å‚æ•°ç”Ÿæˆä»£ç†è¯·æ±‚ï¼Œæ‰¾åˆ°è¯·æ±‚å¯¹åº”çš„å®é™…æ§åˆ¶ å™¨ï¼Œæ§åˆ¶å™¨å¤„ç†è¯·æ±‚ï¼Œåˆ›å»ºæ•°æ®æ¨¡å‹ï¼Œè®¿é—®æ•°æ®åº“ï¼Œå°†æ¨¡å‹å“åº”ç»™ä¸­å¿ƒæ§åˆ¶å™¨ï¼Œæ§åˆ¶å™¨ä½¿ç”¨æ¨¡å‹ä¸è§†å›¾ æ¸²æŸ“è§†å›¾ç»“æœï¼Œå°†ç»“æœè¿”å›ç»™ä¸­å¿ƒæ§åˆ¶å™¨ï¼Œå†å°†ç»“æœè¿”å›ç»™è¯·æ±‚è€…ã€‚</p><p><img src="https://img.yiqiangshiyia.cn/blog/SpringMVC-006.jpg" alt="SpringMVC-006"></p><h2 id="2-3-SpringMVCæ‰§è¡ŒåŸç†"><a href="#2-3-SpringMVCæ‰§è¡ŒåŸç†" class="headerlink" title="2.3 SpringMVCæ‰§è¡ŒåŸç†"></a>2.3 SpringMVCæ‰§è¡ŒåŸç†</h2><p><img src="https://img.yiqiangshiyia.cn/blog/SpringMVC-007.jpg" alt="SpringMVC-007"></p><p>å›¾ä¸ºSpringMVCçš„ä¸€ä¸ªè¾ƒå®Œæ•´çš„æµç¨‹å›¾ï¼Œå®çº¿è¡¨ç¤ºSpringMVCæ¡†æ¶æä¾›çš„æŠ€æœ¯ï¼Œä¸éœ€è¦å¼€å‘è€…å®ç°ï¼Œè™šçº¿è¡¨ç¤ºéœ€è¦å¼€å‘è€…å®ç°ã€‚ </p><p><strong>ç®€è¦åˆ†ææ‰§è¡Œæµç¨‹</strong> </p><ol><li><p>DispatcherServletè¡¨ç¤ºå‰ç½®æ§åˆ¶å™¨ï¼Œæ˜¯æ•´ä¸ªSpringMVCçš„æ§åˆ¶ä¸­å¿ƒã€‚ç”¨æˆ·å‘å‡ºè¯·æ±‚ï¼Œ DispatcherServletæ¥æ”¶è¯·æ±‚å¹¶æ‹¦æˆªè¯·æ±‚</p><p>æˆ‘ä»¬å‡è®¾è¯·æ±‚çš„urlä¸º : <a href="http://localhost:8080/SpringMVC/hello">http://localhost:8080/SpringMVC/hello</a> å¦‚ä¸Šurlæ‹†åˆ†æˆä¸‰éƒ¨åˆ†ï¼š <a href="http://localhost:8080æœåŠ¡å™¨åŸŸå">http://localhost:8080æœåŠ¡å™¨åŸŸå</a> SpringMVCéƒ¨ç½²åœ¨æœåŠ¡å™¨ä¸Šçš„webç«™ç‚¹ helloè¡¨ç¤ºæ§åˆ¶å™¨ é€šè¿‡åˆ†æï¼Œå¦‚ä¸Šurlè¡¨ç¤ºä¸ºï¼šè¯·æ±‚ä½äºæœåŠ¡å™¨localhost:8080ä¸Šçš„SpringMVCç«™ç‚¹çš„helloæ§åˆ¶å™¨</p></li><li><p>HandlerMappingä¸ºå¤„ç†å™¨æ˜ å°„ã€‚DispatcherServletè°ƒç”¨HandlerMapping,HandlerMappingæ ¹æ® è¯·æ±‚urlæŸ¥æ‰¾Handler</p></li><li><p>HandlerExecutionè¡¨ç¤ºå…·ä½“çš„Handler,å…¶ä¸»è¦ä½œç”¨æ˜¯æ ¹æ®urlæŸ¥æ‰¾æ§åˆ¶å™¨ï¼Œå¦‚ä¸Šurlè¢«æŸ¥æ‰¾æ§åˆ¶å™¨ ä¸ºï¼šhello</p></li><li><p>HandlerExecutionå°†è§£æåçš„ä¿¡æ¯ä¼ é€’ç»™DispatcherServlet,å¦‚è§£ææ§åˆ¶å™¨æ˜ å°„ç­‰</p></li><li><p>HandlerAdapterè¡¨ç¤ºå¤„ç†å™¨é€‚é…å™¨ï¼Œå…¶æŒ‰ç…§ç‰¹å®šçš„è§„åˆ™å»æ‰§è¡ŒHandler</p></li><li><p>Handlerè®©å…·ä½“çš„Controlleræ‰§è¡Œ</p></li><li><p>Controllerå°†å…·ä½“çš„æ‰§è¡Œä¿¡æ¯è¿”å›ç»™HandlerAdapter,å¦‚ModelAndView</p></li><li><p>HandlerAdapterå°†è§†å›¾é€»è¾‘åæˆ–æ¨¡å‹ä¼ é€’ç»™DispatcherServlet</p></li><li><p>DispatcherServletè°ƒç”¨è§†å›¾è§£æå™¨(ViewResolver)æ¥è§£æHandlerAdapterä¼ é€’çš„é€»è¾‘è§†å›¾å</p></li><li><p>è§†å›¾è§£æå™¨å°†è§£æçš„é€»è¾‘è§†å›¾åä¼ ç»™DispatcherServlet</p></li><li><p>DispatcherServletæ ¹æ®è§†å›¾è§£æå™¨è§£æçš„è§†å›¾ç»“æœï¼Œè°ƒç”¨å…·ä½“çš„è§†å›¾</p></li><li><p>æœ€ç»ˆè§†å›¾å‘ˆç°ç»™ç”¨æˆ·</p></li></ol><h1 id="3-HelloSpringMVC"><a href="#3-HelloSpringMVC" class="headerlink" title="3. HelloSpringMVC"></a>3. HelloSpringMVC</h1><h2 id="3-1-é…ç½®ç‰ˆ"><a href="#3-1-é…ç½®ç‰ˆ" class="headerlink" title="3.1 é…ç½®ç‰ˆ"></a>3.1 é…ç½®ç‰ˆ</h2><ol><li><p>æ–°å»ºä¸€ä¸ªMoudleï¼ŒSpringMVC-03 ï¼Œæ·»åŠ webçš„æ”¯æŒ</p></li><li><p>ç¡®å®šå¯¼å…¥äº†SpringMVC çš„ä¾èµ–</p></li><li><p>é…ç½®web.xml ï¼Œ æ³¨å†ŒDispatcherServlet</p><p>web.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">web-app</span> <span class="hljs-keyword">PUBLIC</span></span><br><span class="hljs-meta"> <span class="hljs-string">&quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;</span></span><br><span class="hljs-meta"> <span class="hljs-string">&quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;</span> &gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">web-app</span>&gt;</span><br>  <span class="hljs-comment">&lt;!--1.æ³¨å†ŒDispatcherServlet SpringMVCæ ¸å¿ƒï¼šè¯·æ±‚åˆ†å‘å™¨ï¼Œå‰ç«¯æ§åˆ¶å™¨--&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>springmvc<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--å…³è”ä¸€ä¸ªSpringçš„é…ç½®æ–‡ä»¶:springmvc-servlet.xml--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>contextConfigLocation<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>classpath:springmvc-servlet.xml<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--å¯åŠ¨çº§åˆ«-1--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">load-on-startup</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">load-on-startup</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br><br>  <span class="hljs-comment">&lt;!--/ åŒ¹é…æ‰€æœ‰çš„è¯·æ±‚ï¼›ï¼ˆä¸åŒ…æ‹¬.jspï¼‰--&gt;</span><br>  <span class="hljs-comment">&lt;!--/* åŒ¹é…æ‰€æœ‰çš„è¯·æ±‚ï¼›ï¼ˆåŒ…æ‹¬.jspï¼‰--&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>springmvc<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">web-app</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™SpringMVC çš„ é…ç½®æ–‡ä»¶</p><p>springmvc-servlet.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--å¤„ç†å™¨æ˜ å°„å™¨--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping&quot;</span>/&gt;</span><br>    <span class="hljs-comment">&lt;!--å¤„ç†å™¨é€‚é…å™¨--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter&quot;</span>/&gt;</span><br><br>    <span class="hljs-comment">&lt;!--è§†å›¾è§£æå™¨:DispatcherServletç»™ä»–çš„ModelAndView</span><br><span class="hljs-comment">    1.è·å–äº†ModelAndViewçš„æ•°æ®</span><br><span class="hljs-comment">    2.è§£æäº†ModelAndViewçš„è§†å›¾åå­—</span><br><span class="hljs-comment">    3.æ‹¼æ¥è§†å›¾åå­—ï¼Œæ‰¾åˆ°å¯¹åº”è§†å›¾  hello</span><br><span class="hljs-comment">    4.å°†æ•°æ®æ¸²æŸ“åˆ°è¿™ä¸ªè§†å›¾ä¸Š</span><br><span class="hljs-comment">    --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;InternalResourceViewResolver&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--å‰ç¼€--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;prefix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;/WEB-INF/jsp/&quot;</span>/&gt;</span><br>        <span class="hljs-comment">&lt;!--åç¼€--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;suffix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;.jsp&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--Handler--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;/hello&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.controller.HelloController&quot;</span>/&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æ·»åŠ å¤„ç†æ˜ å°„å™¨</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æ·»åŠ å¤„ç†å™¨é€‚é…å™¨</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æ·»åŠ è§†å›¾è§£æå™¨</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--è§†å›¾è§£æå™¨:DispatcherServletç»™ä»–çš„ModelAndView--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;InternalResourceViewResolver&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--å‰ç¼€--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;prefix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;/WEB-INF/jsp/&quot;</span>/&gt;</span><br>    <span class="hljs-comment">&lt;!--åç¼€--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;suffix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;.jsp&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™éœ€è¦æ“ä½œä¸šåŠ¡Controller ï¼Œè¦ä¹ˆå®ç°Controlleræ¥å£ï¼Œè¦ä¹ˆå¢åŠ æ³¨è§£ï¼›éœ€è¦è¿”å›ä¸€ä¸ª ModelAndViewï¼Œè£…æ•°æ®ï¼Œå°è§†å›¾</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> ssm.study.controller;<br><br><span class="hljs-keyword">import</span> org.springframework.web.servlet.ModelAndView;<br><span class="hljs-keyword">import</span> org.springframework.web.servlet.mvc.Controller;<br><br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><br><span class="hljs-comment">//æ³¨æ„ï¼šè¿™é‡Œæˆ‘ä»¬å…ˆå¯¼å…¥Controlleræ¥å£</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloController</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Controller</span> &#123;<br>    <span class="hljs-keyword">public</span> ModelAndView <span class="hljs-title function_">handleRequest</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        <span class="hljs-comment">//ModelAndView æ¨¡å‹å’Œè§†å›¾</span><br>        <span class="hljs-type">ModelAndView</span> <span class="hljs-variable">mv</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ModelAndView</span>();<br><br>        <span class="hljs-comment">//ä¸šåŠ¡ä»£ç </span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;HelloSpringMVC&quot;</span>;<br>        <span class="hljs-comment">//å°è£…å¯¹è±¡ï¼Œæ”¾åœ¨ModelAndViewä¸­</span><br>        mv.addObject(<span class="hljs-string">&quot;msg&quot;</span>,result);<br><br>        <span class="hljs-comment">//å°è£…è¦è·³è½¬çš„è§†å›¾ï¼Œæ”¾åœ¨ModelAndViewä¸­</span><br>        mv.setViewName(<span class="hljs-string">&quot;hello&quot;</span>); <span class="hljs-comment">//: /WEB-INF/jsp/hello.jsp</span><br>        <span class="hljs-keyword">return</span> mv;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>å°†è‡ªå·±çš„ç±»äº¤ç»™SpringIOCå®¹å™¨ï¼Œæ³¨å†Œbean</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--Handler--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;/hello&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.controller.HelloController&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>å†™è¦è·³è½¬çš„jspé¡µé¢ï¼Œæ˜¾ç¤ºModelandViewå­˜æ”¾çš„æ•°æ®ï¼Œä»¥åŠæˆ‘ä»¬çš„æ­£å¸¸é¡µé¢</p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> isELIgnored=<span class="hljs-string">&quot;false&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>&lt;title&gt;SpringMVC&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>$&#123;msg&#125;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure></li><li><p>é…ç½®Tomcat å¯åŠ¨æµ‹è¯•</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220908181057.png" alt="QQæˆªå›¾20220908181057"></p></li></ol><p><strong>å¯èƒ½é‡åˆ°çš„é—®é¢˜ï¼šè®¿é—®å‡ºç°404ï¼Œæ’æŸ¥æ­¥éª¤ï¼š</strong></p><ol><li>æŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºï¼Œçœ‹ä¸€ä¸‹æ˜¯ä¸æ˜¯ç¼ºå°‘äº†ä»€ä¹ˆjaråŒ…</li><li>å¦‚æœjaråŒ…å­˜åœ¨ï¼Œæ˜¾ç¤ºæ— æ³•è¾“å‡ºï¼Œå°±åœ¨IDEAçš„é¡¹ç›®å‘å¸ƒä¸­ï¼Œæ·»åŠ libä¾èµ–</li><li>é‡å¯Tomcat å³å¯è§£å†³</li></ol><h2 id="3-2-æ³¨è§£ç‰ˆ"><a href="#3-2-æ³¨è§£ç‰ˆ" class="headerlink" title="3.2 æ³¨è§£ç‰ˆ"></a>3.2 æ³¨è§£ç‰ˆ</h2><ol><li><p> æ–°å»ºä¸€ä¸ªMoudleï¼ŒSpringMVC-03 ï¼Œæ·»åŠ webçš„æ”¯æŒ</p></li><li><p>ç”±äºMavenå¯èƒ½å­˜åœ¨èµ„æºè¿‡æ»¤çš„é—®é¢˜ï¼Œå®Œå–„é…ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/java<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/resources<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>åœ¨pom.xmlæ–‡ä»¶å¼•å…¥ç›¸å…³çš„ä¾èµ–ï¼šä¸»è¦æœ‰Springæ¡†æ¶æ ¸å¿ƒåº“ã€Spring MVCã€servlet , JSTLç­‰</p></li><li><p>é…ç½®web.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">web-app</span> <span class="hljs-keyword">PUBLIC</span></span><br><span class="hljs-meta"> <span class="hljs-string">&quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;</span></span><br><span class="hljs-meta"> <span class="hljs-string">&quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;</span> &gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">web-app</span>&gt;</span><br>  <span class="hljs-comment">&lt;!--1.æ³¨å†ŒDispatcherServlet SpringMVCæ ¸å¿ƒï¼šè¯·æ±‚åˆ†å‘å™¨ï¼Œå‰ç«¯æ§åˆ¶å™¨--&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>springmvc<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--å…³è”ä¸€ä¸ªSpringçš„é…ç½®æ–‡ä»¶:springmvc-servlet.xml--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>contextConfigLocation<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>classpath:springmvc-servlet.xml<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--å¯åŠ¨çº§åˆ«-1ï¼šæ•°å­—è¶Šå°ï¼Œå¯åŠ¨è¶Šæ—©--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">load-on-startup</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">load-on-startup</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br><br>  <span class="hljs-comment">&lt;!--/ åŒ¹é…æ‰€æœ‰çš„è¯·æ±‚ï¼›ï¼ˆä¸åŒ…æ‹¬.jspï¼‰--&gt;</span><br>  <span class="hljs-comment">&lt;!--/* åŒ¹é…æ‰€æœ‰çš„è¯·æ±‚ï¼›ï¼ˆåŒ…æ‹¬.jspï¼‰--&gt;</span><br>  <span class="hljs-comment">&lt;!--æ‰€æœ‰è¯·æ±‚éƒ½ä¼šè¢«springmvcæ‹¦æˆª --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>springmvc<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">web-app</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æ·»åŠ Spring MVCé…ç½®æ–‡ä»¶</p><p>springmvc-servlet.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:mvc</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/mvc&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/context</span></span><br><span class="hljs-string"><span class="hljs-tag">       https://www.springframework.org/schema/context/spring-context.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/mvc</span></span><br><span class="hljs-string"><span class="hljs-tag">       https://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--è‡ªåŠ¨æ‰«æåŒ…ï¼Œè®©æŒ‡å®šåŒ…ä¸‹çš„æ³¨è§£ç”Ÿæ•ˆ,ç”±IOCå®¹å™¨ç»Ÿä¸€ç®¡ç†--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">&quot;ssm.study.controller&quot;</span>/&gt;</span><br>    <span class="hljs-comment">&lt;!--é™æ€èµ„æºè¿‡æ»¤ï¼šè®©Spring MVCä¸å¤„ç†é™æ€èµ„æº--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mvc:default-servlet-handler</span> /&gt;</span><br><span class="hljs-comment">&lt;!--MVCçš„æ³¨è§£é©±åŠ¨ --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mvc:annotation-driven</span> /&gt;</span><br><br>    <span class="hljs-comment">&lt;!--è§†å›¾è§£æå™¨--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;internalResourceViewResolver&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--å‰ç¼€--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;prefix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;/WEB-INF/jsp/&quot;</span> /&gt;</span><br>        <span class="hljs-comment">&lt;!--åç¼€--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;suffix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;.jsp&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure><p>åœ¨è§†å›¾è§£æå™¨ä¸­æˆ‘ä»¬æŠŠæ‰€æœ‰çš„è§†å›¾éƒ½å­˜æ”¾åœ¨/WEB-INF/ç›®å½•ä¸‹ï¼Œè¿™æ ·å¯ä»¥ä¿è¯è§†å›¾å®‰å…¨ï¼Œå› ä¸ºè¿™ä¸ª ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œå®¢æˆ·ç«¯ä¸èƒ½ç›´æ¥è®¿é—®</p></li><li><p>åˆ›å»ºController</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> ssm.study.controller;<br><br><span class="hljs-keyword">import</span> org.springframework.stereotype.Controller;<br><span class="hljs-keyword">import</span> org.springframework.ui.Model;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;<br><br><span class="hljs-meta">@Controller</span><br><span class="hljs-meta">@RequestMapping(&quot;/HelloController&quot;)</span>  <span class="hljs-comment">//å¤šçº§è·¯å¾„</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloController</span> &#123;<br>    <span class="hljs-meta">@RequestMapping(&quot;/hello&quot;)</span>  <span class="hljs-comment">//çœŸå®è®¿é—®åœ°å€ï¼šé¡¹ç›®å/HelloController/hello</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">hello</span><span class="hljs-params">(Model model)</span>&#123;<br>        <span class="hljs-comment">//å‘æ¨¡å‹ä¸­æ·»åŠ å±æ€§msgä¸å€¼ï¼Œå¯ä»¥åœ¨JSPé¡µé¢ä¸­å–å‡ºå¹¶æ¸²æŸ“</span><br>        model.addAttribute(<span class="hljs-string">&quot;msg&quot;</span>,<span class="hljs-string">&quot;hello,SpringMVC&quot;</span>);<br>        <span class="hljs-comment">//web-inf/jsp/hello.jsp</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;hello&quot;</span>;  <span class="hljs-comment">//è¿”å›çš„å­—ç¬¦ä¸²å°±æ˜¯è§†å›¾çš„åå­—ï¼Œä¼šè¢«è§†å›¾è§£æå™¨å¤„ç†</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>@Controlleræ˜¯ä¸ºäº†è®©Spring IOCå®¹å™¨åˆå§‹åŒ–æ—¶è‡ªåŠ¨æ‰«æåˆ°</li><li>@RequestMappingæ˜¯ä¸ºäº†æ˜ å°„è¯·æ±‚è·¯å¾„ï¼Œè¿™é‡Œå› ä¸ºç±»ä¸æ–¹æ³•ä¸Šéƒ½æœ‰æ˜ å°„æ‰€ä»¥è®¿é—®æ—¶åº”è¯¥ æ˜¯/HelloController/hello</li><li>æ–¹æ³•ä¸­å£°æ˜Modelç±»å‹çš„å‚æ•°æ˜¯ä¸ºäº†æŠŠActionä¸­çš„æ•°æ®å¸¦åˆ°è§†å›¾ä¸­</li><li>æ–¹æ³•è¿”å›çš„ç»“æœæ˜¯è§†å›¾çš„åç§°helloï¼ŒåŠ ä¸Šé…ç½®æ–‡ä»¶ä¸­çš„å‰åç¼€å˜æˆWEB-INF/jsp/hello.jsp</li></ul></li><li><p>åˆ›å»ºè§†å›¾å±‚</p><p>åœ¨WEB-INF/ jspç›®å½•ä¸­åˆ›å»ºhello.jsp ï¼Œè§†å›¾å¯ä»¥ç›´æ¥å–å‡ºå¹¶å±•ç¤ºä»Controllerå¸¦å›çš„ä¿¡æ¯ï¼›å¯ä»¥é€šè¿‡ELè¡¨ç¤ºå–å‡ºModelä¸­å­˜æ”¾çš„å€¼ï¼Œæˆ–è€…å¯¹è±¡</p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> isELIgnored=<span class="hljs-string">&quot;false&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>&lt;title&gt;SpringMVC&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>$&#123;msg&#125;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure></li><li><p>é…ç½®Tomcatè¿è¡Œ</p><p>é…ç½®Tomcat ï¼Œå¼€å¯æœåŠ¡å™¨ ï¼Œè®¿é—®å¯¹åº”çš„è¯·æ±‚è·¯å¾„</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220908175948.png" alt="QQæˆªå›¾20220908175948"></p></li></ol><h2 id="3-3-å°ç»“"><a href="#3-3-å°ç»“" class="headerlink" title="3.3 å°ç»“"></a>3.3 å°ç»“</h2><p>SpringMVCå®ç°æ­¥éª¤ï¼š</p><ol><li>æ–°å»ºä¸€ä¸ªwebé¡¹ç›®</li><li>å¯¼å…¥ç›¸å…³jaråŒ…</li><li>ç¼–å†™web.xml , æ³¨å†ŒDispatcherServlet</li><li>ç¼–å†™springmvcé…ç½®æ–‡ä»¶</li><li>æ¥ä¸‹æ¥å°±æ˜¯å»åˆ›å»ºå¯¹åº”çš„æ§åˆ¶ç±» , controller</li><li>æœ€åå®Œå–„å‰ç«¯è§†å›¾å’Œcontrollerä¹‹é—´çš„å¯¹åº”</li><li>æµ‹è¯•è¿è¡Œè°ƒè¯•</li></ol><p>ä½¿ç”¨springMVCå¿…é¡»é…ç½®çš„ä¸‰å¤§ä»¶ï¼š <strong>å¤„ç†å™¨æ˜ å°„å™¨ã€å¤„ç†å™¨é€‚é…å™¨ã€è§†å›¾è§£æå™¨</strong> </p><p>é€šå¸¸ï¼Œæˆ‘ä»¬åªéœ€è¦<strong>æ‰‹åŠ¨é…ç½®è§†å›¾è§£æå™¨</strong>ï¼Œè€Œ<strong>å¤„ç†å™¨æ˜ å°„å™¨</strong>å’Œ<strong>å¤„ç†å™¨é€‚é…å™¨</strong>åªéœ€è¦å¼€å¯<strong>æ³¨è§£</strong>é©±åŠ¨å³å¯ï¼Œè€Œçœå»äº†å¤§æ®µçš„xmlé…ç½®</p><h1 id="4-ControlleråŠRestFul"><a href="#4-ControlleråŠRestFul" class="headerlink" title="4. ControlleråŠRestFul"></a>4. ControlleråŠRestFul</h1><h2 id="4-1-æ§åˆ¶å™¨Controller"><a href="#4-1-æ§åˆ¶å™¨Controller" class="headerlink" title="4.1 æ§åˆ¶å™¨Controller"></a>4.1 æ§åˆ¶å™¨Controller</h2><ul><li>æ§åˆ¶å™¨å¤æ‚æä¾›è®¿é—®åº”ç”¨ç¨‹åºçš„è¡Œä¸ºï¼Œé€šå¸¸é€šè¿‡æ¥å£å®šä¹‰æˆ–æ³¨è§£å®šä¹‰ä¸¤ç§æ–¹æ³•å®ç°</li><li>æ§åˆ¶å™¨è´Ÿè´£è§£æç”¨æˆ·çš„è¯·æ±‚å¹¶å°†å…¶è½¬æ¢ä¸ºä¸€ä¸ªæ¨¡å‹</li><li>åœ¨Spring MVCä¸­ä¸€ä¸ªæ§åˆ¶å™¨ç±»å¯ä»¥åŒ…å«å¤šä¸ªæ–¹æ³• </li><li>åœ¨Spring MVCä¸­ï¼Œå¯¹äºControllerçš„é…ç½®æ–¹å¼æœ‰å¾ˆå¤šç§</li></ul><h2 id="4-2-å®ç°Controllerçš„æ–¹å¼"><a href="#4-2-å®ç°Controllerçš„æ–¹å¼" class="headerlink" title="4.2 å®ç°Controllerçš„æ–¹å¼"></a>4.2 å®ç°Controllerçš„æ–¹å¼</h2><h3 id="4-2-1-æ¥å£å®ç°"><a href="#4-2-1-æ¥å£å®ç°" class="headerlink" title="4.2.1 æ¥å£å®ç°"></a>4.2.1 æ¥å£å®ç°</h3><p>Controlleræ˜¯ä¸€ä¸ªæ¥å£ï¼Œåœ¨org.springframework.web.servlet.mvcåŒ…ä¸‹ï¼Œæ¥å£ä¸­åªæœ‰ä¸€ä¸ªæ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//å®ç°è¯¥æ¥å£çš„ç±»è·å¾—æ§åˆ¶å™¨åŠŸèƒ½</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Controller</span> &#123;<br><span class="hljs-comment">//å¤„ç†è¯·æ±‚ä¸”è¿”å›ä¸€ä¸ªæ¨¡å‹ä¸è§†å›¾å¯¹è±¡</span><br>ModelAndView <span class="hljs-title function_">handleRequest</span><span class="hljs-params">(HttpServletRequest var1, HttpServletResponse var2)</span> <span class="hljs-keyword">throws</span> Exception;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æµ‹è¯•ï¼š</strong>ï¼ˆè¯¦è§3.1é…ç½®ç‰ˆï¼‰</p><ol><li><p>æ–°å»ºä¸€ä¸ªMoudle</p></li><li><p>ç¼–å†™ä¸€ä¸ªControllerç±»ï¼ŒControllerTest1</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//å®šä¹‰æ§åˆ¶å™¨ï¼Œå®ç°Controlleræ¥å£ï¼Œé‡å†™æ–¹æ³•</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ControllerTest1</span> &#123;<br>    <span class="hljs-keyword">public</span> ModelAndView <span class="hljs-title function_">handleRequest</span><span class="hljs-params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        <span class="hljs-comment">//è¿”å›ä¸€ä¸ªæ¨¡å‹è§†å›¾å¯¹è±¡</span><br>        <span class="hljs-type">ModelAndView</span> <span class="hljs-variable">mv</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ModelAndView</span>();<br>        mv.addObject(<span class="hljs-string">&quot;msg&quot;</span>,<span class="hljs-string">&quot;Test1Controller&quot;</span>);<br>        mv.setViewName(<span class="hljs-string">&quot;test&quot;</span>);<br>        <span class="hljs-keyword">return</span> mv;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™å®Œæ¯•åï¼Œå»Springé…ç½®æ–‡ä»¶ä¸­æ³¨å†Œè¯·æ±‚çš„beanï¼›nameå¯¹åº”è¯·æ±‚è·¯å¾„ï¼Œclasså¯¹åº”å¤„ç†è¯·æ±‚çš„</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;/t1&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.controller.ControllerTest1&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™å‰ç«¯test.jspï¼Œæ³¨æ„åœ¨WEB-INF/jspç›®å½•ä¸‹ç¼–å†™ï¼Œå¯¹åº”æˆ‘ä»¬çš„è§†å›¾è§£æå™¨</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml">&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; isELIgnored=&quot;false&quot; %&gt;<br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>springmvc<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>$&#123;msg&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>é…ç½®Tomcatè¿è¡Œæµ‹è¯•ï¼Œè¿™é‡Œæ²¡æœ‰é¡¹ç›®å‘å¸ƒåé…ç½®çš„å°±æ˜¯ä¸€ä¸ª / ï¼Œæ‰€ä»¥è¯·æ±‚ä¸ç”¨åŠ é¡¹ç›®å</p></li></ol><p><strong>è¯´æ˜ï¼š</strong></p><ul><li>è¯´æ˜ï¼š å®ç°æ¥å£Controllerå®šä¹‰æ§åˆ¶å™¨æ˜¯è¾ƒè€çš„åŠæ³•</li><li>ç¼ºç‚¹ï¼šä¸€ä¸ªæ§åˆ¶å™¨ä¸­åªæœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œå¦‚æœè¦å¤šä¸ªæ–¹æ³•åˆ™éœ€è¦å®šä¹‰å¤šä¸ªControllerï¼›å®šä¹‰çš„æ–¹å¼æ¯”è¾ƒéº»çƒ¦</li></ul><h3 id="4-2-2-æ³¨è§£å®ç°"><a href="#4-2-2-æ³¨è§£å®ç°" class="headerlink" title="4..2.2 æ³¨è§£å®ç°"></a>4..2.2 æ³¨è§£å®ç°</h3><ul><li><p>@Controlleræ³¨è§£ç±»å‹ç”¨äºå£°æ˜Springç±»çš„å®ä¾‹æ˜¯ä¸€ä¸ªæ§åˆ¶å™¨</p><ul><li>åœ¨Spring IOCæ—¶è¿˜æåˆ°äº†å¦å¤–3ä¸ªæ³¨è§£ï¼š<strong>è¯¦è§<a href="https://yiqiangshiyia.cn/2022/08/08/SSM-Spring/#8-Spring%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91">SSM-Spring</a>ï¼š8.4è¡ç”Ÿæ³¨è§£</strong></li></ul></li><li><p>Springå¯ä»¥ä½¿ç”¨æ‰«ææœºåˆ¶æ¥æ‰¾åˆ°åº”ç”¨ç¨‹åºä¸­æ‰€æœ‰åŸºäºæ³¨è§£çš„æ§åˆ¶å™¨ç±»ï¼Œä¸ºäº†ä¿è¯Springèƒ½æ‰¾åˆ°ä½ çš„æ§åˆ¶å™¨ï¼Œéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­å£°æ˜ç»„ä»¶æ‰«æ</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- è‡ªåŠ¨æ‰«ææŒ‡å®šçš„åŒ…ï¼Œä¸‹é¢æ‰€æœ‰æ³¨è§£ç±»äº¤ç»™IOCå®¹å™¨ç®¡ç† --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">&quot;ssm.study.controller&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>å¢åŠ ä¸€ä¸ªControllerTest2ç±»ï¼Œä½¿ç”¨æ³¨è§£å®ç°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span>  <span class="hljs-comment">//ä»£è¡¨è¿™ä¸ªç±»ä¼šè¢«Springæ¥ç®¡</span><br><span class="hljs-comment">//è¢«è¿™ä¸ªæ³¨è§£çš„ç±»ä¸­çš„æ‰€æœ‰æ–¹æ³•ï¼Œå¦‚æœè¿”å›å€¼æ˜¯Stringï¼Œå¹¶ä¸”æœ‰å…·ä½“çš„é¡µé¢å¯ä»¥è·³è½¬ï¼Œé‚£ä¹ˆå°±ä¼šè¢«è§†å›¾è§£æå™¨è§£æ</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ControllerTest2</span>&#123;<br><span class="hljs-meta">@RequestMapping(&quot;/t2&quot;)</span>  <span class="hljs-comment">//æ˜ å°„è®¿é—®è·¯å¾„</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">index</span><span class="hljs-params">(Model model)</span>&#123;<br><span class="hljs-comment">//Spring MVCä¼šè‡ªåŠ¨å®ä¾‹åŒ–ä¸€ä¸ªModelå¯¹è±¡ç”¨äºå‘è§†å›¾ä¸­ä¼ å€¼</span><br>model.addAttribute(<span class="hljs-string">&quot;msg&quot;</span>, <span class="hljs-string">&quot;ControllerTest2&quot;</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-string">&quot;test&quot;</span>;  <span class="hljs-comment">//è¿”å›è§†å›¾ä½ç½®ï¼šweb-inf/jsp/test.jsp</span><br>&#125;<br>    <br>    <span class="hljs-meta">@RequestMapping(&quot;/t3&quot;)</span>  <span class="hljs-comment">//æ˜ å°„è®¿é—®è·¯å¾„</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">index</span><span class="hljs-params">(Model model)</span>&#123;<br><span class="hljs-comment">//Spring MVCä¼šè‡ªåŠ¨å®ä¾‹åŒ–ä¸€ä¸ªModelå¯¹è±¡ç”¨äºå‘è§†å›¾ä¸­ä¼ å€¼</span><br>model.addAttribute(<span class="hljs-string">&quot;msg&quot;</span>, <span class="hljs-string">&quot;ControllerTest2&quot;</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-string">&quot;test&quot;</span>;  <span class="hljs-comment">//è¿”å›è§†å›¾ä½ç½®ï¼šweb-inf/jsp/test.jsp</span><br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>è¿è¡Œtomcatæµ‹è¯•</p><p>è®¿é—®ï¼š<a href="http://localhost:8080/SpringMVC-03/t2">http://localhost:8080/SpringMVC-03/t2</a> å’Œ <a href="http://localhost:8080/SpringMVC-03/t3%EF%BC%8C%E5%8F%AF%E4%BB%A5%E5%8F%91%E7%8E%B0%E4%B8%A4%E4%B8%AA%E8%AF%B7%E6%B1%82%E9%83%BD%E5%8F%AF%E4%BB%A5%E6%8C%87%E5%90%91%E4%B8%80%E4%B8%AA%E8%A7%86%E5%9B%BE%EF%BC%8C%E4%BD%86%E6%98%AF%E9%A1%B5%E9%9D%A2%E7%BB%93%E6%9E%9C%E7%9A%84%E7%BB%93%E6%9E%9C%E6%98%AF%E4%B8%8D%E4%B8%80%E6%A0%B7%E7%9A%84%EF%BC%8C%E4%BB%8E%E8%BF%99%E9%87%8C%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%87%BA%E8%A7%86%E5%9B%BE%E6%98%AF%E8%A2%AB%E5%A4%8D%E7%94%A8%E7%9A%84%EF%BC%8C%E8%80%8C%E6%8E%A7%E5%88%B6%E5%99%A8%E4%B8%8E%E8%A7%86%E5%9B%BE%E4%B9%8B%E9%97%B4%E6%98%AF%E5%BC%B1%E5%81%B6%E5%90%88%E5%85%B3%E7%B3%BB">http://localhost:8080/SpringMVC-03/t3ï¼Œå¯ä»¥å‘ç°ä¸¤ä¸ªè¯·æ±‚éƒ½å¯ä»¥æŒ‡å‘ä¸€ä¸ªè§†å›¾ï¼Œä½†æ˜¯é¡µé¢ç»“æœçš„ç»“æœæ˜¯ä¸ä¸€æ ·çš„ï¼Œä»è¿™é‡Œå¯ä»¥çœ‹å‡ºè§†å›¾æ˜¯è¢«å¤ç”¨çš„ï¼Œè€Œæ§åˆ¶å™¨ä¸è§†å›¾ä¹‹é—´æ˜¯å¼±å¶åˆå…³ç³»</a></p></li><li><p>è¯´æ˜ï¼šæ³¨è§£æ˜¯å¹³æ—¶ä½¿ç”¨æœ€å¤šçš„æ–¹å¼</p></li></ul><h2 id="4-4-RequestMapping"><a href="#4-4-RequestMapping" class="headerlink" title="4.4 @RequestMapping"></a>4.4 @RequestMapping</h2><p><strong>@RequestMapping</strong></p><ul><li><p>@RequestMappingæ³¨è§£ç”¨äºæ˜ å°„urlåˆ°æ§åˆ¶å™¨ç±»æˆ–ä¸€ä¸ªç‰¹å®šçš„å¤„ç†ç¨‹åºæ–¹æ³•ã€‚å¯ç”¨äºç±»æˆ–æ–¹æ³•ä¸Šã€‚ç”¨äºç±»ä¸Šï¼Œè¡¨ç¤ºç±»ä¸­çš„æ‰€æœ‰å“åº”è¯·æ±‚çš„æ–¹æ³•éƒ½æ˜¯ä»¥è¯¥åœ°å€ä½œä¸ºçˆ¶è·¯å¾„</p></li><li><p>åªæ³¨è§£åœ¨æ–¹æ³•ä¸Šé¢</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TestController</span> &#123;<br><span class="hljs-meta">@RequestMapping(&quot;/h1&quot;)</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">test</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-keyword">return</span> <span class="hljs-string">&quot;test&quot;</span>;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å¯åŠ¨Tomcatè®¿é—®è·¯å¾„ï¼š<a href="http://localhost:8080/%E9%A1%B9%E7%9B%AE%E5%90%8D/h1">http://localhost:8080/é¡¹ç›®å/h1</a></p></li><li><p>åŒæ—¶æ³¨è§£åœ¨ç±»ä¸æ–¹æ³•ä¸Šé¢</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-meta">@RequestMapping(&quot;/admin&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TestController</span> &#123;<br><span class="hljs-meta">@RequestMapping(&quot;/h1&quot;)</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">test</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-keyword">return</span> <span class="hljs-string">&quot;test&quot;</span>;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å¯åŠ¨Tomcatè®¿é—®è·¯å¾„ï¼š<a href="http://localhost:8080/%E9%A1%B9%E7%9B%AE%E5%90%8D/admin/h1%EF%BC%8C%E9%9C%80%E8%A6%81%E5%85%88%E6%8C%87%E5%AE%9A%E7%B1%BB%E7%9A%84%E8%B7%AF%E5%BE%84%E5%86%8D%E6%8C%87%E5%AE%9A%E6%96%B9%E6%B3%95%E7%9A%84%E8%B7%AF%E5%BE%84">http://localhost:8080/é¡¹ç›®å/admin/h1ï¼Œéœ€è¦å…ˆæŒ‡å®šç±»çš„è·¯å¾„å†æŒ‡å®šæ–¹æ³•çš„è·¯å¾„</a></p></li></ul><h2 id="4-5-RestFul-é£æ ¼"><a href="#4-5-RestFul-é£æ ¼" class="headerlink" title="4.5 RestFul é£æ ¼"></a>4.5 RestFul é£æ ¼</h2><p><strong>æ¦‚å¿µï¼š</strong>Restfulå°±æ˜¯ä¸€ä¸ªèµ„æºå®šä½åŠèµ„æºæ“ä½œçš„é£æ ¼ã€‚ä¸æ˜¯æ ‡å‡†ä¹Ÿä¸æ˜¯åè®®ï¼Œåªæ˜¯ä¸€ç§é£æ ¼ã€‚åŸºäºè¿™ä¸ªé£æ ¼è®¾è®¡çš„è½¯ä»¶å¯ä»¥æ›´ç®€æ´ï¼Œæ›´æœ‰å±‚æ¬¡ï¼Œæ›´æ˜“äºå®ç°ç¼“å­˜ç­‰æœºåˆ¶ã€‚ </p><p><strong>åŠŸèƒ½</strong></p><ul><li><p>èµ„æºï¼šäº’è”ç½‘æ‰€æœ‰çš„äº‹ç‰©éƒ½å¯ä»¥è¢«æŠ½è±¡ä¸ºèµ„æº </p></li><li><p>èµ„æºæ“ä½œï¼šä½¿ç”¨POSTã€DELETEã€PUTã€GETï¼Œä½¿ç”¨ä¸åŒæ–¹æ³•å¯¹èµ„æºè¿›è¡Œæ“ä½œã€‚ </p></li><li><p>åˆ†åˆ«å¯¹åº”æ·»åŠ ã€åˆ é™¤ã€ä¿®æ”¹ã€æŸ¥è¯¢ã€‚ </p></li></ul><p><strong>ä¼ ç»Ÿæ–¹å¼æ“ä½œèµ„æºï¼š</strong>é€šè¿‡ä¸åŒçš„å‚æ•°æ¥å®ç°ä¸åŒçš„æ•ˆæœï¼Œæ–¹æ³•å•ä¸€ï¼Œpost å’Œ get </p><ul><li><p><a href="http://127.0.0.1/item/queryItem.action?id=1">http://127.0.0.1/item/queryItem.action?id=1</a>  â€”-  æŸ¥è¯¢ GET  </p></li><li><p><a href="http://127.0.0.1/item/saveItem.action">http://127.0.0.1/item/saveItem.action</a>  â€”-  æ–°å¢ POST </p></li><li><p><a href="http://127.0.0.1/item/updateItem.action">http://127.0.0.1/item/updateItem.action</a>  â€”-  æ›´æ–° POST  </p></li><li><p><a href="http://127.0.0.1/item/deleteItem.action?id=1">http://127.0.0.1/item/deleteItem.action?id=1</a>  â€”-  åˆ é™¤ GETæˆ–POST </p></li></ul><p><strong>ä½¿ç”¨RESTfulæ“ä½œèµ„æº</strong> ï¼š å¯ä»¥é€šè¿‡ä¸åŒçš„è¯·æ±‚æ–¹å¼æ¥å®ç°ä¸åŒçš„æ•ˆæœï¼Œå¦‚ä¸‹ï¼šè¯·æ±‚åœ°å€ä¸€æ ·ï¼Œä½†æ˜¯åŠŸèƒ½å¯ä»¥ä¸åŒ</p><ul><li><p><a href="http://127.0.0.1/item/1">http://127.0.0.1/item/1</a>  â€”-  æŸ¥è¯¢ GET  </p></li><li><p><a href="http://127.0.0.1/item">http://127.0.0.1/item</a>  â€”-  æ–°å¢ POST  </p></li><li><p><a href="http://127.0.0.1/item">http://127.0.0.1/item</a>  â€”-  æ›´æ–° PUT  </p></li><li><p><a href="http://127.0.0.1/item/1">http://127.0.0.1/item/1</a>  â€”-  åˆ é™¤ DELETE </p></li></ul><p><strong>æµ‹è¯•ï¼š</strong> </p><ol><li><p>åœ¨æ–°å»ºä¸€ä¸ªç±» RestFulController</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RestFulController</span> &#123;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>åœ¨Spring MVCä¸­å¯ä»¥ä½¿ç”¨ @PathVariable æ³¨è§£ï¼Œè®©æ–¹æ³•å‚æ•°çš„å€¼å¯¹åº”ç»‘å®šåˆ°ä¸€ä¸ªURLæ¨¡æ¿å˜é‡ä¸Š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RestFulController</span> &#123;<br><br>    <span class="hljs-comment">//åŸæ¥çš„ï¼šhttp://localhost:8080/SpringMVC-03/commit?a=1&amp;b=2</span><br>    <span class="hljs-comment">//RestFulé£æ ¼ï¼šhttp://localhost:8080/SpringMVC-03/commit/1/2</span><br><br>    <span class="hljs-meta">@RequestMapping(&quot;/commit/&#123;p1&#125;/&#123;p2&#125;&quot;)</span>  <span class="hljs-comment">//æ˜ å°„è®¿é—®è·¯å¾„</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">index</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> <span class="hljs-type">int</span> p1, <span class="hljs-meta">@PathVariable</span> <span class="hljs-type">int</span> p2, Model model)</span>&#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> p1+p2;<br>        <span class="hljs-comment">//Spring MVCä¼šè‡ªåŠ¨å®ä¾‹åŒ–ä¸€ä¸ªModelå¯¹è±¡ç”¨äºå‘è§†å›¾ä¸­ä¼ å€¼</span><br>        model.addAttribute(<span class="hljs-string">&quot;msg&quot;</span>, <span class="hljs-string">&quot;ç»“æœï¼š&quot;</span>+result);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;test&quot;</span>;  <span class="hljs-comment">//è¿”å›è§†å›¾ä½ç½®</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><p>å¯åŠ¨Tomcatè®¿é—®ï¼š<a href="http://localhost:8080/SpringMVC-03/commit/1/2">http://localhost:8080/SpringMVC-03/commit/1/2</a></p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220908180314.png" alt="QQæˆªå›¾20220908180314"></p><p>æ€è€ƒï¼šä½¿ç”¨è·¯å¾„å˜é‡çš„å¥½å¤„ï¼Ÿ </p><ul><li>ä½¿è·¯å¾„å˜å¾—æ›´åŠ ç®€æ´ï¼› è·å¾—å‚æ•°æ›´åŠ æ–¹ä¾¿ï¼Œæ¡†æ¶ä¼šè‡ªåŠ¨è¿›è¡Œç±»å‹è½¬æ¢ã€‚ </li><li>é€šè¿‡è·¯å¾„å˜é‡çš„ç±»å‹å¯ä»¥çº¦æŸè®¿é—®å‚æ•°ï¼Œå¦‚æœç±»å‹ä¸ä¸€æ ·ï¼Œåˆ™è®¿é—®ä¸åˆ°å¯¹åº”çš„è¯·æ±‚æ–¹æ³•ï¼Œå¦‚è¿™ é‡Œè®¿é—®æ˜¯çš„è·¯å¾„æ˜¯/commit/1/aï¼Œåˆ™è·¯å¾„ä¸æ–¹æ³•ä¸åŒ¹é…ï¼Œè€Œä¸ä¼šæ˜¯å‚æ•°è½¬æ¢å¤±è´¥ã€‚</li></ul></li><li><p>ä¿®æ”¹å¯¹åº”çš„å‚æ•°ç±»å‹ï¼Œå†æ¬¡æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(&quot;/commit/&#123;p1&#125;/&#123;p2&#125;&quot;)</span>  <span class="hljs-comment">//æ˜ å°„è®¿é—®è·¯å¾„</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">index</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> <span class="hljs-type">int</span> p1, <span class="hljs-meta">@PathVariable</span> String p2, Model model)</span>&#123;<br>    <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> p1+p2;<br><span class="hljs-comment">//Spring MVCä¼šè‡ªåŠ¨å®ä¾‹åŒ–ä¸€ä¸ªModelå¯¹è±¡ç”¨äºå‘è§†å›¾ä¸­ä¼ å€¼</span><br>model.addAttribute(<span class="hljs-string">&quot;msg&quot;</span>, <span class="hljs-string">&quot;ç»“æœï¼š&quot;</span>+result);<br><span class="hljs-keyword">return</span> <span class="hljs-string">&quot;test&quot;</span>;  <span class="hljs-comment">//è¿”å›è§†å›¾ä½ç½®</span><br>&#125;<br></code></pre></td></tr></table></figure></li></ol><p><strong>ä½¿ç”¨methodå±æ€§æŒ‡å®šè¯·æ±‚ç±»å‹</strong> </p><p>ç”¨äºçº¦æŸè¯·æ±‚çš„ç±»å‹ï¼Œå¯ä»¥æ”¶çª„è¯·æ±‚èŒƒå›´ã€‚æŒ‡å®šè¯·æ±‚è°“è¯çš„ç±»å‹å¦‚GET, POST, HEAD, OPTIONS, PUT, PATCH, DELETE, TRACEç­‰ </p><p>æµ‹è¯•ï¼š</p><ul><li><p>å¢åŠ ä¸€ä¸ªæ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//æ˜ å°„è®¿é—®è·¯å¾„,å¿…é¡»æ˜¯POSTè¯·æ±‚</span><br><span class="hljs-meta">@RequestMapping(value = &quot;/hello&quot;,method = &#123;RequestMethod.POST&#125;)</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">index2</span><span class="hljs-params">(Model model)</span>&#123;<br>model.addAttribute(<span class="hljs-string">&quot;msg&quot;</span>, <span class="hljs-string">&quot;hello!&quot;</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-string">&quot;test&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨æµè§ˆå™¨åœ°å€æ è¿›è¡Œè®¿é—®é»˜è®¤æ˜¯Getè¯·æ±‚ï¼Œä¼šæŠ¥é”™405</p></li><li><p>å¦‚æœå°†POSTä¿®æ”¹ä¸ºGETåˆ™æ­£å¸¸äº†</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//æ˜ å°„è®¿é—®è·¯å¾„,å¿…é¡»æ˜¯Getè¯·æ±‚</span><br><span class="hljs-meta">@RequestMapping(value = &quot;/hello&quot;,method = &#123;RequestMethod.GET&#125;)</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">index2</span><span class="hljs-params">(Model model)</span>&#123;<br>model.addAttribute(<span class="hljs-string">&quot;msg&quot;</span>, <span class="hljs-string">&quot;hello!&quot;</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-string">&quot;test&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><p><strong>å°ç»“ï¼š</strong> </p><p>Spring MVC çš„ @RequestMapping æ³¨è§£èƒ½å¤Ÿå¤„ç† HTTP è¯·æ±‚çš„æ–¹æ³•, æ¯”å¦‚ GET, PUT, POST, DELETE ä»¥ åŠ PATCH</p><p><strong>æ‰€æœ‰çš„åœ°å€æ è¯·æ±‚é»˜è®¤éƒ½ä¼šæ˜¯ HTTP GET ç±»å‹çš„</strong></p><p>æ–¹æ³•çº§åˆ«çš„æ³¨è§£å˜ä½“æœ‰å¦‚ä¸‹å‡ ä¸ªï¼šç»„åˆæ³¨è§£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@GetMapping</span><br><span class="hljs-meta">@PostMapping</span><br><span class="hljs-meta">@PutMapping</span><br><span class="hljs-meta">@DeleteMapping</span><br><span class="hljs-meta">@PatchMapping</span><br></code></pre></td></tr></table></figure><p>@GetMapping æ˜¯ä¸€ä¸ªç»„åˆæ³¨è§£</p><p>å®ƒæ‰€æ‰®æ¼”çš„æ˜¯ @RequestMapping(method =RequestMethod.GET) çš„ä¸€ä¸ªå¿«æ·æ–¹å¼</p><h1 id="5-ç»“æœè·³è½¬æ–¹å¼"><a href="#5-ç»“æœè·³è½¬æ–¹å¼" class="headerlink" title="5. ç»“æœè·³è½¬æ–¹å¼"></a>5. ç»“æœè·³è½¬æ–¹å¼</h1><h2 id="5-1-ModelAndView"><a href="#5-1-ModelAndView" class="headerlink" title="5.1 ModelAndView"></a>5.1 ModelAndView</h2><p>è®¾ç½®ModelAndViewå¯¹è±¡ , æ ¹æ®viewçš„åç§° , å’Œè§†å›¾è§£æå™¨è·³åˆ°æŒ‡å®šçš„é¡µé¢</p><p>é¡µé¢ : {è§†å›¾è§£æå™¨å‰ç¼€} + viewName +{è§†å›¾è§£æå™¨åç¼€}</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- è§†å›¾è§£æå™¨ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span></span><br><span class="hljs-tag"><span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;internalResourceViewResolver&quot;</span>&gt;</span><br><span class="hljs-comment">&lt;!-- å‰ç¼€ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;prefix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;/WEB-INF/jsp/&quot;</span> /&gt;</span><br><span class="hljs-comment">&lt;!-- åç¼€ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;suffix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;.jsp&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å¯¹åº”çš„controllerç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ControllerTest1</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Controller</span> &#123;<br>    <span class="hljs-keyword">public</span> ModelAndView <span class="hljs-title function_">handleRequest</span><span class="hljs-params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br><span class="hljs-comment">//è¿”å›ä¸€ä¸ªæ¨¡å‹è§†å›¾å¯¹è±¡</span><br><span class="hljs-type">ModelAndView</span> <span class="hljs-variable">mv</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ModelAndView</span>();<br>mv.addObject(<span class="hljs-string">&quot;msg&quot;</span>,<span class="hljs-string">&quot;ControllerTest1&quot;</span>);<br>mv.setViewName(<span class="hljs-string">&quot;test&quot;</span>);<br><span class="hljs-keyword">return</span> mv;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="5-2-ServletAPI"><a href="#5-2-ServletAPI" class="headerlink" title="5.2 ServletAPI"></a>5.2 ServletAPI</h2><p>é€šè¿‡è®¾ç½®ServletAPI , ä¸éœ€è¦è§†å›¾è§£æå™¨</p><ol><li>é€šè¿‡HttpServletResponseè¿›è¡Œè¾“å‡º</li><li>é€šè¿‡HttpServletResponseå®ç°é‡å®šå‘</li><li>é€šè¿‡HttpServletResponseå®ç°è½¬å‘</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ResultGo</span> &#123;<br>    <span class="hljs-meta">@RequestMapping(&quot;/result/t1&quot;)</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test1</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse rsp)</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        rsp.getWriter().println(<span class="hljs-string">&quot;Hello,Spring BY servlet API&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@RequestMapping(&quot;/result/t2&quot;)</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test2</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse rsp)</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        rsp.sendRedirect(<span class="hljs-string">&quot;/index.jsp&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@RequestMapping(&quot;/result/t3&quot;)</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test3</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse rsp)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        <span class="hljs-comment">//è½¬å‘</span><br>        req.setAttribute(<span class="hljs-string">&quot;msg&quot;</span>,<span class="hljs-string">&quot;/result/t3&quot;</span>);<br>        req.getRequestDispatcher(<span class="hljs-string">&quot;/WEB-INF/jsp/test.jsp&quot;</span>).forward(req,rsp);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="5-3-SpringMVC"><a href="#5-3-SpringMVC" class="headerlink" title="5.3 SpringMVC"></a>5.3 SpringMVC</h2><p><strong>é€šè¿‡SpringMVCæ¥å®ç°è½¬å‘å’Œé‡å®šå‘ - æ— éœ€è§†å›¾è§£æå™¨</strong></p><p>æµ‹è¯•å‰ï¼Œéœ€è¦å°†è§†å›¾è§£æå™¨æ³¨é‡Šæ‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ResultSpringMVC</span> &#123;<br><span class="hljs-meta">@RequestMapping(&quot;/rsm/t1&quot;)</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">test1</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-comment">//è½¬å‘</span><br><span class="hljs-keyword">return</span> <span class="hljs-string">&quot;/index.jsp&quot;</span>;<br>&#125;<br><br>    <span class="hljs-meta">@RequestMapping(&quot;/rsm/t2&quot;)</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">test2</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-comment">//è½¬å‘äºŒ</span><br><span class="hljs-keyword">return</span> <span class="hljs-string">&quot;forward:/index.jsp&quot;</span>;<br>&#125;<br><br>    <span class="hljs-meta">@RequestMapping(&quot;/rsm/t3&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">test3</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-comment">//é‡å®šå‘</span><br><span class="hljs-keyword">return</span> <span class="hljs-string">&quot;redirect:/index.jsp&quot;</span>;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>é€šè¿‡SpringMVCæ¥å®ç°è½¬å‘å’Œé‡å®šå‘ - æœ‰è§†å›¾è§£æå™¨</strong></p><p>é‡å®šå‘ , ä¸éœ€è¦è§†å›¾è§£æå™¨ , æœ¬è´¨å°±æ˜¯é‡æ–°è¯·æ±‚ä¸€ä¸ªæ–°è·¯å¾„</p><p>å¯ä»¥é‡å®šå‘åˆ°å¦å¤–ä¸€ä¸ªè¯·æ±‚å®ç°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ResultSpringMVC2</span> &#123;<br><span class="hljs-meta">@RequestMapping(&quot;/rsm2/t1&quot;)</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">test1</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-comment">//è½¬å‘</span><br><span class="hljs-keyword">return</span> <span class="hljs-string">&quot;test&quot;</span>;<br>&#125;<br><br>    <span class="hljs-meta">@RequestMapping(&quot;/rsm2/t2&quot;)</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">test2</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-comment">//é‡å®šå‘</span><br><span class="hljs-keyword">return</span> <span class="hljs-string">&quot;redirect:/index.jsp&quot;</span>;<br><span class="hljs-comment">//return &quot;redirect:hello.do&quot;; //hello.doä¸ºå¦ä¸€ä¸ªè¯·æ±‚</span><br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="6-æ•°æ®å¤„ç†"><a href="#6-æ•°æ®å¤„ç†" class="headerlink" title="6. æ•°æ®å¤„ç†"></a>6. æ•°æ®å¤„ç†</h1><h2 id="6-1-å¤„ç†æäº¤æ•°æ®"><a href="#6-1-å¤„ç†æäº¤æ•°æ®" class="headerlink" title="6.1 å¤„ç†æäº¤æ•°æ®"></a>6.1 å¤„ç†æäº¤æ•°æ®</h2><ol><li><p><strong>æäº¤çš„åŸŸåç§°å’Œå¤„ç†æ–¹æ³•çš„å‚æ•°åä¸€è‡´</strong> </p><p>æäº¤æ•°æ®ï¼š<a href="http://localhost:8080/SpringMVC-03/user/t1/?name=linmuchun">http://localhost:8080/SpringMVC-03/user/t1/?name=linmuchun</a></p><p>å¤„ç†æ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-meta">@RequestMapping(&quot;/user&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> &#123;<br>    <span class="hljs-meta">@GetMapping(&quot;/t1&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">test1</span><span class="hljs-params">(String name, Model model)</span>&#123;<br>        <span class="hljs-comment">//1.æ¥æ”¶å‰ç«¯å‚æ•°</span><br>        System.out.println(<span class="hljs-string">&quot;å‰ç«¯æ¥æ”¶çš„å‚æ•°ä¸ºï¼š&quot;</span>+name);<br><br>        <span class="hljs-comment">//2.å°†è¿”å›çš„ç»“æœä¼ é€’ç»™å‰ç«¯</span><br>        model.addAttribute(<span class="hljs-string">&quot;msg&quot;</span>,name);<br><br>        <span class="hljs-comment">//3.è§†å›¾è·³è½¬</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;test&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•ç»“æœï¼š</p><p>å¯åŠ¨Tomcatè®¿é—®ï¼š<a href="http://localhost:8080/SpringMVC-03/user/t1/?name=linmuchun">http://localhost:8080/SpringMVC-03/user/t1/?name=linmuchun</a></p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220908190842.png" alt="QQæˆªå›¾20220908190842"></p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220908191125.png" alt="QQæˆªå›¾20220908191125"></p></li><li><p><strong>æäº¤çš„åŸŸåç§°å’Œå¤„ç†æ–¹æ³•çš„å‚æ•°åä¸ä¸€è‡´</strong></p><p>æäº¤æ•°æ®ï¼š<a href="http://localhost:8080/SpringMVC-03/user/t1/?username=linmuchun">http://localhost:8080/SpringMVC-03/user/t1/?username=linmuchun</a></p><p>å¤„ç†æ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-meta">@RequestMapping(&quot;/user&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> &#123;<br>    <span class="hljs-meta">@GetMapping(&quot;/t1&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">test1</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam(&quot;username&quot;)</span> String name, Model model)</span>&#123;<br>        <span class="hljs-comment">//1.æ¥æ”¶å‰ç«¯å‚æ•°</span><br>        System.out.println(<span class="hljs-string">&quot;å‰ç«¯æ¥æ”¶çš„å‚æ•°ä¸ºï¼š&quot;</span>+name);<br><br>        <span class="hljs-comment">//2.å°†è¿”å›çš„ç»“æœä¼ é€’ç»™å‰ç«¯</span><br>        model.addAttribute(<span class="hljs-string">&quot;msg&quot;</span>,name);<br><br>        <span class="hljs-comment">//3.è§†å›¾è·³è½¬</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;test&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>åå°è¾“å‡ºï¼šå‰ç«¯æ¥æ”¶çš„å‚æ•°ä¸ºï¼šlinmuchun</p></li><li><p><strong>æäº¤çš„æ˜¯ä¸€ä¸ªå¯¹è±¡</strong></p><p>è¦æ±‚æäº¤çš„è¡¨å•åŸŸå’Œå¯¹è±¡çš„å±æ€§åä¸€è‡´ , å‚æ•°ä½¿ç”¨å¯¹è±¡å³å¯</p><p>å®ä½“ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> &#123;<br><span class="hljs-keyword">private</span> <span class="hljs-type">int</span> id;<br><span class="hljs-keyword">private</span> String name;<br><span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;<br><span class="hljs-comment">//æ„é€ </span><br><span class="hljs-comment">//get/set</span><br><span class="hljs-comment">//tostring()</span><br>&#125;<br></code></pre></td></tr></table></figure><p>æäº¤æ•°æ®ï¼š<a href="http://localhost:8080/SpringMVC-03/user/t1/?name=linmuchun&amp;id=1&amp;age=18">http://localhost:8080/SpringMVC-03/user/t1/?name=linmuchun&amp;id=1&amp;age=18</a></p><p>å¤„ç†æ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(&quot;/user&quot;)</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">user</span><span class="hljs-params">(User user)</span>&#123;<br>System.out.println(user);<br><span class="hljs-keyword">return</span> <span class="hljs-string">&quot;test&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>åå°è¾“å‡º : User { id=1, name=â€™linmuchunâ€™, age=18 }</p><p>è¯´æ˜ï¼šå¦‚æœä½¿ç”¨å¯¹è±¡çš„è¯ï¼Œå‰ç«¯ä¼ é€’çš„å‚æ•°åå’Œå¯¹è±¡åå¿…é¡»ä¸€è‡´ï¼Œå¦åˆ™å°±æ˜¯null</p></li></ol><h2 id="6-2-æ•°æ®æ˜¾ç¤ºåˆ°å‰ç«¯"><a href="#6-2-æ•°æ®æ˜¾ç¤ºåˆ°å‰ç«¯" class="headerlink" title="6.2 æ•°æ®æ˜¾ç¤ºåˆ°å‰ç«¯"></a>6.2 æ•°æ®æ˜¾ç¤ºåˆ°å‰ç«¯</h2><p><strong>æ–¹å¼1ï¼šé€šè¿‡ModelAndView</strong> </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ControllerTest1</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Controller</span> &#123;<br>    <span class="hljs-keyword">public</span> ModelAndView <span class="hljs-title function_">handleRequest</span><span class="hljs-params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br><span class="hljs-comment">//è¿”å›ä¸€ä¸ªæ¨¡å‹è§†å›¾å¯¹è±¡</span><br><span class="hljs-type">ModelAndView</span> <span class="hljs-variable">mv</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ModelAndView</span>();<br>mv.addObject(<span class="hljs-string">&quot;msg&quot;</span>,<span class="hljs-string">&quot;ControllerTest1&quot;</span>);<br>mv.setViewName(<span class="hljs-string">&quot;test&quot;</span>);<br><span class="hljs-keyword">return</span> mv;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ–¹å¼2ï¼šé€šè¿‡ModelMap</strong> </p><p>ModelMap</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(&quot;/hello&quot;)</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">hello</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam(&quot;username&quot;)</span> String name, ModelMap model)</span>&#123;<br><span class="hljs-comment">//å°è£…è¦æ˜¾ç¤ºåˆ°è§†å›¾ä¸­çš„æ•°æ®</span><br>model.addAttribute(<span class="hljs-string">&quot;name&quot;</span>,name);  <span class="hljs-comment">//ç›¸å½“äºreq.setAttribute(&quot;name&quot;,name);</span><br>System.out.println(name);<br><span class="hljs-keyword">return</span> <span class="hljs-string">&quot;hello&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ–¹å¼3ï¼šé€šè¿‡Model</strong> </p><p>Model</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(&quot;/ct2/hello&quot;)</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">hello</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam(&quot;username&quot;)</span> String name, Model model)</span>&#123;<br><span class="hljs-comment">//å°è£…è¦æ˜¾ç¤ºåˆ°è§†å›¾ä¸­çš„æ•°æ®</span><br>model.addAttribute(<span class="hljs-string">&quot;msg&quot;</span>,name);  <span class="hljs-comment">//ç›¸å½“äºreq.setAttribute(&quot;name&quot;,name);</span><br>System.out.println(name);<br><span class="hljs-keyword">return</span> <span class="hljs-string">&quot;test&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>ä¸‰ç§æ•°æ®æ˜¾ç¤ºåˆ°å‰ç«¯çš„å¯¹æ¯”ï¼š</strong></p><ul><li>Model åªæœ‰å¯¥å¯¥å‡ ä¸ªæ–¹æ³•åªé€‚åˆç”¨äºå‚¨å­˜æ•°æ®ï¼Œç®€åŒ–äº†æ–°æ‰‹å¯¹äºModelå¯¹è±¡çš„æ“ä½œå’Œç†è§£</li></ul><ul><li>ModelMap ç»§æ‰¿äº† LinkedMap ï¼Œé™¤äº†å®ç°äº†è‡ªèº«çš„ä¸€äº›æ–¹æ³•ï¼ŒåŒæ ·çš„ç»§æ‰¿ LinkedMap çš„æ–¹æ³•å’Œç‰¹æ€§</li></ul><ul><li>ModelAndView å¯ä»¥åœ¨å‚¨å­˜æ•°æ®çš„åŒæ—¶ï¼Œå¯ä»¥è¿›è¡Œè®¾ç½®è¿”å›çš„é€»è¾‘è§†å›¾ï¼Œè¿›è¡Œæ§åˆ¶å±•ç¤ºå±‚çš„è·³è½¬</li></ul><h2 id="6-4-ä¹±ç é—®é¢˜"><a href="#6-4-ä¹±ç é—®é¢˜" class="headerlink" title="6.4 ä¹±ç é—®é¢˜"></a>6.4 ä¹±ç é—®é¢˜</h2><p>æµ‹è¯•æ­¥éª¤ï¼š</p><ol><li><p>æˆ‘ä»¬å¯ä»¥åœ¨é¦–é¡µç¼–å†™ä¸€ä¸ªæäº¤çš„è¡¨å•</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;/e/t&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;name&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>åå°ç¼–å†™å¯¹åº”çš„å¤„ç†ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Encoding</span> &#123;<br><span class="hljs-meta">@RequestMapping(&quot;/e/t&quot;)</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">test</span><span class="hljs-params">(Model model,String name)</span>&#123;<br>model.addAttribute(<span class="hljs-string">&quot;msg&quot;</span>,name);  <span class="hljs-comment">//è·å–è¡¨å•æäº¤çš„å€¼</span><br><span class="hljs-keyword">return</span> <span class="hljs-string">&quot;test&quot;</span>;  <span class="hljs-comment">//è·³è½¬åˆ°testé¡µé¢æ˜¾ç¤ºè¾“å…¥çš„å€¼</span><br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>è¾“å…¥ä¸­æ–‡æµ‹è¯•ï¼Œå‘ç°ä¹±ç </p></li></ol><p><strong>è§£å†³æ–¹æ³•ï¼š</strong>ä»¥å‰ä¹±ç é—®é¢˜é€šè¿‡è¿‡æ»¤å™¨è§£å†³ï¼Œè€ŒSpringMVCç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œå¯ä»¥åœ¨web.xmlä¸­é…ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--é…ç½®SpringMVCçš„ä¹±ç è¿‡æ»¤--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">filter</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-class</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>utf-8<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">filter-mapping</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/*<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">filter-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ä½†æ˜¯æˆ‘ä»¬å‘ç°ï¼Œæœ‰äº›æç«¯æƒ…å†µä¸‹ï¼Œè¿™ä¸ªè¿‡æ»¤å™¨å¯¹getçš„æ”¯æŒä¸å¥½</p><p><strong>å¤„ç†æ–¹æ³• :</strong></p><ol><li><p>ä¿®æ”¹tomcaté…ç½®æ–‡ä»¶ï¼šè®¾ç½®ç¼–ç </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">Connector</span> <span class="hljs-attr">URIEncoding</span>=<span class="hljs-string">&quot;utf-8&quot;</span> <span class="hljs-attr">port</span>=<span class="hljs-string">&quot;8080&quot;</span> <span class="hljs-attr">protocol</span>=<span class="hljs-string">&quot;HTTP/1.1&quot;</span> <span class="hljs-attr">connectionTimeout</span>=<span class="hljs-string">&quot;20000&quot;</span> <span class="hljs-attr">redirectPort</span>=<span class="hljs-string">&quot;8443&quot;</span> /&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>è‡ªå®šä¹‰è¿‡æ»¤å™¨</p></li></ol><h1 id="8-JSON"><a href="#8-JSON" class="headerlink" title="8. JSON"></a>8. JSON</h1><h2 id="8-1-ä»€ä¹ˆæ˜¯JSON"><a href="#8-1-ä»€ä¹ˆæ˜¯JSON" class="headerlink" title="8.1 ä»€ä¹ˆæ˜¯JSON"></a>8.1 ä»€ä¹ˆæ˜¯JSON</h2><blockquote><p>JSONï¼ˆ<a href="https://baike.baidu.com/item/JavaScript?fromModule=lemma_inlink">JavaScript</a> Object Notation, JSå¯¹è±¡ç®€è°±ï¼‰æ˜¯ä¸€ç§è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼ã€‚å®ƒåŸºäº <a href="https://baike.baidu.com/item/ECMAScript?fromModule=lemma_inlink">ECMAScript</a>ï¼ˆEuropean Computer Manufacturers Association, æ¬§æ´²è®¡ç®—æœºåä¼šåˆ¶å®šçš„jsè§„èŒƒï¼‰çš„ä¸€ä¸ªå­é›†ï¼Œé‡‡ç”¨å®Œå…¨ç‹¬ç«‹äºç¼–ç¨‹è¯­è¨€çš„æ–‡æœ¬æ ¼å¼æ¥å­˜å‚¨å’Œè¡¨ç¤ºæ•°æ®ã€‚ç®€æ´å’Œæ¸…æ™°çš„å±‚æ¬¡ç»“æ„ä½¿å¾— JSON æˆä¸ºç†æƒ³çš„æ•°æ®äº¤æ¢è¯­è¨€ã€‚ æ˜“äºäººé˜…è¯»å’Œç¼–å†™ï¼ŒåŒæ—¶ä¹Ÿæ˜“äºæœºå™¨è§£æå’Œç”Ÿæˆï¼Œå¹¶æœ‰æ•ˆåœ°æå‡ç½‘ç»œä¼ è¾“æ•ˆç‡ã€‚</p></blockquote><ul><li>JSON(JavaScript Object Notation, JS å¯¹è±¡æ ‡è®°) æ˜¯ä¸€ç§è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼ï¼Œç›®å‰ä½¿ç”¨ç‰¹åˆ«å¹¿æ³›ã€‚ </li><li>é‡‡ç”¨å®Œå…¨ç‹¬ç«‹äºç¼–ç¨‹è¯­è¨€çš„<strong>æ–‡æœ¬æ ¼å¼</strong>æ¥å­˜å‚¨å’Œè¡¨ç¤ºæ•°æ®ã€‚ </li><li>ç®€æ´å’Œæ¸…æ™°çš„å±‚æ¬¡ç»“æ„ä½¿å¾— JSON æˆä¸ºç†æƒ³çš„æ•°æ®äº¤æ¢è¯­è¨€ã€‚ </li></ul><p>æ˜“äºäººé˜…è¯»å’Œç¼–å†™ï¼ŒåŒæ—¶ä¹Ÿæ˜“äºæœºå™¨è§£æå’Œç”Ÿæˆï¼Œå¹¶æœ‰æ•ˆåœ°æå‡ç½‘ç»œä¼ è¾“æ•ˆç‡ã€‚åœ¨ JavaScript è¯­è¨€ä¸­ï¼Œä¸€åˆ‡éƒ½æ˜¯å¯¹è±¡ã€‚å› æ­¤ï¼Œä»»ä½•JavaScript æ”¯æŒçš„ç±»å‹éƒ½å¯ä»¥é€šè¿‡ JSON æ¥è¡¨ç¤ºï¼Œä¾‹å¦‚å­—ç¬¦ä¸²ã€æ•°å­—ã€å¯¹è±¡ã€æ•°ç»„ç­‰ã€‚çœ‹çœ‹ä»–çš„è¦æ±‚å’Œè¯­æ³•æ ¼å¼ï¼š </p><ul><li>å¯¹è±¡è¡¨ç¤ºä¸ºé”®å€¼å¯¹ï¼Œæ•°æ®ç”±é€—å·åˆ†éš” </li><li>èŠ±æ‹¬å·ä¿å­˜å¯¹è±¡ </li><li>æ–¹æ‹¬å·ä¿å­˜æ•°ç»„ </li></ul><p><strong>JSON é”®å€¼å¯¹</strong>æ˜¯ç”¨æ¥ä¿å­˜ JavaScript å¯¹è±¡çš„ä¸€ç§æ–¹å¼ï¼Œå’Œ JavaScript å¯¹è±¡çš„å†™æ³•ä¹Ÿå¤§åŒå°å¼‚ï¼Œé”®/å€¼å¯¹ç»„åˆä¸­çš„é”®åå†™åœ¨å‰é¢å¹¶ç”¨åŒå¼•å· â€œâ€ åŒ…è£¹ï¼Œä½¿ç”¨å†’å· : åˆ†éš”ï¼Œç„¶åç´§æ¥ç€å€¼ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;æ—æ…•æ¤¿&quot;</span><span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#123;</span><span class="hljs-attr">&quot;age&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;3&quot;</span><span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#123;</span><span class="hljs-attr">&quot;sex&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ç”·&quot;</span><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>JSON å’Œ JavaScript å¯¹è±¡çš„å…³ç³»å¯ä»¥è¿™ä¹ˆç†è§£ï¼š</p><ul><li><p>JSON æ˜¯ JavaScript å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºæ³•ï¼Œå®ƒä½¿ç”¨æ–‡æœ¬è¡¨ç¤ºä¸€ä¸ª JS å¯¹è±¡çš„ä¿¡æ¯ï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs json">var obj = <span class="hljs-punctuation">&#123;</span>a<span class="hljs-punctuation">:</span> &#x27;Hello&#x27;<span class="hljs-punctuation">,</span> b<span class="hljs-punctuation">:</span> &#x27;World&#x27;<span class="hljs-punctuation">&#125;</span>;  <span class="hljs-comment">//è¿™æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ³¨æ„é”®åä¹Ÿæ˜¯å¯ä»¥ä½¿ç”¨å¼•å·åŒ…è£¹çš„</span><br>var json = &#x27;<span class="hljs-punctuation">&#123;</span><span class="hljs-attr">&quot;a&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Hello&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">&quot;b&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;World&quot;</span><span class="hljs-punctuation">&#125;</span>&#x27;;  <span class="hljs-comment">//è¿™æ˜¯ä¸€ä¸ª JSON å­—ç¬¦ä¸²ï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²</span><br></code></pre></td></tr></table></figure></li></ul><p><strong>JSON å’Œ JavaScript å¯¹è±¡äº’è½¬</strong></p><ul><li><p>è¦å®ç°ä»JSONå­—ç¬¦ä¸²è½¬æ¢ä¸ºJavaScript å¯¹è±¡ï¼Œä½¿ç”¨ JSON.parse() æ–¹æ³•ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs json">var obj = JSON.parse(&#x27;<span class="hljs-punctuation">&#123;</span><span class="hljs-attr">&quot;a&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Hello&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">&quot;b&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;World&quot;</span><span class="hljs-punctuation">&#125;</span>&#x27;);<br><span class="hljs-comment">//ç»“æœæ˜¯ &#123;a: &#x27;Hello&#x27;, b: &#x27;World&#x27;&#125;</span><br></code></pre></td></tr></table></figure></li><li><p>è¦å®ç°ä»JavaScript å¯¹è±¡è½¬æ¢ä¸ºJSONå­—ç¬¦ä¸²ï¼Œä½¿ç”¨ JSON.stringify() æ–¹æ³•ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs json">var json = JSON.stringify(<span class="hljs-punctuation">&#123;</span>a<span class="hljs-punctuation">:</span> &#x27;Hello&#x27;<span class="hljs-punctuation">,</span> b<span class="hljs-punctuation">:</span> &#x27;World&#x27;<span class="hljs-punctuation">&#125;</span>);<br><span class="hljs-comment">//ç»“æœæ˜¯ &#x27;&#123;&quot;a&quot;: &quot;Hello&quot;, &quot;b&quot;: &quot;World&quot;&#125;&#x27;</span><br></code></pre></td></tr></table></figure></li></ul><p><strong>å¯¹è±¡äº’è½¬ä»£ç æµ‹è¯•ï¼š</strong></p><ol><li><p>åœ¨webç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª json-01.htmlï¼Œç¼–å†™æµ‹è¯•å†…å®¹</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>jsonTest-01<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">//ç¼–å†™ä¸€ä¸ªJavaScriptå¯¹è±¡</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> user = &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">name</span>:<span class="hljs-string">&quot;æ—æ…•æ¤¿&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">age</span>:<span class="hljs-number">18</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">sex</span>:<span class="hljs-string">&quot;å¥³&quot;</span></span><br><span class="language-javascript">        &#125;;</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(user);</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">//å°†jså¯¹è±¡è½¬æ¢ä¸ºjsonå¯¹è±¡</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> json = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(user);</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(json);</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">//å°†jsonå¯¹è±¡è½¬æ¢ä¸ºjså¯¹è±¡</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> obj = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(json);</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>åœ¨IDEAä¸­ä½¿ç”¨æµè§ˆå™¨æ‰“å¼€ï¼ŒæŸ¥çœ‹æ§åˆ¶å°è¾“å‡º</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220909161107.png" alt="QQæˆªå›¾20220909161107"></p></li></ol><h2 id="8-2-Jackson"><a href="#8-2-Jackson" class="headerlink" title="8.2 Jackson"></a>8.2 Jackson</h2><p>Jacksonåº”è¯¥æ˜¯ç›®å‰æ¯”è¾ƒå¥½çš„jsonè§£æå·¥å…·äº†ï¼Œå½“ç„¶Jjsonè§£æå·¥å…·ä¸æ­¢è¿™ä¸€ä¸ªï¼Œæ¯”å¦‚è¿˜æœ‰é˜¿é‡Œå·´å·´çš„ fastjsonç­‰</p><p><strong>ç¯å¢ƒé…ç½®ï¼š</strong></p><ul><li><p>ä½¿ç”¨Jacksonéœ€è¦å¯¼å…¥å®ƒçš„jaråŒ…</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jackson-databind<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.9.8<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>å¯¼å…¥lombokä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.18.24<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>é…ç½®SpringMVCéœ€è¦çš„é…ç½®</p><p>web.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">web-app</span> <span class="hljs-keyword">PUBLIC</span></span><br><span class="hljs-meta">        <span class="hljs-string">&quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;</span></span><br><span class="hljs-meta">        <span class="hljs-string">&quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;</span> &gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">web-app</span>&gt;</span><br>  <span class="hljs-comment">&lt;!--1.æ³¨å†ŒDispatcherServlet SpringMVCæ ¸å¿ƒï¼šè¯·æ±‚åˆ†å‘å™¨ï¼Œå‰ç«¯æ§åˆ¶å™¨--&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>springmvc<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--å…³è”ä¸€ä¸ªSpringçš„é…ç½®æ–‡ä»¶:springmvc-servlet.xml--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>contextConfigLocation<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>classpath:springmvc-servlet.xml<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--å¯åŠ¨çº§åˆ«-1ï¼šæ•°å­—è¶Šå°ï¼Œå¯åŠ¨è¶Šæ—©--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">load-on-startup</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">load-on-startup</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br><br>  <span class="hljs-comment">&lt;!--/ åŒ¹é…æ‰€æœ‰çš„è¯·æ±‚ï¼›ï¼ˆä¸åŒ…æ‹¬.jspï¼‰--&gt;</span><br>  <span class="hljs-comment">&lt;!--/* åŒ¹é…æ‰€æœ‰çš„è¯·æ±‚ï¼›ï¼ˆåŒ…æ‹¬.jspï¼‰--&gt;</span><br>  <span class="hljs-comment">&lt;!--æ‰€æœ‰è¯·æ±‚éƒ½ä¼šè¢«springmvcæ‹¦æˆª --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>springmvc<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br><br>  <span class="hljs-comment">&lt;!--é…ç½®SpringMVCçš„ä¹±ç è¿‡æ»¤--&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">filter</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-class</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>utf-8<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">filter-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/*<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">filter-mapping</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">web-app</span>&gt;</span><br></code></pre></td></tr></table></figure><p>springmvc-servlet.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:mvc</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/mvc&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/context</span></span><br><span class="hljs-string"><span class="hljs-tag">       https://www.springframework.org/schema/context/spring-context.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/mvc</span></span><br><span class="hljs-string"><span class="hljs-tag">       https://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--è‡ªåŠ¨æ‰«æåŒ…ï¼Œè®©æŒ‡å®šåŒ…ä¸‹çš„æ³¨è§£ç”Ÿæ•ˆ,ç”±IOCå®¹å™¨ç»Ÿä¸€ç®¡ç†--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">&quot;ssm.study.controller&quot;</span>/&gt;</span><br>    <span class="hljs-comment">&lt;!--é™æ€èµ„æºè¿‡æ»¤ï¼šè®©Spring MVCä¸å¤„ç†é™æ€èµ„æº--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mvc:default-servlet-handler</span> /&gt;</span><br>    <span class="hljs-comment">&lt;!--MVCçš„æ³¨è§£é©±åŠ¨ --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mvc:annotation-driven</span> /&gt;</span><br><br>    <span class="hljs-comment">&lt;!--è§†å›¾è§£æå™¨--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;internalResourceViewResolver&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--å‰ç¼€--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;prefix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;/WEB-INF/jsp/&quot;</span> /&gt;</span><br>        <span class="hljs-comment">&lt;!--åç¼€--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;suffix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;.jsp&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™ä¸€ä¸ªUserçš„å®ä½“ç±»ï¼Œç„¶åå»ç¼–å†™æµ‹è¯•ç±»Controller</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//éœ€è¦å¯¼å…¥lombok</span><br><span class="hljs-meta">@Data</span><br><span class="hljs-meta">@AllArgsConstructor</span><br><span class="hljs-meta">@NoArgsConstructor</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> &#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;<br>    <span class="hljs-keyword">private</span> String sex;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™ä¸€ä¸ªController</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> &#123;<br>    <span class="hljs-meta">@RequestMapping(&quot;/json1&quot;)</span><br>    <span class="hljs-meta">@ResponseBody</span>  <span class="hljs-comment">//æœ‰è¿™ä¸ªæ³¨è§£å°±ä¸ä¼šèµ°è§†å›¾è§£æå™¨ï¼Œä¼šç›´æ¥è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">json1</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> JsonProcessingException &#123;<br>        <span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªjacksonçš„å¯¹è±¡æ˜ å°„å™¨ï¼Œç”¨æ¥è§£ææ•°æ®</span><br>        <span class="hljs-type">ObjectMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectMapper</span>();<br>        <span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªå¯¹è±¡</span><br>        <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-string">&quot;æ—æ…•æ¤¿&quot;</span>,<span class="hljs-number">18</span>,<span class="hljs-string">&quot;å¥³&quot;</span>);<br>        <span class="hljs-comment">//å°†æˆ‘ä»¬çš„å¯¹è±¡è§£ææˆä¸ºjsonæ ¼å¼</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> mapper.writeValueAsString(user);<br>        <span class="hljs-keyword">return</span> str;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>é…ç½®Tomcatï¼Œå¯åŠ¨æµ‹è¯•</p><p>è®¿é—®ï¼š<a href="http://localhost:8080/SpringMVC-03/json1">http://localhost:8080/SpringMVC-03/json1</a> </p><p>æµè§ˆå™¨è¾“å‡ºï¼š</p><blockquote><p>{â€œnameâ€:â€???â€,â€ageâ€:18,â€sexâ€:â€?â€}</p></blockquote></li></ul><p>å‘ç°å‡ºç°äº†ä¹±ç é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®ä¸€ä¸‹ä»–çš„ç¼–ç æ ¼å¼ä¸ºutf-8ï¼Œä»¥åŠå®ƒè¿”å›çš„ç±»å‹ï¼Œé€šè¿‡@RequestMapingçš„produceså±æ€§æ¥å®ç°ï¼Œä¿®æ”¹ä¸‹ä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//produces:æŒ‡å®šå“åº”ä½“è¿”å›ç±»å‹å’Œç¼–ç </span><br><span class="hljs-meta">@RequestMapping(value = &quot;/json1&quot;,produces = &quot;application/json;charset=utf-8&quot;)</span><br></code></pre></td></tr></table></figure><p>æµ‹è¯•ï¼Œæµè§ˆå™¨è¾“å‡ºï¼š</p><blockquote><p>{â€œnameâ€:â€æ—æ…•æ¤¿â€,â€ageâ€:18,â€sexâ€:â€å¥³â€}</p></blockquote><h3 id="8-2-1-ä»£ç ä¼˜åŒ–"><a href="#8-2-1-ä»£ç ä¼˜åŒ–" class="headerlink" title="8.2.1 ä»£ç ä¼˜åŒ–"></a>8.2.1 ä»£ç ä¼˜åŒ–</h3><p><strong>ä¹±ç ç»Ÿä¸€è§£å†³</strong> </p><p>ä¸Šä¸€ç§æ–¹æ³•æ¯”è¾ƒéº»çƒ¦ï¼Œå¦‚æœé¡¹ç›®ä¸­æœ‰è®¸å¤šè¯·æ±‚åˆ™æ¯ä¸€ä¸ªéƒ½è¦æ·»åŠ ï¼Œå¯ä»¥é€šè¿‡Springé…ç½®ç»Ÿä¸€æŒ‡å®šï¼Œè¿™æ ·å°±ä¸ç”¨æ¯æ¬¡éƒ½å»å¤„ç†äº†</p><p>æˆ‘ä»¬å¯ä»¥åœ¨springmvcçš„é…ç½®æ–‡ä»¶ä¸Šæ·»åŠ ä¸€æ®µæ¶ˆæ¯StringHttpMessageConverterè½¬æ¢é…ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">mvc:annotation-driven</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mvc:message-converters</span> <span class="hljs-attr">register-defaults</span>=<span class="hljs-string">&quot;true&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.http.converter.StringHttpMessageConverter&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;objectMapper&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.http.converter.json.Jackson2ObjectMapperFactoryBean&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;failOnEmptyBeans&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;false&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">mvc:message-converters</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mvc:annotation-driven</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>è¿”å›jsonå­—ç¬¦ä¸²ç»Ÿä¸€è§£å†³</strong> </p><p>åœ¨ç±»ä¸Šç›´æ¥ä½¿ç”¨ @RestController ï¼Œè¿™æ ·é‡Œé¢æ‰€æœ‰çš„æ–¹æ³•éƒ½åªä¼šè¿”å› json å­—ç¬¦ä¸²äº†ï¼Œä¸ç”¨å†æ¯ä¸€ ä¸ªéƒ½æ·»åŠ @ResponseBodyï¼Œåœ¨å‰åç«¯åˆ†ç¦»å¼€å‘ä¸­ï¼Œä¸€èˆ¬éƒ½ä½¿ç”¨ @RestController æ›´åŠ ä¾¿æ·</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RestController</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> &#123;<br>    <span class="hljs-meta">@RequestMapping(value = &quot;/json1&quot;)</span>  <span class="hljs-comment">//produces:æŒ‡å®šå“åº”ä½“è¿”å›ç±»å‹å’Œç¼–ç </span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">json1</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> JsonProcessingException &#123;<br>        <span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªjacksonçš„å¯¹è±¡æ˜ å°„å™¨ï¼Œç”¨æ¥è§£ææ•°æ®</span><br>        <span class="hljs-type">ObjectMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectMapper</span>();<br>        <span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªå¯¹è±¡</span><br>        <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-string">&quot;æ—æ…•æ¤¿&quot;</span>,<span class="hljs-number">18</span>,<span class="hljs-string">&quot;å¥³&quot;</span>);<br>        <span class="hljs-comment">//å°†æˆ‘ä»¬çš„å¯¹è±¡è§£ææˆä¸ºjsonæ ¼å¼</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> mapper.writeValueAsString(user);<br>        <span class="hljs-keyword">return</span> str;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="8-2-2-æµ‹è¯•é›†åˆè¾“å‡º"><a href="#8-2-2-æµ‹è¯•é›†åˆè¾“å‡º" class="headerlink" title="8.2.2 æµ‹è¯•é›†åˆè¾“å‡º"></a>8.2.2 æµ‹è¯•é›†åˆè¾“å‡º</h3><p>å¢åŠ ä¸€ä¸ªæ–°çš„æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RestController</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> &#123;<br>    <span class="hljs-meta">@RequestMapping(value = &quot;/json2&quot;,produces = &quot;application/json;charset=utf-8&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">json2</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> JsonProcessingException &#123;<br>        <span class="hljs-type">ObjectMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectMapper</span>();<br>        List&lt;User&gt; userList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        <span class="hljs-type">User</span> <span class="hljs-variable">user1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-string">&quot;æ—æ…•æ¤¿01&quot;</span>,<span class="hljs-number">18</span>,<span class="hljs-string">&quot;å¥³&quot;</span>);<br>        <span class="hljs-type">User</span> <span class="hljs-variable">user2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-string">&quot;æ—æ…•æ¤¿02&quot;</span>,<span class="hljs-number">18</span>,<span class="hljs-string">&quot;å¥³&quot;</span>);<br>        <span class="hljs-type">User</span> <span class="hljs-variable">user3</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-string">&quot;æ—æ…•æ¤¿03&quot;</span>,<span class="hljs-number">18</span>,<span class="hljs-string">&quot;å¥³&quot;</span>);<br>        userList.add(user1);<br>        userList.add(user2);<br>        userList.add(user3);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> mapper.writeValueAsString(userList);<br>        <span class="hljs-keyword">return</span> str;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><blockquote><p>[{â€œnameâ€:â€æ—æ…•æ¤¿01â€,â€ageâ€:18,â€sexâ€:â€å¥³â€},{â€œnameâ€:â€æ—æ…•æ¤¿02â€,â€ageâ€:18,â€sexâ€:â€å¥³â€},{â€œnameâ€:â€æ—æ…•æ¤¿03â€,â€ageâ€:18,â€sexâ€:â€å¥³â€}]</p></blockquote><h3 id="8-2-3-è¾“å‡ºæ—¶é—´å¯¹è±¡"><a href="#8-2-3-è¾“å‡ºæ—¶é—´å¯¹è±¡" class="headerlink" title="8.2.3 è¾“å‡ºæ—¶é—´å¯¹è±¡"></a>8.2.3 è¾“å‡ºæ—¶é—´å¯¹è±¡</h3><p>å¢åŠ ä¸€ä¸ªæ–°çš„æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(&quot;/json3&quot;)</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">json3</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> JsonProcessingException &#123;<br>    <span class="hljs-type">ObjectMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectMapper</span>();<br>    <br>    <span class="hljs-comment">//åˆ›å»ºæ—¶é—´ä¸€ä¸ªå¯¹è±¡ï¼Œjava.util.Date</span><br>    <span class="hljs-type">Date</span> <span class="hljs-variable">date</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();<br>    <span class="hljs-comment">//å°†æˆ‘ä»¬çš„å¯¹è±¡è§£ææˆä¸ºjsonæ ¼å¼</span><br>    <span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> mapper.writeValueAsString(date);<br>    <span class="hljs-keyword">return</span> str;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><ul><li>é»˜è®¤æ—¥æœŸæ ¼å¼ä¼šå˜æˆä¸€ä¸ªæ•°å­—ï¼Œæ˜¯1970å¹´1æœˆ1æ—¥åˆ°å½“å‰æ—¥æœŸçš„æ¯«ç§’æ•°</li><li>Jackson é»˜è®¤æ˜¯ä¼šæŠŠæ—¶é—´è½¬æˆtimestampså½¢å¼</li></ul><p><strong>è§£å†³æ–¹æ¡ˆï¼šå–æ¶ˆtimestampså½¢å¼ï¼Œè‡ªå®šä¹‰æ—¶é—´æ ¼å¼</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RestController</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> &#123;<br>    <span class="hljs-meta">@RequestMapping(value = &quot;/json3&quot;,produces = &quot;application/json;charset=utf-8&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">json3</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> JsonProcessingException &#123;<br>        <span class="hljs-type">ObjectMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectMapper</span>();<br><br>        <span class="hljs-comment">//ä¸ä½¿ç”¨æ—¶é—´æˆ³çš„å®šä¹‰æ–¹å¼</span><br>        mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS,<span class="hljs-literal">false</span>);<br>        <span class="hljs-comment">//è‡ªå®šä¹‰æ—¥æœŸçš„æ ¼å¼</span><br>        <span class="hljs-type">SimpleDateFormat</span> <span class="hljs-variable">sdf</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SimpleDateFormat</span>(<span class="hljs-string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);<br>        mapper.setDateFormat(sdf);<br><br>        <span class="hljs-type">Date</span> <span class="hljs-variable">date</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();<br><br>        <span class="hljs-comment">//ObjectMapper æ—¶é—´è§£æåçš„æ ¼å¼é»˜è®¤ä¸ºï¼šTimeStampæ—¶é—´æˆ³</span><br>        <span class="hljs-keyword">return</span> mapper.writeValueAsString(date);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><blockquote><p>â€œ2022-09-09 19:22:00â€</p></blockquote><h2 id="8-3-æŠ½å–ä¸ºå·¥å…·ç±»JsonUtils"><a href="#8-3-æŠ½å–ä¸ºå·¥å…·ç±»JsonUtils" class="headerlink" title="8.3 æŠ½å–ä¸ºå·¥å…·ç±»JsonUtils"></a>8.3 æŠ½å–ä¸ºå·¥å…·ç±»JsonUtils</h2><p>å¦‚æœè¦ç»å¸¸ä½¿ç”¨çš„è¯ï¼Œè¿™æ ·æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™äº›ä»£ç å°è£…åˆ°ä¸€ä¸ªå·¥å…·ç±»ä¸­</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JsonUtils</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">getJson</span><span class="hljs-params">(Object object)</span> &#123;<br>    <span class="hljs-keyword">return</span> getJson(object,<span class="hljs-string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">getJson</span><span class="hljs-params">(Object object,String dateFormat)</span> &#123;<br>        <span class="hljs-type">ObjectMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectMapper</span>();<br>        <span class="hljs-comment">//ä¸ä½¿ç”¨æ—¶é—´å·®çš„æ–¹å¼</span><br>        mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS,<br>        <span class="hljs-literal">false</span>);<br>        <span class="hljs-comment">//è‡ªå®šä¹‰æ—¥æœŸæ ¼å¼å¯¹è±¡</span><br>        <span class="hljs-type">SimpleDateFormat</span> <span class="hljs-variable">sdf</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SimpleDateFormat</span>(dateFormat);<br>        <span class="hljs-comment">//æŒ‡å®šæ—¥æœŸæ ¼å¼</span><br>        mapper.setDateFormat(sdf);<br>        <span class="hljs-keyword">try</span> &#123;<br>        <span class="hljs-keyword">return</span> mapper.writeValueAsString(object);<br>        &#125; <span class="hljs-keyword">catch</span> (JsonProcessingException e) &#123;<br>        e.printStackTrace();<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>ä½¿ç”¨å·¥å…·ç±»ï¼Œä»£ç æ›´åŠ ç®€æ´</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(&quot;/json5&quot;)</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">json5</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> JsonProcessingException &#123;<br>    <span class="hljs-type">Date</span> <span class="hljs-variable">date</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();<br>    <span class="hljs-type">String</span> <span class="hljs-variable">json</span> <span class="hljs-operator">=</span> JsonUtils.getJson(date);<br>    <span class="hljs-keyword">return</span> json;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="8-4-FastJson"><a href="#8-4-FastJson" class="headerlink" title="8.4 FastJson"></a>8.4 FastJson</h2><p>fastjson.jaræ˜¯é˜¿é‡Œå¼€å‘çš„ä¸€æ¬¾ä¸“é—¨ç”¨äºJavaå¼€å‘çš„åŒ…ï¼Œå¯ä»¥æ–¹ä¾¿çš„å®ç°jsonå¯¹è±¡ä¸JavaBeanå¯¹è±¡çš„è½¬æ¢ï¼Œå®ç°JavaBeanå¯¹è±¡ä¸jsonå­—ç¬¦ä¸²çš„è½¬æ¢ï¼Œå®ç°jsonå¯¹è±¡ä¸jsonå­—ç¬¦ä¸²çš„è½¬æ¢ã€‚å®ç°jsonçš„è½¬æ¢æ–¹æ³• å¾ˆå¤šï¼Œæœ€åçš„å®ç°ç»“æœéƒ½æ˜¯ä¸€æ ·çš„ã€‚</p><p>fastjson çš„ pomä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>fastjson<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2.60<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><p>fastjson ä¸‰ä¸ªä¸»è¦çš„ç±»ï¼š</p><ul><li><p><strong>JSONObject</strong> ä»£è¡¨ json å¯¹è±¡</p><ul><li>JSONObjectå®ç°äº†Mapæ¥å£, çŒœæƒ³ JSONObjectåº•å±‚æ“ä½œæ˜¯ç”±Mapå®ç°çš„ã€‚ </li><li>JSONObjectå¯¹åº”jsonå¯¹è±¡ï¼Œé€šè¿‡å„ç§å½¢å¼çš„get()æ–¹æ³•å¯ä»¥è·å–jsonå¯¹è±¡ä¸­çš„æ•°æ®ï¼Œä¹Ÿå¯åˆ©ç”¨ è¯¸å¦‚size()ï¼ŒisEmpty()ç­‰æ–¹æ³•è·å–â€é”®ï¼šå€¼â€å¯¹çš„ä¸ªæ•°å’Œåˆ¤æ–­æ˜¯å¦ä¸ºç©ºã€‚å…¶æœ¬è´¨æ˜¯é€šè¿‡å®ç°Map æ¥å£å¹¶è°ƒç”¨æ¥å£ä¸­çš„æ–¹æ³•å®Œæˆçš„ã€‚</li></ul></li><li><p><strong>JSONArray</strong> ä»£è¡¨ json å¯¹è±¡æ•°ç»„</p><ul><li>å†…éƒ¨æ˜¯æœ‰Listæ¥å£ä¸­çš„æ–¹æ³•æ¥å®Œæˆæ“ä½œçš„ã€‚ </li></ul></li><li><p><strong>JSON</strong> ä»£è¡¨ JSONObjectå’ŒJSONArrayçš„è½¬åŒ–</p><ul><li>JSONç±»æºç åˆ†æä¸ä½¿ç”¨ </li><li>ä»”ç»†è§‚å¯Ÿè¿™äº›æ–¹æ³•ï¼Œä¸»è¦æ˜¯å®ç°jsonå¯¹è±¡ï¼Œjsonå¯¹è±¡æ•°ç»„ï¼Œjavabeanå¯¹è±¡ï¼Œjsonå­—ç¬¦ä¸²ä¹‹é—´çš„ç›¸äº’è½¬åŒ–ã€‚</li></ul></li></ul><p>ä»£ç æµ‹è¯•ï¼Œæ–°å»ºä¸€ä¸ªFastJsonDemoç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FastJsonDemo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªå¯¹è±¡</span><br>        List&lt;User&gt; userList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        <span class="hljs-type">User</span> <span class="hljs-variable">user1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-string">&quot;æ—æ…•æ¤¿01&quot;</span>,<span class="hljs-number">18</span>,<span class="hljs-string">&quot;å¥³&quot;</span>);<br>        <span class="hljs-type">User</span> <span class="hljs-variable">user2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-string">&quot;æ—æ…•æ¤¿02&quot;</span>,<span class="hljs-number">18</span>,<span class="hljs-string">&quot;å¥³&quot;</span>);<br>        <span class="hljs-type">User</span> <span class="hljs-variable">user3</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-string">&quot;æ—æ…•æ¤¿03&quot;</span>,<span class="hljs-number">18</span>,<span class="hljs-string">&quot;å¥³&quot;</span>);<br>        userList.add(user1);<br>        userList.add(user2);<br>        userList.add(user3);<br><br>        System.out.println(<span class="hljs-string">&quot;Javaå¯¹è±¡è½¬JSONå­—ç¬¦ä¸²&quot;</span>);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">str1</span> <span class="hljs-operator">=</span> JSON.toJSONString(userList);<br>        System.out.println(<span class="hljs-string">&quot;JSON.toJSONString(list)==&gt;&quot;</span>+str1);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">str2</span> <span class="hljs-operator">=</span> JSON.toJSONString(user1);<br>        System.out.println(<span class="hljs-string">&quot;JSON.toJSONString(user1)==&gt;&quot;</span>+str2);<br><br>        System.out.println(<span class="hljs-string">&quot;JSONå­—ç¬¦ä¸²è½¬Javaå¯¹è±¡&quot;</span>);<br>        User jp_user1=JSON.parseObject(str2,User.class);<br>        System.out.println(<span class="hljs-string">&quot;JSON.parseObject(str2,User.class)==&gt;&quot;</span>+jp_user1);<br><br>        System.out.println(<span class="hljs-string">&quot;Javaå¯¹è±¡è½¬JSONå¯¹è±¡&quot;</span>);<br>        <span class="hljs-type">JSONObject</span> <span class="hljs-variable">jsonObject1</span> <span class="hljs-operator">=</span> (JSONObject) JSON.toJSON(user2);<br>        System.out.println(<span class="hljs-string">&quot;(JSONObject) JSON.toJSON(user2)==&gt;&quot;</span>+jsonObject1.getString(<span class="hljs-string">&quot;name&quot;</span>));<br><br>        System.out.println(<span class="hljs-string">&quot;JSONå¯¹è±¡è½¬Javaå¯¹è±¡&quot;</span>);<br>        <span class="hljs-type">User</span> <span class="hljs-variable">to_java_user</span> <span class="hljs-operator">=</span> JSON.toJavaObject(jsonObject1, User.class);<br>        System.out.println(<span class="hljs-string">&quot;JSON.toJavaObject(jsonObject1, User.class)==&gt;&quot;</span>+to_java_user);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="8-Ajax"><a href="#8-Ajax" class="headerlink" title="8. Ajax"></a>8. Ajax</h1><h2 id="8-1-ç®€ä»‹"><a href="#8-1-ç®€ä»‹" class="headerlink" title="8.1 ç®€ä»‹"></a>8.1 ç®€ä»‹</h2><blockquote><p>Ajaxå³Asynchronous Javascript And XMLï¼ˆå¼‚æ­¥JavaScriptå’Œ<a href="https://baike.baidu.com/item/XML/86251?fromModule=lemma_inlink">XML</a>ï¼‰åœ¨ 2005å¹´è¢«Jesse James Garrettæå‡ºçš„æ–°æœ¯è¯­ï¼Œç”¨æ¥æè¿°ä¸€ç§ä½¿ç”¨ç°æœ‰æŠ€æœ¯é›†åˆçš„â€˜æ–°â€™æ–¹æ³•ï¼ŒåŒ…æ‹¬: <a href="https://baike.baidu.com/item/HTML/97049?fromModule=lemma_inlink">HTML</a> æˆ– <a href="https://baike.baidu.com/item/XHTML/316621?fromModule=lemma_inlink">XHTML</a>, CSS, <a href="https://baike.baidu.com/item/JavaScript/321142?fromModule=lemma_inlink">JavaScript</a>, <a href="https://baike.baidu.com/item/DOM/50288?fromModule=lemma_inlink">DOM</a>, XML, <a href="https://baike.baidu.com/item/XSLT/1330564?fromModule=lemma_inlink">XSLT</a>, ä»¥åŠæœ€é‡è¦çš„<a href="https://baike.baidu.com/item/XMLHttpRequest/6788735?fromModule=lemma_inlink">XMLHttpRequest</a>ã€‚ä½¿ç”¨AjaxæŠ€æœ¯ç½‘é¡µåº”ç”¨èƒ½å¤Ÿå¿«é€Ÿåœ°å°†å¢é‡æ›´æ–°å‘ˆç°åœ¨<a href="https://baike.baidu.com/item/%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2/6582461?fromModule=lemma_inlink">ç”¨æˆ·ç•Œé¢</a>ä¸Šï¼Œè€Œä¸éœ€è¦é‡è½½ï¼ˆåˆ·æ–°ï¼‰æ•´ä¸ªé¡µé¢ï¼Œè¿™ä½¿å¾—ç¨‹åºèƒ½å¤Ÿæ›´å¿«åœ°å›åº”ç”¨æˆ·çš„æ“ä½œã€‚</p></blockquote><ul><li>AJAX = Asynchronous JavaScript and XMLï¼ˆå¼‚æ­¥çš„ JavaScript å’Œ XMLï¼‰ã€‚ </li><li>AJAX æ˜¯ä¸€ç§åœ¨æ— éœ€é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µçš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿæ›´æ–°éƒ¨åˆ†ç½‘é¡µçš„æŠ€æœ¯ã€‚ </li><li>Ajax ä¸æ˜¯ä¸€ç§æ–°çš„ç¼–ç¨‹è¯­è¨€ï¼Œè€Œæ˜¯ä¸€ç§ç”¨äºåˆ›å»ºæ›´å¥½æ›´å¿«ä»¥åŠäº¤äº’æ€§æ›´å¼ºçš„Webåº”ç”¨ç¨‹åºçš„æŠ€ æœ¯ã€‚ </li><li>åœ¨ 2005 å¹´ï¼ŒGoogle é€šè¿‡å…¶ Google Suggest ä½¿ AJAX å˜å¾—æµè¡Œèµ·æ¥ã€‚Google Suggestèƒ½å¤Ÿè‡ªåŠ¨å¸®ä½ å®Œæˆæœç´¢å•è¯ã€‚ </li><li>Google Suggest ä½¿ç”¨ AJAX åˆ›é€ å‡ºåŠ¨æ€æ€§æå¼ºçš„ web ç•Œé¢ï¼šå½“æ‚¨åœ¨è°·æ­Œçš„æœç´¢æ¡†è¾“å…¥å…³é”®å­—æ—¶ï¼Œ JavaScript ä¼šæŠŠè¿™äº›å­—ç¬¦å‘é€åˆ°æœåŠ¡å™¨ï¼Œç„¶åæœåŠ¡å™¨ä¼šè¿”å›ä¸€ä¸ªæœç´¢å»ºè®®çš„åˆ—è¡¨ã€‚ </li><li>ä¼ ç»Ÿçš„ç½‘é¡µ(å³ä¸ç”¨ajaxæŠ€æœ¯çš„ç½‘é¡µ)ï¼Œæƒ³è¦æ›´æ–°å†…å®¹æˆ–è€…æäº¤ä¸€ä¸ªè¡¨å•ï¼Œéƒ½éœ€è¦é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µã€‚ </li><li>ä½¿ç”¨ajaxæŠ€æœ¯çš„ç½‘é¡µï¼Œé€šè¿‡åœ¨åå°æœåŠ¡å™¨è¿›è¡Œå°‘é‡çš„æ•°æ®äº¤æ¢ï¼Œå°±å¯ä»¥å®ç°å¼‚æ­¥å±€éƒ¨æ›´æ–°ã€‚ </li><li>ä½¿ç”¨Ajaxï¼Œç”¨æˆ·å¯ä»¥åˆ›å»ºæ¥è¿‘æœ¬åœ°æ¡Œé¢åº”ç”¨çš„ç›´æ¥ã€é«˜å¯ç”¨ã€æ›´ä¸°å¯Œã€æ›´åŠ¨æ€çš„Webç”¨æˆ·ç•Œé¢ã€‚</li></ul><p>åˆ©ç”¨Ajaxå¯ä»¥åšï¼š</p><ul><li>æ³¨å†Œæ—¶ï¼Œè¾“å…¥ç”¨æˆ·åè‡ªåŠ¨æ£€æµ‹ç”¨æˆ·æ˜¯å¦å·²ç»å­˜åœ¨ã€‚ </li><li>ç™»é™†æ—¶ï¼Œæç¤ºç”¨æˆ·åå¯†ç é”™è¯¯ </li><li>åˆ é™¤æ•°æ®è¡Œæ—¶ï¼Œå°†è¡ŒIDå‘é€åˆ°åå°ï¼Œåå°åœ¨æ•°æ®åº“ä¸­åˆ é™¤ï¼Œæ•°æ®åº“åˆ é™¤æˆåŠŸåï¼Œåœ¨é¡µé¢DOMä¸­å°†æ•°æ®è¡Œä¹Ÿåˆ é™¤ã€‚</li></ul><h2 id="8-2-jQuery-ajax"><a href="#8-2-jQuery-ajax" class="headerlink" title="8.2 jQuery.ajax"></a>8.2 jQuery.ajax</h2><blockquote><p>jQuery åº•å±‚ AJAX å®ç°ã€‚ç®€å•æ˜“ç”¨çš„é«˜å±‚å®ç°è§ $.get, $.post ç­‰ã€‚$.ajax() è¿”å›å…¶åˆ›å»ºçš„ XMLHttpRequest å¯¹è±¡ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ä½ æ— éœ€ç›´æ¥æ“ä½œè¯¥å‡½æ•°ï¼Œé™¤éä½ éœ€è¦æ“ä½œä¸å¸¸ç”¨çš„é€‰é¡¹ï¼Œä»¥è·å¾—æ›´å¤šçš„çµæ´»æ€§ã€‚</p></blockquote><ul><li>Ajaxçš„æ ¸å¿ƒæ˜¯XMLHttpRequestå¯¹è±¡(XHR)ã€‚XHRä¸ºå‘æœåŠ¡å™¨å‘é€è¯·æ±‚å’Œè§£ææœåŠ¡å™¨å“åº”æä¾›äº†æ¥å£ã€‚èƒ½å¤Ÿä»¥å¼‚æ­¥æ–¹å¼ä»æœåŠ¡å™¨è·å–æ–°æ•°æ®ã€‚ </li><li>jQuery æä¾›å¤šä¸ªä¸ AJAX æœ‰å…³çš„æ–¹æ³•ã€‚ </li><li>é€šè¿‡ jQuery AJAX æ–¹æ³•ï¼Œæ‚¨èƒ½å¤Ÿä½¿ç”¨ HTTP Get å’Œ HTTP Post ä»è¿œç¨‹æœåŠ¡å™¨ä¸Šè¯·æ±‚æ–‡æœ¬ã€HTMLã€ XML æˆ– JSON â€“ åŒæ—¶æ‚¨èƒ½å¤ŸæŠŠè¿™äº›å¤–éƒ¨æ•°æ®ç›´æ¥è½½å…¥ç½‘é¡µçš„è¢«é€‰å…ƒç´ ä¸­ã€‚ </li><li>jQuery ä¸æ˜¯ç”Ÿäº§è€…ï¼Œè€Œæ˜¯å¤§è‡ªç„¶æ¬è¿å·¥ã€‚ </li><li>jQuery Ajaxæœ¬è´¨å°±æ˜¯ XMLHttpRequestï¼Œå¯¹ä»–è¿›è¡Œäº†å°è£…ï¼Œæ–¹ä¾¿è°ƒç”¨</li></ul><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-keyword">jQuery.ajax(...)</span><br><span class="hljs-keyword"></span>éƒ¨åˆ†å‚æ•°ï¼š<br>    urlï¼šè¯·æ±‚åœ°å€<br>    typeï¼šè¯·æ±‚æ–¹å¼ï¼ŒGETã€POSTï¼ˆ<span class="hljs-number">1</span>.<span class="hljs-number">9</span>.<span class="hljs-number">0</span>ä¹‹åç”¨methodï¼‰<br>    headersï¼šè¯·æ±‚å¤´<br>    dataï¼šè¦å‘é€çš„æ•°æ®<br>    contentTypeï¼šå³å°†å‘é€ä¿¡æ¯è‡³æœåŠ¡å™¨çš„å†…å®¹ç¼–ç ç±»å‹(é»˜è®¤: <span class="hljs-string">&quot;application/x-www-form-urlencoded; charset=UTF-8&quot;</span>)<br>    asyncï¼šæ˜¯å¦å¼‚æ­¥<br>    timeoutï¼šè®¾ç½®è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰<br>    <span class="hljs-keyword">beforeSendï¼šå‘é€è¯·æ±‚å‰æ‰§è¡Œçš„å‡½æ•°(å…¨å±€)</span><br><span class="hljs-keyword"></span>    completeï¼šå®Œæˆä¹‹åæ‰§è¡Œçš„å›è°ƒå‡½æ•°(å…¨å±€)<br>    successï¼šæˆåŠŸä¹‹åæ‰§è¡Œçš„å›è°ƒå‡½æ•°(å…¨å±€)<br>    errorï¼šå¤±è´¥ä¹‹åæ‰§è¡Œçš„å›è°ƒå‡½æ•°(å…¨å±€)<br>    acceptsï¼šé€šè¿‡è¯·æ±‚å¤´å‘é€ç»™æœåŠ¡å™¨ï¼Œå‘Šè¯‰æœåŠ¡å™¨å½“å‰å®¢æˆ·ç«¯è¯¾æ¥å—çš„æ•°æ®ç±»å‹<br>    dataTypeï¼šå°†æœåŠ¡å™¨ç«¯è¿”å›çš„æ•°æ®è½¬æ¢æˆæŒ‡å®šç±»å‹<br>    <span class="hljs-string">&quot;xml&quot;</span>: å°†æœåŠ¡å™¨ç«¯è¿”å›çš„å†…å®¹è½¬æ¢æˆxmlæ ¼å¼<br>    <span class="hljs-string">&quot;text&quot;</span>: å°†æœåŠ¡å™¨ç«¯è¿”å›çš„å†…å®¹è½¬æ¢æˆæ™®é€šæ–‡æœ¬æ ¼å¼<br>    <span class="hljs-string">&quot;html&quot;</span>: å°†æœåŠ¡å™¨ç«¯è¿”å›çš„å†…å®¹è½¬æ¢æˆæ™®é€šæ–‡æœ¬æ ¼å¼ï¼Œåœ¨æ’å…¥DOMä¸­æ—¶ï¼Œå¦‚æœåŒ…å«<br>    <span class="hljs-keyword">JavaScriptæ ‡ç­¾ï¼Œåˆ™ä¼šå°è¯•å»æ‰§è¡Œã€‚</span><br><span class="hljs-keyword"></span>    <span class="hljs-string">&quot;script&quot;</span>: å°è¯•å°†è¿”å›å€¼å½“ä½œ<span class="hljs-keyword">JavaScriptå»æ‰§è¡Œï¼Œç„¶åå†å°†æœåŠ¡å™¨ç«¯è¿”å›çš„å†…å®¹è½¬æ¢æˆ</span><br><span class="hljs-keyword"></span>    æ™®é€šæ–‡æœ¬æ ¼å¼<br>    <span class="hljs-string">&quot;json&quot;</span>: å°†æœåŠ¡å™¨ç«¯è¿”å›çš„å†…å®¹è½¬æ¢æˆç›¸åº”çš„<span class="hljs-keyword">JavaScriptå¯¹è±¡</span><br><span class="hljs-keyword"></span>    <span class="hljs-string">&quot;jsonp&quot;</span>: <span class="hljs-keyword">JSONP </span>æ ¼å¼ä½¿ç”¨ <span class="hljs-keyword">JSONP </span>å½¢å¼è°ƒç”¨å‡½æ•°æ—¶ï¼Œå¦‚ <span class="hljs-string">&quot;myurl?callback=?&quot;</span><br>    <span class="hljs-keyword">jQuery </span>å°†è‡ªåŠ¨æ›¿æ¢ ? ä¸ºæ­£ç¡®çš„å‡½æ•°åï¼Œä»¥æ‰§è¡Œå›è°ƒå‡½æ•°<br></code></pre></td></tr></table></figure><p>æµ‹è¯•ï¼šä½¿ç”¨æœ€åŸå§‹çš„HttpServletResponseå¤„ç†ï¼ˆæœ€ç®€å•ã€æœ€é€šç”¨ï¼‰</p><ol><li><p>é…ç½®web.xml å’Œ springmvcçš„é…ç½®æ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:mvc</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/mvc&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">    http://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">    http://www.springframework.org/schema/context</span></span><br><span class="hljs-string"><span class="hljs-tag">    https://www.springframework.org/schema/context/spring-context.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">    http://www.springframework.org/schema/mvc</span></span><br><span class="hljs-string"><span class="hljs-tag">    https://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;</span>&gt;</span><br>    <br>    <span class="hljs-comment">&lt;!-- è‡ªåŠ¨æ‰«ææŒ‡å®šçš„åŒ…ï¼Œä¸‹é¢æ‰€æœ‰æ³¨è§£ç±»äº¤ç»™IOCå®¹å™¨ç®¡ç† --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">&quot;ssm.study.controller&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mvc:default-servlet-handler</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mvc:annotation-driven</span> /&gt;</span><br>    <br>    <span class="hljs-comment">&lt;!-- è§†å›¾è§£æå™¨ --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;internalResourceViewResolver&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- å‰ç¼€ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;prefix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;/WEB-INF/jsp/&quot;</span> /&gt;</span><br>        <span class="hljs-comment">&lt;!-- åç¼€ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;suffix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;.jsp&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™ä¸€ä¸ªAjaxController</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AjaxController</span> &#123;<br>    <span class="hljs-meta">@RequestMapping(&quot;/a1&quot;)</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">ajax1</span><span class="hljs-params">(String name , HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-string">&quot;admin&quot;</span>.equals(name))&#123;<br>        response.getWriter().print(<span class="hljs-string">&quot;true&quot;</span>);<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>        response.getWriter().print(<span class="hljs-string">&quot;false&quot;</span>);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>å¯¼å…¥jquery</p><p>å¯ä»¥ä½¿ç”¨åœ¨çº¿çš„CDNï¼Œä¹Ÿå¯ä»¥ä¸‹è½½å¯¼å…¥</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://code.jquery.com/jquery-3.1.1.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/statics/js/jquery-3.1.1.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™index.jspæµ‹è¯•</p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>&lt;title&gt;$Title$&lt;/title&gt;<br>&lt;%--&lt;script src=<span class="hljs-string">&quot;https://code.jquery.com/jquery-3.1.1.min.js&quot;</span>&gt;&lt;/script&gt;--%&gt;<br>        &lt;script src=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/statics/js/jquery 3.1.1.min.js&quot;</span>&gt;&lt;/script&gt;<br>        &lt;script&gt;<br>            function <span class="hljs-title function_">a1</span><span class="hljs-params">()</span>&#123;<br>                $.post(&#123;<br>                    url:<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/a1&quot;</span>,<br>                    data:&#123;<span class="hljs-string">&#x27;name&#x27;</span>:$(<span class="hljs-string">&quot;#txtName&quot;</span>).val()&#125;,<br>                    success:function (data,status) &#123;<br>                        alert(data);<br>                        alert(status);<br>                &#125;<br>                &#125;);<br>            &#125;<br>&lt;/script&gt;<br>    &lt;/head&gt;<br>    &lt;body&gt;<br><br>    &lt;%--onblurï¼šå¤±å»ç„¦ç‚¹è§¦å‘äº‹ä»¶--%&gt;<br>ç”¨æˆ·å:&lt;input type=<span class="hljs-string">&quot;text&quot;</span> id=<span class="hljs-string">&quot;txtName&quot;</span> onblur=<span class="hljs-string">&quot;a1()&quot;</span>/&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure></li><li><p>å¯åŠ¨tomcatæµ‹è¯•</p><p>æ‰“å¼€æµè§ˆå™¨çš„æ§åˆ¶å°ï¼Œå½“æˆ‘ä»¬é¼ æ ‡ç¦»å¼€è¾“å…¥æ¡†çš„æ—¶å€™ï¼Œå¯ä»¥çœ‹åˆ°å‘å‡ºäº†ä¸€ä¸ª ajaxçš„è¯·æ±‚ï¼Œæ˜¯åå°è¿”å›ç»™æˆ‘ä»¬çš„ç»“æœã€‚</p></li></ol><p><strong>Springmvcå®ç°</strong></p><ol><li><p>å®ä½“ç±»user</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Data</span><br><span class="hljs-meta">@AllArgsConstructor</span><br><span class="hljs-meta">@NoArgsConstructor</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> &#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;<br>    <span class="hljs-keyword">private</span> String sex;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>è·å–ä¸€ä¸ªé›†åˆå¯¹è±¡ï¼Œå±•ç¤ºåˆ°å‰ç«¯é¡µé¢</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(&quot;/a2&quot;)</span><br><span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title function_">ajax2</span><span class="hljs-params">()</span>&#123;<br>List&lt;User&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;User&gt;();<br>    list.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-string">&quot;æ—æ…•æ¤¿&quot;</span>,<span class="hljs-number">18</span>,<span class="hljs-string">&quot;å¥³&quot;</span>));<br>    list.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-string">&quot;æ—è½é›ª&quot;</span>,<span class="hljs-number">19</span>,<span class="hljs-string">&quot;å¥³&quot;</span>));<br>    list.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-string">&quot;æ—å—èŠŠ&quot;</span>,<span class="hljs-number">20</span>,<span class="hljs-string">&quot;å¥³&quot;</span>));<br>    <span class="hljs-keyword">return</span> list;  <span class="hljs-comment">//ç”±äº@RestControlleræ³¨è§£ï¼Œå°†listè½¬æˆjsonæ ¼å¼è¿”å›</span><br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>å‰ç«¯é¡µé¢</p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>&lt;title&gt;Title&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>&lt;input type=<span class="hljs-string">&quot;button&quot;</span> id=<span class="hljs-string">&quot;btn&quot;</span> value=<span class="hljs-string">&quot;è·å–æ•°æ®&quot;</span>/&gt;<br>&lt;table width=<span class="hljs-string">&quot;80%&quot;</span> align=<span class="hljs-string">&quot;center&quot;</span>&gt;<br>    &lt;tr&gt;<br>        &lt;td&gt;å§“å&lt;/td&gt;<br>        &lt;td&gt;å¹´é¾„&lt;/td&gt;<br>        &lt;td&gt;æ€§åˆ«&lt;/td&gt;<br>    &lt;/tr&gt;<br>    &lt;tbody id=<span class="hljs-string">&quot;content&quot;</span>&gt;<br>    &lt;/tbody&gt;<br>&lt;/table&gt;<br><br>&lt;script src=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/statics/js/jquery-3.1.1.min.js&quot;</span>&gt;&lt;/script&gt;<br>&lt;script&gt;<br>    $(function () &#123;<br>        $(<span class="hljs-string">&quot;#btn&quot;</span>).click(function () &#123;<br>          $.post(<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/a2&quot;</span>,function (data) &#123;<br>                console.log(data)<br>                <span class="hljs-keyword">var</span> html=<span class="hljs-string">&quot;&quot;</span>;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-type">var</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt;data.length ; i++) &#123;<br>                    html+= <span class="hljs-string">&quot;&lt;tr&gt;&quot;</span> +<br>                    <span class="hljs-string">&quot;&lt;td&gt;&quot;</span> + data[i].name + <span class="hljs-string">&quot;&lt;/td&gt;&quot;</span> +<br>                    <span class="hljs-string">&quot;&lt;td&gt;&quot;</span> + data[i].age + <span class="hljs-string">&quot;&lt;/td&gt;&quot;</span> +<br>                    <span class="hljs-string">&quot;&lt;td&gt;&quot;</span> + data[i].sex + <span class="hljs-string">&quot;&lt;/td&gt;&quot;</span> +<br>                    <span class="hljs-string">&quot;&lt;/tr&gt;&quot;</span><br>            &#125;<br>            $(<span class="hljs-string">&quot;#content&quot;</span>).html(html);<br>            &#125;);<br>        &#125;)<br>    &#125;)<br>&lt;/script&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><p>æˆåŠŸå®ç°äº†æ•°æ®å›æ˜¾</p></li></ol><h2 id="8-3-æ³¨å†Œæç¤ºæ•ˆæœ"><a href="#8-3-æ³¨å†Œæç¤ºæ•ˆæœ" class="headerlink" title="8.3 æ³¨å†Œæç¤ºæ•ˆæœ"></a>8.3 æ³¨å†Œæç¤ºæ•ˆæœ</h2><p>ä¼˜åŒ–æµ‹è¯•ï¼šæ³¨å†Œæ—¶ï¼Œæ³¨å†Œè¾“å…¥æ¡†åé¢å‡ºç°å®æ—¶æç¤º</p><ol><li><p>å†™ä¸€ä¸ªController</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(&quot;/a3&quot;)</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">ajax3</span><span class="hljs-params">(String name,String pwd)</span>&#123;<br>    <span class="hljs-type">String</span> <span class="hljs-variable">msg</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;</span>;<br>    <span class="hljs-comment">//æ¨¡æ‹Ÿæ•°æ®åº“ä¸­å­˜åœ¨æ•°æ®</span><br>    <span class="hljs-keyword">if</span> (name!=<span class="hljs-literal">null</span>)&#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-string">&quot;admin&quot;</span>.equals(name))&#123;<br>        msg = <span class="hljs-string">&quot;OK&quot;</span>;<br>        &#125;<span class="hljs-keyword">else</span> &#123;<br>        msg = <span class="hljs-string">&quot;ç”¨æˆ·åè¾“å…¥é”™è¯¯&quot;</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (pwd!=<span class="hljs-literal">null</span>)&#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-string">&quot;123456&quot;</span>.equals(pwd))&#123;<br>        msg = <span class="hljs-string">&quot;OK&quot;</span>;<br>        &#125;<span class="hljs-keyword">else</span> &#123;<br>        msg = <span class="hljs-string">&quot;å¯†ç è¾“å…¥æœ‰è¯¯&quot;</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> msg; <span class="hljs-comment">//ç”±äº@RestControlleræ³¨è§£ï¼Œå°†msgè½¬æˆjsonæ ¼å¼è¿”å›</span><br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>å‰ç«¯é¡µé¢</p><p>login.jsp</p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>&lt;title&gt;ajax&lt;/title&gt;<br>&lt;script src=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/statics/js/jquery3.1.1.min.js&quot;</span>&gt;&lt;/script&gt;<br>&lt;script&gt;<br><br>        function <span class="hljs-title function_">a1</span><span class="hljs-params">()</span>&#123;<br>            $.post(&#123;<br>                url:<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/a3&quot;</span>,<br>                data:&#123;<span class="hljs-string">&#x27;name&#x27;</span>:$(<span class="hljs-string">&quot;#name&quot;</span>).val()&#125;,<br>                    success:function (data) &#123;<br>                <span class="hljs-keyword">if</span> (data.toString()==<span class="hljs-string">&#x27;OK&#x27;</span>)&#123;<br>                $(<span class="hljs-string">&quot;#userInfo&quot;</span>).css(<span class="hljs-string">&quot;color&quot;</span>,<span class="hljs-string">&quot;green&quot;</span>);<br>                &#125;<span class="hljs-keyword">else</span> &#123;<br>                $(<span class="hljs-string">&quot;#userInfo&quot;</span>).css(<span class="hljs-string">&quot;color&quot;</span>,<span class="hljs-string">&quot;red&quot;</span>);<br>                &#125;<br>                $(<span class="hljs-string">&quot;#userInfo&quot;</span>).html(data);<br>                &#125;<br>            &#125;);<br>        &#125;<br>function <span class="hljs-title function_">a2</span><span class="hljs-params">()</span>&#123;<br>        $.post(&#123;<br>            url:<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/a3&quot;</span>,<br>                data:&#123;<span class="hljs-string">&#x27;pwd&#x27;</span>:$(<span class="hljs-string">&quot;#pwd&quot;</span>).val()&#125;,<br>                success:function (data) &#123;<br>                <span class="hljs-keyword">if</span> (data.toString()==<span class="hljs-string">&#x27;OK&#x27;</span>)&#123;<br>                $(<span class="hljs-string">&quot;#pwdInfo&quot;</span>).css(<span class="hljs-string">&quot;color&quot;</span>,<span class="hljs-string">&quot;green&quot;</span>);<br>                &#125;<span class="hljs-keyword">else</span> &#123;<br>                $(<span class="hljs-string">&quot;#pwdInfo&quot;</span>).css(<span class="hljs-string">&quot;color&quot;</span>,<span class="hljs-string">&quot;red&quot;</span>);<br>                &#125;<br>                $(<span class="hljs-string">&quot;#pwdInfo&quot;</span>).html(data);<br>                &#125;<br>            &#125;);<br>        &#125;<br>&lt;/script&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>&lt;p&gt;<br>    ç”¨æˆ·å:&lt;input type=<span class="hljs-string">&quot;text&quot;</span> id=<span class="hljs-string">&quot;name&quot;</span> onblur=<span class="hljs-string">&quot;a1()&quot;</span>/&gt;<br>    &lt;span id=<span class="hljs-string">&quot;userInfo&quot;</span>&gt;&lt;/span&gt;<br>&lt;/p&gt;<br>&lt;p&gt;<br>    å¯†ç :&lt;input type=<span class="hljs-string">&quot;text&quot;</span> id=<span class="hljs-string">&quot;pwd&quot;</span> onblur=<span class="hljs-string">&quot;a2()&quot;</span>/&gt;<br>    &lt;span id=<span class="hljs-string">&quot;pwdInfo&quot;</span>&gt;&lt;/span&gt;<br>&lt;/p&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><p>è®°å¾—å¤„ç†jsonä¹±ç é—®é¢˜</p><p>æµ‹è¯•ä¸€ä¸‹æ•ˆæœï¼ŒåŠ¨æ€è¯·æ±‚å“åº”ï¼Œå±€éƒ¨åˆ·æ–°ï¼Œå°±æ˜¯å¦‚æ­¤</p><p><img src="https://img.yiqiangshiyia.cn/blog/SpringMVC-026.jpg" alt="SpringMVC-026"></p></li></ol><h2 id="8-4-è·å–baiduæ¥å£Demo"><a href="#8-4-è·å–baiduæ¥å£Demo" class="headerlink" title="8.4 è·å–baiduæ¥å£Demo"></a>8.4 è·å–baiduæ¥å£Demo</h2><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;!DOCTYPE HTML&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>    &lt;meta http-equiv=<span class="hljs-string">&quot;Content-Type&quot;</span> content=<span class="hljs-string">&quot;text/html; charset=utf-8&quot;</span>&gt;<br>    &lt;title&gt;JSONPç™¾åº¦æœç´¢&lt;/title&gt;<br>    &lt;style&gt;<br>        #q&#123;<br>            width: 500px;<br>            height: 30px;<br>            border:1px solid #ddd;<br>            line-height: 30px;<br>            display: block;<br>            margin: <span class="hljs-number">0</span> auto;<br>            padding: <span class="hljs-number">0</span> 10px;<br>            font-size: 14px;<br>        &#125;<br>        #ul&#123;<br>            width: 520px;<br>            list-style: none;<br>            margin: <span class="hljs-number">0</span> auto;<br>            padding: <span class="hljs-number">0</span>;<br>            border:1px solid #ddd;<br>            margin-top: -1px;<br>            display: none;<br>        &#125;<br>        #ul li&#123;<br>            line-height: 30px;<br>            padding: <span class="hljs-number">0</span> 10px;<br>        &#125;<br>        #ul li:hover&#123;<br>            background-color: #f60;<br>            color: #fff;<br>        &#125;<br>    &lt;/style&gt;<br>    &lt;script&gt;<br>        <span class="hljs-comment">// 2.æ­¥éª¤äºŒ</span><br>        <span class="hljs-comment">// å®šä¹‰demoå‡½æ•° (åˆ†ææ¥å£ã€æ•°æ®)</span><br>        function <span class="hljs-title function_">demo</span><span class="hljs-params">(data)</span>&#123;<br>            <span class="hljs-type">var</span> <span class="hljs-variable">Ul</span> <span class="hljs-operator">=</span> document.getElementById(<span class="hljs-string">&#x27;ul&#x27;</span>);<br>            <span class="hljs-type">var</span> <span class="hljs-variable">html</span> <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;&#x27;</span>;<br>            <span class="hljs-comment">// å¦‚æœæœç´¢æ•°æ®å­˜åœ¨ æŠŠå†…å®¹æ·»åŠ è¿›å»</span><br>            <span class="hljs-keyword">if</span> (data.s.length) &#123;<br>                <span class="hljs-comment">// éšè—æ‰çš„ulæ˜¾ç¤ºå‡ºæ¥</span><br>                Ul.style.display = <span class="hljs-string">&#x27;block&#x27;</span>;<br>                <span class="hljs-comment">// æœç´¢åˆ°çš„æ•°æ®å¾ªç¯è¿½åŠ åˆ°lié‡Œ</span><br>                <span class="hljs-keyword">for</span>(<span class="hljs-type">var</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;i&lt;data.s.length;i++)&#123;<br>                    html += <span class="hljs-string">&#x27;&lt;li&gt;&#x27;</span>+data.s[i]+<span class="hljs-string">&#x27;&lt;/li&gt;&#x27;</span>;<br>                &#125;<br>                <span class="hljs-comment">// å¾ªç¯çš„liå†™å…¥ul</span><br>                Ul.innerHTML = html;<br>            &#125;<br>        &#125;<br>        <span class="hljs-comment">// 1.æ­¥éª¤ä¸€</span><br>        window.onload = function()&#123;<br>            <span class="hljs-comment">// è·å–è¾“å…¥æ¡†å’Œul</span><br>            <span class="hljs-type">var</span> <span class="hljs-variable">Q</span> <span class="hljs-operator">=</span> document.getElementById(<span class="hljs-string">&#x27;q&#x27;</span>);<br>            <span class="hljs-type">var</span> <span class="hljs-variable">Ul</span> <span class="hljs-operator">=</span> document.getElementById(<span class="hljs-string">&#x27;ul&#x27;</span>);<br>            <span class="hljs-comment">// äº‹ä»¶é¼ æ ‡æŠ¬èµ·æ—¶å€™</span><br>            Q.onkeyup = function()&#123;<br>                <span class="hljs-comment">// å¦‚æœè¾“å…¥æ¡†ä¸ç­‰äºç©º</span><br>                <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.value != <span class="hljs-string">&#x27;&#x27;</span>) &#123;<br>                    <span class="hljs-comment">// åˆ›å»ºæ ‡ç­¾</span><br>                    <span class="hljs-type">var</span> <span class="hljs-variable">script</span> <span class="hljs-operator">=</span> document.createElement(<span class="hljs-string">&#x27;script&#x27;</span>);<br>                    <span class="hljs-comment">//ç»™å®šè¦è·¨åŸŸçš„åœ°å€ èµ‹å€¼ç»™src</span><br>                    <span class="hljs-comment">//è¿™é‡Œæ˜¯è¦è¯·æ±‚çš„è·¨åŸŸçš„åœ°å€ æˆ‘å†™çš„æ˜¯ç™¾åº¦æœç´¢çš„è·¨åŸŸåœ°å€</span><br>                    script.src = <span class="hljs-string">&#x27;https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su?wd=&#x27;</span>+<span class="hljs-built_in">this</span>.value+<span class="hljs-string">&#x27;&amp;cb=demo&#x27;</span>;<br>                    <span class="hljs-comment">// å°†ç»„åˆå¥½çš„å¸¦srcçš„scriptæ ‡ç­¾è¿½åŠ åˆ°bodyé‡Œ</span><br>                    document.body.appendChild(script);<br>                &#125;<br>            &#125;<br>        &#125;<br>    &lt;/script&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>&lt;input type=<span class="hljs-string">&quot;text&quot;</span> id=<span class="hljs-string">&quot;q&quot;</span> /&gt;<br>&lt;ul id=<span class="hljs-string">&quot;ul&quot;</span>&gt;<br>&lt;/ul&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure><h1 id="9-æ‹¦æˆªå™¨"><a href="#9-æ‹¦æˆªå™¨" class="headerlink" title="9. æ‹¦æˆªå™¨"></a>9. æ‹¦æˆªå™¨</h1><h2 id="9-1-æ¦‚è¿°"><a href="#9-1-æ¦‚è¿°" class="headerlink" title="9.1 æ¦‚è¿°"></a>9.1 æ¦‚è¿°</h2><p>SpringMVCçš„å¤„ç†å™¨æ‹¦æˆªå™¨ç±»ä¼¼äºServletå¼€å‘ä¸­çš„è¿‡æ»¤å™¨Filter,ç”¨äºå¯¹å¤„ç†å™¨è¿›è¡Œé¢„å¤„ç†å’Œåå¤„ç†ã€‚å¼€å‘è€…å¯ä»¥è‡ªå·±å®šä¹‰ä¸€äº›æ‹¦æˆªå™¨æ¥å®ç°ç‰¹å®šçš„åŠŸèƒ½ã€‚ </p><p><strong>è¿‡æ»¤å™¨ä¸æ‹¦æˆªå™¨çš„åŒºåˆ«ï¼š</strong>æ‹¦æˆªå™¨æ˜¯AOPæ€æƒ³çš„å…·ä½“åº”ç”¨ã€‚ </p><p><strong>è¿‡æ»¤å™¨</strong> </p><ul><li>servletè§„èŒƒä¸­çš„ä¸€éƒ¨åˆ†ï¼Œä»»ä½•java webå·¥ç¨‹éƒ½å¯ä»¥ä½¿ç”¨ ã€</li><li>åœ¨url-patternä¸­é…ç½®äº†/*ä¹‹åï¼Œå¯ä»¥å¯¹æ‰€æœ‰è¦è®¿é—®çš„èµ„æºè¿›è¡Œæ‹¦æˆª </li></ul><p><strong>æ‹¦æˆªå™¨</strong> </p><ul><li>æ‹¦æˆªå™¨æ˜¯SpringMVCæ¡†æ¶è‡ªå·±çš„ï¼Œåªæœ‰ä½¿ç”¨äº†SpringMVCæ¡†æ¶çš„å·¥ç¨‹æ‰èƒ½ä½¿ç”¨ </li><li>æ‹¦æˆªå™¨åªä¼šæ‹¦æˆªè®¿é—®çš„æ§åˆ¶å™¨æ–¹æ³•ï¼Œ å¦‚æœè®¿é—®çš„æ˜¯jsp/html/css/image/jsæ˜¯ä¸ä¼šè¿›è¡Œæ‹¦æˆªçš„</li></ul><h2 id="9-2-è‡ªå®šä¹‰æ‹¦æˆªå™¨"><a href="#9-2-è‡ªå®šä¹‰æ‹¦æˆªå™¨" class="headerlink" title="9.2 è‡ªå®šä¹‰æ‹¦æˆªå™¨"></a>9.2 è‡ªå®šä¹‰æ‹¦æˆªå™¨</h2><p>é‚£å¦‚ä½•å®ç°æ‹¦æˆªå™¨å‘¢ï¼Ÿ </p><p>æƒ³è¦è‡ªå®šä¹‰æ‹¦æˆªå™¨ï¼Œå¿…é¡»å®ç° HandlerInterceptor æ¥å£ã€‚</p><ol><li><p>æ–°å»ºä¸€ä¸ªMoudule ï¼Œ springmvc-07-Interceptor ï¼Œ æ·»åŠ webæ”¯æŒ</p></li><li><p>é…ç½®web.xml å’Œ springmvc-servlet.xml æ–‡ä»¶</p></li><li><p>ç¼–å†™ä¸€ä¸ªæ‹¦æˆªå™¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyInterceptor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">HandlerInterceptor</span> &#123;<br>    <span class="hljs-comment">//åœ¨è¯·æ±‚å¤„ç†çš„æ–¹æ³•ä¹‹å‰æ‰§è¡Œ</span><br>    <span class="hljs-comment">//å¦‚æœè¿”å›trueæ‰§è¡Œä¸‹ä¸€ä¸ªæ‹¦æˆªå™¨</span><br>    <span class="hljs-comment">//å¦‚æœè¿”å›falseå°±ä¸æ‰§è¡Œä¸‹ä¸€ä¸ªæ‹¦æˆªå™¨</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">preHandle</span><span class="hljs-params">(HttpServletRequest httpServletRequest,HttpServletResponse httpServletResponse, Object o)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>    System.out.println(<span class="hljs-string">&quot;å¤„ç†å‰-----&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    <br>    <span class="hljs-comment">//åœ¨è¯·æ±‚å¤„ç†æ–¹æ³•æ‰§è¡Œä¹‹åæ‰§è¡Œ</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">postHandle</span><span class="hljs-params">(HttpServletRequest httpServletRequest,HttpServletResponse httpServletResponse, Object o, ModelAndView modelAndView)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>    System.out.println(<span class="hljs-string">&quot;å¤„ç†å----&quot;</span>);<br>    &#125;<br>    <br>    <span class="hljs-comment">//åœ¨dispatcherServletå¤„ç†åæ‰§è¡Œ,åšæ¸…ç†å·¥ä½œ.</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterCompletion</span><span class="hljs-params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o, Exception e)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>    System.out.println(<span class="hljs-string">&quot;æ¸…ç†----&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>åœ¨springmvcçš„é…ç½®æ–‡ä»¶ä¸­é…ç½®æ‹¦æˆªå™¨</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--å…³äºæ‹¦æˆªå™¨çš„é…ç½®--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mvc:interceptors</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mvc:interceptor</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--/** åŒ…æ‹¬è·¯å¾„åŠå…¶å­è·¯å¾„--&gt;</span><br>        <span class="hljs-comment">&lt;!--/admin/* æ‹¦æˆªçš„æ˜¯/admin/addç­‰ç­‰è¿™ç§ , /admin/add/userä¸ä¼šè¢«æ‹¦æˆª-</span><br><span class="hljs-comment">        -&gt;</span><br><span class="hljs-comment">        &lt;!--/admin/** æ‹¦æˆªçš„æ˜¯/admin/ä¸‹çš„æ‰€æœ‰--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">mvc:mapping</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;/**&quot;</span>/&gt;</span><br>        <span class="hljs-comment">&lt;!--beané…ç½®çš„å°±æ˜¯æ‹¦æˆªå™¨--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.kuang.interceptor.MyInterceptor&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">mvc:interceptor</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mvc:interceptors</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™ä¸€ä¸ªControllerï¼Œæ¥æ”¶è¯·æ±‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//æµ‹è¯•æ‹¦æˆªå™¨çš„æ§åˆ¶å™¨</span><br><span class="hljs-meta">@Controller</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">InterceptorController</span> &#123;<br>    <span class="hljs-meta">@RequestMapping(&quot;/interceptor&quot;)</span><br>    <span class="hljs-meta">@ResponseBody</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">testFunction</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;æ§åˆ¶å™¨ä¸­çš„æ–¹æ³•æ‰§è¡Œäº†&quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;hello&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>å‰ç«¯ index.js</p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;a href=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/interceptor&quot;</span>&gt;æ‹¦æˆªå™¨æµ‹è¯•&lt;/a&gt;<br></code></pre></td></tr></table></figure></li><li><p>å¯åŠ¨tomcat æµ‹è¯•</p></li></ol><h2 id="9-3-éªŒè¯ç”¨æˆ·æ˜¯å¦ç™»å½•-è®¤è¯ç”¨æˆ·"><a href="#9-3-éªŒè¯ç”¨æˆ·æ˜¯å¦ç™»å½•-è®¤è¯ç”¨æˆ·" class="headerlink" title="9.3 éªŒè¯ç”¨æˆ·æ˜¯å¦ç™»å½• (è®¤è¯ç”¨æˆ·)"></a>9.3 éªŒè¯ç”¨æˆ·æ˜¯å¦ç™»å½• (è®¤è¯ç”¨æˆ·)</h2><p>å®ç°æ€è·¯ï¼š</p><ol><li>æœ‰ä¸€ä¸ªç™»é™†é¡µé¢ï¼Œéœ€è¦å†™ä¸€ä¸ªcontrollerè®¿é—®é¡µé¢ã€‚</li><li>ç™»é™†é¡µé¢æœ‰ä¸€æäº¤è¡¨å•çš„åŠ¨ä½œã€‚éœ€è¦åœ¨controllerä¸­å¤„ç†ã€‚åˆ¤æ–­ç”¨æˆ·åå¯†ç æ˜¯å¦æ­£ç¡®ã€‚å¦‚æœæ­£ç¡®ï¼Œ å‘sessionä¸­å†™å…¥ç”¨æˆ·ä¿¡æ¯ã€‚è¿”å›ç™»é™†æˆåŠŸã€‚</li><li>æ‹¦æˆªç”¨æˆ·è¯·æ±‚ï¼Œåˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»é™†ã€‚å¦‚æœç”¨æˆ·å·²ç»ç™»é™†ï¼Œæ”¾è¡Œï¼›å¦‚æœç”¨æˆ·æœªç™»é™†ï¼Œè·³è½¬åˆ°ç™»é™†é¡µé¢</li></ol><p>å®ç°æ­¥éª¤ï¼š</p><ol><li><p>ç¼–å†™ä¸€ä¸ªç™»é™†é¡µé¢ login.jsp</p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>&lt;title&gt;Title&lt;/title&gt;<br>&lt;/head&gt;<br>    <br>&lt;h1&gt;ç™»å½•é¡µé¢&lt;/h1&gt;<br>&lt;hr&gt;<br>    <br>&lt;body&gt;<br>&lt;form action=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/user/login&quot;</span>&gt;<br>    ç”¨æˆ·åï¼š&lt;input type=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;username&quot;</span>&gt; &lt;br&gt;<br>    å¯†ç ï¼š &lt;input type=<span class="hljs-string">&quot;password&quot;</span> name=<span class="hljs-string">&quot;pwd&quot;</span>&gt; &lt;br&gt;<br>    &lt;input type=<span class="hljs-string">&quot;submit&quot;</span> value=<span class="hljs-string">&quot;æäº¤&quot;</span>&gt;<br>&lt;/form&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™ä¸€ä¸ªControllerå¤„ç†è¯·æ±‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-meta">@RequestMapping(&quot;/user&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> &#123;<br>    <span class="hljs-comment">//è·³è½¬åˆ°ç™»é™†é¡µé¢</span><br>    <span class="hljs-meta">@RequestMapping(&quot;/jumplogin&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">jumpLogin</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;login&quot;</span>;<br>    &#125;<br>    <br>    <span class="hljs-comment">//è·³è½¬åˆ°æˆåŠŸé¡µé¢</span><br>    <span class="hljs-meta">@RequestMapping(&quot;/jumpSuccess&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">jumpSuccess</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;success&quot;</span>;<br>    &#125;<br>    <br>    <span class="hljs-comment">//ç™»é™†æäº¤</span><br>    <span class="hljs-meta">@RequestMapping(&quot;/login&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">login</span><span class="hljs-params">(HttpSession session, String username, String pwd)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        <span class="hljs-comment">// å‘sessionè®°å½•ç”¨æˆ·èº«ä»½ä¿¡æ¯</span><br>        System.out.println(<span class="hljs-string">&quot;æ¥æ”¶å‰ç«¯===&quot;</span>+username);<br>        session.setAttribute(<span class="hljs-string">&quot;user&quot;</span>, username);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;success&quot;</span>;<br>    &#125;<br>    <br>    <span class="hljs-comment">//é€€å‡ºç™»é™†</span><br>    <span class="hljs-meta">@RequestMapping(&quot;logout&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">logout</span><span class="hljs-params">(HttpSession session)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        <span class="hljs-comment">// session è¿‡æœŸ</span><br>        session.invalidate();<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;login&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™ä¸€ä¸ªç™»é™†æˆåŠŸçš„é¡µé¢ success.jsp</p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>&lt;title&gt;Title&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>    <br>&lt;h1&gt;ç™»å½•æˆåŠŸé¡µé¢&lt;/h1&gt;<br>&lt;hr&gt;<br>    <br>$&#123;user&#125;<br>&lt;a href=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/user/logout&quot;</span>&gt;æ³¨é”€&lt;/a&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;    <br></code></pre></td></tr></table></figure></li><li><p>åœ¨ index é¡µé¢ä¸Šæµ‹è¯•è·³è½¬ï¼å¯åŠ¨Tomcat æµ‹è¯•ï¼Œæœªç™»å½•ä¹Ÿå¯ä»¥è¿›å…¥ä¸»é¡µ</p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;html&gt;<br>    &lt;head&gt;<br>    &lt;title&gt;$Title$&lt;/title&gt;<br>    &lt;/head&gt;<br>    &lt;body&gt;<br>    &lt;h1&gt;é¦–é¡µ&lt;/h1&gt;<br>    &lt;hr&gt;<br>    &lt;%--ç™»å½•--%&gt;<br>    &lt;a href=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/user/jumplogin&quot;</span>&gt;ç™»å½•&lt;/a&gt;<br>    &lt;a href=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/user/jumpSuccess&quot;</span>&gt;æˆåŠŸé¡µé¢&lt;/a&gt;<br>    &lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™ç”¨æˆ·ç™»å½•æ‹¦æˆªå™¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LoginInterceptor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">HandlerInterceptor</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">preHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="hljs-keyword">throws</span> ServletException,IOException &#123;<br>    <br>        <span class="hljs-comment">// å¦‚æœæ˜¯ç™»é™†é¡µé¢åˆ™æ”¾è¡Œ</span><br>        System.out.println(<span class="hljs-string">&quot;uri: &quot;</span> + request.getRequestURI());<br>        <span class="hljs-keyword">if</span> (request.getRequestURI().contains(<span class="hljs-string">&quot;login&quot;</span>)) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        &#125;<br>    <br>        <span class="hljs-type">HttpSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> request.getSession();<br>    <br>        <span class="hljs-comment">// å¦‚æœç”¨æˆ·å·²ç™»é™†ä¹Ÿæ”¾è¡Œ</span><br>        <span class="hljs-keyword">if</span>(session.getAttribute(<span class="hljs-string">&quot;user&quot;</span>) != <span class="hljs-literal">null</span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        &#125;<br>    <br>        <span class="hljs-comment">// ç”¨æˆ·æ²¡æœ‰ç™»é™†è·³è½¬åˆ°ç™»é™†é¡µé¢</span><br>        request.getRequestDispatcher(<span class="hljs-string">&quot;/WEB-INF/jsp/login.jsp&quot;</span>).forward(request, response);<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">postHandle</span><span class="hljs-params">(HttpServletRequest httpServletRequest,HttpServletResponse httpServletResponse, Object o, ModelAndView modelAndView)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        <br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterCompletion</span><span class="hljs-params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o, Exception e)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        <br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>åœ¨Springmvcçš„é…ç½®æ–‡ä»¶ä¸­æ³¨å†Œæ‹¦æˆªå™¨</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--å…³äºæ‹¦æˆªå™¨çš„é…ç½®--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mvc:interceptors</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mvc:interceptor</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mvc:mapping</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;/**&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;loginInterceptor&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.kuang.interceptor.LoginInterceptor&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mvc:interceptor</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mvc:interceptors</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>å†æ¬¡é‡å¯Tomcatæµ‹è¯•</p></li></ol><h1 id="10-æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½"><a href="#10-æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½" class="headerlink" title="10. æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½"></a>10. æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½</h1><h2 id="10-1-å‡†å¤‡å·¥ä½œ"><a href="#10-1-å‡†å¤‡å·¥ä½œ" class="headerlink" title="10.1 å‡†å¤‡å·¥ä½œ"></a>10.1 å‡†å¤‡å·¥ä½œ</h2><p>æ–‡ä»¶ä¸Šä¼ æ˜¯é¡¹ç›®å¼€å‘ä¸­æœ€å¸¸è§çš„åŠŸèƒ½ä¹‹ä¸€ï¼ŒspringMVC å¯ä»¥å¾ˆå¥½çš„æ”¯æŒæ–‡ä»¶ä¸Šä¼ ï¼Œä½†æ˜¯SpringMVCä¸Š ä¸‹æ–‡ä¸­é»˜è®¤æ²¡æœ‰è£…é…MultipartResolverï¼Œå› æ­¤é»˜è®¤æƒ…å†µä¸‹å…¶ä¸èƒ½å¤„ç†æ–‡ä»¶ä¸Šä¼ å·¥ä½œã€‚å¦‚æœæƒ³ä½¿ç”¨Spring çš„æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ï¼Œåˆ™éœ€è¦åœ¨ä¸Šä¸‹æ–‡ä¸­é…ç½®MultipartResolverã€‚ </p><p>å‰ç«¯è¡¨å•è¦æ±‚ï¼šä¸ºäº†èƒ½ä¸Šä¼ æ–‡ä»¶ï¼Œå¿…é¡»å°†è¡¨å•çš„methodè®¾ç½®ä¸ºPOSTï¼Œå¹¶å°†enctypeè®¾ç½®ä¸º multipart/form-dataã€‚åªæœ‰åœ¨è¿™æ ·çš„æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨æ‰ä¼šæŠŠç”¨æˆ·é€‰æ‹©çš„æ–‡ä»¶ä»¥äºŒè¿›åˆ¶æ•°æ®å‘é€ç»™æœåŠ¡å™¨</p><p><strong>å¯¹è¡¨å•ä¸­çš„ enctype å±æ€§åšä¸ªè¯¦ç»†çš„è¯´æ˜ï¼š</strong> </p><ul><li>application/x-www=form-urlencodedï¼šé»˜è®¤æ–¹å¼ï¼Œåªå¤„ç†è¡¨å•åŸŸä¸­çš„ value å±æ€§å€¼ï¼Œé‡‡ç”¨è¿™ç§ç¼– ç æ–¹å¼çš„è¡¨å•ä¼šå°†è¡¨å•åŸŸä¸­çš„å€¼å¤„ç†æˆ URL ç¼–ç æ–¹å¼ã€‚ </li><li>multipart/form-dataï¼šè¿™ç§ç¼–ç æ–¹å¼ä¼šä»¥äºŒè¿›åˆ¶æµçš„æ–¹å¼æ¥å¤„ç†è¡¨å•æ•°æ®ï¼Œè¿™ç§ç¼–ç æ–¹å¼ä¼šæŠŠæ–‡ ä»¶åŸŸæŒ‡å®šæ–‡ä»¶çš„å†…å®¹ä¹Ÿå°è£…åˆ°è¯·æ±‚å‚æ•°ä¸­ï¼Œä¸ä¼šå¯¹å­—ç¬¦ç¼–ç ã€‚ </li><li>text/plainï¼šé™¤äº†æŠŠç©ºæ ¼è½¬æ¢ä¸º â€œ+â€ å·å¤–ï¼Œå…¶ä»–å­—ç¬¦éƒ½ä¸åšç¼–ç å¤„ç†ï¼Œè¿™ç§æ–¹å¼é€‚ç”¨ç›´æ¥é€šè¿‡è¡¨å•å‘é€é‚®ä»¶ã€‚</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">enctype</span>=<span class="hljs-string">&quot;multipart/form-data&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;file&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;file&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ä¸€æ—¦è®¾ç½®äº†enctypeä¸ºmultipart/form-dataï¼Œæµè§ˆå™¨å³ä¼šé‡‡ç”¨äºŒè¿›åˆ¶æµçš„æ–¹å¼æ¥å¤„ç†è¡¨å•æ•°æ®ï¼Œè€Œå¯¹äºæ–‡ä»¶ä¸Šä¼ çš„å¤„ç†åˆ™æ¶‰åŠåœ¨æœåŠ¡å™¨ç«¯è§£æåŸå§‹çš„HTTPå“åº”ã€‚åœ¨2003å¹´ï¼ŒApache Software Foundation å‘å¸ƒäº†å¼€æºçš„Commons FileUploadç»„ä»¶ï¼Œå…¶å¾ˆå¿«æˆä¸ºServlet/JSPç¨‹åºå‘˜ä¸Šä¼ æ–‡ä»¶çš„æœ€ä½³é€‰æ‹©ã€‚ </p><ul><li>Servlet3.0è§„èŒƒå·²ç»æä¾›æ–¹æ³•æ¥å¤„ç†æ–‡ä»¶ä¸Šä¼ ï¼Œä½†è¿™ç§ä¸Šä¼ éœ€è¦åœ¨Servletä¸­å®Œæˆã€‚ </li><li>è€ŒSpring MVCåˆ™æä¾›äº†æ›´ç®€å•çš„å°è£…ã€‚ </li><li>Spring MVCä¸ºæ–‡ä»¶ä¸Šä¼ æä¾›äº†ç›´æ¥çš„æ”¯æŒï¼Œè¿™ç§æ”¯æŒæ˜¯ç”¨å³æ’å³ç”¨çš„MultipartResolverå®ç°çš„ã€‚ </li><li>Spring MVCä½¿ç”¨Apache Commons FileUploadæŠ€æœ¯å®ç°äº†ä¸€ä¸ªMultipartResolverå®ç°ç±»ï¼š CommonsMultipartResolverã€‚å› æ­¤ï¼ŒSpringMVCçš„æ–‡ä»¶ä¸Šä¼ è¿˜éœ€è¦ä¾èµ–Apache Commons FileUploadçš„ç»„ä»¶ã€‚</li></ul><h2 id="10-2-æ–‡ä»¶ä¸Šä¼ "><a href="#10-2-æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="10.2 æ–‡ä»¶ä¸Šä¼ "></a>10.2 æ–‡ä»¶ä¸Šä¼ </h2><ol><li><p>å…¥æ–‡ä»¶ä¸Šä¼ çš„jaråŒ…ï¼Œcommons-fileuploadï¼ŒMavenä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬å¯¼å…¥ä»–çš„ä¾èµ–åŒ… commonsioåŒ…</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--æ–‡ä»¶ä¸Šä¼ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>commons-fileupload<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>commons-fileupload<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.3.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-comment">&lt;!--servlet-apiå¯¼å…¥é«˜ç‰ˆæœ¬çš„--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>javax.servlet-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.0.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>é…ç½®beanï¼šmultipartResolver</p><p>è¿™ä¸ªbenaçš„idå¿…é¡»ä¸ºï¼šmultipartResolverï¼Œå¦åˆ™ä¸Šä¼ æ–‡ä»¶ä¼šæŠ¥400çš„é”™è¯¯</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--æ–‡ä»¶ä¸Šä¼ é…ç½®--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;multipartResolver&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- è¯·æ±‚çš„ç¼–ç æ ¼å¼ï¼Œå¿…é¡»å’ŒjSPçš„pageEncodingå±æ€§ä¸€è‡´ï¼Œä»¥ä¾¿æ­£ç¡®è¯»å–è¡¨å•çš„å†…å®¹ï¼Œé»˜è®¤ä¸ºISO-8859-1 --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;defaultEncoding&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;utf-8&quot;</span>/&gt;</span><br>    <span class="hljs-comment">&lt;!-- ä¸Šä¼ æ–‡ä»¶å¤§å°ä¸Šé™ï¼Œå•ä½ä¸ºå­—èŠ‚ï¼ˆ10485760=10Mï¼‰ --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;maxUploadSize&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;10485760&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;maxInMemorySize&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;40960&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><p>CommonsMultipartFile çš„å¸¸ç”¨æ–¹æ³•ï¼š </p><ul><li>String getOriginalFilename()ï¼šè·å–ä¸Šä¼ æ–‡ä»¶çš„åŸå </li><li>InputStream getInputStream()ï¼šè·å–æ–‡ä»¶æµ </li><li>void transferTo(File dest)ï¼šå°†ä¸Šä¼ æ–‡ä»¶ä¿å­˜åˆ°ä¸€ä¸ªç›®å½•æ–‡ä»¶ä¸­ï¼Œå»å®é™…æµ‹è¯•ä¸€ä¸‹</li></ul></li><li><p>ç¼–å†™å‰ç«¯é¡µé¢</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;/upload&quot;</span> <span class="hljs-attr">enctype</span>=<span class="hljs-string">&quot;multipart/form-data&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;file&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;file&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;upload&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>Controller</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FileController</span> &#123;<br>    <span class="hljs-comment">//@RequestParam(&quot;file&quot;) å°†name=fileæ§ä»¶å¾—åˆ°çš„æ–‡ä»¶å°è£…æˆCommonsMultipartFile å¯¹è±¡</span><br>    <span class="hljs-comment">//æ‰¹é‡ä¸Šä¼ CommonsMultipartFileåˆ™ä¸ºæ•°ç»„å³å¯</span><br>    <span class="hljs-meta">@RequestMapping(&quot;/upload&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">fileUpload</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam(&quot;file&quot;)</span> CommonsMultipartFile file , HttpServletRequest request)</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        <span class="hljs-comment">//è·å–æ–‡ä»¶å : file.getOriginalFilename();</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">uploadFileName</span> <span class="hljs-operator">=</span> file.getOriginalFilename();<br>        <br>        <span class="hljs-comment">//å¦‚æœæ–‡ä»¶åä¸ºç©ºï¼Œç›´æ¥å›åˆ°é¦–é¡µï¼</span><br>        <span class="hljs-keyword">if</span> (<span class="hljs-string">&quot;&quot;</span>.equals(uploadFileName))&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;redirect:/index.jsp&quot;</span>;<br>        &#125;<br>        System.out.println(<span class="hljs-string">&quot;ä¸Šä¼ æ–‡ä»¶å : &quot;</span>+uploadFileName);<br>        <br>        <span class="hljs-comment">//ä¸Šä¼ è·¯å¾„ä¿å­˜è®¾ç½®</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">path</span> <span class="hljs-operator">=</span> request.getServletContext().getRealPath(<span class="hljs-string">&quot;/upload&quot;</span>);<br>        <span class="hljs-comment">//å¦‚æœè·¯å¾„ä¸å­˜åœ¨ï¼Œåˆ›å»ºä¸€ä¸ª</span><br>        <span class="hljs-type">File</span> <span class="hljs-variable">realPath</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(path);<br>        <span class="hljs-keyword">if</span> (!realPath.exists())&#123;<br>        realPath.mkdir();<br>        &#125;<br>        System.out.println(<span class="hljs-string">&quot;ä¸Šä¼ æ–‡ä»¶ä¿å­˜åœ°å€ï¼š&quot;</span>+realPath);<br>        <br>        <span class="hljs-type">InputStream</span> <span class="hljs-variable">is</span> <span class="hljs-operator">=</span> file.getInputStream(); <span class="hljs-comment">//æ–‡ä»¶è¾“å…¥æµ</span><br>        <span class="hljs-type">OutputStream</span> <span class="hljs-variable">os</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(realPath,uploadFileName)); <span class="hljs-comment">//æ–‡ä»¶è¾“å‡ºæµ</span><br>        <br>        <span class="hljs-comment">//è¯»å–å†™å‡º</span><br>        <span class="hljs-type">int</span> len=<span class="hljs-number">0</span>;<br>        <span class="hljs-type">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span>];<br>        <span class="hljs-keyword">while</span> ((len=is.read(buffer))!=-<span class="hljs-number">1</span>)&#123;<br>        os.write(buffer,<span class="hljs-number">0</span>,len);<br>        os.flush();<br>        &#125;<br>        os.close();<br>        is.close();<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;redirect:/index.jsp&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•ä¸Šä¼ æ–‡ä»¶</p></li></ol><p><strong>é‡‡ç”¨file.Transto æ¥ä¿å­˜ä¸Šä¼ çš„æ–‡ä»¶</strong></p><ol><li><p>ç¼–å†™Controller</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/*</span><br><span class="hljs-comment">* é‡‡ç”¨file.Transto æ¥ä¿å­˜ä¸Šä¼ çš„æ–‡ä»¶</span><br><span class="hljs-comment">*/</span><br><span class="hljs-meta">@RequestMapping(&quot;/upload2&quot;)</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">fileUpload2</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam(&quot;file&quot;)</span> CommonsMultipartFile file, HttpServletRequest request)</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>    <span class="hljs-comment">//ä¸Šä¼ è·¯å¾„ä¿å­˜è®¾ç½®</span><br>    <span class="hljs-type">String</span> <span class="hljs-variable">path</span> <span class="hljs-operator">=</span> request.getServletContext().getRealPath(<span class="hljs-string">&quot;/upload&quot;</span>);<br>    <span class="hljs-type">File</span> <span class="hljs-variable">realPath</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(path);<br>    <span class="hljs-keyword">if</span> (!realPath.exists())&#123;<br>    realPath.mkdir();<br>    &#125;<br>    <span class="hljs-comment">//ä¸Šä¼ æ–‡ä»¶åœ°å€</span><br>    System.out.println(<span class="hljs-string">&quot;ä¸Šä¼ æ–‡ä»¶ä¿å­˜åœ°å€ï¼š&quot;</span>+realPath);<br>    <br>    <span class="hljs-comment">//é€šè¿‡CommonsMultipartFileçš„æ–¹æ³•ç›´æ¥å†™æ–‡ä»¶ï¼ˆæ³¨æ„è¿™ä¸ªæ—¶å€™ï¼‰</span><br>    file.transferTo(<span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(realPath +<span class="hljs-string">&quot;/&quot;</span>+ file.getOriginalFilename()));<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;redirect:/index.jsp&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>å‰ç«¯è¡¨å•æäº¤åœ°å€ä¿®æ”¹</p></li><li><p>è®¿é—®æäº¤æµ‹è¯•</p></li></ol><h2 id="10-3-æ–‡ä»¶ä¸‹è½½"><a href="#10-3-æ–‡ä»¶ä¸‹è½½" class="headerlink" title="10.3 æ–‡ä»¶ä¸‹è½½"></a>10.3 æ–‡ä»¶ä¸‹è½½</h2><p>æ–‡ä»¶ä¸‹è½½æ­¥éª¤ï¼š</p><ol><li>è®¾ç½® response å“åº”å¤´</li><li>è¯»å–æ–‡ä»¶ â€“ InputStream</li><li>å†™å‡ºæ–‡ä»¶ â€“ OutputStream</li><li>æ‰§è¡Œæ“ä½œ</li><li>å…³é—­æµ ï¼ˆå…ˆå¼€åå…³ï¼‰</li></ol><p>ä»£ç å®ç°ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(value=&quot;/download&quot;)</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">downloads</span><span class="hljs-params">(HttpServletResponse response ,HttpServletRequest request)</span> <span class="hljs-keyword">throws</span> Exception&#123;<br>    <span class="hljs-comment">//è¦ä¸‹è½½çš„å›¾ç‰‡åœ°å€</span><br>    <span class="hljs-type">String</span>  <span class="hljs-variable">path</span> <span class="hljs-operator">=</span> request.getServletContext().getRealPath(<span class="hljs-string">&quot;/upload&quot;</span>);<br>    <span class="hljs-type">String</span>  <span class="hljs-variable">fileName</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;åŸºç¡€è¯­æ³•.jpg&quot;</span>;<br>    <span class="hljs-comment">//1ã€è®¾ç½®response å“åº”å¤´</span><br>    response.reset(); <span class="hljs-comment">//è®¾ç½®é¡µé¢ä¸ç¼“å­˜,æ¸…ç©ºbuffer</span><br>    response.setCharacterEncoding(<span class="hljs-string">&quot;UTF-8&quot;</span>); <span class="hljs-comment">//å­—ç¬¦ç¼–ç </span><br>    response.setContentType(<span class="hljs-string">&quot;multipart/form-data&quot;</span>); <span class="hljs-comment">//äºŒè¿›åˆ¶ä¼ è¾“æ•°æ®</span><br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´</span><br>    response.setHeader(<span class="hljs-string">&quot;Content-Disposition&quot;</span>,<br>            <span class="hljs-string">&quot;attachment;fileName=&quot;</span>+URLEncoder.encode(fileName, <span class="hljs-string">&quot;UTF-8&quot;</span>));<br>    <span class="hljs-type">File</span> <span class="hljs-variable">file</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(path,fileName);<br>    <span class="hljs-comment">//2ã€ è¯»å–æ–‡ä»¶--è¾“å…¥æµ</span><br>    InputStream input=<span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(file);<br>    <span class="hljs-comment">//3ã€ å†™å‡ºæ–‡ä»¶--è¾“å‡ºæµ</span><br>    <span class="hljs-type">OutputStream</span> <span class="hljs-variable">out</span> <span class="hljs-operator">=</span> response.getOutputStream();<br>    <span class="hljs-type">byte</span>[] buff =<span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span>];<br>    <span class="hljs-type">int</span> index=<span class="hljs-number">0</span>;<br>    <span class="hljs-comment">//4ã€æ‰§è¡Œå†™å‡ºæ“ä½œ</span><br>    <span class="hljs-keyword">while</span>((index= input.read(buff))!= -<span class="hljs-number">1</span>)&#123;<br>        out.write(buff, <span class="hljs-number">0</span>, index);<br>        out.flush();<br>    &#125;<br>    out.close();<br>    input.close();<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>å‰ç«¯</p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;a href=<span class="hljs-string">&quot;/download&quot;</span>&gt;ç‚¹å‡»ä¸‹è½½&lt;/a&gt;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•</p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>SSM</tag>
      
      <tag>SpringMVC</tag>
      
      <tag>JSON</tag>
      
      <tag>Ajax</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SSM-Spring</title>
    <link href="/2022/08/27/SSM-Spring/"/>
    <url>/2022/08/27/SSM-Spring/</url>
    
    <content type="html"><![CDATA[<p><strong>Springå®˜æ–¹ç½‘ç«™ï¼š<a href="https://spring.io/">https://spring.io/</a></strong></p><p><strong>Spring Framework Documentation 5.3.22ï¼š<a href="https://docs.spring.io/spring-framework/docs/current/reference/html/">https://docs.spring.io/spring-framework/docs/current/reference/html/</a></strong></p><p><strong>Spring Framework ä¸­æ–‡æ–‡æ¡£ï¼š<a href="https://www.docs4dev.com/docs/zh/spring-framework/5.1.3.RELEASE/reference/core.html#validation">https://www.docs4dev.com/docs/zh/spring-framework/5.1.3.RELEASE/reference/core.html#validation</a></strong></p><h1 id="1-Springæ¦‚è¿°"><a href="#1-Springæ¦‚è¿°" class="headerlink" title="1. Springæ¦‚è¿°"></a>1. Springæ¦‚è¿°</h1><p><img src="https://img.yiqiangshiyia.cn/blog/spring001.jpg" alt="spring001"></p><h2 id="1-1-ç®€ä»‹"><a href="#1-1-ç®€ä»‹" class="headerlink" title="1.1 ç®€ä»‹"></a>1.1 ç®€ä»‹</h2><blockquote><p>â€‹        Springæ¡†æ¶æ˜¯ä¸€ä¸ª<a href="https://baike.baidu.com/item/%E5%BC%80%E6%94%BE%E6%BA%90%E4%BB%A3%E7%A0%81/114160">å¼€æ”¾æºä»£ç </a>çš„<a href="https://baike.baidu.com/item/J2EE/110838">J2EE</a>åº”ç”¨ç¨‹åºæ¡†æ¶ï¼Œç”±[Rod Johnson](<a href="https://baike.baidu.com/item/Rod">https://baike.baidu.com/item/Rod</a> Johnson/1423612)å‘èµ·ï¼Œæ˜¯é’ˆå¯¹beançš„ç”Ÿå‘½å‘¨æœŸè¿›è¡Œç®¡ç†çš„è½»é‡çº§å®¹å™¨ï¼ˆlightweight containerï¼‰ã€‚ Springè§£å†³äº†å¼€å‘è€…åœ¨J2EEå¼€å‘ä¸­é‡åˆ°çš„è®¸å¤šå¸¸è§çš„é—®é¢˜ï¼Œæä¾›äº†åŠŸèƒ½å¼ºå¤§IOCã€<a href="https://baike.baidu.com/item/AOP/1332219">AOP</a>åŠWeb MVCç­‰åŠŸèƒ½ã€‚Springå¯ä»¥å•ç‹¬åº”ç”¨äºæ„ç­‘åº”ç”¨ç¨‹åºï¼Œä¹Ÿå¯ä»¥å’ŒStrutsã€Webworkã€Tapestryç­‰ä¼—å¤šWebæ¡†æ¶ç»„åˆä½¿ç”¨ï¼Œå¹¶ä¸”å¯ä»¥ä¸ Swingç­‰<a href="https://baike.baidu.com/item/%E6%A1%8C%E9%9D%A2%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F/2331979">æ¡Œé¢åº”ç”¨ç¨‹åº</a>APç»„åˆã€‚å› æ­¤ï¼Œ Springä¸ä»…ä»…èƒ½åº”ç”¨äºJ2EEåº”ç”¨ç¨‹åºä¹‹ä¸­ï¼Œä¹Ÿå¯ä»¥åº”ç”¨äºæ¡Œé¢åº”ç”¨ç¨‹åºä»¥åŠå°åº”ç”¨ç¨‹åºä¹‹ä¸­ã€‚Springæ¡†æ¶ä¸»è¦ç”±ä¸ƒéƒ¨åˆ†ç»„æˆï¼Œåˆ†åˆ«æ˜¯ Spring Coreã€ Spring AOPã€ Spring ORMã€ Spring DAOã€Spring Contextã€ Spring Webå’Œ Spring Web MVCã€‚</p><p>â€‹        Springæ¡†æ¶æ˜¯ç”±äº<a href="https://baike.baidu.com/item/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/3448966">è½¯ä»¶å¼€å‘</a>çš„å¤æ‚æ€§è€Œåˆ›å»ºçš„ã€‚Springä½¿ç”¨çš„æ˜¯åŸºæœ¬çš„<a href="https://baike.baidu.com/item/JavaBean/529577">JavaBean</a>æ¥å®Œæˆä»¥å‰åªå¯èƒ½ç”±<a href="https://baike.baidu.com/item/EJB/144195">EJB</a>å®Œæˆçš„äº‹æƒ…ã€‚ç„¶è€Œï¼ŒSpringçš„ç”¨é€”ä¸ä»…ä»…é™äºæœåŠ¡å™¨ç«¯çš„å¼€å‘ã€‚ä»ç®€å•æ€§ã€å¯æµ‹è¯•æ€§å’Œæ¾è€¦åˆæ€§è§’åº¦è€Œè¨€ï¼Œç»å¤§éƒ¨åˆ†Javaåº”ç”¨éƒ½å¯ä»¥ä»Springä¸­å—ç›Šã€‚</p></blockquote><p><strong>SSHï¼š</strong>Struct2 + Spring + Hibernateï¼ˆå…¨è‡ªåŠ¨ï¼‰</p><p><strong>SSMï¼š</strong>SpringMVC + Spring + MyBatisï¼ˆåŠè‡ªåŠ¨ SQLæ›´çµæ´»ï¼‰</p><ul><li><p><strong>å®˜ç½‘ :</strong> <a href="http://spring.io/">http://spring.io/</a> </p></li><li><p><strong>å®˜æ–¹ä¸‹è½½åœ°å€ :</strong> <a href="https://repo.spring.io/libs-release-local/org/springframework/spring/">https://repo.spring.io/libs-release-local/org/springframework/spring/</a> </p></li><li><p><strong>GitHub :</strong> <a href="https://github.com/spring-projects">https://github.com/spring-projects</a></p></li></ul><h2 id="1-2-ä¼˜ç‚¹"><a href="#1-2-ä¼˜ç‚¹" class="headerlink" title="1.2 ä¼˜ç‚¹"></a>1.2 ä¼˜ç‚¹</h2><ul><li>Springæ˜¯ä¸€ä¸ªå¼€æºå…è´¹çš„æ¡†æ¶ï¼ˆå®¹å™¨ï¼‰</li><li>Springæ˜¯ä¸€ä¸ªè½»é‡çº§çš„æ¡†æ¶ï¼Œéä¾µå…¥å¼çš„æ¡†æ¶ï¼ˆå¼•å…¥Springä¸ä¼šå¯¹åŸæ¥é¡¹ç›®äº§ç”Ÿå½±å“ï¼‰</li><li><strong>ç‰¹æ€§ï¼šæ§åˆ¶åè½¬ IOC , é¢å‘åˆ‡é¢ AOP</strong> </li><li>å¯¹äº‹ç‰©çš„æ”¯æŒ , å¯¹æ¡†æ¶çš„æ”¯æŒ</li></ul><p>ä¸€å¥è¯æ¦‚æ‹¬ï¼š<strong>Springæ˜¯ä¸€ä¸ªè½»é‡çº§çš„æ§åˆ¶åè½¬(IOC)å’Œé¢å‘åˆ‡é¢(AOP)çš„å®¹å™¨ï¼ˆæ¡†æ¶ï¼‰</strong></p><h2 id="1-3-ç»„æˆ"><a href="#1-3-ç»„æˆ" class="headerlink" title="1.3 ç»„æˆ"></a>1.3 ç»„æˆ</h2><p><img src="https://img.yiqiangshiyia.cn/blog/spring002.jpg" alt="spring002"></p><p>Spring æ¡†æ¶æ˜¯ä¸€ä¸ªåˆ†å±‚æ¶æ„ï¼Œç”± 7 ä¸ªå®šä¹‰è‰¯å¥½çš„æ¨¡å—ç»„æˆã€‚Spring æ¨¡å—æ„å»ºåœ¨æ ¸å¿ƒå®¹å™¨ä¹‹ä¸Šï¼Œæ ¸å¿ƒå®¹å™¨å®šä¹‰äº†åˆ›å»ºã€é…ç½®å’Œç®¡ç† bean çš„æ–¹å¼</p><p><img src="https://img.yiqiangshiyia.cn/blog/spring003.jpg" alt="spring003"></p><p>ç»„æˆ Spring æ¡†æ¶çš„æ¯ä¸ªæ¨¡å—ï¼ˆæˆ–ç»„ä»¶ï¼‰éƒ½å¯ä»¥å•ç‹¬å­˜åœ¨ï¼Œæˆ–è€…ä¸å…¶ä»–ä¸€ä¸ªæˆ–å¤šä¸ªæ¨¡å—è”åˆå®ç°ã€‚æ¯ä¸ªæ¨¡å—çš„åŠŸèƒ½å¦‚ä¸‹ï¼š </p><ul><li><strong>æ ¸å¿ƒå®¹å™¨ï¼š</strong>æ ¸å¿ƒå®¹å™¨æä¾› Spring æ¡†æ¶çš„åŸºæœ¬åŠŸèƒ½ã€‚æ ¸å¿ƒå®¹å™¨çš„ä¸»è¦ç»„ä»¶æ˜¯ BeanFactory ï¼Œå®ƒæ˜¯å·¥å‚æ¨¡å¼çš„å®ç°ã€‚ BeanFactory ä½¿ç”¨æ§åˆ¶åè½¬ï¼ˆIOCï¼‰æ¨¡å¼å°†åº”ç”¨ç¨‹åºçš„é…ç½®å’Œä¾èµ–æ€§è§„èŒƒä¸å®é™…çš„åº”ç”¨ç¨‹åºä»£ç åˆ†å¼€ã€‚ </li><li><strong>Spring ä¸Šä¸‹æ–‡ï¼š</strong>Spring ä¸Šä¸‹æ–‡æ˜¯ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œå‘ Spring æ¡†æ¶æä¾›ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚Spring ä¸Šä¸‹æ–‡åŒ…æ‹¬ä¼ä¸šæœåŠ¡ï¼Œä¾‹å¦‚ JNDIã€EJBã€ç”µå­é‚®ä»¶ã€å›½é™…åŒ–ã€æ ¡éªŒå’Œè°ƒåº¦åŠŸèƒ½ã€‚ </li><li><strong>Spring AOPï¼š</strong>é€šè¿‡é…ç½®ç®¡ç†ç‰¹æ€§ï¼ŒSpring AOP æ¨¡å—ç›´æ¥å°†é¢å‘åˆ‡é¢çš„ç¼–ç¨‹åŠŸèƒ½ , é›†æˆåˆ°äº† Spring æ¡†æ¶ä¸­ã€‚æ‰€ä»¥ï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°ä½¿ Spring æ¡†æ¶ç®¡ç†ä»»ä½•æ”¯æŒ AOPçš„å¯¹è±¡ã€‚Spring AOP æ¨¡å—ä¸ºåŸºäº Spring çš„åº”ç”¨ç¨‹åºä¸­çš„å¯¹è±¡æä¾›äº†äº‹åŠ¡ç®¡ç†æœåŠ¡ã€‚é€šè¿‡ä½¿ç”¨ Spring AOPï¼Œä¸ç”¨ä¾èµ–ç»„ä»¶ï¼Œå°±å¯ä»¥ å°†å£°æ˜æ€§äº‹åŠ¡ç®¡ç†é›†æˆåˆ°åº”ç”¨ç¨‹åºä¸­ã€‚ </li><li><strong>Spring DAOï¼š</strong>JDBC DAO æŠ½è±¡å±‚æä¾›äº†æœ‰æ„ä¹‰çš„å¼‚å¸¸å±‚æ¬¡ç»“æ„ï¼Œå¯ç”¨è¯¥ç»“æ„æ¥ç®¡ç†å¼‚å¸¸å¤„ç†å’Œä¸åŒæ•°æ®åº“ä¾›åº”å•†æŠ›å‡ºçš„é”™è¯¯æ¶ˆæ¯ã€‚å¼‚å¸¸å±‚æ¬¡ç»“æ„ç®€åŒ–äº†é”™è¯¯å¤„ç†ï¼Œå¹¶ä¸”æå¤§åœ°é™ä½äº†éœ€è¦ç¼–å†™çš„å¼‚ å¸¸ä»£ç æ•°é‡ï¼ˆä¾‹å¦‚æ‰“å¼€å’Œå…³é—­è¿æ¥ï¼‰ã€‚Spring DAO çš„é¢å‘ JDBC çš„å¼‚å¸¸éµä»é€šç”¨çš„ DAO å¼‚å¸¸å±‚æ¬¡ç»“æ„ã€‚ </li><li><strong>Spring ORMï¼š</strong>Spring æ¡†æ¶æ’å…¥äº†è‹¥å¹²ä¸ª ORM æ¡†æ¶ï¼Œä»è€Œæä¾›äº† ORM çš„å¯¹è±¡å…³ç³»å·¥å…·ï¼Œå…¶ä¸­åŒ… æ‹¬ JDOã€Hibernate å’Œ iBatis SQL Mapã€‚æ‰€æœ‰è¿™äº›éƒ½éµä» Spring çš„é€šç”¨äº‹åŠ¡å’Œ DAO å¼‚å¸¸å±‚æ¬¡ç»“ æ„ã€‚ </li><li><strong>Spring Web æ¨¡å—ï¼š</strong>Web ä¸Šä¸‹æ–‡æ¨¡å—å»ºç«‹åœ¨åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡æ¨¡å—ä¹‹ä¸Šï¼Œä¸ºåŸºäº Web çš„åº”ç”¨ç¨‹åºæ ä¾›äº†ä¸Šä¸‹æ–‡ã€‚æ‰€ä»¥ï¼ŒSpring æ¡†æ¶æ”¯æŒä¸ Jakarta Struts çš„é›†æˆã€‚Web æ¨¡å—è¿˜ç®€åŒ–äº†å¤„ç†å¤šéƒ¨åˆ†è¯· æ±‚ä»¥åŠå°†è¯·æ±‚å‚æ•°ç»‘å®šåˆ°åŸŸå¯¹è±¡çš„å·¥ä½œã€‚ </li><li><strong>Spring MVC æ¡†æ¶ï¼š</strong>MVC æ¡†æ¶æ˜¯ä¸€ä¸ªå…¨åŠŸèƒ½çš„æ„å»º Web åº”ç”¨ç¨‹åºçš„ MVC å®ç°ã€‚é€šè¿‡ç­–ç•¥æ¥å£ï¼ŒMVC æ¡†æ¶å˜æˆä¸ºé«˜åº¦å¯é…ç½®çš„ï¼ŒMVC å®¹çº³äº†å¤§é‡è§†å›¾æŠ€æœ¯ï¼Œå…¶ä¸­åŒ…æ‹¬ JSPã€Velocityã€Tilesã€iText å’Œ POIã€‚</li></ul><h2 id="1-4-æ‹“å±•"><a href="#1-4-æ‹“å±•" class="headerlink" title="1.4 æ‹“å±•"></a>1.4 æ‹“å±•</h2><p><strong>Spring Bootä¸Spring Cloud</strong> </p><ul><li>Spring Boot æ˜¯ Spring çš„ä¸€å¥—å¿«é€Ÿé…ç½®è„šæ‰‹æ¶ï¼Œå¯ä»¥åŸºäºSpring Boot å¿«é€Ÿå¼€å‘å•ä¸ªå¾®æœåŠ¡</li><li>Spring Cloudæ˜¯åŸºäºSpring Bootå®ç°çš„</li><li>Spring Bootä¸“æ³¨äºå¿«é€Ÿã€æ–¹ä¾¿é›†æˆçš„å•ä¸ªå¾®æœåŠ¡ä¸ªä½“ï¼ŒSpring Cloudå…³æ³¨å…¨å±€çš„æœåŠ¡æ²»ç†æ¡†æ¶</li><li>Spring Bootä½¿ç”¨äº†çº¦æŸä¼˜äºé…ç½®çš„ç†å¿µï¼Œå¾ˆå¤šé›†æˆæ–¹æ¡ˆå·²ç»å¸®ä½ é€‰æ‹©å¥½äº†ï¼Œèƒ½ä¸é…ç½®å°±ä¸é…ç½® , Spring Cloudå¾ˆå¤§çš„ä¸€éƒ¨åˆ†æ˜¯åŸºäºSpring Bootæ¥å®ç°ï¼ŒSpring Bootå¯ä»¥ç¦»å¼€Spring Cloudç‹¬ç«‹ä½¿ç”¨å¼€å‘é¡¹ç›®ï¼Œä½†æ˜¯Spring Cloudç¦»ä¸å¼€Spring Bootï¼Œå±äºä¾èµ–çš„å…³ç³»</li><li>SpringBootåœ¨SpringCloundä¸­èµ·åˆ°äº†æ‰¿ä¸Šå¯ä¸‹çš„ä½œç”¨ï¼Œå¦‚æœä½ è¦å­¦ä¹ SpringCloudå¿…é¡»è¦å­¦ä¹  SpringBoot</li></ul><p><img src="https://img.yiqiangshiyia.cn/blog/spring004.jpg" alt="spring004"></p><h1 id="2-IOCåŸºç¡€"><a href="#2-IOCåŸºç¡€" class="headerlink" title="2. IOCåŸºç¡€"></a>2. IOCåŸºç¡€</h1><p>æ–°å»ºä¸€ä¸ªç©ºç™½çš„mavené¡¹ç›®</p><h2 id="2-1-åˆ†æå®ç°"><a href="#2-1-åˆ†æå®ç°" class="headerlink" title="2.1 åˆ†æå®ç°"></a>2.1 åˆ†æå®ç°</h2><p>ç”¨æˆ‘ä»¬åŸæ¥çš„æ–¹å¼å†™ä¸€æ®µä»£ç </p><ol><li>å…ˆå†™ä¸€ä¸ªUserDaoæ¥å£</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserDao</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">getUser</span><span class="hljs-params">()</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ol start="2"><li>å†å»å†™Daoçš„å®ç°ç±»</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserDaoImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserDao</span> &#123;<br><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">getUser</span><span class="hljs-params">()</span> &#123;<br>System.out.println(<span class="hljs-string">&quot;è·å–ç”¨æˆ·æ•°æ®&quot;</span>);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><ol start="3"><li>ç„¶åå»å†™UserServiceçš„æ¥å£</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserService</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">getUser</span><span class="hljs-params">()</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ol start="4"><li>æœ€åå†™Serviceçš„å®ç°ç±»</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span> &#123;<br><span class="hljs-keyword">private</span> <span class="hljs-type">UserDao</span> <span class="hljs-variable">userDao</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserDaoImpl</span>();<br><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">getUser</span><span class="hljs-params">()</span> &#123;<br>userDao.getUser();<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><ol start="5"><li>æµ‹è¯•</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-type">UserService</span> <span class="hljs-variable">service</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserServiceImpl</span>();<br>service.getUser();<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™æ˜¯åŸæ¥çš„æ–¹å¼ï¼Œé‚£ç°åœ¨ä¿®æ”¹ä¸€ä¸‹ï¼ŒæŠŠUserdaoçš„å®ç°ç±»å¢åŠ ä¸€ä¸ª</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserDaoMySqlImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserDao</span> &#123;<br><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">getUser</span><span class="hljs-params">()</span> &#123;<br>System.out.println(<span class="hljs-string">&quot;MySqlè·å–ç”¨æˆ·æ•°æ®&quot;</span>);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å¦‚æœæˆ‘ä»¬è¦å»ä½¿ç”¨MySqlçš„è¯ï¼Œæˆ‘ä»¬å°±éœ€è¦å»serviceå®ç°ç±»é‡Œé¢ä¿®æ”¹å¯¹åº”çš„å®ç°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span> &#123;<br><span class="hljs-keyword">private</span> <span class="hljs-type">UserDao</span> <span class="hljs-variable">userDao</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserDaoMySqlImpl</span>();<br>    <br><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">getUser</span><span class="hljs-params">()</span> &#123;<br>userDao.getUser();<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å‡è®¾å†å¢åŠ ä¸€ä¸ªUserdaoçš„å®ç°ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserDaoOracleImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserDao</span> &#123;<br><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">getUser</span><span class="hljs-params">()</span> &#123;<br>System.out.println(<span class="hljs-string">&quot;Oracleè·å–ç”¨æˆ·æ•°æ®&quot;</span>);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>é‚£ä¹ˆè¦ä½¿ç”¨Oracleï¼Œåˆéœ€è¦å»serviceå®ç°ç±»é‡Œé¢ä¿®æ”¹å¯¹åº”çš„å®ç°ã€‚å‡è®¾è¿™ç§éœ€æ±‚éå¸¸å¤§ï¼Œè¿™ç§æ–¹å¼å°±æ ¹æœ¬ä¸é€‚ç”¨äº†ï¼Œæ¯æ¬¡å˜åŠ¨éƒ½éœ€è¦ä¿®æ”¹å¤§é‡ä»£ç ï¼Œè¿™ç§è®¾è®¡çš„è€¦åˆæ€§å¤ªé«˜</p><p><strong>è§£å†³æ–¹æ³•ï¼š</strong></p><p>å¯ä»¥åœ¨éœ€è¦ç”¨åˆ°ä»–çš„åœ°æ–¹ï¼Œä¸å»å®ç°å®ƒï¼Œè€Œæ˜¯ç•™å‡ºä¸€ä¸ªæ¥å£ï¼Œåˆ©ç”¨setæ–¹æ³•</p><p>ä¿®æ”¹ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span> &#123;<br><span class="hljs-keyword">private</span> UserDao userDao;<br><span class="hljs-comment">// åˆ©ç”¨setå®ç°</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setUserDao</span><span class="hljs-params">(UserDao userDao)</span> &#123;<br><span class="hljs-built_in">this</span>.userDao = userDao;<br>&#125;<br>    <br><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">getUser</span><span class="hljs-params">()</span> &#123;<br>userDao.getUser();<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•ç±»ä¸­æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-type">UserServiceImpl</span> <span class="hljs-variable">service</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserServiceImpl</span>();<br>service.setUserDao( <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserDaoMySqlImpl</span>() );<br>service.getUser();<br><span class="hljs-comment">//é‚£æˆ‘ä»¬ç°åœ¨åˆæƒ³ç”¨Oracleå»å®ç°å‘¢</span><br>service.setUserDao( <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserDaoOracleImpl</span>() );<br>service.getUser();<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™æ ·å‘ç”Ÿäº†æ ¹æœ¬æ€§çš„å˜åŒ–ï¼Œä¹‹å‰æ‰€æœ‰ä¸œè¥¿éƒ½æ˜¯ç”±ç¨‹åºå»æ§åˆ¶åˆ›å»ºçš„ï¼Œè€Œç°åœ¨ç”±æˆ‘ä»¬è‡ªè¡Œæ§åˆ¶åˆ›å»ºå¯¹è±¡ï¼ŒæŠŠä¸»åŠ¨æƒäº¤ç»™äº†è°ƒç”¨è€…ï¼Œç¨‹åºä¸ç”¨å»ç®¡æ€ä¹ˆåˆ›å»ºå’Œå®ç°ï¼Œåªè´Ÿè´£æä¾›ä¸€ä¸ªæ¥å£</p><p>è¿™ç§æ€æƒ³ä»æœ¬è´¨ä¸Šè§£å†³äº†é—®é¢˜ï¼Œç¨‹åºå‘˜ä¸ç”¨å†å»ç®¡ç†å¯¹è±¡çš„åˆ›å»ºçœ‹ï¼Œæ›´å¤šçš„å»å…³æ³¨ä¸šåŠ¡çš„å®ç°ï¼Œç¨‹åºè€¦åˆæ€§å¤§å¤§é™ä½ï¼Œè¿™å°±æ˜¯ IOC çš„åŸå‹</p><h2 id="2-2-IOCæœ¬è´¨"><a href="#2-2-IOCæœ¬è´¨" class="headerlink" title="2.2 IOCæœ¬è´¨"></a>2.2 IOCæœ¬è´¨</h2><p><strong>æ§åˆ¶åè½¬IOC(Inversion of Control)ï¼Œæ˜¯ä¸€ç§è®¾è®¡æ€æƒ³ï¼ŒDI(ä¾èµ–æ³¨å…¥)æ˜¯å®ç°IOCçš„ä¸€ç§æ–¹æ³•</strong>ï¼Œä¹Ÿæœ‰äººè®¤ ä¸ºDIåªæ˜¯IoCçš„å¦ä¸€ç§è¯´æ³•ã€‚æ²¡æœ‰IoCçš„ç¨‹åºä¸­ , æˆ‘ä»¬ä½¿ç”¨é¢å‘å¯¹è±¡ç¼–ç¨‹ , å¯¹è±¡çš„åˆ›å»ºä¸å¯¹è±¡é—´çš„ä¾èµ–å…³ç³» å®Œå…¨ç¡¬ç¼–ç åœ¨ç¨‹åºä¸­ï¼Œå¯¹è±¡çš„åˆ›å»ºç”±ç¨‹åºè‡ªå·±æ§åˆ¶ï¼Œæ§åˆ¶åè½¬åå°†å¯¹è±¡çš„åˆ›å»ºè½¬ç§»ç»™ç¬¬ä¸‰æ–¹ï¼Œæ‰€è°“æ§åˆ¶åè½¬å°±æ˜¯ï¼šè·å¾—ä¾èµ–å¯¹è±¡çš„æ–¹å¼åè½¬äº†ã€‚</p><p><img src="https://img.yiqiangshiyia.cn/blog/spring005.jpg" alt="spring005"></p><p><strong>IoCæ˜¯Springæ¡†æ¶çš„æ ¸å¿ƒå†…å®¹</strong>ï¼Œä½¿ç”¨å¤šç§æ–¹å¼å®Œç¾çš„å®ç°äº†IoCï¼Œå¯ä»¥ä½¿ç”¨XMLé…ç½®ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ³¨è§£ï¼Œæ–°ç‰ˆæœ¬çš„Springä¹Ÿå¯ä»¥é›¶é…ç½®å®ç°IoCã€‚ </p><p>Springå®¹å™¨åœ¨åˆå§‹åŒ–æ—¶å…ˆè¯»å–é…ç½®æ–‡ä»¶ï¼Œæ ¹æ®é…ç½®æ–‡ä»¶æˆ–å…ƒæ•°æ®åˆ›å»ºä¸ç»„ç»‡å¯¹è±¡å­˜å…¥å®¹å™¨ä¸­ï¼Œç¨‹åºä½¿ç”¨æ—¶å†ä»Iocå®¹å™¨ä¸­å–å‡ºéœ€è¦çš„å¯¹è±¡ã€‚</p><p><img src="https://img.yiqiangshiyia.cn/blog/spring006.jpg" alt="spring006"></p><p>é‡‡ç”¨XMLæ–¹å¼é…ç½®Beançš„æ—¶å€™ï¼ŒBeançš„å®šä¹‰ä¿¡æ¯æ˜¯å’Œå®ç°åˆ†ç¦»çš„ï¼Œè€Œé‡‡ç”¨æ³¨è§£çš„æ–¹å¼å¯ä»¥æŠŠä¸¤è€…åˆä¸º ä¸€ä½“ï¼ŒBeançš„å®šä¹‰ä¿¡æ¯ç›´æ¥ä»¥æ³¨è§£çš„å½¢å¼å®šä¹‰åœ¨å®ç°ç±»ä¸­ï¼Œä»è€Œè¾¾åˆ°äº†é›¶é…ç½®çš„ç›®çš„ã€‚ </p><p><strong>æ§åˆ¶åè½¬æ˜¯ä¸€ç§é€šè¿‡æè¿°ï¼ˆXMLæˆ–æ³¨è§£ï¼‰å¹¶é€šè¿‡ç¬¬ä¸‰æ–¹å»ç”Ÿäº§æˆ–è·å–ç‰¹å®šå¯¹è±¡çš„æ–¹å¼ã€‚åœ¨Springä¸­å®ç° æ§åˆ¶åè½¬çš„æ˜¯IoCå®¹å™¨ï¼Œå…¶å®ç°æ–¹æ³•æ˜¯ä¾èµ–æ³¨å…¥ï¼ˆDependency Injection,DIï¼‰ã€‚</strong></p><h1 id="3-HelloSpring"><a href="#3-HelloSpring" class="headerlink" title="3. HelloSpring"></a>3. HelloSpring</h1><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220827185751.png" alt="QQæˆªå›¾20220827185751"></p><h2 id="3-1-å¯¼å…¥jaråŒ…"><a href="#3-1-å¯¼å…¥jaråŒ…" class="headerlink" title="3.1 å¯¼å…¥jaråŒ…"></a>3.1 å¯¼å…¥jaråŒ…</h2><p>æ³¨ : spring éœ€è¦å¯¼å…¥commons-loggingè¿›è¡Œæ—¥å¿—è®°å½•ï¼Œåˆ©ç”¨mavenï¼Œä¼šè‡ªåŠ¨ä¸‹è½½å¯¹åº”çš„ä¾èµ–é¡¹</p><p>pom.xml ä¸­å¯¼å…¥ Spring ä¾èµ–ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-webmvc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.3.22<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="3-2-ç¼–å†™ä»£ç "><a href="#3-2-ç¼–å†™ä»£ç " class="headerlink" title="3.2 ç¼–å†™ä»£ç "></a>3.2 ç¼–å†™ä»£ç </h2><ol><li>ç¼–å†™ä¸€ä¸ªHelloå®ä½“ç±»</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Hello</span> &#123;<br>    <span class="hljs-keyword">private</span> String str;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getStr</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> str;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setStr</span><span class="hljs-params">(String str)</span> &#123;<br>        <span class="hljs-built_in">this</span>.str = str;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Hello&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;str=&#x27;&quot;</span> + str + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ol start="2"><li>ç¼–å†™Springé…ç½®æ–‡ä»¶  ApplicationContext.xml</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">        https://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--ä½¿ç”¨Springæ¥åˆ›å»ºå¯¹è±¡ï¼Œåœ¨Springè¿™äº›éƒ½ç§°ä¸ºBean--&gt;</span><br>    <span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">    åŸæ¥ï¼š</span><br><span class="hljs-comment">        ç±»å‹ å˜é‡å = new å˜é‡å();    Hello hello = new Hello();</span><br><span class="hljs-comment">    Springä¸­ï¼š</span><br><span class="hljs-comment">        id = å˜é‡å</span><br><span class="hljs-comment">        class = new çš„å¯¹è±¡</span><br><span class="hljs-comment">        property ç›¸å½“äºç»™å¯¹è±¡ä¸­çš„å±æ€§è®¾ç½®äº†ä¸€ä¸ªå€¼</span><br><span class="hljs-comment">    --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;hello&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.pojo.Hello&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;str&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;Spring&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure><ol start="3"><li>æµ‹è¯•</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> org.springframework.context.ApplicationContext;<br><span class="hljs-keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;<br><span class="hljs-keyword">import</span> ssm.study.pojo.Hello;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyTest</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String args[])</span>&#123;<br>        <span class="hljs-comment">//è·å–Springçš„ApplicationContextå¯¹è±¡ï¼Œæ‹¿åˆ°Springçš„å®¹å™¨</span><br>        <span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">&quot;ApplicationContext.xml&quot;</span>);<br>        <span class="hljs-comment">//æˆ‘ä»¬çš„å¯¹è±¡ç°åœ¨éƒ½åœ¨Springä¸­ç®¡ç†äº†ï¼Œæˆ‘ä»¬è¦ä½¿ç”¨ç›´æ¥å»é‡Œé¢å–å‡ºæ¥å°±å¯ä»¥äº†</span><br>        <span class="hljs-type">Hello</span> <span class="hljs-variable">hello</span> <span class="hljs-operator">=</span> (Hello)context.getBean(<span class="hljs-string">&quot;hello&quot;</span>);<br>        System.out.println(hello.toString());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="3-3-æ€è€ƒ"><a href="#3-3-æ€è€ƒ" class="headerlink" title="3.3 æ€è€ƒ"></a>3.3 æ€è€ƒ</h2><p>Hello å¯¹è±¡æ˜¯è°åˆ›å»ºçš„ï¼Ÿ  hello å¯¹è±¡æ˜¯ç”±Springåˆ›å»ºçš„</p><p>Hello å¯¹è±¡çš„å±æ€§æ˜¯æ€ä¹ˆè®¾ç½®çš„ï¼Ÿ  hello å¯¹è±¡çš„å±æ€§æ˜¯ç”±Springå®¹å™¨è®¾ç½®çš„</p><p>è¿™ä¸ªè¿‡ç¨‹å°±å«æ§åˆ¶åè½¬ : </p><ul><li>æ§åˆ¶ : è°æ¥æ§åˆ¶å¯¹è±¡çš„åˆ›å»º , ä¼ ç»Ÿåº”ç”¨ç¨‹åºçš„å¯¹è±¡æ˜¯ç”±ç¨‹åºæœ¬èº«æ§åˆ¶åˆ›å»ºçš„ , ä½¿ç”¨Springå , å¯¹è±¡æ˜¯ç”±Springæ¥åˆ›å»ºçš„ </li><li>åè½¬ : ç¨‹åºæœ¬èº«ä¸åˆ›å»ºå¯¹è±¡ , è€Œå˜æˆè¢«åŠ¨çš„æ¥æ”¶å¯¹è±¡</li></ul><p>ä¾èµ–æ³¨å…¥ : å°±æ˜¯åˆ©ç”¨setæ–¹æ³•æ¥è¿›è¡Œæ³¨å…¥çš„</p><p><strong>IOCæ˜¯ä¸€ç§ç¼–ç¨‹æ€æƒ³ï¼Œç”±ä¸»åŠ¨çš„ç¼–ç¨‹å˜æˆè¢«åŠ¨çš„æ¥æ”¶</strong> </p><h2 id="3-4-ä¿®æ”¹æ¡ˆä¾‹ä¸€"><a href="#3-4-ä¿®æ”¹æ¡ˆä¾‹ä¸€" class="headerlink" title="3.4 ä¿®æ”¹æ¡ˆä¾‹ä¸€"></a>3.4 ä¿®æ”¹æ¡ˆä¾‹ä¸€</h2><p>åœ¨æ¡ˆä¾‹ä¸€ä¸­ï¼Œ æ–°å¢ä¸€ä¸ªSpringé…ç½®æ–‡ä»¶ ApplicationContext.xml å®ç°åŠ¨æ€æ¥æ”¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;MysqlImpl&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.dao.UserDaoMySqlImpl&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;OracleImpl&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.dao.UserDaoOracleImpl&quot;</span>/&gt;</span><br>    <br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;ServiceImpl&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.service.UserServiceImpl&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">refï¼šå¼•ç”¨Springå®¹å™¨ä¸­å·²ç»åˆ›å»ºå¥½çš„å¯¹è±¡ï¼ˆå¦å¤–ä¸€ä¸ªbeanï¼‰</span><br><span class="hljs-comment">valueï¼šå…·ä½“çš„å€¼ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹</span><br><span class="hljs-comment">--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;userDao&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;OracleImpl&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br>    <br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test2</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">&quot;ApplicationContext.xml&quot;</span>);<br><span class="hljs-type">UserServiceImpl</span> <span class="hljs-variable">serviceImpl</span> <span class="hljs-operator">=</span> (UserServiceImpl)context.getBean(<span class="hljs-string">&quot;ServiceImpl&quot;</span>);<br>serviceImpl.getUser();<br>&#125;<br></code></pre></td></tr></table></figure><p>å­¦ä¹ Springä¹‹åï¼Œå½»åº•ä¸ç”¨åœ¨ç¨‹åºä¸­å»æ”¹åŠ¨äº†ï¼Œè¦å®ç°ä¸åŒçš„æ“ä½œï¼Œåªéœ€è¦åœ¨xmlé…ç½®æ–‡ä»¶ä¸­è¿›è¡Œä¿®æ”¹ï¼ŒIOCï¼šå¯¹è±¡ç”±Springæ¥åˆ›å»ºã€ç®¡ç†ã€è£…é…</p><h1 id="4-IOCåˆ›å»ºå¯¹è±¡æ–¹å¼"><a href="#4-IOCåˆ›å»ºå¯¹è±¡æ–¹å¼" class="headerlink" title="4. IOCåˆ›å»ºå¯¹è±¡æ–¹å¼"></a>4. IOCåˆ›å»ºå¯¹è±¡æ–¹å¼</h1><h2 id="4-1-é€šè¿‡æ— å‚æ„é€ æ–¹æ³•æ¥åˆ›å»º"><a href="#4-1-é€šè¿‡æ— å‚æ„é€ æ–¹æ³•æ¥åˆ›å»º" class="headerlink" title="4.1 é€šè¿‡æ— å‚æ„é€ æ–¹æ³•æ¥åˆ›å»º"></a>4.1 é€šè¿‡æ— å‚æ„é€ æ–¹æ³•æ¥åˆ›å»º</h2><ol><li>User.java</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> &#123;<br>    <br><span class="hljs-keyword">private</span> String name;<br>    <br><span class="hljs-keyword">public</span> <span class="hljs-title function_">User</span><span class="hljs-params">()</span> &#123;<br>System.out.println(<span class="hljs-string">&quot;useræ— å‚æ„é€ æ–¹æ³•&quot;</span>);<br>&#125;<br>    <br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> &#123;<br><span class="hljs-built_in">this</span>.name = name;<br>&#125;<br>    <br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">show</span><span class="hljs-params">()</span>&#123;<br>System.out.println(<span class="hljs-string">&quot;name=&quot;</span>+ name );<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><ol start="2"><li>ApplicationContext.xml</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;<br>&lt;beans xmlns=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span><br>xmlns:xsi=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br>xsi:schemaLocation=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span><br><span class="hljs-string">http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;<br><br>&lt;bean id=<span class="hljs-string">&quot;user&quot;</span> class=<span class="hljs-string">&quot;ssm.study.pojo.User&quot;</span>&gt;<br>&lt;property name=<span class="hljs-string">&quot;name&quot;</span> value=<span class="hljs-string">&quot;æ—æ…•æ¤¿&quot;</span>/&gt;<br>&lt;/bean&gt;<br>        <br>&lt;/beans&gt;<br></code></pre></td></tr></table></figure><ol start="3"><li>æµ‹è¯•ç±»</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">&quot;ApplicationContext.xml&quot;</span>);<br><span class="hljs-comment">//åœ¨æ‰§è¡ŒgetBeançš„æ—¶å€™, userå·²ç»åˆ›å»ºå¥½äº† , é€šè¿‡æ— å‚æ„é€ </span><br><span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> (User) context.getBean(<span class="hljs-string">&quot;user&quot;</span>);<br><span class="hljs-comment">//è°ƒç”¨å¯¹è±¡çš„æ–¹æ³• .</span><br>user.show();<br>&#125;<br></code></pre></td></tr></table></figure><p>ç»“æœå¯ä»¥å‘ç°ï¼Œåœ¨è°ƒç”¨showæ–¹æ³•ä¹‹å‰ï¼ŒUserå¯¹è±¡å·²ç»é€šè¿‡æ— å‚æ„é€ åˆå§‹åŒ–äº†</p><h2 id="4-2-é€šè¿‡æœ‰å‚æ„é€ æ–¹æ³•æ¥åˆ›å»º"><a href="#4-2-é€šè¿‡æœ‰å‚æ„é€ æ–¹æ³•æ¥åˆ›å»º" class="headerlink" title="4.2 é€šè¿‡æœ‰å‚æ„é€ æ–¹æ³•æ¥åˆ›å»º"></a>4.2 é€šè¿‡æœ‰å‚æ„é€ æ–¹æ³•æ¥åˆ›å»º</h2><ol><li>UserT . java</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserT</span> &#123;<br><span class="hljs-keyword">private</span> String name;<br><span class="hljs-keyword">public</span> <span class="hljs-title function_">UserT</span><span class="hljs-params">(String name)</span> &#123;<br><span class="hljs-built_in">this</span>.name = name;<br>    &#125;<br>    <br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> &#123;<br><span class="hljs-built_in">this</span>.name = name;<br>&#125;<br>    <br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">show</span><span class="hljs-params">()</span>&#123;<br>System.out.println(<span class="hljs-string">&quot;name=&quot;</span>+ name );<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><ol start="2"><li>ApplicationContext.xml æœ‰ä¸‰ç§æ–¹å¼ç¼–å†™</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- ç¬¬ä¸€ç§æ ¹æ®indexå‚æ•°ä¸‹æ ‡è®¾ç½® --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userT&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.pojo.UserT&quot;</span>&gt;</span><br><span class="hljs-comment">&lt;!-- indexæŒ‡æ„é€ æ–¹æ³• , ä¸‹æ ‡ä»0å¼€å§‹ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">index</span>=<span class="hljs-string">&quot;0&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;æ—æ…•æ¤¿&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- ç¬¬äºŒç§æ ¹æ®å‚æ•°åå­—è®¾ç½® --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userT&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.pojo.UserT&quot;</span>&gt;</span><br><span class="hljs-comment">&lt;!-- nameæŒ‡å‚æ•°å --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;æ—æ…•æ¤¿&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- ç¬¬ä¸‰ç§æ ¹æ®å‚æ•°ç±»å‹è®¾ç½® --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userT&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.pojo.UserT&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;java.lang.String&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;æ—æ…•æ¤¿&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><ol start="3"><li>æµ‹è¯•</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testT</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">&quot;ApplicationContext.xml&quot;</span>);<br><span class="hljs-type">UserT</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> (UserT) context.getBean(<span class="hljs-string">&quot;userT&quot;</span>);<br>user.show();<br>&#125;<br></code></pre></td></tr></table></figure><p>ç»“è®ºï¼šåœ¨é…ç½®æ–‡ä»¶åŠ è½½çš„æ—¶å€™ï¼Œå…¶ä¸­ç®¡ç†çš„å¯¹è±¡éƒ½å·²ç»åˆå§‹åŒ–äº†</p><h1 id="5-Springé…ç½®"><a href="#5-Springé…ç½®" class="headerlink" title="5. Springé…ç½®"></a>5. Springé…ç½®</h1><h2 id="5-1-åˆ«å"><a href="#5-1-åˆ«å" class="headerlink" title="5.1 åˆ«å"></a>5.1 åˆ«å</h2><p>alias è®¾ç½®åˆ«åï¼Œä¸ºbeanè®¾ç½®åˆ«åï¼Œå¯ä»¥è®¾ç½®å¤šä¸ªåˆ«å</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--è®¾ç½®åˆ«åï¼šåœ¨è·å–Beançš„æ—¶å€™å¯ä»¥ä½¿ç”¨åˆ«åè·å–--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">alias</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;userT&quot;</span> <span class="hljs-attr">alias</span>=<span class="hljs-string">&quot;userNew&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure><h2 id="5-2-Beané…ç½®"><a href="#5-2-Beané…ç½®" class="headerlink" title="5.2 Beané…ç½®"></a>5.2 Beané…ç½®</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--beanå°±æ˜¯javaå¯¹è±¡,ç”±Springåˆ›å»ºå’Œç®¡ç†--&gt;</span><br><span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">idï¼šbeançš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œä¹Ÿå°±ç›¸å½“äºnewçš„å¯¹è±¡å</span><br><span class="hljs-comment">classï¼šbeanå¯¹è±¡æ‰€å¯¹åº”çš„å…¨é™å®šåï¼šåŒ…å+ç±»å‹</span><br><span class="hljs-comment">nameï¼šä¹Ÿæ˜¯åˆ«åï¼Œè€Œä¸”nameå¯ä»¥åŒæ—¶å–å¤šä¸ªåˆ«å</span><br><span class="hljs-comment">--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;UserT&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;user,u2;u3&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.pojo.Hello&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;Spring&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="5-3-import"><a href="#5-3-import" class="headerlink" title="5.3 import"></a>5.3 import</h2><p>importï¼Œä¸€èˆ¬ç”¨äºå›¢é˜Ÿå¼€å‘ä½¿ç”¨ï¼Œä»–å¯ä»¥å°†å¤šä¸ªé…ç½®æ–‡ä»¶å¯¼å…¥åˆå¹¶ä¸ºä¸€ä¸ª</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">import</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;&#123;path&#125;/beans.xml&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure><h1 id="6-ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰"><a href="#6-ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰" class="headerlink" title="6. ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰"></a>6. ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰</h1><ul><li>ä¾èµ–æ³¨å…¥ï¼ˆDependency Injection, DIï¼‰</li><li>ä¾èµ–ï¼šæŒ‡Beanå¯¹è±¡çš„åˆ›å»ºä¾èµ–äºå®¹å™¨ï¼ŒBeanå¯¹è±¡çš„ä¾èµ–èµ„æº</li><li>æ³¨å…¥ï¼šæŒ‡Beanå¯¹è±¡æ‰€ä¾èµ–çš„èµ„æºï¼Œç”±å®¹å™¨æ¥è®¾ç½®å’Œè£…é…</li></ul><h2 id="6-1-æ„é€ å™¨æ³¨å…¥"><a href="#6-1-æ„é€ å™¨æ³¨å…¥" class="headerlink" title="6.1 æ„é€ å™¨æ³¨å…¥"></a>6.1 æ„é€ å™¨æ³¨å…¥</h2><p>è§IOCåˆ›å»ºå¯¹è±¡çš„ä¸¤ç§æ–¹å¼â€¦â€¦</p><h2 id="6-2-setæ³¨å…¥-é‡ç‚¹"><a href="#6-2-setæ³¨å…¥-é‡ç‚¹" class="headerlink" title="6.2 setæ³¨å…¥ (é‡ç‚¹)"></a>6.2 setæ³¨å…¥ (é‡ç‚¹)</h2><p>è¦æ±‚è¢«æ³¨å…¥çš„å±æ€§ï¼Œå¿…é¡»æœ‰setæ–¹æ³•</p><p><strong>ç¯å¢ƒæ­å»º</strong></p><ol><li><p>å¤æ‚ç±»å‹ï¼šAddress.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Address</span> &#123;<br>    <span class="hljs-keyword">private</span> String address;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getAddress</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> address;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAddress</span><span class="hljs-params">(String address)</span> &#123;<br>        <span class="hljs-built_in">this</span>.address = address;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Address&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;address=&#x27;&quot;</span> + address + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>çœŸå®æµ‹è¯•å¯¹è±¡ï¼šStudent.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> &#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> Address address;<br>    <span class="hljs-keyword">private</span> String[] books;<br>    <span class="hljs-keyword">private</span> List&lt;String&gt; hobbys;<br>    <span class="hljs-keyword">private</span> Map&lt;String,String&gt; card;<br>    <span class="hljs-keyword">private</span> Set&lt;String&gt; games;<br>    <span class="hljs-keyword">private</span> String wife;<br>    <span class="hljs-keyword">private</span> Properties info;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> Address <span class="hljs-title function_">getAddress</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> address;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAddress</span><span class="hljs-params">(Address address)</span> &#123;<br>        <span class="hljs-built_in">this</span>.address = address;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String[] getBooks() &#123;<br>        <span class="hljs-keyword">return</span> books;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setBooks</span><span class="hljs-params">(String[] books)</span> &#123;<br>        <span class="hljs-built_in">this</span>.books = books;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> List&lt;String&gt; <span class="hljs-title function_">getHobbys</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> hobbys;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setHobbys</span><span class="hljs-params">(List&lt;String&gt; hobbys)</span> &#123;<br>        <span class="hljs-built_in">this</span>.hobbys = hobbys;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> Map&lt;String, String&gt; <span class="hljs-title function_">getCard</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> card;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setCard</span><span class="hljs-params">(Map&lt;String, String&gt; card)</span> &#123;<br>        <span class="hljs-built_in">this</span>.card = card;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> Set&lt;String&gt; <span class="hljs-title function_">getGames</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> games;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setGames</span><span class="hljs-params">(Set&lt;String&gt; games)</span> &#123;<br>        <span class="hljs-built_in">this</span>.games = games;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getWife</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> wife;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setWife</span><span class="hljs-params">(String wife)</span> &#123;<br>        <span class="hljs-built_in">this</span>.wife = wife;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> Properties <span class="hljs-title function_">getInfo</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> info;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setInfo</span><span class="hljs-params">(Properties info)</span> &#123;<br>        <span class="hljs-built_in">this</span>.info = info;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Student&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;name=&#x27;&quot;</span> + name + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&quot;, address=&quot;</span> + address.toString() +<br>                <span class="hljs-string">&quot;, books=&quot;</span> + Arrays.toString(books) +<br>                <span class="hljs-string">&quot;, hobbys=&quot;</span> + hobbys +<br>                <span class="hljs-string">&quot;, card=&quot;</span> + card +<br>                <span class="hljs-string">&quot;, games=&quot;</span> + games +<br>                <span class="hljs-string">&quot;, wife=&#x27;&quot;</span> + wife + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&quot;, info=&quot;</span> + info +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>ApplicationContext.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">        https://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;address&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.pojo.Address&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;address&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;é’å²›&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;student&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.pojo.Student&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--ç¬¬ä¸€ç§ï¼šæ™®é€šæ³¨å…¥ï¼Œvalue--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;æ—æ…•æ¤¿&quot;</span>/&gt;</span><br><br>        <span class="hljs-comment">&lt;!--ç¬¬äºŒç§ï¼šBeanæ³¨å…¥ï¼Œref--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;address&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;address&quot;</span>/&gt;</span><br><br>        <span class="hljs-comment">&lt;!--æ•°ç»„æ³¨å…¥--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;books&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">array</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>çº¢æ¥¼æ¢¦<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>è¥¿æ¸¸è®°<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>ä¸‰å›½æ¼”ä¹‰<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>æ°´æµ’ä¼ <span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">array</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><br>        <span class="hljs-comment">&lt;!--Listæ³¨å…¥--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;hobbys&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">list</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>å¬æ­Œ<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>å­¦ä¹ Java<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>ç¡è§‰<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">list</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><br>        <span class="hljs-comment">&lt;!--mapæ³¨å…¥--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;card&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">map</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">entry</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;èº«ä»½è¯&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;123456789&quot;</span>/&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">entry</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;é“¶è¡Œå¡&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;123456789&quot;</span>/&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">map</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><br>        <span class="hljs-comment">&lt;!--Setæ³¨å…¥--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;games&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">set</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>LOL<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>COC<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>BOB<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">set</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><br>        <span class="hljs-comment">&lt;!--nullæ³¨å…¥--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;wife&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">null</span>/&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><br>        <span class="hljs-comment">&lt;!--propertiesæ³¨å…¥--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;info&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">props</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">prop</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;driver&quot;</span>&gt;</span>20220827<span class="hljs-tag">&lt;/<span class="hljs-name">prop</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">prop</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;url&quot;</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">prop</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">prop</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;username&quot;</span>&gt;</span>root<span class="hljs-tag">&lt;/<span class="hljs-name">prop</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">prop</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;password&quot;</span>&gt;</span>123456<span class="hljs-tag">&lt;/<span class="hljs-name">prop</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">props</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•ç±»ï¼šMyTest.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyTest</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">&quot;ApplicationContext.xml&quot;</span>);<br>        <span class="hljs-type">Student</span> <span class="hljs-variable">student</span> <span class="hljs-operator">=</span> (Student)context.getBean(<span class="hljs-string">&quot;student&quot;</span>);<br>        System.out.println(student.toString());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220828171632.png" alt="QQæˆªå›¾20220828171632"></p></li></ol><p><strong>1.å¸¸é‡æ³¨å…¥</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;student&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.pojo.Student&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--ç¬¬ä¸€ç§ï¼šæ™®é€šæ³¨å…¥ï¼Œvalue--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;æ—æ…•æ¤¿&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æµ‹è¯•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test01</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">&quot;applicationContext.xml&quot;</span>);<br><span class="hljs-type">Student</span> <span class="hljs-variable">student</span> <span class="hljs-operator">=</span> (Student) context.getBean(<span class="hljs-string">&quot;student&quot;</span>);<br>System.out.println(student.getName());<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>2.Beanæ³¨å…¥</strong></p><p>æ³¨æ„ç‚¹ï¼šè¿™é‡Œçš„å€¼æ˜¯ä¸€ä¸ªå¼•ç”¨ï¼Œref</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;address&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.pojo.Address&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;address&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;é’å²›&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;student&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.pojo.Student&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--ç¬¬äºŒç§ï¼šBeanæ³¨å…¥ï¼Œref--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;address&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;address&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>3.æ•°ç»„æ³¨å…¥</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;student&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.pojo.Student&quot;</span>&gt;</span><br><span class="hljs-comment">&lt;!--æ•°ç»„æ³¨å…¥--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;books&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">array</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>çº¢æ¥¼æ¢¦<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>è¥¿æ¸¸è®°<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>ä¸‰å›½æ¼”ä¹‰<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>æ°´æµ’ä¼ <span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">array</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>4.Listæ³¨å…¥</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--Listæ³¨å…¥--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;hobbys&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">list</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>å¬æ­Œ<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>å­¦ä¹ Java<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>ç¡è§‰<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">list</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>5.Mapæ³¨å…¥</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--mapæ³¨å…¥--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;card&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">map</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">entry</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;èº«ä»½è¯&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;123456789&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">entry</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;é“¶è¡Œå¡&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;123456789&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">map</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>6.setæ³¨å…¥</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--Setæ³¨å…¥--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;games&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">set</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>LOL<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>COC<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>BOB<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">set</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>7.Nullæ³¨å…¥</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--nullæ³¨å…¥--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;wife&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">null</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>8.Propertiesæ³¨å…¥</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--propertiesæ³¨å…¥--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;info&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">props</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">prop</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;driver&quot;</span>&gt;</span>20220827<span class="hljs-tag">&lt;/<span class="hljs-name">prop</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">prop</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;url&quot;</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">prop</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">prop</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;username&quot;</span>&gt;</span>root<span class="hljs-tag">&lt;/<span class="hljs-name">prop</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">prop</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;password&quot;</span>&gt;</span>123456<span class="hljs-tag">&lt;/<span class="hljs-name">prop</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">props</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="6-3-på‘½åå’Œcå‘½åç©ºé—´æ³¨å…¥"><a href="#6-3-på‘½åå’Œcå‘½åç©ºé—´æ³¨å…¥" class="headerlink" title="6.3 på‘½åå’Œcå‘½åç©ºé—´æ³¨å…¥"></a>6.3 på‘½åå’Œcå‘½åç©ºé—´æ³¨å…¥</h2><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨på‘½åå’Œcå‘½åç©ºé—´è¿›è¡Œæ³¨å…¥</p><p>å®˜æ–¹æ–‡æ¡£ï¼š</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220829165243.png" alt="QQæˆªå›¾20220829165243"></p><p>ä½¿ç”¨ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:p</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/p&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:c</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/c&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">        https://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--på‘½åç©ºé—´æ³¨å…¥ï¼Œå¯ä»¥ç›´æ¥æ³¨å…¥å±æ€§çš„å€¼ï¼šproperty--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;user&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.pojo.User&quot;</span> <span class="hljs-attr">p:name</span>=<span class="hljs-string">&quot;æ—æ…•æ¤¿&quot;</span> <span class="hljs-attr">p:age</span>=<span class="hljs-string">&quot;18&quot;</span> /&gt;</span><br><br>    <span class="hljs-comment">&lt;!--cå‘½åç©ºé—´æ³¨å…¥ï¼Œé€šè¿‡æ„é€ å™¨æ³¨å…¥ï¼Œconstruct--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;user2&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.pojo.User&quot;</span> <span class="hljs-attr">c:name</span>=<span class="hljs-string">&quot;æ—å—èŠŠ&quot;</span> <span class="hljs-attr">c:age</span>=<span class="hljs-string">&quot;19&quot;</span> /&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æµ‹è¯•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test02</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">&quot;ApplicationContext2.xml&quot;</span>);<br><span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> (User) context.getBean(<span class="hljs-string">&quot;user&quot;</span>);<br>System.out.println(user);<br>&#125;<br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼špå‘½åå’Œcå‘½åä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œéœ€è¦å¯¼å…¥xmlçº¦æŸ</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml">xmlns:p=&quot;http://www.springframework.org/schema/p&quot;<br>xmlns:c=&quot;http://www.springframework.org/schema/c&quot;<br></code></pre></td></tr></table></figure><h2 id="6-4-Beançš„ä½œç”¨åŸŸ"><a href="#6-4-Beançš„ä½œç”¨åŸŸ" class="headerlink" title="6.4 Beançš„ä½œç”¨åŸŸ"></a>6.4 Beançš„ä½œç”¨åŸŸ</h2><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220829170205.png" alt="QQæˆªå›¾20220829170205"></p><ol><li><p><strong>Singletonï¼ˆå•ä¾‹æ¨¡å¼ï¼‰</strong></p><p>å•ä¾‹æ¨¡å¼ï¼šSpringçš„é»˜è®¤æœºåˆ¶ï¼Œæ¯æ¬¡getçš„éƒ½æ˜¯åŒä¸€ä¸ªå¯¹è±¡</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;ServiceImpl&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;cn.csdn.service.ServiceImpl&quot;</span> <span class="hljs-attr">scope</span>=<span class="hljs-string">&quot;singleton&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p><strong>Prototypeï¼ˆåŸå‹æ¨¡å¼ï¼‰</strong></p><p>åŸå‹æ¨¡å¼ï¼šæ¯æ¬¡ä»å®¹å™¨ä¸­getçš„æ—¶å€™ï¼Œéƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°å¯¹è±¡</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;account&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.foo.DefaultAccount&quot;</span> <span class="hljs-attr">scope</span>=<span class="hljs-string">&quot;prototype&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure><p>æˆ–è€…</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;account&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.foo.DefaultAccount&quot;</span> <span class="hljs-attr">singleton</span>=<span class="hljs-string">&quot;false&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>å…¶ä½™çš„ requestã€sessionã€application è¿™äº›éƒ½åªèƒ½åœ¨webå¼€å‘ä¸­ä½¿ç”¨</p></li></ol><h1 id="7-Beançš„è‡ªåŠ¨è£…é…"><a href="#7-Beançš„è‡ªåŠ¨è£…é…" class="headerlink" title="7. Beançš„è‡ªåŠ¨è£…é…"></a>7. Beançš„è‡ªåŠ¨è£…é…</h1><ul><li>è‡ªåŠ¨è£…é…æ˜¯ä½¿ç”¨springæ»¡è¶³beanä¾èµ–çš„ä¸€ç§æ–¹æ³• </li><li>springä¼šåœ¨åº”ç”¨ä¸Šä¸‹æ–‡ä¸­è‡ªåŠ¨å¯»æ‰¾ï¼Œå¹¶è‡ªåŠ¨ç»™beanè£…é…å±æ€§</li></ul><p><strong>Springä¸­beanæœ‰ä¸‰ç§è£…é…æœºåˆ¶</strong>ï¼Œåˆ†åˆ«æ˜¯ï¼š</p><ol><li><p>åœ¨xmlä¸­æ˜¾å¼é…ç½®ï¼ˆå‰é¢ä½¿ç”¨çš„ä¸€ç›´éƒ½æ˜¯ï¼‰</p></li><li><p>åœ¨javaä¸­æ˜¾å¼é…ç½®</p></li><li><p>éšå¼çš„beanå‘ç°æœºåˆ¶å’Œè‡ªåŠ¨è£…é…ï¼ˆè‡ªåŠ¨è£…é…ï¼Œé‡ç‚¹ï¼‰</p></li></ol><p>Springçš„è‡ªåŠ¨è£…é…éœ€è¦ä»ä¸¤ä¸ªè§’åº¦æ¥å®ç°ï¼Œæˆ–è€…è¯´æ˜¯ä¸¤ä¸ªæ“ä½œï¼š</p><ol><li>ç»„ä»¶æ‰«æ(component scanning)ï¼šspringä¼šè‡ªåŠ¨å‘ç°åº”ç”¨ä¸Šä¸‹æ–‡ä¸­æ‰€åˆ›å»ºçš„bean</li><li>è‡ªåŠ¨è£…é…(autowiring)ï¼šspringè‡ªåŠ¨æ»¡è¶³beanä¹‹é—´çš„ä¾èµ–ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è¯´çš„IoC/DI</li></ol><p>ç»„ä»¶æ‰«æå’Œè‡ªåŠ¨è£…é…ç»„åˆå‘æŒ¥å·¨å¤§ä½œç”¨ï¼Œä½¿çš„æ˜¾ç¤ºçš„é…ç½®é™ä½åˆ°æœ€å°‘</p><p><strong>æ¨èä¸ä½¿ç”¨è‡ªåŠ¨è£…é…xmlé…ç½® , è€Œä½¿ç”¨æ³¨è§£</strong></p><h2 id="7-1-ç¯å¢ƒæ­å»º"><a href="#7-1-ç¯å¢ƒæ­å»º" class="headerlink" title="7.1 ç¯å¢ƒæ­å»º"></a>7.1 ç¯å¢ƒæ­å»º</h2><ol><li><p>æ–°å»ºä¸€ä¸ªmavené¡¹ç›® </p></li><li><p>æ–°å»ºä¸¤ä¸ªå®ä½“ç±»ï¼ŒCat Dog éƒ½æœ‰ä¸€ä¸ªshutæ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Cat</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">shut</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;å–µå–µ&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">shut</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;æ±ªæ±ª&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>æ–°å»ºä¸€ä¸ªç”¨æˆ·ç±»People</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">People</span> &#123;<br>    <span class="hljs-keyword">private</span> Cat cat;<br>    <span class="hljs-keyword">private</span> Dog dog;<br>    <span class="hljs-keyword">private</span> String name;<br><br>    <span class="hljs-keyword">public</span> Cat <span class="hljs-title function_">getCat</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> cat;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setCat</span><span class="hljs-params">(Cat cat)</span> &#123;<br>        <span class="hljs-built_in">this</span>.cat = cat;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> Dog <span class="hljs-title function_">getDog</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> dog;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setDog</span><span class="hljs-params">(Dog dog)</span> &#123;<br>        <span class="hljs-built_in">this</span>.dog = dog;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;People&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;cat=&quot;</span> + cat +<br>                <span class="hljs-string">&quot;, dog=&quot;</span> + dog +<br>                <span class="hljs-string">&quot;, name=&#x27;&quot;</span> + name + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™é…ç½®æ–‡ä»¶ ApplicationContext.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">        https://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;cat&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.pojo.Cat&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dog&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.pojo.Dog&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;people&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.pojo.People&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;cat&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;cat&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dog&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;dog&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;æ—æ…•æ¤¿&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyTest</span> &#123;<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test01</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">&quot;ApplicationContext.xml&quot;</span>);<br>        <span class="hljs-type">People</span> <span class="hljs-variable">people</span> <span class="hljs-operator">=</span> context.getBean(<span class="hljs-string">&quot;people&quot;</span>,People.class);<br>        people.getDog().shut();<br>        people.getCat().shut();<br>    &#125;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">è¾“å‡ºï¼š</span><br><span class="hljs-comment">å–µå–µ</span><br><span class="hljs-comment">æ±ªæ±ª</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure></li></ol><h2 id="7-2-byNameè‡ªåŠ¨è£…é…"><a href="#7-2-byNameè‡ªåŠ¨è£…é…" class="headerlink" title="7.2 byNameè‡ªåŠ¨è£…é…"></a>7.2 byNameè‡ªåŠ¨è£…é…</h2><p><strong>autowire byName (æŒ‰åç§°è‡ªåŠ¨è£…é…)</strong> </p><p>ç”±äºåœ¨æ‰‹åŠ¨é…ç½®xmlè¿‡ç¨‹ä¸­ï¼Œå¸¸å¸¸å‘ç”Ÿå­—æ¯ç¼ºæ¼å’Œå¤§å°å†™ç­‰é”™è¯¯ï¼Œè€Œæ— æ³•å¯¹å…¶è¿›è¡Œæ£€æŸ¥ï¼Œä½¿å¾—å¼€å‘æ•ˆç‡é™ä½</p><p>é‡‡ç”¨è‡ªåŠ¨è£…é…å°†é¿å…è¿™äº›é”™è¯¯ï¼Œå¹¶ä¸”ä½¿é…ç½®ç®€å•åŒ–</p><p>æµ‹è¯•ï¼š</p><ol><li><p>ä¿®æ”¹ ApplicationContext.xml é…ç½®ï¼Œå¢åŠ ä¸€ä¸ªå±æ€§ autowire=â€byNameâ€</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;cat&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.pojo.Cat&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dog&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.pojo.Dog&quot;</span> /&gt;</span><br><br><span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">    byNameï¼šä¼šè‡ªåŠ¨åœ¨å®¹å™¨ä¸Šä¸‹æ–‡ä¸­æŸ¥æ‰¾ï¼Œå’Œè‡ªå·±å¯¹è±¡setæ–¹æ³•åé¢å€¼å¯¹åº”çš„ beanid</span><br><span class="hljs-comment">--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;people&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.pojo.People&quot;</span> <span class="hljs-attr">autowire</span>=<span class="hljs-string">&quot;byName&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;æ—æ…•æ¤¿&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>å†æ¬¡æµ‹è¯•ï¼Œç»“æœä¾æ—§æˆåŠŸè¾“å‡º</p></li></ol><p><strong>å°ç»“ï¼š</strong> </p><p>å½“ä¸€ä¸ªbeanèŠ‚ç‚¹å¸¦æœ‰ autowire byNameçš„å±æ€§æ—¶</p><ol><li>å°†æŸ¥æ‰¾å…¶ç±»ä¸­æ‰€æœ‰çš„setæ–¹æ³•åï¼Œä¾‹å¦‚setCatï¼Œè·å¾—å°†setå»æ‰å¹¶ä¸”é¦–å­—æ¯å°å†™çš„å­—ç¬¦ä¸²ï¼Œå³cat</li><li>å»springå®¹å™¨ä¸­å¯»æ‰¾æ˜¯å¦æœ‰æ­¤å­—ç¬¦ä¸²åç§°idçš„å¯¹è±¡</li><li>å¦‚æœæœ‰ï¼Œå°±å–å‡ºæ³¨å…¥ï¼›å¦‚æœæ²¡æœ‰ï¼ŒçœŸæ­£çš„setCatå°±æ²¡æ‰§è¡Œï¼Œå¯¹è±¡å°±æ²¡æœ‰åˆå§‹åŒ–ï¼Œè°ƒç”¨æ—¶å°±ä¼šæŠ¥ç©ºæŒ‡é’ˆé”™è¯¯</li></ol><h2 id="7-3-byTypeè‡ªåŠ¨è£…é…"><a href="#7-3-byTypeè‡ªåŠ¨è£…é…" class="headerlink" title="7.3 byTypeè‡ªåŠ¨è£…é…"></a>7.3 byTypeè‡ªåŠ¨è£…é…</h2><p><strong>autowire byType (æŒ‰ç±»å‹è‡ªåŠ¨è£…é…)</strong> </p><p>æµ‹è¯•ï¼š</p><ol><li><p>ä¿®æ”¹ ApplicationContext.xml é…ç½®ï¼Œå¢åŠ ä¸€ä¸ªå±æ€§ autowire=â€byTypeâ€</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;cat&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.pojo.Cat&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dog&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.pojo.Dog&quot;</span> /&gt;</span><br><br><span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">    byTypeï¼šä¼šè‡ªåŠ¨åœ¨å®¹å™¨ä¸Šä¸‹æ–‡ä¸­æŸ¥æ‰¾ï¼Œå’Œè‡ªå·±å¯¹è±¡å±æ€§ç±»å‹ç›¸åŒçš„bean</span><br><span class="hljs-comment">--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;people&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.pojo.People&quot;</span> <span class="hljs-attr">autowire</span>=<span class="hljs-string">&quot;byType&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;æ—æ…•æ¤¿&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>å†æ¬¡æµ‹è¯•ï¼Œç»“æœä¾æ—§æˆåŠŸè¾“å‡º</p></li></ol><p><strong>å°ç»“ï¼š</strong></p><ul><li><p>byNameçš„æ—¶å€™ï¼Œéœ€è¦ä¿è¯æ‰€æœ‰beançš„idå”¯ä¸€ï¼Œå¹¶ä¸”è¿™ä¸ªbeanéœ€è¦å’Œè‡ªåŠ¨æ³¨å…¥çš„å±æ€§çš„setæ–¹æ³•çš„å€¼ä¸€è‡´</p></li><li><p>byTypeçš„æ—¶å€™ï¼Œéœ€è¦ä¿è¯æ‰€æœ‰beançš„classå”¯ä¸€ï¼Œå¹¶ä¸”è¿™ä¸ªéœ€è¦å’Œè‡ªåŠ¨æ³¨å…¥çš„å±æ€§ç±»å‹ä¸€è‡´</p></li><li><p>ä½¿ç”¨autowire byTypeé¦–å…ˆéœ€è¦ä¿è¯ï¼šåŒä¸€ç±»å‹çš„å¯¹è±¡ï¼Œåœ¨springå®¹å™¨ä¸­å”¯ä¸€ï¼ˆå…¨å±€å¯¹è±¡å”¯ä¸€ï¼‰ã€‚å¦‚æœä¸å”¯ä¸€ï¼Œä¼šæŠ¥ä¸å”¯ä¸€çš„å¼‚å¸¸ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">NoUniqueBeanDefinitionException<br></code></pre></td></tr></table></figure></li></ul><h2 id="7-4-ä½¿ç”¨æ³¨è§£è‡ªåŠ¨è£…é…"><a href="#7-4-ä½¿ç”¨æ³¨è§£è‡ªåŠ¨è£…é…" class="headerlink" title="7.4 ä½¿ç”¨æ³¨è§£è‡ªåŠ¨è£…é…"></a>7.4 ä½¿ç”¨æ³¨è§£è‡ªåŠ¨è£…é…</h2><p>jdk1.5å¼€å§‹æ”¯æŒæ³¨è§£ï¼Œspring2.5å¼€å§‹å…¨é¢æ”¯æŒæ³¨è§£</p><p>å‡†å¤‡å·¥ä½œï¼š åˆ©ç”¨æ³¨è§£çš„æ–¹å¼æ³¨å…¥å±æ€§</p><ol><li>å¯¼å…¥çº¦æŸï¼šcontextçº¦æŸ</li><li>é…ç½®æ³¨è§£çš„æ”¯æŒï¼š<strong>&lt;context:annotation-config/&gt;å¼€å¯æ³¨è§£çš„æ”¯æŒ</strong></li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">        https://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">        http://www.springframework.org/schema/context</span></span><br><span class="hljs-string"><span class="hljs-tag">        https://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">context:annotation-config</span>/&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="7-4-1-Autowired"><a href="#7-4-1-Autowired" class="headerlink" title="7.4.1 @Autowired"></a>7.4.1 @Autowired</h3><ul><li>ç›´æ¥åœ¨å±æ€§ä¸Šä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥åœ¨setæ–¹æ³•ä¸Šä½¿ç”¨</li><li>ä½¿ç”¨ @Autowired å¯ä»¥ä¸ç”¨ç¼–å†™setæ–¹æ³•äº†ï¼Œå‰æï¼šè‡ªåŠ¨è£…é…çš„å±æ€§åœ¨IOCï¼ˆSpringï¼‰å®¹å™¨ä¸­å­˜åœ¨ï¼Œä¸”ç¬¦åˆåå­—byName</li><li>å¦‚æœ @Autowired è‡ªåŠ¨è£…é…çš„ç¯å¢ƒæ¯”è¾ƒå¤æ‚ï¼Œè‡ªåŠ¨è£…é…æ— æ³•é€šè¿‡ä¸€ä¸ªæ³¨è§£ @Autowired å®Œæˆçš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ @Qualifier(value=â€xxxâ€) å»é…åˆ @Autowired çš„ä½¿ç”¨ï¼ŒæŒ‡å®šä¸€ä¸ªå”¯ä¸€çš„beanå¯¹è±¡æ³¨å…¥</li></ul><p>æµ‹è¯•ï¼š</p><ol><li><p>å°†Userç±»ä¸­çš„setæ–¹æ³•å»æ‰ï¼Œä½¿ç”¨@Autowiredæ³¨è§£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">People</span> &#123;<br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> Cat cat;<br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> Dog dog;<br>    <span class="hljs-keyword">private</span> String name;<br><br>    <span class="hljs-keyword">public</span> Cat <span class="hljs-title function_">getCat</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> cat;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> Dog <span class="hljs-title function_">getDog</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> dog;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;People&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;cat=&quot;</span> + cat +<br>                <span class="hljs-string">&quot;, dog=&quot;</span> + dog +<br>                <span class="hljs-string">&quot;, name=&#x27;&quot;</span> + name + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>æ­¤æ—¶é…ç½®æ–‡ä»¶å†…å®¹</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">        https://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">        http://www.springframework.org/schema/context</span></span><br><span class="hljs-string"><span class="hljs-tag">        https://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">context:annotation-config</span>/&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;cat&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.pojo.Cat&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dog&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.pojo.Dog&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;people&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.pojo.People&quot;</span> /&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•ï¼ŒæˆåŠŸè¾“å‡ºç»“æœ</p></li></ol><h3 id="7-4-2-Qualifier"><a href="#7-4-2-Qualifier" class="headerlink" title="7.4.2 @Qualifier"></a>7.4.2 @Qualifier</h3><ul><li>@Autowiredæ˜¯æ ¹æ®ç±»å‹è‡ªåŠ¨è£…é…çš„ï¼ŒåŠ ä¸Š@Qualifieråˆ™å¯ä»¥æ ¹æ®byNameçš„æ–¹å¼è‡ªåŠ¨è£…é… </li><li><strong>@Qualifierä¸èƒ½å•ç‹¬ä½¿ç”¨</strong>ï¼Œé€šå¸¸å’Œ @Autowired ä¸€èµ·ä½¿ç”¨</li></ul><p>æµ‹è¯•ï¼š</p><ol><li><p>é…ç½®æ–‡ä»¶ä¿®æ”¹å†…å®¹ï¼Œä¿è¯ç±»å‹å­˜åœ¨å¯¹è±¡ã€‚ä¸”åå­—ä¸ä¸ºç±»çš„é»˜è®¤åå­—ï¼</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dog1&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.pojo.Dog&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dog2&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.pojo.Dog&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;cat1&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.pojo.Cat&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;cat2&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.pojo.Cat&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æ²¡æœ‰åŠ Qualifieræµ‹è¯•ï¼Œç›´æ¥æŠ¥é”™ </p></li><li><p>åœ¨å±æ€§ä¸Šæ·»åŠ Qualifieræ³¨è§£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Autowired</span><br><span class="hljs-meta">@Qualifier(value = &quot;cat2&quot;)</span><br><span class="hljs-keyword">private</span> Cat cat;<br><span class="hljs-meta">@Autowired</span><br><span class="hljs-meta">@Qualifier(value = &quot;dog2&quot;)</span><br><span class="hljs-keyword">private</span> Dog dog;<br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•ï¼ŒæˆåŠŸè¾“å‡º</p></li></ol><h3 id="7-4-3-Resource"><a href="#7-4-3-Resource" class="headerlink" title="7.4.3 @Resource"></a>7.4.3 @Resource</h3><ul><li>@Resourceå¦‚æœ‰æŒ‡å®šçš„nameå±æ€§ï¼Œå…ˆæŒ‰è¯¥å±æ€§è¿›è¡ŒbyNameæ–¹å¼æŸ¥æ‰¾è£…é…</li><li>å…¶æ¬¡å†è¿›è¡Œé»˜è®¤çš„byNameæ–¹å¼è¿›è¡Œè£…é…</li><li>å¦‚æœä»¥ä¸Šéƒ½ä¸æˆåŠŸï¼Œåˆ™æŒ‰byTypeçš„æ–¹å¼è‡ªåŠ¨è£…é…</li><li>éƒ½ä¸æˆåŠŸï¼Œåˆ™æŠ¥å¼‚å¸¸</li></ul><p>å®ä½“ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">People</span> &#123;<br><span class="hljs-comment">//å¦‚æœå…è®¸å¯¹è±¡ä¸ºnullï¼Œè®¾ç½®required = false,é»˜è®¤ä¸ºtrue</span><br><span class="hljs-meta">@Resource(name = &quot;cat2&quot;)</span><br><span class="hljs-keyword">private</span> Cat cat;<br><span class="hljs-meta">@Resource</span><br><span class="hljs-keyword">private</span> Dog dog;<br><span class="hljs-keyword">private</span> String name;<br>&#125;<br></code></pre></td></tr></table></figure><p>ApplicationContext.xml </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dog&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.pojo.Dog&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;cat1&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.pojo.Cat&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;cat2&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.pojo.Cat&quot;</span>/&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;user&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.pojo.User&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure><p>æµ‹è¯•ï¼šæˆåŠŸ</p><p>é…ç½®æ–‡ä»¶2ï¼šbeans.xml ï¼Œ åˆ æ‰cat2</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dog&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.pojo.Dog&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;cat1&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.pojo.Cat&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure><p>å®ä½“ç±»ä¸Šåªä¿ç•™æ³¨è§£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Resource</span><br><span class="hljs-keyword">private</span> Cat cat;<br><span class="hljs-meta">@Resource</span><br><span class="hljs-keyword">private</span> Dog dog;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•ï¼šæˆåŠŸ</p><h2 id="7-5-å°ç»“"><a href="#7-5-å°ç»“" class="headerlink" title="7.5 å°ç»“"></a>7.5 å°ç»“</h2><p>@Autowiredä¸@Resourceçš„åŒºåˆ«ï¼š</p><ul><li> @Autowiredä¸@Resourceéƒ½å¯ä»¥ç”¨æ¥è‡ªåŠ¨è£…é…beanï¼Œéƒ½å¯ä»¥æ”¾åœ¨å±æ€§å­—æ®µå’Œsetæ–¹æ³•ä¸Š</li><li>@Autowiredé€šè¿‡byTypeçš„æ–¹å¼å®ç°ï¼Œå¿…é¡»è¦æ±‚ä¾èµ–å¯¹è±¡å¿…é¡»å­˜åœ¨</li><li>@Resourceé»˜è®¤é€šè¿‡byNameçš„æ–¹å¼å®ç°ï¼Œå¦‚æœæ‰¾ä¸åˆ°åå­—ï¼Œåˆ™é€šè¿‡byTypeå®ç°ï¼Œå¦‚æœä¸¤ä¸ªéƒ½æ‰¾ä¸åˆ°åˆ™æŠ¥é”™</li><li>æ‰§è¡Œé¡ºåºä¸åŒï¼š@Autowiredé€šè¿‡byTypeçš„æ–¹å¼å®ç°</li></ul><h1 id="8-Springæ³¨è§£å¼€å‘"><a href="#8-Springæ³¨è§£å¼€å‘" class="headerlink" title="8 Springæ³¨è§£å¼€å‘"></a>8 Springæ³¨è§£å¼€å‘</h1><h2 id="8-1-è¯´æ˜"><a href="#8-1-è¯´æ˜" class="headerlink" title="8.1 è¯´æ˜"></a>8.1 è¯´æ˜</h2><p>åœ¨spring4ä¹‹åï¼Œæƒ³è¦ä½¿ç”¨æ³¨è§£å½¢å¼ï¼Œå¿…é¡»å¾—è¦å¼•å…¥aopçš„åŒ…</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220829185814.png" alt="QQæˆªå›¾20220829185814"></p><p>åœ¨é…ç½®æ–‡ä»¶å½“ä¸­ï¼Œè¿˜å¾—è¦å¼•å…¥ä¸€ä¸ªcontextçº¦æŸ</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">http://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">http://www.springframework.org/schema/context</span></span><br><span class="hljs-string"><span class="hljs-tag">http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span><br>    <br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="8-2-Beançš„æ³¨è§£æ³¨å…¥"><a href="#8-2-Beançš„æ³¨è§£æ³¨å…¥" class="headerlink" title="8.2 Beançš„æ³¨è§£æ³¨å…¥"></a>8.2 Beançš„æ³¨è§£æ³¨å…¥</h2><p>æˆ‘ä»¬ä¹‹å‰éƒ½æ˜¯ä½¿ç”¨ bean çš„æ ‡ç­¾è¿›è¡Œbeanæ³¨å…¥ï¼Œä½†æ˜¯å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬éƒ½ä¼šä½¿ç”¨æ³¨è§£</p><ol><li><p>é…ç½®æ‰«æå“ªäº›åŒ…ä¸‹çš„æ³¨è§£</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">http://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">http://www.springframework.org/schema/context</span></span><br><span class="hljs-string"><span class="hljs-tag">http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--æŒ‡å®šè¦æ‰«æçš„åŒ…ï¼Œè¿™ä¸ªåŒ…ä¸‹çš„æ³¨è§£å°±ä¼šç”Ÿæ•ˆ--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">&quot;ssm.study.pojo&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">context:annotation-config</span>/&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>åœ¨æŒ‡å®šåŒ…ä¸‹ç¼–å†™ç±»ï¼Œå¢åŠ æ³¨è§£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//ç­‰ä»·äº &lt;bean id=&quot;user&quot; class=&quot;ssm.study.pojo.User&quot; /&gt;</span><br><span class="hljs-comment">//@Component  ç»„ä»¶</span><br><span class="hljs-meta">@Component</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> &#123;<br>    <span class="hljs-keyword">public</span> String name=<span class="hljs-string">&quot;æ—æ…•æ¤¿&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyTest</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">&quot;ApplicationContext.xml&quot;</span>);<br>        <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> (User)context.getBean(<span class="hljs-string">&quot;user&quot;</span>);<br>        System.out.println(user.name);<br>    &#125;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">è¾“å‡ºï¼š</span><br><span class="hljs-comment">æ—æ…•æ¤¿</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure></li></ol><h2 id="8-3-æ³¨è§£æ³¨å…¥å±æ€§"><a href="#8-3-æ³¨è§£æ³¨å…¥å±æ€§" class="headerlink" title="8.3 æ³¨è§£æ³¨å…¥å±æ€§"></a>8.3 æ³¨è§£æ³¨å…¥å±æ€§</h2><p>ä½¿ç”¨æ³¨è§£æ³¨å…¥å±æ€§    </p><ol><li><p>å¯ä»¥ä¸ç”¨æä¾›setæ–¹æ³•ï¼Œç›´æ¥åœ¨ç›´æ¥åä¸Šæ·»åŠ  @value(â€œxxxâ€)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//ç­‰ä»·äº &lt;bean id=&quot;user&quot; class=&quot;ssm.study.pojo.User&quot; /&gt;</span><br><span class="hljs-comment">//@Component  ç»„ä»¶</span><br><span class="hljs-meta">@Component</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> &#123;<br>    <span class="hljs-meta">@Value(&quot;æ—æ…•æ¤¿&quot;)</span> <span class="hljs-comment">//ç›¸å½“äºé…ç½®æ–‡ä»¶ä¸­ &lt;property name=&quot;name&quot; value=&quot;æ—æ…•æ¤¿&quot;/&gt;</span><br>    <span class="hljs-keyword">public</span> String name;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p> å¦‚æœæä¾›äº†setæ–¹æ³•ï¼Œåœ¨setæ–¹æ³•ä¸Šæ·»åŠ @value(â€œå€¼â€);</p></li></ol>   <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Component(&quot;user&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> &#123;<br>    <br><span class="hljs-keyword">public</span> String name;<br>    <br><span class="hljs-meta">@Value(&quot;æ—æ…•æ¤¿&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> &#123;<br><span class="hljs-built_in">this</span>.name = name;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="8-4-è¡ç”Ÿæ³¨è§£"><a href="#8-4-è¡ç”Ÿæ³¨è§£" class="headerlink" title="8.4 è¡ç”Ÿæ³¨è§£"></a>8.4 è¡ç”Ÿæ³¨è§£</h2><p>è¿™äº›æ³¨è§£æ›¿ä»£äº†åœ¨é…ç½®æ–‡ä»¶å½“ä¸­é…ç½®æ­¥éª¤ï¼Œæ›´åŠ çš„æ–¹ä¾¿å¿«æ·</p><p><strong>@Componentä¸‰ä¸ªè¡ç”Ÿæ³¨è§£ï¼š</strong> </p><p>ä¸ºäº†æ›´å¥½çš„è¿›è¡Œåˆ†å±‚ï¼ŒSpringå¯ä»¥ä½¿ç”¨å…¶å®ƒä¸‰ä¸ªæ³¨è§£ï¼ŒåŠŸèƒ½ä¸€æ ·ï¼Œç›®å‰ä½¿ç”¨å“ªä¸€ä¸ªåŠŸèƒ½éƒ½ä¸€æ ·ã€‚ </p><ul><li>@Controllerï¼šwebå±‚ </li><li>@Serviceï¼šserviceå±‚ </li><li>@Repositoryï¼šdaoå±‚ </li></ul><p>å†™ä¸Šè¿™äº›æ³¨è§£ï¼Œå°±ç›¸å½“äºå°†è¿™ä¸ªç±»äº¤ç»™Springç®¡ç†è£…é…äº†</p><h2 id="8-5-è‡ªåŠ¨è£…é…æ³¨è§£"><a href="#8-5-è‡ªåŠ¨è£…é…æ³¨è§£" class="headerlink" title="8.5 è‡ªåŠ¨è£…é…æ³¨è§£"></a>8.5 è‡ªåŠ¨è£…é…æ³¨è§£</h2><p>â€¦â€¦è¯¦è§ï¼šBeançš„è‡ªåŠ¨è£…é…</p><h2 id="8-6-ä½œç”¨åŸŸæ³¨è§£"><a href="#8-6-ä½œç”¨åŸŸæ³¨è§£" class="headerlink" title="8.6 ä½œç”¨åŸŸæ³¨è§£"></a>8.6 ä½œç”¨åŸŸæ³¨è§£</h2><p>@scope</p><ul><li>singletonï¼šå•ä¾‹æ¨¡å¼ï¼ŒSpringé»˜è®¤çš„ã€‚Springä¼šé‡‡ç”¨å•ä¾‹æ¨¡å¼åˆ›å»ºè¿™ä¸ªå¯¹è±¡ã€‚å…³é—­å·¥å‚ï¼Œæ‰€æœ‰çš„å¯¹è±¡éƒ½ä¼šé”€æ¯</li><li>prototypeï¼šå¤šä¾‹æ¨¡å¼ã€‚å…³é—­å·¥å‚ï¼Œæ‰€æœ‰çš„å¯¹è±¡ä¸ä¼šé”€æ¯ï¼Œå†…éƒ¨çš„åƒåœ¾å›æ”¶æœºåˆ¶ä¼šå›æ”¶</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller(&quot;user&quot;)</span><br><span class="hljs-meta">@Scope(&quot;prototype&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> &#123;<br><span class="hljs-meta">@Value(&quot;æ—æ…•æ¤¿&quot;)</span><br><span class="hljs-keyword">public</span> String name;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="8-7-å°ç»“"><a href="#8-7-å°ç»“" class="headerlink" title="8.7 å°ç»“"></a>8.7 å°ç»“</h2><p><strong>XMLä¸æ³¨è§£æ¯”è¾ƒï¼š</strong> </p><ul><li>XMLå¯ä»¥é€‚ç”¨ä»»ä½•åœºæ™¯ ï¼Œç»“æ„æ¸…æ™°ï¼Œç»´æŠ¤æ–¹ä¾¿ </li><li>æ³¨è§£ä¸æ˜¯è‡ªå·±æä¾›çš„ç±»ä½¿ç”¨ä¸äº†ï¼Œå¼€å‘ç®€å•æ–¹ä¾¿ï¼Œç»´æŠ¤ç›¸å¯¹å¤æ‚</li></ul><p><strong>xmlä¸æ³¨è§£æ•´åˆå¼€å‘ï¼š</strong> ï¼ˆæ¨èï¼‰</p><ul><li>xmlç®¡ç†Bean </li><li>æ³¨è§£å®Œæˆå±æ€§æ³¨å…¥ </li><li>ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œ å¯ä»¥ä¸ç”¨æ‰«æï¼Œæ‰«ææ˜¯ä¸ºäº†ç±»ä¸Šçš„æ³¨è§£</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">context:annotation-config</span>/&gt;</span><br></code></pre></td></tr></table></figure><p>ä½œç”¨ï¼š </p><ul><li>è¿›è¡Œæ³¨è§£é©±åŠ¨æ³¨å†Œï¼Œä»è€Œä½¿æ³¨è§£ç”Ÿæ•ˆ </li><li>ç”¨äºæ¿€æ´»é‚£äº›å·²ç»åœ¨springå®¹å™¨é‡Œæ³¨å†Œè¿‡çš„beanä¸Šé¢çš„æ³¨è§£ï¼Œä¹Ÿå°±æ˜¯æ˜¾ç¤ºçš„å‘Springæ³¨å†Œ </li><li>å¦‚æœä¸æ‰«æåŒ…ï¼Œå°±éœ€è¦æ‰‹åŠ¨é…ç½®bean </li><li>å¦‚æœä¸åŠ æ³¨è§£é©±åŠ¨ï¼Œåˆ™æ³¨å…¥çš„å€¼ä¸ºnull</li></ul><h2 id="8-8-ä½¿ç”¨Javaçš„æ–¹å¼é…ç½®Spring"><a href="#8-8-ä½¿ç”¨Javaçš„æ–¹å¼é…ç½®Spring" class="headerlink" title="8.8 ä½¿ç”¨Javaçš„æ–¹å¼é…ç½®Spring"></a>8.8 ä½¿ç”¨Javaçš„æ–¹å¼é…ç½®Spring</h2><p>ç°åœ¨å®Œå…¨ä¸ä½¿ç”¨Springçš„xmlé…ç½®ï¼Œå…¨éƒ¨ç”±Javaæ¥å®ç°</p><p>JavaConfig åŸæ¥æ˜¯ Spring çš„ä¸€ä¸ªå­é¡¹ç›®ï¼Œå®ƒé€šè¿‡ Java ç±»çš„æ–¹å¼æä¾› Bean çš„å®šä¹‰ä¿¡æ¯ï¼Œåœ¨ Spring4 çš„ç‰ˆæœ¬ï¼Œ JavaConfig å·²æ­£å¼æˆä¸º Spring4 çš„æ ¸å¿ƒåŠŸèƒ½ ã€‚ </p><p>æµ‹è¯•ï¼š</p><ol><li><p>ç¼–å†™ä¸€ä¸ªå®ä½“ç±»ï¼ŒDog</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Component</span> <span class="hljs-comment">//å°†è¿™ä¸ªç±»æ ‡æ³¨ä¸ºSpringçš„ä¸€ä¸ªç»„ä»¶ï¼Œæ”¾åˆ°å®¹å™¨ä¸­ï¼</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;dog&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>æ–°å»ºä¸€ä¸ªconfigé…ç½®åŒ…ï¼Œç¼–å†™ä¸€ä¸ªMyConfigé…ç½®ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Configuration</span> <span class="hljs-comment">//ä»£è¡¨è¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyConfig</span> &#123;<br>    <br><span class="hljs-meta">@Bean</span> <span class="hljs-comment">//é€šè¿‡æ–¹æ³•æ³¨å†Œä¸€ä¸ªbeanï¼Œè¿™é‡Œçš„è¿”å›å€¼å°±Beançš„ç±»å‹ï¼Œæ–¹æ³•åå°±æ˜¯beançš„idï¼</span><br><span class="hljs-keyword">public</span> Dog <span class="hljs-title function_">dog</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>();<br>&#125;<br>    <br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test2</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">applicationContext</span> <span class="hljs-operator">=</span><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">AnnotationConfigApplicationContext</span>(MyConfig.class);<br><span class="hljs-type">Dog</span> <span class="hljs-variable">dog</span> <span class="hljs-operator">=</span> (Dog) applicationContext.getBean(<span class="hljs-string">&quot;dog&quot;</span>);<br>System.out.println(dog.name);<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>æˆåŠŸè¾“å‡ºç»“æœ</p></li></ol><p><strong>å¯¼å…¥å…¶ä»–é…ç½®å¦‚ä½•åšå‘¢ï¼Ÿ</strong></p><ol><li><p>æˆ‘ä»¬å†ç¼–å†™ä¸€ä¸ªé…ç½®ç±»ï¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Configuration</span> <span class="hljs-comment">//ä»£è¡¨è¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyConfig2</span> &#123;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>åœ¨ä¹‹å‰çš„é…ç½®ç±»ä¸­æˆ‘ä»¬æ¥é€‰æ‹©å¯¼å…¥è¿™ä¸ªé…ç½®ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Configuration</span><br><span class="hljs-meta">@Import(MyConfig2.class)</span> <span class="hljs-comment">//å¯¼å…¥åˆå¹¶å…¶ä»–é…ç½®ç±»ï¼Œç±»ä¼¼äºé…ç½®æ–‡ä»¶ä¸­çš„ inculde æ ‡ç­¾</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyConfig</span> &#123;<br><br>    <span class="hljs-meta">@Bean</span><br><span class="hljs-keyword">public</span> Dog <span class="hljs-title function_">dog</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>();<br>&#125;<br>    <br>&#125;<br></code></pre></td></tr></table></figure></li></ol><p>å…³äºè¿™ç§Javaç±»çš„é…ç½®æ–¹å¼ï¼Œæˆ‘ä»¬åœ¨ä¹‹åçš„SpringBoot å’Œ SpringCloudä¸­è¿˜ä¼šå¤§é‡çœ‹åˆ°ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“è¿™äº›æ³¨è§£çš„ä½œç”¨å³å¯</p><h1 id="9-ä»£ç†æ¨¡å¼"><a href="#9-ä»£ç†æ¨¡å¼" class="headerlink" title="9 ä»£ç†æ¨¡å¼"></a>9 ä»£ç†æ¨¡å¼</h1><p>ä¸ºä»€ä¹ˆè¦å­¦ä¹ ä»£ç†æ¨¡å¼ï¼Œå› ä¸ºAOPçš„åº•å±‚æœºåˆ¶å°±æ˜¯åŠ¨æ€ä»£ç†</p><p>ä»£ç†æ¨¡å¼çš„åˆ†ç±»ï¼š </p><ul><li>é™æ€ä»£ç†</li><li>åŠ¨æ€ä»£ç† </li></ul><p><img src="https://img.yiqiangshiyia.cn/blog/spring010.jpg" alt="spring010"></p><h2 id="9-1-é™æ€ä»£ç†"><a href="#9-1-é™æ€ä»£ç†" class="headerlink" title="9.1 é™æ€ä»£ç†"></a>9.1 é™æ€ä»£ç†</h2><p><strong>é™æ€ä»£ç†è§’è‰²åˆ†æ</strong></p><ul><li>æŠ½è±¡è§’è‰² : ä¸€èˆ¬ä½¿ç”¨æ¥å£æˆ–è€…æŠ½è±¡ç±»æ¥å®ç°</li><li>çœŸå®è§’è‰² : è¢«ä»£ç†çš„è§’è‰²</li><li>ä»£ç†è§’è‰² : ä»£ç†çœŸå®è§’è‰² ; ä»£ç†çœŸå®è§’è‰²å , ä¸€èˆ¬ä¼šåšä¸€äº›é™„å±çš„æ“ä½œ</li><li>å®¢æˆ· : ä½¿ç”¨ä»£ç†è§’è‰²æ¥è¿›è¡Œä¸€äº›æ“ä½œ</li></ul><p><strong>ä»£ç å®ç°ï¼š</strong> </p><p>æ¥å£å³æŠ½è±¡è§’è‰²ï¼šRent.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//æŠ½è±¡è§’è‰²ï¼šç§Ÿæˆ¿</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Rent</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">rent</span><span class="hljs-params">()</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>çœŸå®è§’è‰²ï¼šHost.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//çœŸå®è§’è‰²: æˆ¿ä¸œï¼Œæˆ¿ä¸œè¦å‡ºç§Ÿæˆ¿å­</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Host</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Rent</span>&#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">rent</span><span class="hljs-params">()</span> &#123;<br>System.out.println(<span class="hljs-string">&quot;æˆ¿å±‹å‡ºç§Ÿ&quot;</span>);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä»£ç†è§’è‰²ï¼šProxy.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//ä»£ç†è§’è‰²ï¼šä¸­ä»‹</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Proxy</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Rent</span> &#123;<br>    <br><span class="hljs-keyword">private</span> Host host;<br><span class="hljs-keyword">public</span> <span class="hljs-title function_">Proxy</span><span class="hljs-params">()</span> &#123; &#125;<br><span class="hljs-keyword">public</span> <span class="hljs-title function_">Proxy</span><span class="hljs-params">(Host host)</span> &#123;<br><span class="hljs-built_in">this</span>.host = host;<br>&#125;<br>    <br><span class="hljs-comment">//ç§Ÿæˆ¿</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">rent</span><span class="hljs-params">()</span>&#123;<br>seeHouse();<br>host.rent();<br>fare();<br>&#125;<br>    <br><span class="hljs-comment">//çœ‹æˆ¿</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">seeHouse</span><span class="hljs-params">()</span>&#123;<br>System.out.println(<span class="hljs-string">&quot;å¸¦æˆ¿å®¢çœ‹æˆ¿&quot;</span>);<br>&#125;<br>    <br><span class="hljs-comment">//æ”¶ä¸­ä»‹è´¹</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">fare</span><span class="hljs-params">()</span>&#123;<br>System.out.println(<span class="hljs-string">&quot;æ”¶ä¸­ä»‹è´¹&quot;</span>);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å®¢æˆ·ç«¯è®¿é—®ä»£ç†è§’è‰²ï¼šClient.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//å®¢æˆ·ç±»ï¼Œä¸€èˆ¬å®¢æˆ·éƒ½ä¼šå»æ‰¾ä»£ç†ï¼</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Client</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><span class="hljs-comment">//æˆ¿ä¸œè¦ç§Ÿæˆ¿</span><br><span class="hljs-type">Host</span> <span class="hljs-variable">host</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Host</span>();<br><span class="hljs-comment">//ä¸­ä»‹å¸®åŠ©æˆ¿ä¸œ</span><br><span class="hljs-type">Proxy</span> <span class="hljs-variable">proxy</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(host);<br>    <br><span class="hljs-comment">//ä½ å»æ‰¾ä¸­ä»‹ï¼</span><br>proxy.rent();<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="9-2-é™æ€ä»£ç†çš„å¥½å¤„"><a href="#9-2-é™æ€ä»£ç†çš„å¥½å¤„" class="headerlink" title="9.2 é™æ€ä»£ç†çš„å¥½å¤„"></a>9.2 é™æ€ä»£ç†çš„å¥½å¤„</h2><p>å¥½å¤„ï¼š</p><ul><li>å¯ä»¥ä½¿å¾—æˆ‘ä»¬çš„çœŸå®è§’è‰²æ›´åŠ çº¯ç²¹ï¼Œä¸å†å»å…³æ³¨ä¸€äº›å…¬å…±çš„äº‹æƒ…</li><li>å…¬å…±çš„ä¸šåŠ¡ç”±ä»£ç†æ¥å®Œæˆï¼Œå®ç°äº†ä¸šåŠ¡çš„åˆ†å·¥</li><li>å…¬å…±ä¸šåŠ¡å‘ç”Ÿæ‰©å±•æ—¶å˜å¾—æ›´åŠ é›†ä¸­å’Œæ–¹ä¾¿ </li></ul><p>ç¼ºç‚¹ : </p><ul><li>ç±»å¤šäº†ï¼Œå¤šäº†ä»£ç†ç±»ï¼Œå·¥ä½œé‡å˜å¤§äº†ï¼Œå¼€å‘æ•ˆç‡é™ä½</li></ul><p>æˆ‘ä»¬æƒ³è¦é™æ€ä»£ç†çš„å¥½å¤„ï¼Œåˆä¸æƒ³è¦é™æ€ä»£ç†çš„ç¼ºç‚¹ï¼Œæ‰€ä»¥å°±æœ‰äº†åŠ¨æ€ä»£ç†</p><h2 id="9-3-é™æ€ä»£ç†å†ç†è§£"><a href="#9-3-é™æ€ä»£ç†å†ç†è§£" class="headerlink" title="9.3 é™æ€ä»£ç†å†ç†è§£"></a>9.3 é™æ€ä»£ç†å†ç†è§£</h2><p>å®ç°æ­¥éª¤ï¼š</p><ol><li><p>åˆ›å»ºä¸€ä¸ªæŠ½è±¡è§’è‰²ï¼Œæ¯”å¦‚ç”¨æˆ·ä¸šåŠ¡ï¼ŒæŠ½è±¡èµ·æ¥å°±æ˜¯å¢åˆ æ”¹æŸ¥</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//æŠ½è±¡è§’è‰²ï¼šå¢åˆ æ”¹æŸ¥ä¸šåŠ¡</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserService</span> &#123;<br><span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">()</span>;<br><span class="hljs-keyword">void</span> <span class="hljs-title function_">delete</span><span class="hljs-params">()</span>;<br><span class="hljs-keyword">void</span> <span class="hljs-title function_">update</span><span class="hljs-params">()</span>;<br><span class="hljs-keyword">void</span> <span class="hljs-title function_">query</span><span class="hljs-params">()</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>éœ€è¦ä¸€ä¸ªçœŸå®å¯¹è±¡æ¥å®Œæˆè¿™äº›å¢åˆ æ”¹æŸ¥æ“ä½œ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//çœŸå®å¯¹è±¡ï¼Œå®Œæˆå¢åˆ æ”¹æŸ¥æ“ä½œçš„äºº</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span> &#123;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">()</span> &#123;<br>System.out.println(<span class="hljs-string">&quot;å¢åŠ äº†ä¸€ä¸ªç”¨æˆ·&quot;</span>);<br>&#125;<br>    <br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">delete</span><span class="hljs-params">()</span> &#123;<br>System.out.println(<span class="hljs-string">&quot;åˆ é™¤äº†ä¸€ä¸ªç”¨æˆ·&quot;</span>);<br>&#125;<br>    <br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">update</span><span class="hljs-params">()</span> &#123;<br>System.out.println(<span class="hljs-string">&quot;æ›´æ–°äº†ä¸€ä¸ªç”¨æˆ·&quot;</span>);<br>&#125;<br>    <br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">query</span><span class="hljs-params">()</span> &#123;<br>System.out.println(<span class="hljs-string">&quot;æŸ¥è¯¢äº†ä¸€ä¸ªç”¨æˆ·&quot;</span>);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>éœ€è¦å¢åŠ ä¸€ä¸ªæ—¥å¿—åŠŸèƒ½ï¼Œå¦‚ä½•å®ç°</p><ul><li>æ€è·¯1 ï¼šåœ¨å®ç°ç±»ä¸Šå¢åŠ ä»£ç  â€”- éº»çƒ¦ </li><li>æ€è·¯2ï¼šä½¿ç”¨ä»£ç†æ¥åšï¼Œèƒ½å¤Ÿä¸æ”¹å˜åŸæ¥çš„ä¸šåŠ¡æƒ…å†µä¸‹ï¼Œå®ç°æ­¤åŠŸèƒ½</li></ul></li><li><p>è®¾ç½®ä¸€ä¸ªä»£ç†ç±»æ¥å¤„ç†æ—¥å¿—ï¼Œä»£ç†è§’è‰²</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//ä»£ç†è§’è‰²ï¼Œåœ¨è¿™é‡Œé¢å¢åŠ æ—¥å¿—çš„å®ç°</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceProxy</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span> &#123;<br><span class="hljs-keyword">private</span> UserServiceImpl userService;<br>    <br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setUserService</span><span class="hljs-params">(UserServiceImpl userService)</span> &#123;<br><span class="hljs-built_in">this</span>.userService = userService;<br>&#125;<br>    <br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">()</span> &#123;<br>log(<span class="hljs-string">&quot;add&quot;</span>);<br>userService.add();<br>&#125;<br>    <br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">delete</span><span class="hljs-params">()</span> &#123;<br>log(<span class="hljs-string">&quot;delete&quot;</span>);<br>userService.delete();<br>&#125;<br>    <br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">update</span><span class="hljs-params">()</span> &#123;<br>log(<span class="hljs-string">&quot;update&quot;</span>);<br>userService.update();<br>&#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">query</span><span class="hljs-params">()</span> &#123;<br>log(<span class="hljs-string">&quot;query&quot;</span>);<br>userService.query();<br>&#125;<br>    <br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">log</span><span class="hljs-params">(String msg)</span>&#123;<br>System.out.println(<span class="hljs-string">&quot;æ‰§è¡Œäº†&quot;</span>+msg+<span class="hljs-string">&quot;æ–¹æ³•&quot;</span>);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•è®¿é—®ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Client</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><span class="hljs-comment">//çœŸå®ä¸šåŠ¡</span><br><span class="hljs-type">UserServiceImpl</span> <span class="hljs-variable">userService</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserServiceImpl</span>();<br><span class="hljs-comment">//ä»£ç†ç±»</span><br><span class="hljs-type">UserServiceProxy</span> <span class="hljs-variable">proxy</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserServiceProxy</span>();<br><span class="hljs-comment">//ä½¿ç”¨ä»£ç†ç±»å®ç°æ—¥å¿—åŠŸèƒ½ï¼</span><br>proxy.setUserService(userService);<br>        <br>proxy.add();<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><p>åœ¨ä¸æ”¹å˜åŸæ¥çš„ä»£ç çš„æƒ…å†µä¸‹ï¼Œå®ç°äº†å¯¹åŸæœ‰åŠŸèƒ½çš„å¢å¼ºï¼Œè¿™æ˜¯AOPä¸­æœ€æ ¸å¿ƒçš„æ€æƒ³ </p><p><strong>çºµå‘å¼€å‘ï¼Œæ¨ªå‘å¼€å‘</strong></p><p><img src="https://img.yiqiangshiyia.cn/blog/spring011.jpg" alt="spring011"></p><h2 id="9-4-åŠ¨æ€ä»£ç†"><a href="#9-4-åŠ¨æ€ä»£ç†" class="headerlink" title="9.4 åŠ¨æ€ä»£ç†"></a>9.4 åŠ¨æ€ä»£ç†</h2><ul><li>åŠ¨æ€ä»£ç†çš„è§’è‰²å’Œé™æ€ä»£ç†çš„ä¸€æ ·</li><li>åŠ¨æ€ä»£ç†çš„ä»£ç†ç±»æ˜¯åŠ¨æ€ç”Ÿæˆçš„ . é™æ€ä»£ç†çš„ä»£ç†ç±»æ˜¯æˆ‘ä»¬æå‰å†™å¥½çš„ </li><li>åŠ¨æ€ä»£ç†åˆ†ä¸ºä¸¤ç±» : ä¸€ç±»æ˜¯åŸºäºæ¥å£åŠ¨æ€ä»£ç† , ä¸€ç±»æ˜¯åŸºäºç±»çš„åŠ¨æ€ä»£ç† <ul><li>åŸºäºæ¥å£çš„åŠ¨æ€ä»£ç† â€”- JDKåŠ¨æ€ä»£ç† </li><li>åŸºäºç±»çš„åŠ¨æ€ä»£ç† â€”- cglib </li><li>ç°åœ¨ç”¨çš„æ¯”è¾ƒå¤šçš„æ˜¯ javasist æ¥ç”ŸæˆåŠ¨æ€ä»£ç†</li><li>æˆ‘ä»¬è¿™é‡Œä½¿ç”¨JDKçš„åŸç”Ÿä»£ç æ¥å®ç°ï¼Œå…¶ä½™çš„é“ç†éƒ½æ˜¯ä¸€æ ·çš„</li></ul></li></ul><p>JDKçš„åŠ¨æ€ä»£ç†éœ€è¦äº†è§£ä¸¤ä¸ªç±» æ ¸å¿ƒ : <strong>InvocationHandler</strong> å’Œ <strong>Proxy</strong>ï¼ˆå¯æŸ¥çœ‹JDKå¸®åŠ©æ–‡æ¡£ï¼‰</p><p><strong>InvocationHandlerï¼šè°ƒç”¨å¤„ç†ç¨‹åº</strong></p><p><img src="https://img.yiqiangshiyia.cn/blog/spring019.jpg" alt="spring019"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java">Object <span class="hljs-title function_">invoke</span><span class="hljs-params">(Object proxy, æ–¹æ³• method, Object[] args)</span>ï¼›<br><span class="hljs-comment">//å‚æ•°</span><br><span class="hljs-comment">//proxy - è°ƒç”¨è¯¥æ–¹æ³•çš„ä»£ç†å®ä¾‹</span><br><span class="hljs-comment">//method -æ‰€è¿°æ–¹æ³•å¯¹åº”äºè°ƒç”¨ä»£ç†å®ä¾‹ä¸Šçš„æ¥å£æ–¹æ³•çš„å®ä¾‹ã€‚ æ–¹æ³•å¯¹è±¡çš„å£°æ˜ç±»å°†æ˜¯è¯¥æ–¹æ³•å£°æ˜çš„æ¥å£ï¼Œå®ƒå¯ä»¥æ˜¯ä»£ç†ç±»ç»§æ‰¿è¯¥æ–¹æ³•çš„ä»£ç†æ¥å£çš„è¶…çº§æ¥å£ã€‚</span><br><span class="hljs-comment">//args -åŒ…å«çš„æ–¹æ³•è°ƒç”¨ä¼ é€’ä»£ç†å®ä¾‹çš„å‚æ•°å€¼çš„å¯¹è±¡çš„é˜µåˆ—ï¼Œæˆ–nullå¦‚æœæ¥å£æ–¹æ³•æ²¡æœ‰å‚æ•°ã€‚ åŸå§‹ç±»å‹çš„å‚æ•°åŒ…å«åœ¨é€‚å½“çš„åŸå§‹åŒ…è£…å™¨ç±»çš„å®ä¾‹ä¸­ï¼Œä¾‹å¦‚java.lang.Integeræˆ–java.lang.Booleanã€‚</span><br></code></pre></td></tr></table></figure><p><strong>Proxy : ä»£ç†</strong></p><p><img src="https://img.yiqiangshiyia.cn/blog/spring012.jpg" alt="spring012"></p><p><img src="https://img.yiqiangshiyia.cn/blog/spring013.jpg" alt="spring013"></p><p><img src="https://img.yiqiangshiyia.cn/blog/spring014.jpg" alt="spring014"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//ç”Ÿæˆä»£ç†ç±»</span><br><span class="hljs-keyword">public</span> Object <span class="hljs-title function_">getProxy</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-keyword">return</span> Proxy.newProxyInstance(<span class="hljs-built_in">this</span>.getClass().getClassLoader(),<br>rent.getClass().getInterfaces(),<span class="hljs-built_in">this</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>ä»£ç å®ç°</strong> </p><p>æŠ½è±¡è§’è‰²å’ŒçœŸå®è§’è‰²å’Œä¹‹å‰çš„ä¸€æ ·</p><p>æŠ½è±¡è§’è‰²ï¼šRent.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//æŠ½è±¡è§’è‰²ï¼šç§Ÿæˆ¿</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Rent</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">rent</span><span class="hljs-params">()</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>çœŸå®è§’è‰²ï¼šHost.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//çœŸå®è§’è‰²: æˆ¿ä¸œï¼Œæˆ¿ä¸œè¦å‡ºç§Ÿæˆ¿å­</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Host</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Rent</span>&#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">rent</span><span class="hljs-params">()</span> &#123;<br>System.out.println(<span class="hljs-string">&quot;æˆ¿å±‹å‡ºç§Ÿ&quot;</span>);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä»£ç†è§’è‰²ï¼šProxyInvocationHandler.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProxyInvocationHandler</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">InvocationHandler</span> &#123;<br><span class="hljs-keyword">private</span> Rent rent;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setRent</span><span class="hljs-params">(Rent rent)</span> &#123;<br><span class="hljs-built_in">this</span>.rent = rent;<br>&#125;<br>    <br><span class="hljs-comment">//ç”Ÿæˆä»£ç†ç±»ï¼Œé‡ç‚¹æ˜¯ç¬¬äºŒä¸ªå‚æ•°ï¼Œè·å–è¦ä»£ç†çš„æŠ½è±¡è§’è‰²ï¼ä¹‹å‰éƒ½æ˜¯ä¸€ä¸ªè§’è‰²ï¼Œç°åœ¨å¯ä»¥ä»£ç†ä¸€ç±»è§’è‰²</span><br><span class="hljs-keyword">public</span> Object <span class="hljs-title function_">getProxy</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-keyword">return</span> Proxy.newProxyInstance(<span class="hljs-built_in">this</span>.getClass().getClassLoader(),<br>rent.getClass().getInterfaces(),<span class="hljs-built_in">this</span>);<br>&#125;<br>    <br><span class="hljs-comment">// proxy : ä»£ç†ç±» method : ä»£ç†ç±»çš„è°ƒç”¨å¤„ç†ç¨‹åºçš„æ–¹æ³•å¯¹è±¡.</span><br><span class="hljs-comment">// å¤„ç†ä»£ç†å®ä¾‹ä¸Šçš„æ–¹æ³•è°ƒç”¨å¹¶è¿”å›ç»“æœ</span><br><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> Object <span class="hljs-title function_">invoke</span><span class="hljs-params">(Object proxy, Method method, Object[] args)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>seeHouse();<br><span class="hljs-comment">//æ ¸å¿ƒï¼šæœ¬è´¨åˆ©ç”¨åå°„å®ç°ï¼</span><br><span class="hljs-type">Object</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> method.invoke(rent, args);<br>fare();<br><span class="hljs-keyword">return</span> result;<br>&#125;<br>    <br><span class="hljs-comment">//çœ‹æˆ¿</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">seeHouse</span><span class="hljs-params">()</span>&#123;<br>System.out.println(<span class="hljs-string">&quot;å¸¦æˆ¿å®¢çœ‹æˆ¿&quot;</span>);<br>&#125;<br>    <br><span class="hljs-comment">//æ”¶ä¸­ä»‹è´¹</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">fare</span><span class="hljs-params">()</span>&#123;<br>System.out.println(<span class="hljs-string">&quot;æ”¶ä¸­ä»‹è´¹&quot;</span>);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>Client.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//ç§Ÿå®¢</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Client</span> &#123;<br>    <br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><span class="hljs-comment">//çœŸå®è§’è‰²</span><br><span class="hljs-type">Host</span> <span class="hljs-variable">host</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Host</span>();<br><span class="hljs-comment">//ä»£ç†å®ä¾‹çš„è°ƒç”¨å¤„ç†ç¨‹åº</span><br><span class="hljs-type">ProxyInvocationHandler</span> <span class="hljs-variable">pih</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProxyInvocationHandler</span>();<br>pih.setRent(host); <span class="hljs-comment">//å°†çœŸå®è§’è‰²æ”¾ç½®è¿›å»ï¼</span><br><span class="hljs-type">Rent</span> <span class="hljs-variable">proxy</span> <span class="hljs-operator">=</span> (Rent)pih.getProxy(); <span class="hljs-comment">//åŠ¨æ€ç”Ÿæˆå¯¹åº”çš„ä»£ç†ç±»ï¼</span><br>proxy.rent();<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ ¸å¿ƒï¼šä¸€ä¸ªåŠ¨æ€ä»£ç† , ä¸€èˆ¬ä»£ç†æŸä¸€ç±»ä¸šåŠ¡ , ä¸€ä¸ªåŠ¨æ€ä»£ç†å¯ä»¥ä»£ç†å¤šä¸ªç±»ï¼Œä»£ç†çš„æ˜¯æ¥å£</strong></p><h2 id="9-5-æ·±åŒ–ç†è§£"><a href="#9-5-æ·±åŒ–ç†è§£" class="headerlink" title="9.5 æ·±åŒ–ç†è§£"></a>9.5 æ·±åŒ–ç†è§£</h2><p>ä½¿ç”¨åŠ¨æ€ä»£ç†å®ç°ä»£ç†åé¢å†™çš„UserService</p><p>ä¹Ÿå¯ä»¥ç¼–å†™ä¸€ä¸ªé€šç”¨çš„åŠ¨æ€ä»£ç†å®ç°çš„ç±»ï¼Œæ‰€æœ‰çš„ä»£ç†å¯¹è±¡è®¾ç½®ä¸ºObjectå³å¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProxyInvocationHandler</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">InvocationHandler</span> &#123;<br><span class="hljs-keyword">private</span> Object target;<br>    <br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setTarget</span><span class="hljs-params">(Object target)</span> &#123;<br><span class="hljs-built_in">this</span>.target = target;<br>&#125;<br>    <br><span class="hljs-comment">//ç”Ÿæˆä»£ç†ç±»</span><br><span class="hljs-keyword">public</span> Object <span class="hljs-title function_">getProxy</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-keyword">return</span> Proxy.newProxyInstance(<span class="hljs-built_in">this</span>.getClass().getClassLoader(),<br>target.getClass().getInterfaces(),<span class="hljs-built_in">this</span>);<br>&#125;<br>    <br><span class="hljs-comment">// proxy : ä»£ç†ç±»</span><br><span class="hljs-comment">// method : ä»£ç†ç±»çš„è°ƒç”¨å¤„ç†ç¨‹åºçš„æ–¹æ³•å¯¹è±¡.</span><br><span class="hljs-keyword">public</span> Object <span class="hljs-title function_">invoke</span><span class="hljs-params">(Object proxy, Method method, Object[] args)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>log(method.getName());<br><span class="hljs-type">Object</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> method.invoke(target, args);<br><span class="hljs-keyword">return</span> result;<br>&#125;<br>    <br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">log</span><span class="hljs-params">(String methodName)</span>&#123;<br>System.out.println(<span class="hljs-string">&quot;æ‰§è¡Œäº†&quot;</span>+methodName+<span class="hljs-string">&quot;æ–¹æ³•&quot;</span>);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•å¢åˆ æ”¹æŸ¥ï¼ŒæŸ¥çœ‹ç»“æœ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><span class="hljs-comment">//çœŸå®å¯¹è±¡</span><br><span class="hljs-type">UserServiceImpl</span> <span class="hljs-variable">userService</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserServiceImpl</span>();<br><span class="hljs-comment">//ä»£ç†å¯¹è±¡çš„è°ƒç”¨å¤„ç†ç¨‹åº</span><br><span class="hljs-type">ProxyInvocationHandler</span> <span class="hljs-variable">pih</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProxyInvocationHandler</span>();<br>pih.setTarget(userService); <span class="hljs-comment">//è®¾ç½®è¦ä»£ç†çš„å¯¹è±¡</span><br><span class="hljs-type">UserService</span> <span class="hljs-variable">proxy</span> <span class="hljs-operator">=</span> (UserService)pih.getProxy(); <span class="hljs-comment">//åŠ¨æ€ç”Ÿæˆä»£ç†ç±»ï¼</span><br>proxy.delete();<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="9-6-åŠ¨æ€ä»£ç†çš„å¥½å¤„"><a href="#9-6-åŠ¨æ€ä»£ç†çš„å¥½å¤„" class="headerlink" title="9.6 åŠ¨æ€ä»£ç†çš„å¥½å¤„"></a>9.6 åŠ¨æ€ä»£ç†çš„å¥½å¤„</h2><p>é™æ€ä»£ç†æœ‰çš„å®ƒéƒ½æœ‰ï¼Œé™æ€ä»£ç†æ²¡æœ‰çš„ï¼Œå®ƒä¹Ÿæœ‰</p><ul><li>å¯ä»¥ä½¿å¾—æˆ‘ä»¬çš„çœŸå®è§’è‰²æ›´åŠ çº¯ç²¹ . ä¸å†å»å…³æ³¨ä¸€äº›å…¬å…±çš„äº‹æƒ…</li><li>å…¬å…±çš„ä¸šåŠ¡ç”±ä»£ç†æ¥å®Œæˆ . å®ç°äº†ä¸šåŠ¡çš„åˆ†å·¥</li><li>å…¬å…±ä¸šåŠ¡å‘ç”Ÿæ‰©å±•æ—¶å˜å¾—æ›´åŠ é›†ä¸­å’Œæ–¹ä¾¿</li><li>ä¸€ä¸ªåŠ¨æ€ä»£ç† , ä¸€èˆ¬ä»£ç†æŸä¸€ç±»ä¸šåŠ¡ </li><li>ä¸€ä¸ªåŠ¨æ€ä»£ç†å¯ä»¥ä»£ç†å¤šä¸ªç±»ï¼Œä»£ç†çš„æ˜¯æ¥å£</li></ul><h1 id="10-AOP"><a href="#10-AOP" class="headerlink" title="10. AOP"></a>10. AOP</h1><h2 id="10-1-ä»€ä¹ˆæ˜¯AOP"><a href="#10-1-ä»€ä¹ˆæ˜¯AOP" class="headerlink" title="10.1 ä»€ä¹ˆæ˜¯AOP"></a>10.1 ä»€ä¹ˆæ˜¯AOP</h2><blockquote><p>AOPï¼ˆAspect Oriented Programmingï¼‰æ„ä¸ºï¼šé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œé€šè¿‡é¢„ç¼–è¯‘æ–¹å¼å’Œè¿è¡ŒæœŸåŠ¨æ€ä»£ç†å®ç°ç¨‹åºåŠŸèƒ½çš„ç»Ÿä¸€ç»´æŠ¤çš„ä¸€ç§æŠ€æœ¯ã€‚AOPæ˜¯OOPçš„å»¶ç»­ï¼Œæ˜¯è½¯ä»¶å¼€å‘ä¸­çš„ä¸€ä¸ªçƒ­ç‚¹ï¼Œä¹Ÿæ˜¯Springæ¡†æ¶ä¸­çš„ ä¸€ä¸ªé‡è¦å†…å®¹ï¼Œæ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€ç§è¡ç”ŸèŒƒå‹ã€‚åˆ©ç”¨AOPå¯ä»¥å¯¹ä¸šåŠ¡é€»è¾‘çš„å„ä¸ªéƒ¨åˆ†è¿›è¡Œéš”ç¦»ï¼Œä»è€Œä½¿å¾—ä¸šåŠ¡é€»è¾‘å„éƒ¨åˆ†ä¹‹é—´çš„è€¦åˆåº¦é™ä½ï¼Œæé«˜ç¨‹åºçš„å¯é‡ç”¨æ€§ï¼ŒåŒæ—¶æé«˜äº†å¼€å‘çš„æ•ˆç‡ã€‚</p></blockquote><p><img src="https://img.yiqiangshiyia.cn/blog/spring015.jpg" alt="spring015"></p><h2 id="10-2-Aopåœ¨Springä¸­çš„ä½œç”¨"><a href="#10-2-Aopåœ¨Springä¸­çš„ä½œç”¨" class="headerlink" title="10.2 Aopåœ¨Springä¸­çš„ä½œç”¨"></a>10.2 Aopåœ¨Springä¸­çš„ä½œç”¨</h2><p>æä¾›å£°æ˜å¼äº‹åŠ¡ï¼›å…è®¸ç”¨æˆ·è‡ªå®šä¹‰åˆ‡é¢ </p><ul><li>æ¨ªåˆ‡å…³æ³¨ç‚¹ï¼šè·¨è¶Šåº”ç”¨ç¨‹åºå¤šä¸ªæ¨¡å—çš„æ–¹æ³•æˆ–åŠŸèƒ½ã€‚å³æ˜¯ï¼Œä¸æˆ‘ä»¬ä¸šåŠ¡é€»è¾‘æ— å…³çš„ï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦ å…³æ³¨çš„éƒ¨åˆ†ï¼Œå°±æ˜¯æ¨ªåˆ‡å…³æ³¨ç‚¹ã€‚å¦‚æ—¥å¿— , å®‰å…¨ , ç¼“å­˜ , äº‹åŠ¡ç­‰ç­‰ â€¦. </li><li>åˆ‡é¢ï¼ˆASPECTï¼‰ï¼šæ¨ªåˆ‡å…³æ³¨ç‚¹ è¢«æ¨¡å—åŒ– çš„ç‰¹æ®Šå¯¹è±¡ã€‚å³ï¼Œå®ƒæ˜¯ä¸€ä¸ªç±»ã€‚ </li><li>é€šçŸ¥ï¼ˆAdviceï¼‰ï¼šåˆ‡é¢å¿…é¡»è¦å®Œæˆçš„å·¥ä½œã€‚å³ï¼Œå®ƒæ˜¯ç±»ä¸­çš„ä¸€ä¸ªæ–¹æ³•ã€‚ </li><li>ç›®æ ‡ï¼ˆTargetï¼‰ï¼šè¢«é€šçŸ¥å¯¹è±¡ã€‚ </li><li>ä»£ç†ï¼ˆProxyï¼‰ï¼šå‘ç›®æ ‡å¯¹è±¡åº”ç”¨é€šçŸ¥ä¹‹ååˆ›å»ºçš„å¯¹è±¡ã€‚ </li><li>åˆ‡å…¥ç‚¹ï¼ˆPointCutï¼‰ï¼šåˆ‡é¢é€šçŸ¥ æ‰§è¡Œçš„ â€œåœ°ç‚¹â€çš„å®šä¹‰ã€‚ </li><li>è¿æ¥ç‚¹ï¼ˆJointPointï¼‰ï¼šä¸åˆ‡å…¥ç‚¹åŒ¹é…çš„æ‰§è¡Œç‚¹ã€‚</li></ul><p><img src="https://img.yiqiangshiyia.cn/blog/spring016.jpg" alt="spring016"></p><p>SpringAOPä¸­ï¼Œé€šè¿‡Adviceå®šä¹‰æ¨ªåˆ‡é€»è¾‘ï¼ŒSpringä¸­æ”¯æŒ5ç§ç±»å‹çš„Advice:</p><p><img src="https://img.yiqiangshiyia.cn/blog/spring017.jpg" alt="spring017"></p><p>å³ Aop åœ¨ ä¸æ”¹å˜åŸæœ‰ä»£ç çš„æƒ…å†µä¸‹ , å»å¢åŠ æ–°çš„åŠŸèƒ½</p><h2 id="10-3-ä½¿ç”¨Springå®ç°AOP"><a href="#10-3-ä½¿ç”¨Springå®ç°AOP" class="headerlink" title="10.3 ä½¿ç”¨Springå®ç°AOP"></a>10.3 ä½¿ç”¨Springå®ç°AOP</h2><p>ä½¿ç”¨AOPå‰ï¼Œéœ€è¦åœ¨ pom.xml ä¸­å¯¼å…¥ä¸€ä¸ªä¾èµ–åŒ…</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjweaver --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.aspectj<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>aspectjweaver<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.9.9.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>ä½¿ç”¨Springå®ç°AOPæœ‰ä¸‰ç§æ–¹å¼ï¼š</strong></p><h3 id="10-3-1-ä½¿ç”¨Spring-APIæ¥å£"><a href="#10-3-1-ä½¿ç”¨Spring-APIæ¥å£" class="headerlink" title="10.3.1 ä½¿ç”¨Spring APIæ¥å£"></a>10.3.1 ä½¿ç”¨Spring APIæ¥å£</h3><p>ä½¿ç”¨æ­¥éª¤ï¼š</p><ol><li><p>ç¼–å†™ä¸šåŠ¡æ¥å£å’Œå®ç°ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserService</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">()</span>;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">delete</span><span class="hljs-params">()</span>;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">update</span><span class="hljs-params">()</span>;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">select</span><span class="hljs-params">()</span>;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;å¢åŠ äº†ä¸€ä¸ªç”¨æˆ·&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">delete</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;åˆ é™¤äº†ä¸€ä¸ªç”¨æˆ·&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">update</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;æ›´æ–°äº†ä¸€ä¸ªç”¨æˆ·&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">select</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;æŸ¥è¯¢äº†ä¸€ä¸ªç”¨æˆ·&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™ä¸¤ä¸ªæ—¥å¿—å¢å¼ºç±»ï¼Œ ä¸€ä¸ªå‰ç½®å¢å¼ºï¼Œä¸€ä¸ªåç½®å¢å¼º</p><p>å‰ç½®å¢å¼º</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Log</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">MethodBeforeAdvice</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-comment">//methodï¼šè¦æ‰§è¡Œç›®æ ‡å¯¹è±¡çš„æ–¹æ³•</span><br>    <span class="hljs-comment">//argsï¼šå‚æ•°</span><br>    <span class="hljs-comment">//targetï¼šç›®æ ‡å¯¹è±¡</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">before</span><span class="hljs-params">(Method method, Object[] args, Object target)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>        System.out.println(target.getClass().getName()+<span class="hljs-string">&quot;çš„&quot;</span>+method.getName()+<span class="hljs-string">&quot;è¢«æ‰§è¡Œäº†&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>åç½®å¢å¼º</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AfterLog</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">AfterReturningAdvice</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterReturning</span><span class="hljs-params">(Object returnValue, Method method, Object[] args, Object target)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>        System.out.println(<span class="hljs-string">&quot;æ‰§è¡Œäº†&quot;</span>+method.getName()+<span class="hljs-string">&quot;æ–¹æ³•ï¼Œè¿”å›ç»“æœä¸ºï¼š&quot;</span>+returnValue);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>åœ¨ ApplicationContext.xml ä¸­æ³¨å†Œï¼Œå¹¶å®ç°aopåˆ‡å…¥å®ç° , æ³¨æ„å¯¼å…¥çº¦æŸ</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:aop</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/aop&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/aop</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/aop/spring-aop.xsd&quot;</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--æ³¨å†Œbean--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userService&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.service.UserServiceImpl &quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;log&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.log.Log&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;afterLog&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.log.AfterLog&quot;</span> /&gt;</span><br><br>    <span class="hljs-comment">&lt;!--æ–¹å¼1ï¼šä½¿ç”¨åŸç”ŸSpring APIæ¥å£--&gt;</span><br>    <span class="hljs-comment">&lt;!--é…ç½®aopï¼šéœ€è¦å¯¼å…¥aopçš„çº¦æŸ--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">aop:config</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--åˆ‡å…¥ç‚¹ï¼šexpressionï¼šè¡¨è¾¾å¼  execution(è¦æ‰§è¡Œçš„ä½ç½® * * * *)--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">aop:pointcut</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;pointcut&quot;</span> <span class="hljs-attr">expression</span>=<span class="hljs-string">&quot;execution(* ssm.study.service.UserServiceImpl.*(..))&quot;</span>/&gt;</span><br>        <span class="hljs-comment">&lt;!--æ‰§è¡Œç¯ç»•å¢åŠ   advice-refï¼šæ‰§è¡Œæ–¹æ³• . pointcut-refï¼šåˆ‡å…¥ç‚¹--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">aop:advisor</span> <span class="hljs-attr">advice-ref</span>=<span class="hljs-string">&quot;log&quot;</span> <span class="hljs-attr">pointcut-ref</span>=<span class="hljs-string">&quot;pointcut&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">aop:advisor</span> <span class="hljs-attr">advice-ref</span>=<span class="hljs-string">&quot;afterLog&quot;</span> <span class="hljs-attr">pointcut-ref</span>=<span class="hljs-string">&quot;pointcut&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">aop:config</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyTest</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">&quot;ApplicationContext.xml&quot;</span>);<br>        <span class="hljs-comment">//åŠ¨æ€ä»£ç†ä»£ç†çš„æ˜¯æ¥å£ï¼šæ³¨æ„ç‚¹</span><br>        <span class="hljs-type">UserService</span> <span class="hljs-variable">userService</span> <span class="hljs-operator">=</span> (UserService) context.getBean(<span class="hljs-string">&quot;userService&quot;</span>);<br>        userService.add();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•ç»“æœï¼š</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220830204908.png" alt="QQæˆªå›¾20220830204908"></p></li></ol><p>Spring çš„ Aopå°±æ˜¯å°†å…¬å…±çš„ä¸šåŠ¡ (æ—¥å¿—ï¼Œå®‰å…¨ç­‰) å’Œé¢†åŸŸä¸šåŠ¡ç»“åˆèµ·æ¥ï¼Œå½“æ‰§è¡Œé¢†åŸŸä¸šåŠ¡æ—¶ï¼Œå°†ä¼šæŠŠå…¬å…±ä¸šåŠ¡åŠ è¿›æ¥ï¼Œå®ç°å…¬å…±ä¸šåŠ¡çš„é‡å¤åˆ©ç”¨ï¼Œé¢†åŸŸä¸šåŠ¡æ›´çº¯ç²¹ï¼Œç¨‹åºå‘˜ä¸“æ³¨é¢†åŸŸä¸šåŠ¡ï¼Œå…¶æœ¬è´¨è¿˜æ˜¯åŠ¨æ€ä»£ç†ã€‚</p><h3 id="10-3-2-è‡ªå®šä¹‰ç±»å®ç°AOP"><a href="#10-3-2-è‡ªå®šä¹‰ç±»å®ç°AOP" class="headerlink" title="10.3.2 è‡ªå®šä¹‰ç±»å®ç°AOP"></a>10.3.2 è‡ªå®šä¹‰ç±»å®ç°AOP</h3><p>ç›®æ ‡ä¸šåŠ¡ç±»ä¸å˜ä¾æ—§æ˜¯userServiceImpl </p><p>ä½¿ç”¨æ­¥éª¤ï¼š</p><ol><li><p>ç¼–å†™ä¸€ä¸ªåˆ‡å…¥ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DiyPointCut</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">before</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;æ–¹æ³•æ‰§è¡Œå‰ï¼&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">after</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;æ–¹æ³•æ‰§è¡Œåï¼&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>åœ¨ ApplicationContext.xml ä¸­é…ç½®æ³¨å†Œ</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:aop</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/aop&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/aop</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/aop/spring-aop.xsd&quot;</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--æ³¨å†Œbean--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userService&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.service.UserServiceImpl &quot;</span> /&gt;</span><br>    <br>    <span class="hljs-comment">&lt;!--æ–¹å¼2ï¼šè‡ªå®šä¹‰ç±»--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;diy&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.diy.DiyPointCut &quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">aop:config</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--è‡ªå®šä¹‰åˆ‡é¢  refï¼šè¦å¼•ç”¨çš„ç±»--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">aop:aspect</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;diy&quot;</span>&gt;</span><br>            <span class="hljs-comment">&lt;!--åˆ‡å…¥ç‚¹--&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">aop:pointcut</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;diyPointcut&quot;</span> <span class="hljs-attr">expression</span>=<span class="hljs-string">&quot;execution(* ssm.study.service.UserServiceImpl.*(..))&quot;</span>/&gt;</span><br>            <span class="hljs-comment">&lt;!--é€šçŸ¥--&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">aop:before</span> <span class="hljs-attr">pointcut-ref</span>=<span class="hljs-string">&quot;diyPointcut&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;before&quot;</span>/&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">aop:after</span> <span class="hljs-attr">pointcut-ref</span>=<span class="hljs-string">&quot;diyPointcut&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;after&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">aop:aspect</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">aop:config</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyTest</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">&quot;ApplicationContext.xml&quot;</span>);<br>        <span class="hljs-comment">//åŠ¨æ€ä»£ç†ä»£ç†çš„æ˜¯æ¥å£ï¼šæ³¨æ„ç‚¹</span><br>        <span class="hljs-type">UserService</span> <span class="hljs-variable">userService</span> <span class="hljs-operator">=</span> (UserService) context.getBean(<span class="hljs-string">&quot;userService&quot;</span>);<br>        userService.select();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•ç»“æœï¼š</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220830211418.png" alt="QQæˆªå›¾20220830211418"></p></li></ol><h3 id="10-3-3-ä½¿ç”¨æ³¨è§£å®ç°AOP"><a href="#10-3-3-ä½¿ç”¨æ³¨è§£å®ç°AOP" class="headerlink" title="10.3.3 ä½¿ç”¨æ³¨è§£å®ç°AOP"></a>10.3.3 ä½¿ç”¨æ³¨è§£å®ç°AOP</h3><p>ä½¿ç”¨æ­¥éª¤ï¼š</p><ol><li><p>ç¼–å†™ä¸€ä¸ªæ³¨è§£å®ç°çš„å¢å¼ºç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Aspect</span>  <span class="hljs-comment">//æ ‡æ˜è¿™ä¸ªç±»æ˜¯ä¸€ä¸ªåˆ‡é¢</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AnnotationPointcut</span> &#123;<br>    <span class="hljs-meta">@Before(&quot;execution(* ssm.study.service.UserServiceImpl.*(..))&quot;)</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">before</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;æ–¹æ³•æ‰§è¡Œå‰ï¼&quot;</span>);<br>    &#125;<br>    <span class="hljs-meta">@After(&quot;execution(* ssm.study.service.UserServiceImpl.*(..))&quot;)</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">after</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;æ–¹æ³•æ‰§è¡Œåï¼&quot;</span>);<br>    &#125;<br>    <span class="hljs-meta">@Around(&quot;execution(* ssm.study.service.UserServiceImpl.*(..))&quot;)</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">around</span><span class="hljs-params">(ProceedingJoinPoint jp)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>        System.out.println(<span class="hljs-string">&quot;ç¯ç»•å‰&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;ç­¾å:&quot;</span>+jp.getSignature());<br>        <span class="hljs-comment">//æ‰§è¡Œç›®æ ‡æ–¹æ³•proceed</span><br>        <span class="hljs-type">Object</span> <span class="hljs-variable">proceed</span> <span class="hljs-operator">=</span> jp.proceed();<br>        System.out.println(<span class="hljs-string">&quot;ç¯ç»•å&quot;</span>);<br>        System.out.println(proceed);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>åœ¨ ApplicationContext.xml ä¸­é…ç½®æ³¨å†Œ</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:aop</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/aop&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/aop</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/aop/spring-aop.xsd&quot;</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--æ³¨å†Œbean--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userService&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.service.UserServiceImpl &quot;</span> /&gt;</span><br>    <br>    <span class="hljs-comment">&lt;!--ç¬¬ä¸‰ç§æ–¹å¼:æ³¨è§£å®ç°--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;annotationPointcut&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.diy.AnnotationPointcut&quot;</span>/&gt;</span><br>    <span class="hljs-comment">&lt;!--å¼€å¯æ³¨è§£æ”¯æŒ--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">aop:aspectj-autoproxy</span>/&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyTest</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">&quot;ApplicationContext.xml&quot;</span>);<br>        <span class="hljs-comment">//åŠ¨æ€ä»£ç†ä»£ç†çš„æ˜¯æ¥å£ï¼šæ³¨æ„ç‚¹</span><br>        <span class="hljs-type">UserService</span> <span class="hljs-variable">userService</span> <span class="hljs-operator">=</span> (UserService) context.getBean(<span class="hljs-string">&quot;userService&quot;</span>);<br>        userService.add();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•ç»“æœï¼š</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220830211729.png" alt="QQæˆªå›¾20220830211729"></p></li></ol><h1 id="11-æ•´åˆMybatis"><a href="#11-æ•´åˆMybatis" class="headerlink" title="11. æ•´åˆMybatis"></a>11. æ•´åˆMybatis</h1><p><strong>Mavenä»“åº“ç½‘ç«™ï¼š<a href="https://mvnrepository.com/">https://mvnrepository.com/</a></strong>    åŒ…å«äº†æ‰€æœ‰çš„ä¾èµ–jaråŒ…</p><p>å®ç°æ­¥éª¤ï¼š</p><p>å¯¼å…¥ç›¸å…³jaråŒ…</p><ol><li> junit</li></ol>   <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.13.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><ol start="2"><li><p>mybatis</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.5.10<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>mysql-connector-java</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>8.0.30<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>springç›¸å…³</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-webmvc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.3.22<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-comment">&lt;!--Springæ“ä½œæ•°æ®åº“çš„è¯ï¼Œè¿˜éœ€è¦ä¸€ä¸ªspring-jdbc--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-jdbc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.3.22<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>aspectJ AOP ç»‡å…¥å™¨</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjweaver --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.aspectj<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>aspectjweaver<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.9.9.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>mybatis-springæ•´åˆåŒ…</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-spring<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.0.7<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>é…ç½®Mavené™æ€èµ„æºè¿‡æ»¤é—®é¢˜</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/java<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span><br></code></pre></td></tr></table></figure></li></ol><p>ç¼–å†™é…ç½®æ–‡ä»¶</p><p>ä»£ç å®ç°</p><h2 id="11-1-å›é¡¾MyBatis"><a href="#11-1-å›é¡¾MyBatis" class="headerlink" title="11.1 å›é¡¾MyBatis"></a>11.1 å›é¡¾MyBatis</h2><ol><li><p>ç¼–å†™pojoå®ä½“ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//å®ä½“ç±»</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> &#123;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> id; <span class="hljs-comment">//id</span><br>    <span class="hljs-keyword">private</span> String name; <span class="hljs-comment">//å§“å</span><br>    <span class="hljs-keyword">private</span> String pwd; <span class="hljs-comment">//å¯†ç </span><br><br>    <span class="hljs-comment">//æ„é€ ,æœ‰å‚,æ— å‚</span><br>    <span class="hljs-comment">//set/get</span><br>    <span class="hljs-comment">//toString()</span><br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™MyBatisæ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼ˆmybatis-config.xmlï¼‰</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span> ?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">configuration</span></span><br><span class="hljs-meta">        <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span><br><span class="hljs-meta">        <span class="hljs-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span><br><span class="hljs-comment">&lt;!--configurationæ ¸å¿ƒé…ç½®æ–‡ä»¶--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">typeAliases</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">package</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;ssm.study.pojo&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">typeAliases</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">environments</span> <span class="hljs-attr">default</span>=<span class="hljs-string">&quot;development&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">environment</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;development&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">transactionManager</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;JDBC&quot;</span>/&gt;</span>  <span class="hljs-comment">&lt;!--äº‹ç‰©ç®¡ç†--&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">dataSource</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;POOLED&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;driver&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>/&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;url&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;jdbc:mysql://localhost:3306/mybatis?useSSL=true<span class="hljs-symbol">&amp;amp;</span>useUnicode=true<span class="hljs-symbol">&amp;amp;</span>characterEncoding=utf8&quot;</span>/&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;root&quot;</span>/&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;123456&quot;</span>/&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">dataSource</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">environment</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">environments</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--æ¯ä¸€ä¸ªMapper.xmléƒ½éœ€è¦åœ¨mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æ³¨å†Œ--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;ssm/study/mapper/userMapper.xml&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>UserDaoæ¥å£ç¼–å†™</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserMapper</span> &#123;<br>    <span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title function_">selectUser</span><span class="hljs-params">()</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>æ¥å£å¯¹åº”çš„Mapperæ˜ å°„æ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span> ?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">mapper</span> <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span><br><span class="hljs-meta">        <span class="hljs-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">&quot;ssm.study.mapper.UserMapper&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;selectUser&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;User&quot;</span>&gt;</span><br>        select * from user<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyTest</span> &#123;<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">selectUser</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">resource</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;mybatis-config.xml&quot;</span>;<br>        <span class="hljs-type">InputStream</span> <span class="hljs-variable">inputStream</span> <span class="hljs-operator">=</span> Resources.getResourceAsStream(resource);<br>        <span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">sqlSessionFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>().build(inputStream);<br>        <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> sqlSessionFactory.openSession();<br><br>        <span class="hljs-type">UserMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> sqlSession.getMapper(UserMapper.class);<br><br>        List&lt;User&gt; userList = mapper.selectUser();<br>        <span class="hljs-keyword">for</span> (User user: userList)&#123;<br>            System.out.println(user);<br>        &#125;<br>        sqlSession.close();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•ç»“æœï¼š</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220831171803.png" alt="QQæˆªå›¾20220831171803"></p></li></ol><h2 id="11-2-MyBatis-Spring"><a href="#11-2-MyBatis-Spring" class="headerlink" title="11.2 MyBatis-Spring"></a>11.2 MyBatis-Spring</h2><p><strong>mybatis-spring å®˜æ–¹æ–‡æ¡£ï¼š<a href="http://www.mybatis.org/spring/zh/index.html">http://www.mybatis.org/spring/zh/index.html</a></strong></p><p>å¼•å…¥Springä¹‹å‰éœ€è¦äº†è§£mybatis-springåŒ…ä¸­çš„ä¸€äº›é‡è¦ç±»</p><p><strong>ä»€ä¹ˆæ˜¯ MyBatis-Springï¼Ÿ</strong> </p><blockquote><p>MyBatis-Spring ä¼šå¸®åŠ©ä½ å°† MyBatis ä»£ç æ— ç¼åœ°æ•´åˆåˆ° Spring ä¸­ã€‚å®ƒå°†å…è®¸ MyBatis å‚ä¸åˆ° Spring çš„äº‹åŠ¡ç®¡ç†ä¹‹ä¸­ï¼Œåˆ›å»ºæ˜ å°„å™¨ mapper å’Œ SqlSession å¹¶æ³¨å…¥åˆ° bean ä¸­ï¼Œä»¥åŠå°† Mybatis çš„å¼‚å¸¸è½¬æ¢ä¸º Spring çš„ DataAccessExceptionã€‚ æœ€ç»ˆï¼Œå¯ä»¥åšåˆ°åº”ç”¨ä»£ç ä¸ä¾èµ–äº MyBatisï¼ŒSpring æˆ– MyBatis-Springã€‚</p></blockquote><p><strong>çŸ¥è¯†åŸºç¡€</strong></p><p>åœ¨å¼€å§‹ä½¿ç”¨ MyBatis-Spring ä¹‹å‰ï¼Œä½ éœ€è¦å…ˆç†Ÿæ‚‰ Spring å’Œ MyBatis è¿™ä¸¤ä¸ªæ¡†æ¶å’Œæœ‰å…³å®ƒä»¬çš„æœ¯è¯­ã€‚è¿™å¾ˆé‡è¦ </p><p>MyBatis-Spring éœ€è¦ä»¥ä¸‹ç‰ˆæœ¬ï¼š</p><table><thead><tr><th>MyBatis-Spring</th><th>MyBatis</th><th>Spring <strong>æ¡†</strong>æ¶</th><th>Spring Batch</th><th>Java</th></tr></thead><tbody><tr><td>2.0</td><td>3.5+</td><td>5.0+</td><td>4.0+</td><td>Java 8+</td></tr><tr><td>1.3</td><td>3.4+</td><td>3.2.2+</td><td>2.1+</td><td>Java 6+</td></tr></tbody></table><p>å¦‚æœä½¿ç”¨ Maven ä½œä¸ºæ„å»ºå·¥å…·ï¼Œä»…éœ€è¦åœ¨ pom.xml ä¸­åŠ å…¥ä»¥ä¸‹ä»£ç å³å¯ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-spring<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.0.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>å¿«é€Ÿä¸Šæ‰‹ï¼š<a href="http://mybatis.org/spring/zh/getting-started.html">http://mybatis.org/spring/zh/getting-started.html</a></strong></p><h2 id="11-3-æ•´åˆå®ç°ä¸€"><a href="#11-3-æ•´åˆå®ç°ä¸€" class="headerlink" title="11.3 æ•´åˆå®ç°ä¸€"></a>11.3 æ•´åˆå®ç°ä¸€</h2><ol><li><p>å¼•å…¥Springé…ç½®æ–‡ä»¶beans.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>é…ç½®æ•°æ®æºæ›¿æ¢mybaitsçš„æ•°æ®æº</p></li><li><p>é…ç½®SqlSessionFactoryï¼Œå…³è”MyBatis</p></li><li><p>æ³¨å†ŒsqlSessionTemplateï¼Œå…³è”sqlSessionFactory</p><p>spring-dao.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--DataSourceï¼šä½¿ç”¨Springçš„æ•°æ®æºæ›¿æ¢Mybatisçš„é…ç½® c3p0 dbcp druid</span><br><span class="hljs-comment">    è¿™é‡Œä½¿ç”¨Springæä¾›çš„JDBCï¼šorg.springframework.jdbc.datasource</span><br><span class="hljs-comment">    --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;driver&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;url&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;jdbc:mysql://localhost:3306/mybatis?useSSL=true<span class="hljs-symbol">&amp;amp;</span>useUnicode=true<span class="hljs-symbol">&amp;amp;</span>characterEncoding=utf8&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;root&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;123456&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--sqlSessionFactory--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;sqlSessionFactory&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;dataSource&quot;</span> /&gt;</span><br>        <span class="hljs-comment">&lt;!--ç»‘å®šMybatisé…ç½®æ–‡ä»¶--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;configLocation&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;classpath:mybatis-config.xml&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;mapperLocations&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;classpath:ssm/study/mapper/*.xml&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--sqlSessionTemplateï¼šå°±æ˜¯æˆ‘ä»¬ä½¿ç”¨çš„sqlSession--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;sqlSession&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.mybatis.spring.sqlSessionTemplate&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--åªèƒ½ä½¿ç”¨æ„é€ å™¨æ³¨å…¥sqlSessionFactoryï¼Œå› ä¸ºå®ƒæ²¡æœ‰setæ–¹æ³•--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">index</span>=<span class="hljs-string">&quot;0&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;sqlSessionFactory&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--æ³¨å†Œ--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;usrMapper&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.mapper.UserMapperImpl&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;sqlSession&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;sqlSession&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>å¢åŠ Daoæ¥å£çš„å®ç°ç±»ï¼›ç§æœ‰åŒ–sqlSessionTemplate</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserMapperImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserMapper</span> &#123;<br>    <span class="hljs-keyword">private</span> SqlSessionTemplate sqlSession;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setSqlSession</span><span class="hljs-params">(SqlSessionTemplate sqlSession)</span> &#123;<br>        <span class="hljs-built_in">this</span>.sqlSession = sqlSession;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title function_">selectUser</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">UserMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> sqlSession.getMapper(UserMapper.class);<br>        <span class="hljs-keyword">return</span> mapper.selectUser();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>æ³¨å†Œbeanå®ç°</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--æ³¨å†Œ--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;usrMapper&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.mapper.UserMapperImpl&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;sqlSession&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;sqlSession&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyTest</span> &#123;<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">selectUser</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        <span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">&quot;spring-dao.xml&quot;</span>    );<br>        <span class="hljs-type">UserMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span>(UserMapper) context.getBean(<span class="hljs-string">&quot;userMapper&quot;</span>);<br>        <span class="hljs-keyword">for</span>(User user : mapper.selectUser())&#123;<br>            System.out.println(user);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•ç»“æœï¼š</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220901145241.png" alt="QQæˆªå›¾20220901145241"></p></li></ol><p>ç»“æœæˆåŠŸè¾“å‡ºï¼ŒMybatisé…ç½®æ–‡ä»¶ï¼Œéƒ½å¯ä»¥è¢«Springæ•´åˆ</p><p>mybatis-config.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span> ?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">configuration</span></span><br><span class="hljs-meta">        <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span><br><span class="hljs-meta">        <span class="hljs-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span><br><span class="hljs-comment">&lt;!--configurationæ ¸å¿ƒé…ç½®æ–‡ä»¶--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--åˆ«å--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">typeAliases</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">package</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;ssm.study.pojo&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">typeAliases</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="11-4-æ•´åˆå®ç°äºŒ"><a href="#11-4-æ•´åˆå®ç°äºŒ" class="headerlink" title="11.4 æ•´åˆå®ç°äºŒ"></a>11.4 æ•´åˆå®ç°äºŒ</h2><p>mybatis-spring1.2.3ç‰ˆä»¥ä¸Šçš„æ‰æœ‰è¿™ä¸ª</p><p>å®˜æ–¹æ–‡æ¡£æˆªå›¾ : </p><p>daoç»§æ‰¿Supportç±» , ç›´æ¥åˆ©ç”¨ getSqlSession() è·å¾— , ç„¶åç›´æ¥æ³¨å…¥SqlSessionFactory . æ¯”èµ·æ–¹å¼1 , ä¸ éœ€è¦ç®¡ç†SqlSessionTemplate , è€Œä¸”å¯¹äº‹åŠ¡çš„æ”¯æŒæ›´åŠ å‹å¥½ . å¯è·Ÿè¸ªæºç æŸ¥çœ‹</p><p><img src="https://img.yiqiangshiyia.cn/blog/spring020.jpg" alt="spring020"></p><p>æµ‹è¯•ï¼š</p><ol><li><p>å°†æˆ‘ä»¬ä¸Šé¢å†™çš„UserDaoImplä¿®æ”¹ä¸€ä¸‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserDaoImpl</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">SqlSessionDaoSupport</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserMapper</span> &#123;<br><span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title function_">selectUser</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">UserMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> getSqlSession().getMapper(UserMapper.class);<br><span class="hljs-keyword">return</span> mapper.selectUser();<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>ä¿®æ”¹beançš„é…ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userDao&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.dao.UserDaoImpl&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;sqlSessionFactory&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;sqlSessionFactory&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test2</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">&quot;beans.xml&quot;</span>);<br><span class="hljs-type">UserMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> (UserMapper) context.getBean(<span class="hljs-string">&quot;userDao&quot;</span>);<br>List&lt;User&gt; user = mapper.selectUser();<br>System.out.println(user);<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><p>æ€»ç»“ : æ•´åˆåˆ°springä¸­ä»¥åå¯ä»¥å®Œå…¨ä¸è¦mybatisçš„é…ç½®æ–‡ä»¶ï¼Œé™¤äº†è¿™äº›æ–¹å¼å¯ä»¥å®ç°æ•´åˆä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨æ³¨è§£æ¥å®ç°ï¼ŒSpringBootè¿˜ä¼šå†æ¬¡æ•´åˆæµ‹è¯•</p><h1 id="12-å£°æ˜å¼äº‹åŠ¡"><a href="#12-å£°æ˜å¼äº‹åŠ¡" class="headerlink" title="12. å£°æ˜å¼äº‹åŠ¡"></a>12. å£°æ˜å¼äº‹åŠ¡</h1><h2 id="12-1-å›é¡¾äº‹åŠ¡"><a href="#12-1-å›é¡¾äº‹åŠ¡" class="headerlink" title="12.1 å›é¡¾äº‹åŠ¡"></a>12.1 å›é¡¾äº‹åŠ¡</h2><ul><li>äº‹åŠ¡åœ¨é¡¹ç›®å¼€å‘è¿‡ç¨‹éå¸¸é‡è¦ï¼Œæ¶‰åŠåˆ°æ•°æ®çš„ä¸€è‡´æ€§çš„é—®é¢˜ï¼Œä¸å®¹é©¬è™</li><li>äº‹åŠ¡ç®¡ç†æ˜¯ä¼ä¸šçº§åº”ç”¨ç¨‹åºå¼€å‘ä¸­å¿…å¤‡æŠ€æœ¯ï¼Œç”¨æ¥ç¡®ä¿æ•°æ®çš„å®Œæ•´æ€§å’Œä¸€è‡´æ€§</li></ul><p>äº‹åŠ¡å°±æ˜¯æŠŠä¸€ç³»åˆ—çš„åŠ¨ä½œå½“æˆä¸€ä¸ªç‹¬ç«‹çš„å·¥ä½œå•å…ƒï¼Œè¿™äº›åŠ¨ä½œè¦ä¹ˆå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆå…¨éƒ¨ä¸èµ·ä½œç”¨ã€‚ </p><p><strong>äº‹åŠ¡å››ä¸ªå±æ€§ACID</strong> </p><ol><li><p>åŸå­æ€§ï¼ˆatomicityï¼‰ </p><ul><li>äº‹åŠ¡æ˜¯åŸå­æ€§æ“ä½œï¼Œç”±ä¸€ç³»åˆ—åŠ¨ä½œç»„æˆï¼Œäº‹åŠ¡çš„åŸå­æ€§ç¡®ä¿åŠ¨ä½œè¦ä¹ˆå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆå®Œå…¨ä¸èµ·ä½œç”¨ã€‚</li></ul></li><li><p>ä¸€è‡´æ€§ï¼ˆconsistencyï¼‰ </p><ul><li>ä¸€æ—¦æ‰€æœ‰äº‹åŠ¡åŠ¨ä½œå®Œæˆï¼Œäº‹åŠ¡å°±è¦è¢«æäº¤ã€‚æ•°æ®å’Œèµ„æºå¤„äºä¸€ç§æ»¡è¶³ä¸šåŠ¡è§„åˆ™çš„ä¸€è‡´æ€§çŠ¶æ€ä¸­ã€‚</li></ul></li><li><p>éš”ç¦»æ€§ï¼ˆisolationï¼‰</p><ul><li>å¯èƒ½å¤šä¸ªäº‹åŠ¡ä¼šåŒæ—¶å¤„ç†ç›¸åŒçš„æ•°æ®ï¼Œå› æ­¤æ¯ä¸ªäº‹åŠ¡éƒ½åº”è¯¥ä¸å…¶ä»–äº‹åŠ¡éš”ç¦»å¼€æ¥ï¼Œé˜²æ­¢æ•°æ®æŸåã€‚</li></ul></li><li><p>æŒä¹…æ€§ï¼ˆdurabilityï¼‰ </p><ul><li>äº‹åŠ¡ä¸€æ—¦å®Œæˆï¼Œæ— è®ºç³»ç»Ÿå‘ç”Ÿä»€ä¹ˆé”™è¯¯ï¼Œç»“æœéƒ½ä¸ä¼šå—åˆ°å½±å“ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œäº‹åŠ¡çš„ç»“æœè¢«å†™åˆ°æŒä¹…åŒ–å­˜å‚¨å™¨ä¸­ã€‚</li></ul></li></ol><h2 id="12-2-Springä¸­çš„äº‹åŠ¡ç®¡ç†"><a href="#12-2-Springä¸­çš„äº‹åŠ¡ç®¡ç†" class="headerlink" title="12.2 Springä¸­çš„äº‹åŠ¡ç®¡ç†"></a>12.2 Springä¸­çš„äº‹åŠ¡ç®¡ç†</h2><p>Springåœ¨ä¸åŒçš„äº‹åŠ¡ç®¡ç†APIä¹‹ä¸Šå®šä¹‰äº†ä¸€ä¸ªæŠ½è±¡å±‚ï¼Œä½¿å¾—å¼€å‘äººå‘˜ä¸å¿…äº†è§£åº•å±‚çš„äº‹åŠ¡ç®¡ç†APIå°±å¯ä»¥ ä½¿ç”¨Springçš„äº‹åŠ¡ç®¡ç†æœºåˆ¶ã€‚Springæ”¯æŒç¼–ç¨‹å¼äº‹åŠ¡ç®¡ç†å’Œå£°æ˜å¼çš„äº‹åŠ¡ç®¡ç†ã€‚ </p><p><strong>ç¼–ç¨‹å¼äº‹åŠ¡ç®¡ç†</strong> </p><ul><li>å°†äº‹åŠ¡ç®¡ç†ä»£ç åµŒåˆ°ä¸šåŠ¡æ–¹æ³•ä¸­æ¥æ§åˆ¶äº‹åŠ¡çš„æäº¤å’Œå›æ»š </li><li>ç¼ºç‚¹ï¼šå¿…é¡»åœ¨æ¯ä¸ªäº‹åŠ¡æ“ä½œä¸šåŠ¡é€»è¾‘ä¸­åŒ…å«é¢å¤–çš„äº‹åŠ¡ç®¡ç†ä»£ç  </li></ul><p><strong>å£°æ˜å¼äº‹åŠ¡ç®¡ç†</strong> </p><ul><li>ä¸€èˆ¬æƒ…å†µä¸‹æ¯”ç¼–ç¨‹å¼äº‹åŠ¡å¥½ç”¨ã€‚ </li><li>å°†äº‹åŠ¡ç®¡ç†ä»£ç ä»ä¸šåŠ¡æ–¹æ³•ä¸­åˆ†ç¦»å‡ºæ¥ï¼Œä»¥å£°æ˜çš„æ–¹å¼æ¥å®ç°äº‹åŠ¡ç®¡ç†ã€‚ </li><li>å°†äº‹åŠ¡ç®¡ç†ä½œä¸ºæ¨ªåˆ‡å…³æ³¨ç‚¹ï¼Œé€šè¿‡aopæ–¹æ³•æ¨¡å—åŒ–ã€‚Springä¸­é€šè¿‡Spring AOPæ¡†æ¶æ”¯æŒå£°æ˜å¼äº‹åŠ¡ ç®¡ç†ã€‚ </li></ul><p>ä½¿ç”¨Springç®¡ç†äº‹åŠ¡ï¼Œæ³¨æ„å¤´æ–‡ä»¶çš„çº¦æŸå¯¼å…¥ : tx</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml">xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;<br>http://www.springframework.org/schema/tx<br>http://www.springframework.org/schema/tx/spring-tx.xsd&quot;<br></code></pre></td></tr></table></figure><p><strong>äº‹åŠ¡ç®¡ç†å™¨</strong> </p><ul><li>æ— è®ºä½¿ç”¨Springçš„å“ªç§äº‹åŠ¡ç®¡ç†ç­–ç•¥ï¼ˆç¼–ç¨‹å¼æˆ–è€…å£°æ˜å¼ï¼‰äº‹åŠ¡ç®¡ç†å™¨éƒ½æ˜¯å¿…é¡»çš„ã€‚ </li><li>å°±æ˜¯ Springçš„æ ¸å¿ƒäº‹åŠ¡ç®¡ç†æŠ½è±¡ï¼Œç®¡ç†å°è£…äº†ä¸€ç»„ç‹¬ç«‹äºæŠ€æœ¯çš„æ–¹æ³•ã€‚ </li></ul><p><strong>JDBCäº‹åŠ¡</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;transactionManager&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;dataSource&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>é…ç½®å¥½äº‹åŠ¡ç®¡ç†å™¨åæˆ‘ä»¬éœ€è¦å»é…ç½®äº‹åŠ¡çš„é€šçŸ¥</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--é…ç½®äº‹åŠ¡é€šçŸ¥--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">tx:advice</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;txAdvice&quot;</span> <span class="hljs-attr">transaction-manager</span>=<span class="hljs-string">&quot;transactionManager&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">tx:attributes</span>&gt;</span><br><span class="hljs-comment">&lt;!--é…ç½®å“ªäº›æ–¹æ³•ä½¿ç”¨ä»€ä¹ˆæ ·çš„äº‹åŠ¡,é…ç½®äº‹åŠ¡çš„ä¼ æ’­ç‰¹æ€§--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">tx:method</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;add&quot;</span> <span class="hljs-attr">propagation</span>=<span class="hljs-string">&quot;REQUIRED&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">tx:method</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;delete&quot;</span> <span class="hljs-attr">propagation</span>=<span class="hljs-string">&quot;REQUIRED&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">tx:method</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;update&quot;</span> <span class="hljs-attr">propagation</span>=<span class="hljs-string">&quot;REQUIRED&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">tx:method</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;search*&quot;</span> <span class="hljs-attr">propagation</span>=<span class="hljs-string">&quot;REQUIRED&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">tx:method</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;get&quot;</span> <span class="hljs-attr">read-only</span>=<span class="hljs-string">&quot;true&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">tx:method</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;*&quot;</span> <span class="hljs-attr">propagation</span>=<span class="hljs-string">&quot;REQUIRED&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">tx:attributes</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">tx:advice</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>springäº‹åŠ¡ä¼ æ’­ç‰¹æ€§ï¼š</strong> </p><p>äº‹åŠ¡ä¼ æ’­è¡Œä¸ºå°±æ˜¯å¤šä¸ªäº‹åŠ¡æ–¹æ³•ç›¸äº’è°ƒç”¨æ—¶ï¼Œäº‹åŠ¡å¦‚ä½•åœ¨è¿™äº›æ–¹æ³•é—´ä¼ æ’­ã€‚springæ”¯æŒ7ç§äº‹åŠ¡ä¼ æ’­è¡Œ ä¸ºï¼š </p><ul><li>propagation_requierdï¼šå¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±æ–°å»ºä¸€ä¸ªäº‹åŠ¡ï¼Œå¦‚æœå·²å­˜åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­ï¼ŒåŠ å…¥åˆ°è¿™ ä¸ªäº‹åŠ¡ä¸­ï¼Œè¿™æ˜¯æœ€å¸¸è§çš„é€‰æ‹©ã€‚ </li><li>propagation_supportsï¼šæ”¯æŒå½“å‰äº‹åŠ¡ï¼Œå¦‚æœæ²¡æœ‰å½“å‰äº‹åŠ¡ï¼Œå°±ä»¥éäº‹åŠ¡æ–¹æ³•æ‰§è¡Œã€‚ </li><li>propagation_mandatoryï¼šä½¿ç”¨å½“å‰äº‹åŠ¡ï¼Œå¦‚æœæ²¡æœ‰å½“å‰äº‹åŠ¡ï¼Œå°±æŠ›å‡ºå¼‚å¸¸ã€‚ </li><li>propagation_required_newï¼šæ–°å»ºäº‹åŠ¡ï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼ŒæŠŠå½“å‰äº‹åŠ¡æŒ‚èµ·ã€‚ </li><li>propagation_not_supportedï¼šä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œæ“ä½œï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œå°±æŠŠå½“å‰äº‹åŠ¡æŒ‚èµ·ã€‚ </li><li>propagation_neverï¼šä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œæ“ä½œï¼Œå¦‚æœå½“å‰äº‹åŠ¡å­˜åœ¨åˆ™æŠ›å‡ºå¼‚å¸¸ã€‚ </li><li>propagation_nestedï¼šå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åœ¨åµŒå¥—äº‹åŠ¡å†…æ‰§è¡Œã€‚å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™æ‰§è¡Œä¸ propagation_requiredç±»ä¼¼çš„æ“ä½œ </li></ul><p>Spring é»˜è®¤çš„äº‹åŠ¡ä¼ æ’­è¡Œä¸ºæ˜¯ PROPAGATION_REQUIREDï¼Œå®ƒé€‚åˆäºç»å¤§å¤šæ•°çš„æƒ…å†µã€‚ </p><p>å‡è®¾ ServiveX#methodX() éƒ½å·¥ä½œåœ¨äº‹åŠ¡ç¯å¢ƒä¸‹ï¼ˆå³éƒ½è¢« Spring äº‹åŠ¡å¢å¼ºäº†ï¼‰ï¼Œå‡è®¾ç¨‹åºä¸­å­˜åœ¨å¦‚ä¸‹çš„ è°ƒç”¨é“¾ï¼šService1#method1()-&gt;Service2#method2()-&gt;Service3#method3()ï¼Œé‚£ä¹ˆè¿™ 3 ä¸ªæœåŠ¡ç±»çš„ 3 ä¸ªæ–¹æ³•é€šè¿‡ Spring çš„äº‹åŠ¡ä¼ æ’­æœºåˆ¶éƒ½å·¥ä½œåœ¨åŒä¸€ä¸ªäº‹åŠ¡ä¸­ã€‚ </p><p>å°±å¥½æ¯”ï¼Œæˆ‘ä»¬åˆšæ‰çš„å‡ ä¸ªæ–¹æ³•å­˜åœ¨è°ƒç”¨ï¼Œæ‰€ä»¥ä¼šè¢«æ”¾åœ¨ä¸€ç»„äº‹åŠ¡å½“ä¸­ï¼</p><p><strong>é…ç½®AOP</strong></p><p>å¯¼å…¥aopçš„å¤´æ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--é…ç½®aopç»‡å…¥äº‹åŠ¡--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">aop:config</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">aop:pointcut</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;txPointcut&quot;</span> <span class="hljs-attr">expression</span>=<span class="hljs-string">&quot;execution(* com.kuang.dao.*.*(..))&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">aop:advisor</span> <span class="hljs-attr">advice-ref</span>=<span class="hljs-string">&quot;txAdvice&quot;</span> <span class="hljs-attr">pointcut-ref</span>=<span class="hljs-string">&quot;txPointcut&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">aop:config</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>è¿›è¡Œæµ‹è¯•</strong> </p><p>åˆ æ‰åˆšæ‰æ’å…¥çš„æ•°æ®ï¼Œå†æ¬¡æµ‹è¯•ï¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test2</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">&quot;beans.xml&quot;</span>);<br><span class="hljs-type">UserMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> (UserMapper) context.getBean(<span class="hljs-string">&quot;userDao&quot;</span>);<br>List&lt;User&gt; user = mapper.selectUser();<br>System.out.println(user);<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>ä¸ºä»€ä¹ˆéœ€è¦é…ç½®äº‹åŠ¡ï¼Ÿ</strong></p><ul><li>å¦‚æœä¸é…ç½®ï¼Œå°±éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨æäº¤æ§åˆ¶äº‹åŠ¡ï¼› </li><li>äº‹åŠ¡åœ¨é¡¹ç›®å¼€å‘è¿‡ç¨‹éå¸¸é‡è¦ï¼Œæ¶‰åŠåˆ°æ•°æ®çš„ä¸€è‡´æ€§çš„é—®é¢˜ï¼Œä¸å®¹é©¬è™ï¼</li></ul>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>SSM</tag>
      
      <tag>Spring</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Tomcat 500é”™è¯¯ï¼šå®ä¾‹åŒ–Servletç±»å¼‚å¸¸</title>
    <link href="/2022/08/23/Tomcat-500%E9%94%99%E8%AF%AF%EF%BC%9A%E5%AE%9E%E4%BE%8B%E5%8C%96Servlet%E7%B1%BB%E5%BC%82%E5%B8%B8/"/>
    <url>/2022/08/23/Tomcat-500%E9%94%99%E8%AF%AF%EF%BC%9A%E5%AE%9E%E4%BE%8B%E5%8C%96Servlet%E7%B1%BB%E5%BC%82%E5%B8%B8/</url>
    
    <content type="html"><![CDATA[<blockquote><p>åœ¨IDEAä¸­å¯åŠ¨Tomcatè®¿é—®webé¡¹ç›®ã€‚æŠ¥é”™ï¼šå®ä¾‹åŒ–Servletç±»[com.study.servlet.HelloServlet]å¼‚å¸¸</p></blockquote><h2 id="webé¡¹ç›®ï¼š"><a href="#webé¡¹ç›®ï¼š" class="headerlink" title="webé¡¹ç›®ï¼š"></a><strong>webé¡¹ç›®ï¼š</strong></h2><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220823181435.png" alt="QQæˆªå›¾20220823181435"></p><p>å¯åŠ¨Tomcatï¼Œæµè§ˆå™¨è¾“å…¥ï¼š<a href="http://localhost:8080/servlet-01/HelloServlet">http://localhost:8080/servlet-01/HelloServlet</a></p><h2 id="æŠ¥é”™ï¼š"><a href="#æŠ¥é”™ï¼š" class="headerlink" title="æŠ¥é”™ï¼š"></a><strong>æŠ¥é”™ï¼š</strong></h2><p>ç¬¬ä¸€æ¬¡è®¿é—®ï¼š</p><p>HTTPçŠ¶æ€ 500 - å†…éƒ¨æœåŠ¡å™¨é”™è¯¯</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220823182135.png" alt="QQæˆªå›¾20220823182135"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><code class="hljs java">HTTPçŠ¶æ€ <span class="hljs-number">500</span> - å†…éƒ¨æœåŠ¡å™¨é”™è¯¯<br>ç±»å‹ å¼‚å¸¸æŠ¥å‘Š<br><br>æ¶ˆæ¯ å®ä¾‹åŒ–Servletç±»[com.study.servlet.HelloServlet]å¼‚å¸¸<br><br>æè¿° æœåŠ¡å™¨é‡åˆ°ä¸€ä¸ªæ„å¤–çš„æƒ…å†µï¼Œé˜»æ­¢å®ƒå®Œæˆè¯·æ±‚ã€‚<br><br>ä¾‹å¤–æƒ…å†µ<br><br>jakarta.servlet.ServletException: å®ä¾‹åŒ–Servletç±»[com.study.servlet.HelloServlet]å¼‚å¸¸<br>org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:<span class="hljs-number">542</span>)<br>org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:<span class="hljs-number">92</span>)<br>org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:<span class="hljs-number">690</span>)<br>org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:<span class="hljs-number">356</span>)<br>org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:<span class="hljs-number">399</span>)<br>org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:<span class="hljs-number">65</span>)<br>org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:<span class="hljs-number">867</span>)<br>org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:<span class="hljs-number">1762</span>)<br>org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:<span class="hljs-number">49</span>)<br>org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:<span class="hljs-number">1191</span>)<br>org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:<span class="hljs-number">659</span>)<br>org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:<span class="hljs-number">61</span>)<br>java.base/java.lang.Thread.run(Thread.java:<span class="hljs-number">831</span>)<br>æ ¹æœ¬åŸå› ã€‚<br><br>java.lang.NoClassDefFoundError: javax/servlet/http/HttpServlet<br>java.base/java.lang.ClassLoader.defineClass1(Native Method)<br>java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:<span class="hljs-number">1010</span>)<br>java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:<span class="hljs-number">150</span>)<br>org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:<span class="hljs-number">2510</span>)<br>org.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:<span class="hljs-number">877</span>)<br>org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:<span class="hljs-number">1413</span>)<br>org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:<span class="hljs-number">1257</span>)<br>org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:<span class="hljs-number">542</span>)<br>org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:<span class="hljs-number">92</span>)<br>org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:<span class="hljs-number">690</span>)<br>org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:<span class="hljs-number">356</span>)<br>org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:<span class="hljs-number">399</span>)<br>org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:<span class="hljs-number">65</span>)<br>org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:<span class="hljs-number">867</span>)<br>org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:<span class="hljs-number">1762</span>)<br>org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:<span class="hljs-number">49</span>)<br>org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:<span class="hljs-number">1191</span>)<br>org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:<span class="hljs-number">659</span>)<br>org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:<span class="hljs-number">61</span>)<br>java.base/java.lang.Thread.run(Thread.java:<span class="hljs-number">831</span>)<br>æ ¹æœ¬åŸå› ã€‚<br><br>java.lang.ClassNotFoundException: javax.servlet.http.HttpServlet<br>org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:<span class="hljs-number">1449</span>)<br>org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:<span class="hljs-number">1257</span>)<br>java.base/java.lang.ClassLoader.defineClass1(Native Method)<br>java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:<span class="hljs-number">1010</span>)<br>java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:<span class="hljs-number">150</span>)<br>org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:<span class="hljs-number">2510</span>)<br>org.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:<span class="hljs-number">877</span>)<br>org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:<span class="hljs-number">1413</span>)<br>org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:<span class="hljs-number">1257</span>)<br>org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:<span class="hljs-number">542</span>)<br>org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:<span class="hljs-number">92</span>)<br>org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:<span class="hljs-number">690</span>)<br>org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:<span class="hljs-number">356</span>)<br>org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:<span class="hljs-number">399</span>)<br>org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:<span class="hljs-number">65</span>)<br>org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:<span class="hljs-number">867</span>)<br>org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:<span class="hljs-number">1762</span>)<br>org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:<span class="hljs-number">49</span>)<br>org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:<span class="hljs-number">1191</span>)<br>org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:<span class="hljs-number">659</span>)<br>org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:<span class="hljs-number">61</span>)<br>java.base/java.lang.Thread.run(Thread.java:<span class="hljs-number">831</span>)<br>):æ³¨æ„ ä¸»è¦é—®é¢˜çš„å…¨éƒ¨ stack ä¿¡æ¯å¯ä»¥åœ¨ server logs é‡ŒæŸ¥çœ‹<br><br>Apache Tomcat/<span class="hljs-number">10.0</span><span class="hljs-number">.23</span><br></code></pre></td></tr></table></figure><p>ç¬¬äºŒæ¬¡è®¿é—®ï¼š</p><p>HTTPçŠ¶æ€ 404 - æœªæ‰¾åˆ°</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220823182141.png" alt="QQæˆªå›¾20220823182141"></p><h2 id="Causeï¼š"><a href="#Causeï¼š" class="headerlink" title="Causeï¼š"></a><strong>Causeï¼š</strong></h2><p>æŠ˜è…¾äº†å¾ˆä¹…+ç™¾åº¦æ‰¾åˆ°äº†æŠ¥é”™çš„åŸå› ï¼šå‡ºç°è¿™ä¸ªé—®é¢˜çš„åŸå› æ˜¯tomcat 10ä¸­çš„servlet-apiä¸mavenä¸­å¯¼å…¥çš„servlet-apiä¾èµ–ä¸å…¼å®¹æ‰€å¯¼è‡´çš„</p><h2 id="Solveï¼š"><a href="#Solveï¼š" class="headerlink" title="Solveï¼š"></a><strong>Solveï¼š</strong></h2><p>ä½¿ç”¨tomcat 9.0.65çš„ç‰ˆæœ¬å°±å¯ä»¥äº†</p><p>æŠ˜è…¾äº†è¿™ä¹ˆä¹…æœ€åç»ˆäºæˆåŠŸè§£å†³äº†æŠ¥é”™ï¼ï¼ï¼</p><p>æµè§ˆå™¨è¾“å…¥ï¼š<a href="http://localhost:8080/servlet-01/HelloServlet">http://localhost:8080/servlet-01/HelloServlet</a> å¯ä»¥æ­£å¸¸è®¿é—®webé¡¹ç›®äº†ğŸ˜€</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220823180017.png" alt="QQæˆªå›¾20220823180017"></p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220823180036.png" alt="QQæˆªå›¾20220823180036"></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Tomcat</tag>
      
      <tag>Servlet</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java-JavaWeb</title>
    <link href="/2022/08/21/Java-JavaWeb/"/>
    <url>/2022/08/21/Java-JavaWeb/</url>
    
    <content type="html"><![CDATA[<h1 id="1-åŸºæœ¬æ¦‚å¿µ"><a href="#1-åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="1. åŸºæœ¬æ¦‚å¿µ"></a>1. åŸºæœ¬æ¦‚å¿µ</h1><h2 id="1-1-å‰è¨€"><a href="#1-1-å‰è¨€" class="headerlink" title="1.1 å‰è¨€"></a>1.1 å‰è¨€</h2><p>webå¼€å‘ï¼š </p><ul><li>webï¼Œç½‘é¡µçš„æ„æ€ ï¼Œ <a href="http://www.baidu.com/">www.baidu.com</a> </li><li>é™æ€web <ul><li>htmlï¼Œcss </li><li>æä¾›ç»™æ‰€æœ‰äººçœ‹çš„æ•°æ®å§‹ç»ˆä¸ä¼šå‘ç”Ÿå˜åŒ–ï¼ </li></ul></li><li>åŠ¨æ€web <ul><li>æ·˜å®ï¼Œå‡ ä¹æ˜¯æ‰€æœ‰çš„ç½‘ç«™ï¼› </li><li>æä¾›ç»™æ‰€æœ‰äººçœ‹çš„æ•°æ®å§‹ç»ˆä¼šå‘ç”Ÿå˜åŒ–ï¼Œæ¯ä¸ªäººåœ¨ä¸åŒçš„æ—¶é—´ï¼Œä¸åŒçš„åœ°ç‚¹çœ‹åˆ°çš„ä¿¡æ¯å„ä¸ç›¸ åŒï¼ </li><li>æŠ€æœ¯æ ˆï¼šServlet/JSPï¼ŒASPï¼ŒPHP </li></ul></li></ul><p>åœ¨Javaä¸­ï¼ŒåŠ¨æ€webèµ„æºå¼€å‘çš„æŠ€æœ¯ç»Ÿç§°ä¸ºJavaWebï¼›</p><h2 id="1-2-webåº”ç”¨ç¨‹åº"><a href="#1-2-webåº”ç”¨ç¨‹åº" class="headerlink" title="1.2 webåº”ç”¨ç¨‹åº"></a>1.2 webåº”ç”¨ç¨‹åº</h2><p>webåº”ç”¨ç¨‹åºï¼šå¯ä»¥æä¾›æµè§ˆå™¨è®¿é—®çš„ç¨‹åºï¼› </p><ul><li>a.htmlã€b.htmlâ€¦â€¦å¤šä¸ªwebèµ„æºï¼Œè¿™äº›webèµ„æºå¯ä»¥è¢«å¤–ç•Œè®¿é—®ï¼Œå¯¹å¤–ç•Œæä¾›æœåŠ¡ï¼› </li><li>ä½ ä»¬èƒ½è®¿é—®åˆ°çš„ä»»ä½•ä¸€ä¸ªé¡µé¢æˆ–è€…èµ„æºï¼Œéƒ½å­˜åœ¨äºè¿™ä¸ªä¸–ç•Œçš„æŸä¸€ä¸ªè§’è½çš„è®¡ç®—æœºä¸Šã€‚ </li><li>URL </li><li>è¿™ä¸ªç»Ÿä¸€çš„webèµ„æºä¼šè¢«æ”¾åœ¨åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹ï¼Œwebåº”ç”¨ç¨‹åºâ€“&gt;Tomcatï¼šæœåŠ¡å™¨ </li><li>ä¸€ä¸ªwebåº”ç”¨ç”±å¤šéƒ¨åˆ†ç»„æˆ ï¼ˆé™æ€webï¼ŒåŠ¨æ€webï¼‰ <ul><li>htmlï¼Œcssï¼Œjs </li><li>jspï¼Œservlet </li><li>Javaç¨‹åº </li><li>jaråŒ… </li><li>é…ç½®æ–‡ä»¶ ï¼ˆPropertiesï¼‰ </li></ul></li></ul><p>webåº”ç”¨ç¨‹åºç¼–å†™å®Œæ¯•åï¼Œè‹¥æƒ³æä¾›ç»™å¤–ç•Œè®¿é—®ï¼šéœ€è¦ä¸€ä¸ªæœåŠ¡å™¨æ¥ç»Ÿä¸€ç®¡ç†ï¼›</p><h2 id="1-3-é™æ€web"><a href="#1-3-é™æ€web" class="headerlink" title="1.3 é™æ€web"></a>1.3 é™æ€web</h2><p>*.htm, *.html,è¿™äº›éƒ½æ˜¯ç½‘é¡µçš„åç¼€ï¼Œå¦‚æœæœåŠ¡å™¨ä¸Šä¸€ç›´å­˜åœ¨è¿™äº›ä¸œè¥¿ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥è¿›è¡Œè¯» å–ã€‚é€šç»œ</p><p><img src="https://img.yiqiangshiyia.cn/blog/javaweb001.jpg" alt="javaweb001"></p><p>é™æ€webå­˜åœ¨çš„ç¼ºç‚¹ </p><ul><li>Webé¡µé¢æ— æ³•åŠ¨æ€æ›´æ–°ï¼Œæ‰€æœ‰ç”¨æˆ·çœ‹åˆ°éƒ½æ˜¯åŒä¸€ä¸ªé¡µé¢ <ul><li>è½®æ’­å›¾ï¼Œç‚¹å‡»ç‰¹æ•ˆï¼šä¼ªåŠ¨æ€ </li><li>JavaScript [å®é™…å¼€å‘ä¸­ï¼Œå®ƒç”¨çš„æœ€å¤š] </li><li>VBScript </li></ul></li><li>å®ƒæ— æ³•å’Œæ•°æ®åº“äº¤äº’ï¼ˆæ•°æ®æ— æ³•æŒä¹…åŒ–ï¼Œç”¨æˆ·æ— æ³•äº¤äº’ï¼‰</li></ul><h2 id="1-4-åŠ¨æ€web"><a href="#1-4-åŠ¨æ€web" class="headerlink" title="1.4 åŠ¨æ€web"></a>1.4 åŠ¨æ€web</h2><p>é¡µé¢ä¼šåŠ¨æ€å±•ç¤ºï¼š â€œWebçš„é¡µé¢å±•ç¤ºçš„æ•ˆæœå› äººè€Œå¼‚â€</p><p><img src="https://img.yiqiangshiyia.cn/blog/javaweb002.jpg" alt="javaweb002"></p><p>ç¼ºç‚¹ï¼š </p><ul><li>å‡å¦‚æœåŠ¡å™¨çš„åŠ¨æ€webèµ„æºå‡ºç°äº†é”™è¯¯ï¼Œæˆ‘ä»¬éœ€è¦é‡æ–°ç¼–å†™æˆ‘ä»¬çš„åå°ç¨‹åºï¼Œé‡æ–°å‘å¸ƒï¼› <ul><li>åœæœºç»´æŠ¤ </li></ul></li></ul><p>ä¼˜ç‚¹ï¼š </p><ul><li>Webé¡µé¢å¯ä»¥åŠ¨æ€æ›´æ–°ï¼Œæ‰€æœ‰ç”¨æˆ·çœ‹åˆ°éƒ½ä¸æ˜¯åŒä¸€ä¸ªé¡µé¢ </li><li>å®ƒå¯ä»¥ä¸æ•°æ®åº“äº¤äº’ ï¼ˆæ•°æ®æŒä¹…åŒ–ï¼šæ³¨å†Œï¼Œå•†å“ä¿¡æ¯ï¼Œç”¨æˆ·ä¿¡æ¯â€¦â€¦..ï¼‰</li></ul><p><img src="https://img.yiqiangshiyia.cn/blog/javaweb003.jpg" alt="javaweb003"></p><h1 id="2-webæœåŠ¡å™¨"><a href="#2-webæœåŠ¡å™¨" class="headerlink" title="2. webæœåŠ¡å™¨"></a>2. webæœåŠ¡å™¨</h1><h2 id="2-1-æŠ€æœ¯è®²è§£"><a href="#2-1-æŠ€æœ¯è®²è§£" class="headerlink" title="2.1 æŠ€æœ¯è®²è§£"></a>2.1 æŠ€æœ¯è®²è§£</h2><p><strong>ASP:</strong> </p><ul><li><p>å¾®è½¯ï¼šå›½å†…æœ€æ—©æµè¡Œçš„å°±æ˜¯ASPï¼› </p></li><li><p>åœ¨HTMLä¸­åµŒå…¥äº†VBçš„è„šæœ¬ï¼Œ ASP + COMï¼› </p></li><li><p>åœ¨ASPå¼€å‘ä¸­ï¼ŒåŸºæœ¬ä¸€ä¸ªé¡µé¢éƒ½æœ‰å‡ åƒè¡Œçš„ä¸šåŠ¡ä»£ç ï¼Œé¡µé¢æå…¶æ¢ä¹± </p></li><li><p>ç»´æŠ¤æˆæœ¬é«˜ï¼ </p></li><li><p>C# </p></li><li><p>IIS</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs asp">&lt;h1&gt;<br>&lt;h1&gt;&lt;h1&gt;<br>&lt;h1&gt;<br>&lt;h1&gt;<br>&lt;h1&gt;<br>&lt;h1&gt;<br>&lt;%<br>System.out.println(&quot;hello&quot;)<br>%&gt;<br>&lt;h1&gt;<br>&lt;h1&gt;<br>&lt;h1&gt;&lt;h1&gt;<br>&lt;h1&gt;<br></code></pre></td></tr></table></figure></li></ul><p><strong>phpï¼š</strong> </p><ul><li>PHPå¼€å‘é€Ÿåº¦å¾ˆå¿«ï¼ŒåŠŸèƒ½å¾ˆå¼ºå¤§ï¼Œè·¨å¹³å°ï¼Œä»£ç å¾ˆç®€å• ï¼ˆ70% , WPï¼‰</li><li>æ— æ³•æ‰¿è½½å¤§è®¿é—®é‡çš„æƒ…å†µï¼ˆå±€é™æ€§ï¼‰</li></ul><p><strong>JSP/Servlet :</strong>  </p><p>B/Sï¼šæµè§ˆå’ŒæœåŠ¡å™¨ </p><p>C/S: å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ </p><ul><li>sunå…¬å¸ä¸»æ¨çš„B/Sæ¶æ„ </li><li>åŸºäºJavaè¯­è¨€çš„ (æ‰€æœ‰çš„å¤§å…¬å¸ï¼Œæˆ–è€…ä¸€äº›å¼€æºçš„ç»„ä»¶ï¼Œéƒ½æ˜¯ç”¨Javaå†™çš„) </li><li>å¯ä»¥æ‰¿è½½ä¸‰é«˜é—®é¢˜å¸¦æ¥çš„å½±å“ï¼› </li><li>è¯­æ³•åƒASP ï¼Œ ASPâ€“&gt;JSP , åŠ å¼ºå¸‚åœºå¼ºåº¦ï¼›</li></ul><p>â€¦â€¦</p><h2 id="2-2-webæœåŠ¡å™¨"><a href="#2-2-webæœåŠ¡å™¨" class="headerlink" title="2.2 webæœåŠ¡å™¨"></a>2.2 webæœåŠ¡å™¨</h2><p>æœåŠ¡å™¨æ˜¯ä¸€ç§è¢«åŠ¨çš„æ“ä½œï¼Œç”¨æ¥å¤„ç†ç”¨æˆ·çš„ä¸€äº›è¯·æ±‚å’Œç»™ç”¨æˆ·ä¸€äº›å“åº”ä¿¡æ¯ï¼› </p><p><strong>IIS</strong> </p><p>å¾®è½¯çš„ï¼› ASPâ€¦,Windowsä¸­è‡ªå¸¦çš„ </p><p><strong>Tomcat</strong></p><p><img src="https://img.yiqiangshiyia.cn/blog/javaweb004.jpg" alt="javaweb004"></p><blockquote><p>Tomcatæ˜¯Apache è½¯ä»¶åŸºé‡‘ä¼šï¼ˆApache Software Foundationï¼‰çš„Jakarta é¡¹ç›®ä¸­çš„ä¸€ä¸ªæ ¸å¿ƒé¡¹ç›®ï¼Œæœ€ æ–°çš„Servlet å’ŒJSP è§„èŒƒæ€»æ˜¯èƒ½åœ¨Tomcat ä¸­å¾—åˆ°ä½“ç°ï¼Œå› ä¸ºTomcat æŠ€æœ¯å…ˆè¿›ã€æ€§èƒ½ç¨³å®šï¼Œè€Œä¸”å…è´¹ï¼Œå› è€Œæ·±å—Java çˆ±å¥½è€…çš„å–œçˆ±å¹¶å¾—åˆ°äº†éƒ¨åˆ†è½¯ä»¶å¼€å‘å•†çš„è®¤å¯ï¼Œæˆä¸ºç›®å‰æ¯”è¾ƒæµè¡Œçš„Web åº”ç”¨æœåŠ¡å™¨ã€‚ Tomcat æœåŠ¡å™¨æ˜¯ä¸€ä¸ªå…è´¹çš„å¼€æ”¾æºä»£ç çš„Web åº”ç”¨æœåŠ¡å™¨ï¼Œå±äºè½»é‡çº§åº”ç”¨æœåŠ¡å™¨ï¼Œåœ¨ä¸­å°å‹ç³»ç»Ÿå’Œ å¹¶å‘è®¿é—®ç”¨æˆ·ä¸æ˜¯å¾ˆå¤šçš„åœºåˆä¸‹è¢«æ™®éä½¿ç”¨ï¼Œæ˜¯å¼€å‘å’Œè°ƒè¯•JSP ç¨‹åºçš„é¦–é€‰ã€‚å¯¹äºä¸€ä¸ªJavaåˆå­¦webçš„äºº æ¥è¯´ï¼Œå®ƒæ˜¯æœ€ä½³çš„é€‰æ‹© Tomcat å®é™…ä¸Šè¿è¡ŒJSP é¡µé¢å’ŒServletã€‚Tomcatæœ€æ–°ç‰ˆæœ¬ä¸º9.0ã€‚ â€¦.</p></blockquote><p>ä¸‹è½½tomcatï¼š </p><ol><li>å®‰è£… or è§£å‹</li><li>äº†è§£é…ç½®æ–‡ä»¶åŠç›®å½•ç»“æ„</li><li>è¿™ä¸ªä¸œè¥¿çš„ä½œç”¨</li></ol><h1 id="3-Tomcat"><a href="#3-Tomcat" class="headerlink" title="3. Tomcat"></a>3. Tomcat</h1><h2 id="3-1-å®‰è£…tomcat"><a href="#3-1-å®‰è£…tomcat" class="headerlink" title="3.1 å®‰è£…tomcat"></a>3.1 å®‰è£…tomcat</h2><p>tomcatå®˜ç½‘ï¼š<a href="http://tomcat.apache.org/">http://tomcat.apache.org/</a></p><p><img src="https://img.yiqiangshiyia.cn/blog/javaweb005.jpg" alt="javaweb005"></p><p><img src="https://img.yiqiangshiyia.cn/blog/javaweb006.jpg" alt="javaweb006"></p><h2 id="3-2-Tomcatå¯åŠ¨å’Œé…ç½®"><a href="#3-2-Tomcatå¯åŠ¨å’Œé…ç½®" class="headerlink" title="3.2 Tomcatå¯åŠ¨å’Œé…ç½®"></a>3.2 Tomcatå¯åŠ¨å’Œé…ç½®</h2><p>æ–‡ä»¶å¤¹ä½œç”¨ï¼š</p><p><img src="https://img.yiqiangshiyia.cn/blog/java007.jpg" alt="java007"></p><p>å¯åŠ¨ / å…³é—­Tomcat</p><p><img src="https://img.yiqiangshiyia.cn/blog/javaweb065.jpg" alt="javaweb065"></p><p>è®¿é—®æµ‹è¯•ï¼š<a href="http://localhost:8080/">http://localhost:8080/</a> </p><p>å¯èƒ½é‡åˆ°çš„é—®é¢˜ï¼š </p><ol><li>Javaç¯å¢ƒå˜é‡æ²¡æœ‰é…ç½® </li><li>é—ªé€€é—®é¢˜ï¼šéœ€è¦é…ç½®å…¼å®¹æ€§</li><li>ä¹±ç é—®é¢˜ï¼šé…ç½®æ–‡ä»¶ä¸­è®¾ç½®</li></ol><h2 id="3-3-é…ç½®"><a href="#3-3-é…ç½®" class="headerlink" title="3.3 é…ç½®"></a>3.3 é…ç½®</h2><p><img src="https://img.yiqiangshiyia.cn/blog/javaweb008.jpg" alt="javaweb008"></p><p>å¯ä»¥é…ç½®å¯åŠ¨çš„ç«¯å£å· </p><ul><li>tomcatçš„é»˜è®¤ç«¯å£å·ä¸ºï¼š8080 </li><li>mysqlï¼š3306 </li><li>httpï¼š80 </li><li>httpsï¼š443</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">Connector</span> <span class="hljs-attr">port</span>=<span class="hljs-string">&quot;8081&quot;</span> <span class="hljs-attr">protocol</span>=<span class="hljs-string">&quot;HTTP/1.1&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">connectionTimeout</span>=<span class="hljs-string">&quot;20000&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">redirectPort</span>=<span class="hljs-string">&quot;8443&quot;</span> /&gt;</span><br></code></pre></td></tr></table></figure><p>å¯ä»¥é…ç½®ä¸»æœºçš„åç§° </p><ul><li>é»˜è®¤çš„ä¸»æœºåä¸ºï¼šlocalhost-&gt;127.0.0.1 </li><li>é»˜è®¤ç½‘ç«™åº”ç”¨å­˜æ”¾çš„ä½ç½®ä¸ºï¼šwebapps</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">Host</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;www.qinjiang.com&quot;</span> <span class="hljs-attr">appBase</span>=<span class="hljs-string">&quot;webapps&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">unpackWARs</span>=<span class="hljs-string">&quot;true&quot;</span> <span class="hljs-attr">autoDeploy</span>=<span class="hljs-string">&quot;true&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>ç½‘ç«™æ˜¯å¦‚ä½•è¿›è¡Œè®¿é—®çš„</strong></p><ol><li><p>è¾“å…¥ä¸€ä¸ªåŸŸåï¼›å›è½¦ </p></li><li><p>æ£€æŸ¥æœ¬æœºçš„ C:\Windows\System32\drivers\etc\hostsé…ç½®æ–‡ä»¶ä¸‹æœ‰æ²¡æœ‰è¿™ä¸ªåŸŸåæ˜ å°„ï¼›</p><ol><li><p>æœ‰ï¼šç›´æ¥è¿”å›å¯¹åº”çš„ipåœ°å€ï¼Œè¿™ä¸ªåœ°å€ä¸­ï¼Œæœ‰æˆ‘ä»¬éœ€è¦è®¿é—®çš„webç¨‹åºï¼Œå¯ä»¥ç›´æ¥è®¿é—®</p></li><li><p>æ²¡æœ‰ï¼šå»DNSæœåŠ¡å™¨æ‰¾ï¼Œæ‰¾åˆ°çš„è¯å°±è¿”å›ï¼Œæ‰¾ä¸åˆ°å°±è¿”å›æ‰¾ä¸åˆ°ï¼›</p><p><img src="https://img.yiqiangshiyia.cn/blog/javaweb009.jpg" alt="javaweb009"></p></li></ol></li><li><p>å¯ä»¥é…ç½®ä¸€ä¸‹ç¯å¢ƒå˜é‡</p></li></ol><h2 id="3-4-å‘å¸ƒä¸€ä¸ªwebç½‘ç«™"><a href="#3-4-å‘å¸ƒä¸€ä¸ªwebç½‘ç«™" class="headerlink" title="3.4 å‘å¸ƒä¸€ä¸ªwebç½‘ç«™"></a>3.4 å‘å¸ƒä¸€ä¸ªwebç½‘ç«™</h2><p>ä¸ä¼šå°±å…ˆæ¨¡ä»¿ </p><ul><li>å°†è‡ªå·±å†™çš„ç½‘ç«™ï¼Œæ”¾åˆ°æœåŠ¡å™¨(Tomcat)ä¸­æŒ‡å®šçš„webåº”ç”¨çš„æ–‡ä»¶å¤¹ï¼ˆwebappsï¼‰ä¸‹ï¼Œå°±å¯ä»¥è®¿é—®äº† </li></ul><p>ç½‘ç«™åº”è¯¥æœ‰çš„ç»“æ„</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-attr">--webapps</span> ï¼šTomcatæœåŠ¡å™¨çš„webç›®å½•<br>-ROOT<br>-kuangstudy ï¼šç½‘ç«™çš„ç›®å½•å<br>- WEB-INF<br>-classes : javaç¨‹åº<br>-libï¼šwebåº”ç”¨æ‰€ä¾èµ–çš„jaråŒ…<br>-web<span class="hljs-selector-class">.xml</span> ï¼šç½‘ç«™é…ç½®æ–‡ä»¶<br>- index<span class="hljs-selector-class">.html</span> é»˜è®¤çš„é¦–é¡µ<br>- static<br>-css<br>-style<span class="hljs-selector-class">.css</span><br>-js<br>-<span class="hljs-selector-tag">img</span><br>-.....<br></code></pre></td></tr></table></figure><p>HTTPåè®® ï¼š é¢è¯• </p><p>Mavenï¼šæ„å»ºå·¥å…· </p><ul><li>Mavenå®‰è£…åŒ… </li></ul><p>Servlet å…¥é—¨ </p><ul><li>HelloWorldï¼ </li><li>Servleté…ç½® </li><li>åŸç†</li></ul><h1 id="4-Http"><a href="#4-Http" class="headerlink" title="4. Http"></a>4. Http</h1><h2 id="4-1-ä»€ä¹ˆæ˜¯HTTP"><a href="#4-1-ä»€ä¹ˆæ˜¯HTTP" class="headerlink" title="4.1 ä»€ä¹ˆæ˜¯HTTP"></a>4.1 ä»€ä¹ˆæ˜¯HTTP</h2><p>HTTPï¼ˆè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼‰æ˜¯ä¸€ä¸ªç®€å•çš„è¯·æ±‚-å“åº”åè®®ï¼Œå®ƒé€šå¸¸è¿è¡Œåœ¨TCPä¹‹ä¸Šã€‚ </p><ul><li>æ–‡æœ¬ï¼šhtmlï¼Œå­—ç¬¦ä¸²ï¼Œ~ â€¦</li><li>è¶…æ–‡æœ¬ï¼šå›¾ç‰‡ï¼ŒéŸ³ä¹ï¼Œè§†é¢‘ï¼Œå®šä½ï¼Œåœ°å›¾â€¦</li><li>é»˜è®¤ç«¯å£ï¼š80 </li></ul><p>Httpsï¼šå®‰å…¨çš„ </p><ul><li>é»˜è®¤ç«¯å£ï¼š443</li></ul><h2 id="4-2-ä¸¤ä¸ªæ—¶ä»£"><a href="#4-2-ä¸¤ä¸ªæ—¶ä»£" class="headerlink" title="4.2 ä¸¤ä¸ªæ—¶ä»£"></a>4.2 ä¸¤ä¸ªæ—¶ä»£</h2><p>http1.0 </p><ul><li>HTTP/1.0ï¼šå®¢æˆ·ç«¯å¯ä»¥ä¸webæœåŠ¡å™¨è¿æ¥åï¼Œåªèƒ½è·å¾—ä¸€ä¸ªwebèµ„æºï¼Œæ–­å¼€è¿æ¥ </li></ul><p>http2.0 </p><ul><li>HTTP/1.1ï¼šå®¢æˆ·ç«¯å¯ä»¥ä¸webæœåŠ¡å™¨è¿æ¥åï¼Œå¯ä»¥è·å¾—å¤šä¸ªwebèµ„æºã€‚</li></ul><h2 id="4-3-Httpè¯·æ±‚"><a href="#4-3-Httpè¯·æ±‚" class="headerlink" title="4.3 Httpè¯·æ±‚"></a>4.3 Httpè¯·æ±‚</h2><ul><li>å®¢æˆ·ç«¯â€”å‘è¯·æ±‚ï¼ˆRequestï¼‰â€”æœåŠ¡å™¨ </li></ul><p>ä»¥ç™¾åº¦ä¸ºä¾‹ï¼š</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220820164650.png" alt="QQæˆªå›¾20220820164650"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java">Request URL:https:<span class="hljs-comment">//www.baidu.com/  //è¯·æ±‚åœ°å€ï¼šwww.baidu.com</span><br>Request Method:GET  <span class="hljs-comment">//è¯·æ±‚æ–¹æ³•ï¼šgetæ–¹æ³•/postæ–¹æ³•</span><br>Status Code:<span class="hljs-number">200</span> OK  <span class="hljs-comment">//çŠ¶æ€ç ï¼š200</span><br>Remote Address:<span class="hljs-number">14.215</span><span class="hljs-number">.177</span><span class="hljs-number">.39</span>:<span class="hljs-number">443</span><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java">Accept:text/html  <span class="hljs-comment">//ç±»å‹ç¼–ç </span><br>Accept-Encoding:gzip, deflate, br<br>Accept-Language:zh-CN,zh;q=<span class="hljs-number">0.9</span>  <span class="hljs-comment">//è¯­è¨€</span><br>Cache-Control:max-age=<span class="hljs-number">0</span><br>Connection:keep-alive<br></code></pre></td></tr></table></figure><p><strong>1.è¯·æ±‚è¡Œ</strong></p><ul><li>è¯·æ±‚è¡Œä¸­çš„è¯·æ±‚æ–¹å¼ï¼šGET </li><li>è¯·æ±‚æ–¹å¼ï¼šGetï¼ŒPostï¼ŒHEAD,DELETE,PUT,TRACTâ€¦ <ul><li>getï¼šè¯·æ±‚èƒ½å¤Ÿæºå¸¦çš„å‚æ•°æ¯”è¾ƒå°‘ï¼Œå¤§å°æœ‰é™åˆ¶ï¼Œä¼šåœ¨æµè§ˆå™¨çš„URLåœ°å€æ æ˜¾ç¤ºæ•°æ®å†…å®¹ï¼Œä¸å®‰å…¨ï¼Œä½†é«˜æ•ˆ </li><li>postï¼šè¯·æ±‚èƒ½å¤Ÿæºå¸¦çš„å‚æ•°æ²¡æœ‰é™åˆ¶ï¼Œå¤§å°æ²¡æœ‰é™åˆ¶ï¼Œä¸ä¼šåœ¨æµè§ˆå™¨çš„URLåœ°å€æ æ˜¾ç¤ºæ•°æ®å†…å®¹ï¼Œå®‰å…¨ï¼Œä½†ä¸é«˜æ•ˆã€‚</li></ul></li></ul><p><strong>2.æ¶ˆæ¯å¤´</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java">Acceptï¼šå‘Šè¯‰æµè§ˆå™¨ï¼Œå®ƒæ‰€æ”¯æŒçš„æ•°æ®ç±»å‹<br>Accept-Encodingï¼šæ”¯æŒå“ªç§ç¼–ç æ ¼å¼ GBK UTF-<span class="hljs-number">8</span> GB2312 ISO8859-<span class="hljs-number">1</span><br>Accept-Languageï¼šå‘Šè¯‰æµè§ˆå™¨ï¼Œå®ƒçš„è¯­è¨€ç¯å¢ƒ<br>Cache-Controlï¼šç¼“å­˜æ§åˆ¶<br>Connectionï¼šå‘Šè¯‰æµè§ˆå™¨ï¼Œè¯·æ±‚å®Œæˆæ˜¯æ–­å¼€è¿˜æ˜¯ä¿æŒè¿æ¥<br>HOSTï¼šä¸»æœº..../.<br></code></pre></td></tr></table></figure><h2 id="4-4-Httpå“åº”"><a href="#4-4-Httpå“åº”" class="headerlink" title="4.4 Httpå“åº”"></a>4.4 Httpå“åº”</h2><ul><li>æœåŠ¡å™¨â€”å“åº”â€”â€“å®¢æˆ·ç«¯ </li></ul><p>ä»¥ç™¾åº¦ä¸ºä¾‹ï¼š</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220820164756.png" alt="QQæˆªå›¾20220820164756"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java">Cache-Control:<span class="hljs-keyword">private</span>  <span class="hljs-comment">//ç¼“å­˜æ§åˆ¶</span><br>Connection:Keep-Alive  <span class="hljs-comment">//è¿æ¥</span><br>Content-Encoding:gzip  <span class="hljs-comment">//ç¼–ç </span><br>Content-Type:text/html  <span class="hljs-comment">//ç±»å‹</span><br></code></pre></td></tr></table></figure><p><strong>1.å“åº”ä½“</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java">Acceptï¼šå‘Šè¯‰æµè§ˆå™¨ï¼Œå®ƒæ‰€æ”¯æŒçš„æ•°æ®ç±»å‹<br>Accept-Encodingï¼šæ”¯æŒå“ªç§ç¼–ç æ ¼å¼ GBK UTF-<span class="hljs-number">8</span> GB2312 ISO8859-<span class="hljs-number">1</span><br>Accept-Languageï¼šå‘Šè¯‰æµè§ˆå™¨ï¼Œå®ƒçš„è¯­è¨€ç¯å¢ƒ<br>Cache-Controlï¼šç¼“å­˜æ§åˆ¶<br>Connectionï¼šå‘Šè¯‰æµè§ˆå™¨ï¼Œè¯·æ±‚å®Œæˆæ˜¯æ–­å¼€è¿˜æ˜¯ä¿æŒè¿æ¥<br>HOSTï¼šä¸»æœº..../.<br>Refreshï¼šå‘Šè¯‰å®¢æˆ·ç«¯ï¼Œå¤šä¹…åˆ·æ–°ä¸€æ¬¡<br>Locationï¼šè®©ç½‘é¡µé‡æ–°å®šä½<br></code></pre></td></tr></table></figure><p><strong>2.å“åº”çŠ¶æ€ç </strong></p><p>200ï¼šè¯·æ±‚å“åº”æˆåŠŸ 200 </p><p>3xxï¼šè¯·æ±‚é‡å®šå‘ </p><ul><li>é‡å®šå‘ï¼šä½ é‡æ–°åˆ°æˆ‘ç»™ä½ æ–°ä½ç½®å»</li></ul><p>4xxï¼šæ‰¾ä¸åˆ°èµ„æº 404 </p><ul><li>èµ„æºä¸å­˜åœ¨</li></ul><p>5xxï¼šæœåŠ¡å™¨ä»£ç é”™è¯¯ 500 502ï¼šç½‘å…³é”™è¯¯</p><h1 id="5-Servlet"><a href="#5-Servlet" class="headerlink" title="5. Servlet"></a>5. Servlet</h1><h2 id="5-1-Servletç®€ä»‹"><a href="#5-1-Servletç®€ä»‹" class="headerlink" title="5.1 Servletç®€ä»‹"></a>5.1 Servletç®€ä»‹</h2><ul><li>Servletå°±æ˜¯sunå…¬å¸å¼€å‘åŠ¨æ€webçš„ä¸€é—¨æŠ€æœ¯ </li><li>Sunåœ¨è¿™äº›APIä¸­æä¾›ä¸€ä¸ªæ¥å£å«åšï¼šServletï¼Œå¦‚æœä½ æƒ³å¼€å‘ä¸€ä¸ªServletç¨‹åºï¼Œåªéœ€è¦å®Œæˆä¸¤ä¸ªå° æ­¥éª¤ï¼š <ul><li>ç¼–å†™ä¸€ä¸ªç±»ï¼Œå®ç°Servletæ¥å£ </li><li>æŠŠå¼€å‘å¥½çš„Javaç±»éƒ¨ç½²åˆ°webæœåŠ¡å™¨ä¸­ã€‚</li></ul></li></ul><p><strong>æŠŠå®ç°äº†Servletæ¥å£çš„Javaç¨‹åºå«åšï¼ŒServlet</strong></p><h2 id="5-2-HelloServlet"><a href="#5-2-HelloServlet" class="headerlink" title="5.2 HelloServlet"></a>5.2 HelloServlet</h2><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220823181435.png" alt="QQæˆªå›¾20220823181435"></p><p>æµè§ˆå™¨è¾“å…¥ï¼š<a href="http://localhost:8080/servlet-01/">http://localhost:8080/servlet-01/</a> è®¿é—®index.jsp</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220823180017.png" alt="QQæˆªå›¾20220823180017"></p><p>æµè§ˆå™¨è¾“å…¥ï¼š<a href="http://localhost:8080/servlet-01/HelloServlet">http://localhost:8080/servlet-01/HelloServlet</a> è®¿é—®webé¡¹ç›®</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220823180036.png" alt="QQæˆªå›¾20220823180036"></p><p><strong>å®ç°æ­¥éª¤ï¼š</strong></p><ol><li><p>åœ¨ pom.xml ä¸­å¯¼å…¥Servletä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--servletä¾èµ–--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>javax.servlet-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.0.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>provided<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-comment">&lt;!--jspä¾èµ–--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet.jsp<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>javax.servlet.jsp-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.3.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>provided<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™ä¸€ä¸ªServletç¨‹åº</p><p>ç¼–å†™ä¸€ä¸ªæ™®é€šç±» ï¼Œå®ç°Servletæ¥å£ï¼Œè¿™é‡Œæˆ‘ä»¬ç›´æ¥ç»§æ‰¿HttpServlet</p><p><img src="https://img.yiqiangshiyia.cn/blog/httpservlet.jpg" alt="httpservlet"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.study.servlet;<br><br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServlet;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.PrintWriter;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br><br>    <span class="hljs-comment">//ç”±äºgetæˆ–è€…poståªæ˜¯è¯·æ±‚å®ç°çš„ä¸åŒçš„æ–¹å¼ï¼Œå¯ä»¥ç›¸äº’è°ƒç”¨ï¼Œä¸šåŠ¡é€»è¾‘éƒ½ä¸€æ ·</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-comment">//ServletOutputStream outputStream = resp.getOutputStream();</span><br>        <span class="hljs-type">PrintWriter</span> <span class="hljs-variable">writer</span> <span class="hljs-operator">=</span> resp.getWriter(); <span class="hljs-comment">//å“åº”æµ</span><br>        writer.print(<span class="hljs-string">&quot;Hello,Servlet&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        doPost(req, resp);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™Servletçš„æ˜ å°„</p><ol><li><p>ä¸ºä»€ä¹ˆéœ€è¦æ˜ å°„ï¼šæˆ‘ä»¬å†™çš„æ˜¯JAVAç¨‹åºï¼Œä½†æ˜¯è¦é€šè¿‡æµè§ˆå™¨è®¿é—®ï¼Œè€Œæµè§ˆå™¨éœ€è¦è¿æ¥webæœåŠ¡å™¨ï¼Œ æ‰€ä»¥æˆ‘ä»¬éœ€è¦å†webæœåŠ¡ä¸­æ³¨å†Œæˆ‘ä»¬å†™çš„Servletï¼Œè¿˜éœ€ç»™ä»–ä¸€ä¸ªæµè§ˆå™¨èƒ½å¤Ÿè®¿é—®çš„è·¯å¾„</p><p>web.xmlæ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">web-app</span> <span class="hljs-keyword">PUBLIC</span></span><br><span class="hljs-meta"> <span class="hljs-string">&quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;</span></span><br><span class="hljs-meta"> <span class="hljs-string">&quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;</span> &gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">web-app</span>&gt;</span><br><br>  <span class="hljs-comment">&lt;!--æ³¨å†ŒServlet--&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>HelloServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>com.study.servlet.HelloServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br>  <span class="hljs-comment">&lt;!--Servletçš„è¯·æ±‚è·¯å¾„--&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>HelloServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/HelloServlet<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">web-app</span>&gt;</span><br></code></pre></td></tr></table></figure></li></ol></li><li><p>é…ç½®Tomcat</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220821203547.png" alt="QQæˆªå›¾20220821203547"></p></li><li><p>å¯åŠ¨æµ‹è¯•</p><p>æµè§ˆå™¨è¾“å…¥ï¼š<a href="http://localhost:8080/servlet-01/HelloServlet">http://localhost:8080/servlet-01/HelloServlet</a> è®¿é—®webé¡¹ç›®</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220823180036.png" alt="QQæˆªå›¾20220823180036"></p></li></ol><h2 id="5-3-ServletåŸç†"><a href="#5-3-ServletåŸç†" class="headerlink" title="5.3 ServletåŸç†"></a>5.3 ServletåŸç†</h2><p>Servletæ˜¯ç”±WebæœåŠ¡å™¨è°ƒç”¨ï¼ŒwebæœåŠ¡å™¨åœ¨æ”¶åˆ°æµè§ˆå™¨è¯·æ±‚ä¹‹åï¼Œä¼šï¼š</p><p><img src="https://img.yiqiangshiyia.cn/blog/javaweb050.jpg" alt="javaweb050"></p><h2 id="5-4-Mappingé—®é¢˜"><a href="#5-4-Mappingé—®é¢˜" class="headerlink" title="5.4 Mappingé—®é¢˜"></a>5.4 Mappingé—®é¢˜</h2><ol><li><p>ä¸€ä¸ªServletå¯ä»¥æŒ‡å®šä¸€ä¸ªæ˜ å°„è·¯å¾„</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/hello<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>ä¸€ä¸ªServletå¯ä»¥æŒ‡å®šå¤šä¸ªæ˜ å°„è·¯å¾„</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/hello<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/hello2<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/hello3<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/hello4<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/hello5<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>ä¸€ä¸ªServletå¯ä»¥æŒ‡å®šé€šç”¨æ˜ å°„è·¯å¾„</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/hello/*<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>é»˜è®¤è¯·æ±‚è·¯å¾„</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--é»˜è®¤è¯·æ±‚è·¯å¾„--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/*<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æŒ‡å®šä¸€äº›åç¼€æˆ–è€…å‰ç¼€</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--å¯ä»¥è‡ªå®šä¹‰åç¼€å®ç°è¯·æ±‚æ˜ å°„</span><br><span class="hljs-comment">æ³¨æ„ç‚¹ï¼Œ*å‰é¢ä¸èƒ½åŠ é¡¹ç›®æ˜ å°„çš„è·¯å¾„</span><br><span class="hljs-comment">hello/aaaaa.com</span><br><span class="hljs-comment">--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>*.com<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>ä¼˜å…ˆçº§é—®é¢˜</p><p>æŒ‡å®šäº†å›ºæœ‰çš„æ˜ å°„è·¯å¾„ä¼˜å…ˆçº§æœ€é«˜ï¼Œå¦‚æœæ‰¾ä¸åˆ°å°±ä¼šèµ°é»˜è®¤çš„å¤„ç†è¯·æ±‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--404--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>error<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>com.study.servlet.ErrorServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>error<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/*<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure></li></ol><h2 id="5-5-ServletContext"><a href="#5-5-ServletContext" class="headerlink" title="5.5 ServletContext"></a>5.5 ServletContext</h2><p>webå®¹å™¨åœ¨å¯åŠ¨çš„æ—¶å€™ï¼Œå®ƒä¼šä¸ºæ¯ä¸ªwebç¨‹åºéƒ½åˆ›å»ºä¸€ä¸ªå¯¹åº”çš„ServletContextå¯¹è±¡ï¼Œå®ƒä»£è¡¨äº†å½“å‰çš„webåº”ç”¨</p><p><strong>ServletContextå¯¹è±¡çš„ä½œç”¨ï¼š</strong> </p><p><strong>1.å…±äº«æ•°æ®</strong></p><p>æˆ‘åœ¨è¿™ä¸ªServletä¸­ä¿å­˜çš„æ•°æ®ï¼Œå¯ä»¥åœ¨å¦å¤–ä¸€ä¸ªservletä¸­æ‹¿åˆ°</p><p>ç¼–å†™Servlet</p><p>HelloServlet.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-comment">//this.getInitParameter()  åˆå§‹åŒ–å‚æ•°</span><br>        <span class="hljs-comment">//this.getServletConfig()  Servleté…ç½®</span><br>        <span class="hljs-comment">//this.getServletContext()  Servletä¸Šä¸‹æ–‡</span><br>        <span class="hljs-type">ServletContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.getServletContext();<br><br>        <span class="hljs-type">String</span> <span class="hljs-variable">username</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;æ—æ…•æ¤¿&quot;</span>;  <span class="hljs-comment">//æ•°æ®</span><br>        context.setAttribute(<span class="hljs-string">&quot;username&quot;</span>,username);  <span class="hljs-comment">//å°†ä¸€ä¸ªæ•°æ®ä¿å­˜åœ¨äº†ServletContextä¸­ï¼Œåå­—ä¸ºï¼šusernameï¼Œå€¼ä¸ºusername</span><br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>GetServlet.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GetServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-type">ServletContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.getServletContext();<br>        <span class="hljs-type">String</span> <span class="hljs-variable">username</span> <span class="hljs-operator">=</span> (String)context.getAttribute(<span class="hljs-string">&quot;username&quot;</span>);<br><br>        resp.setContentType(<span class="hljs-string">&quot;text/html&quot;</span>);<br>        resp.setCharacterEncoding(<span class="hljs-string">&quot;utf-8&quot;</span>);<br>        resp.getWriter().print(<span class="hljs-string">&quot;åå­—ï¼š&quot;</span>+username);<br><br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-built_in">super</span>.doPost(req, resp);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ³¨å†ŒServlet</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">web-app</span> <span class="hljs-keyword">PUBLIC</span></span><br><span class="hljs-meta"> <span class="hljs-string">&quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;</span></span><br><span class="hljs-meta"> <span class="hljs-string">&quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;</span> &gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">web-app</span>&gt;</span><br><br>  <span class="hljs-comment">&lt;!--æ³¨å†ŒServlet--&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>HelloServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>com.study.servlet.HelloServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br>  <span class="hljs-comment">&lt;!--Servletçš„è¯·æ±‚è·¯å¾„--&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>HelloServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/HelloServlet<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>GetServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>com.study.servlet.GetServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>GetServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/GetServlet<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">web-app</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æµ‹è¯•è®¿é—®ç»“æœ</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220823204224.png" alt="QQæˆªå›¾20220823204224"></p><p><strong>2.è·å–åˆå§‹åŒ–å‚æ•°</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--é…ç½®ä¸€äº›webåº”ç”¨åˆå§‹åŒ–å‚æ•°--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">context-param</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>url<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>jdbc:mysql://localhost:3306/mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">context-param</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br><span class="hljs-type">ServletContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.getServletContext();<br><span class="hljs-type">String</span> <span class="hljs-variable">url</span> <span class="hljs-operator">=</span> context.getInitParameter(<span class="hljs-string">&quot;url&quot;</span>);<br>resp.getWriter().print(url);<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>3.è¯·æ±‚è½¬å‘</strong></p><p>è½¬å‘è·¯å¾„ä¸ä¼šå‘ç”Ÿæ”¹å˜ï¼Œé‡å®šå‘è·¯å¾„ä¼šå‘ç”Ÿæ”¹å˜</p><p>ç®€å•ç†è§£è½¬å‘ï¼šå®ç°äº†é¡µé¢è·³è½¬ï¼Œè®¿é—® <a href="http://localhost:8080/servlet-01/ServletDemo01">http://localhost:8080/servlet-01/ServletDemo01</a> ï¼Œé¡µé¢ä¼šè¢«è½¬å‘/è·³è½¬åˆ° <a href="http://localhost:8080/servlet-01/gp">http://localhost:8080/servlet-01/gp</a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-meta">@Override</span><br><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br><span class="hljs-type">ServletContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.getServletContext();<br>    <br><span class="hljs-comment">//RequestDispatcher requestDispatcher = context.getRequestDispatcher(&quot;/gp&quot;); //è½¬å‘çš„è¯·æ±‚è·¯å¾„</span><br><span class="hljs-comment">//requestDispatcher.forward(req,resp); //è°ƒç”¨forwardå®ç°è¯·æ±‚è½¬å‘</span><br>    <span class="hljs-comment">//åˆå¹¶å†™æ³•</span><br>context.getRequestDispatcher(<span class="hljs-string">&quot;/gp&quot;</span>).forward(req,resp);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>4.è¯»å–èµ„æºæ–‡ä»¶</strong></p><p>Properties </p><ul><li>åœ¨javaç›®å½•ä¸‹æ–°å»ºproperties </li><li>åœ¨resourcesç›®å½•ä¸‹æ–°å»ºproperties </li></ul><p>å‘ç°ï¼šéƒ½è¢«æ‰“åŒ…åˆ°äº†åŒä¸€ä¸ªè·¯å¾„ä¸‹ï¼šclassesï¼Œæˆ‘ä»¬ä¿—ç§°è¿™ä¸ªè·¯å¾„ä¸ºclasspath: </p><p>æ€è·¯ï¼šéœ€è¦ä¸€ä¸ªæ–‡ä»¶æµï¼›</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql">username<span class="hljs-operator">=</span>root<br>password<span class="hljs-operator">=</span><span class="hljs-number">123456</span><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ServletDemo05</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br><br>        <span class="hljs-type">InputStream</span> <span class="hljs-variable">is</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.getServletContext().getResourceAsStream(<span class="hljs-string">&quot;/WEBINF/classes/com/study/servlet/aa.properties&quot;</span>);<br><span class="hljs-type">Properties</span> <span class="hljs-variable">prop</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Properties</span>();<br>prop.load(is);<br><span class="hljs-type">String</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> prop.getProperty(<span class="hljs-string">&quot;username&quot;</span>);<br><span class="hljs-type">String</span> <span class="hljs-variable">pwd</span> <span class="hljs-operator">=</span> prop.getProperty(<span class="hljs-string">&quot;password&quot;</span>);<br>resp.getWriter().print(user+<span class="hljs-string">&quot;:&quot;</span>+pwd);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>doGet(req, resp);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>è®¿é—®æµ‹è¯•</p><h2 id="5-6-HttpServletResponse"><a href="#5-6-HttpServletResponse" class="headerlink" title="5.6 HttpServletResponse"></a>5.6 HttpServletResponse</h2><p>webæœåŠ¡å™¨æ¥æ”¶åˆ°å®¢æˆ·ç«¯çš„httpè¯·æ±‚ï¼Œé’ˆå¯¹è¿™ä¸ªè¯·æ±‚ï¼Œåˆ†åˆ«åˆ›å»ºä¸€ä¸ªä»£è¡¨è¯·æ±‚çš„HttpServletRequestå¯¹ è±¡ï¼Œä»£è¡¨å“åº”çš„ä¸€ä¸ªHttpServletResponse</p><ul><li>å¦‚æœè¦è·å–å®¢æˆ·ç«¯è¯·æ±‚è¿‡æ¥çš„å‚æ•°ï¼šæ‰¾HttpServletRequest </li><li>å¦‚æœè¦ç»™å®¢æˆ·ç«¯å“åº”ä¸€äº›ä¿¡æ¯ï¼šæ‰¾HttpServletResponse</li></ul><p>ä½œç”¨ï¼šå‘æµè§ˆå™¨è¾“å‡ºä¿¡æ¯ã€ä¸‹è½½æ–‡ä»¶ã€å®ç°éªŒè¯ç åŠŸèƒ½ã€å®ç°é‡å®šå‘â€¦</p><h3 id="5-6-1-ç®€å•åˆ†ç±»"><a href="#5-6-1-ç®€å•åˆ†ç±»" class="headerlink" title="5.6.1 ç®€å•åˆ†ç±»"></a>5.6.1 ç®€å•åˆ†ç±»</h3><p>è´Ÿè´£å‘æµè§ˆå™¨å‘é€æ•°æ®çš„æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">ServletOutputStream <span class="hljs-title function_">getOutputStream</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException;<br>PrintWriter <span class="hljs-title function_">getWriter</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException;<br></code></pre></td></tr></table></figure><p>è´Ÿè´£å‘æµè§ˆå™¨å‘é€å“åº”å¤´çš„æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">void</span> <span class="hljs-title function_">setCharacterEncoding</span><span class="hljs-params">(String var1)</span>;<br><span class="hljs-keyword">void</span> <span class="hljs-title function_">setContentLength</span><span class="hljs-params">(<span class="hljs-type">int</span> var1)</span>;<br><span class="hljs-keyword">void</span> <span class="hljs-title function_">setContentLengthLong</span><span class="hljs-params">(<span class="hljs-type">long</span> var1)</span>;<br><span class="hljs-keyword">void</span> <span class="hljs-title function_">setContentType</span><span class="hljs-params">(String var1)</span>;<br><span class="hljs-keyword">void</span> <span class="hljs-title function_">setDateHeader</span><span class="hljs-params">(String var1, <span class="hljs-type">long</span> var2)</span>;<br><span class="hljs-keyword">void</span> <span class="hljs-title function_">addDateHeader</span><span class="hljs-params">(String var1, <span class="hljs-type">long</span> var2)</span>;<br><span class="hljs-keyword">void</span> <span class="hljs-title function_">setHeader</span><span class="hljs-params">(String var1, String var2)</span>;<br><span class="hljs-keyword">void</span> <span class="hljs-title function_">addHeader</span><span class="hljs-params">(String var1, String var2)</span>;<br><span class="hljs-keyword">void</span> <span class="hljs-title function_">setIntHeader</span><span class="hljs-params">(String var1, <span class="hljs-type">int</span> var2)</span>;<br><span class="hljs-keyword">void</span> <span class="hljs-title function_">addIntHeader</span><span class="hljs-params">(String var1, <span class="hljs-type">int</span> var2)</span>;<br></code></pre></td></tr></table></figure><p>å“åº”çš„çŠ¶æ€ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span> <span class="hljs-variable">SC_CONTINUE</span> <span class="hljs-operator">=</span> <span class="hljs-number">100</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_SWITCHING_PROTOCOLS</span> <span class="hljs-operator">=</span> <span class="hljs-number">101</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_OK</span> <span class="hljs-operator">=</span> <span class="hljs-number">200</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_CREATED</span> <span class="hljs-operator">=</span> <span class="hljs-number">201</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_ACCEPTED</span> <span class="hljs-operator">=</span> <span class="hljs-number">202</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_NON_AUTHORITATIVE_INFORMATION</span> <span class="hljs-operator">=</span> <span class="hljs-number">203</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_NO_CONTENT</span> <span class="hljs-operator">=</span> <span class="hljs-number">204</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_RESET_CONTENT</span> <span class="hljs-operator">=</span> <span class="hljs-number">205</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_PARTIAL_CONTENT</span> <span class="hljs-operator">=</span> <span class="hljs-number">206</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_MULTIPLE_CHOICES</span> <span class="hljs-operator">=</span> <span class="hljs-number">300</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_MOVED_PERMANENTLY</span> <span class="hljs-operator">=</span> <span class="hljs-number">301</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_MOVED_TEMPORARILY</span> <span class="hljs-operator">=</span> <span class="hljs-number">302</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_FOUND</span> <span class="hljs-operator">=</span> <span class="hljs-number">302</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_SEE_OTHER</span> <span class="hljs-operator">=</span> <span class="hljs-number">303</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_NOT_MODIFIED</span> <span class="hljs-operator">=</span> <span class="hljs-number">304</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_USE_PROXY</span> <span class="hljs-operator">=</span> <span class="hljs-number">305</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_TEMPORARY_REDIRECT</span> <span class="hljs-operator">=</span> <span class="hljs-number">307</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_BAD_REQUEST</span> <span class="hljs-operator">=</span> <span class="hljs-number">400</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_UNAUTHORIZED</span> <span class="hljs-operator">=</span> <span class="hljs-number">401</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_PAYMENT_REQUIRED</span> <span class="hljs-operator">=</span> <span class="hljs-number">402</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_FORBIDDEN</span> <span class="hljs-operator">=</span> <span class="hljs-number">403</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_NOT_FOUND</span> <span class="hljs-operator">=</span> <span class="hljs-number">404</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_METHOD_NOT_ALLOWED</span> <span class="hljs-operator">=</span> <span class="hljs-number">405</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_NOT_ACCEPTABLE</span> <span class="hljs-operator">=</span> <span class="hljs-number">406</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_PROXY_AUTHENTICATION_REQUIRED</span> <span class="hljs-operator">=</span> <span class="hljs-number">407</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_REQUEST_TIMEOUT</span> <span class="hljs-operator">=</span> <span class="hljs-number">408</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_CONFLICT</span> <span class="hljs-operator">=</span> <span class="hljs-number">409</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_GONE</span> <span class="hljs-operator">=</span> <span class="hljs-number">410</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_LENGTH_REQUIRED</span> <span class="hljs-operator">=</span> <span class="hljs-number">411</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_PRECONDITION_FAILED</span> <span class="hljs-operator">=</span> <span class="hljs-number">412</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_REQUEST_ENTITY_TOO_LARGE</span> <span class="hljs-operator">=</span> <span class="hljs-number">413</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_REQUEST_URI_TOO_LONG</span> <span class="hljs-operator">=</span> <span class="hljs-number">414</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_UNSUPPORTED_MEDIA_TYPE</span> <span class="hljs-operator">=</span> <span class="hljs-number">415</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_REQUESTED_RANGE_NOT_SATISFIABLE</span> <span class="hljs-operator">=</span> <span class="hljs-number">416</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_EXPECTATION_FAILED</span> <span class="hljs-operator">=</span> <span class="hljs-number">417</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_INTERNAL_SERVER_ERROR</span> <span class="hljs-operator">=</span> <span class="hljs-number">500</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_NOT_IMPLEMENTED</span> <span class="hljs-operator">=</span> <span class="hljs-number">501</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_BAD_GATEWAY</span> <span class="hljs-operator">=</span> <span class="hljs-number">502</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_SERVICE_UNAVAILABLE</span> <span class="hljs-operator">=</span> <span class="hljs-number">503</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_GATEWAY_TIMEOUT</span> <span class="hljs-operator">=</span> <span class="hljs-number">504</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_HTTP_VERSION_NOT_SUPPORTED</span> <span class="hljs-operator">=</span> <span class="hljs-number">505</span>;<br></code></pre></td></tr></table></figure><h3 id="5-6-2-å‘æµè§ˆå™¨è¾“å‡ºæ¶ˆæ¯"><a href="#5-6-2-å‘æµè§ˆå™¨è¾“å‡ºæ¶ˆæ¯" class="headerlink" title="5.6.2 å‘æµè§ˆå™¨è¾“å‡ºæ¶ˆæ¯"></a>5.6.2 å‘æµè§ˆå™¨è¾“å‡ºæ¶ˆæ¯</h3><p>â€¦â€¦</p><h3 id="5-6-3-ä¸‹è½½æ–‡ä»¶"><a href="#5-6-3-ä¸‹è½½æ–‡ä»¶" class="headerlink" title="5.6.3  ä¸‹è½½æ–‡ä»¶"></a>5.6.3  ä¸‹è½½æ–‡ä»¶</h3><ol><li>è¦è·å–ä¸‹è½½æ–‡ä»¶çš„è·¯å¾„ </li><li>ä¸‹è½½çš„æ–‡ä»¶åæ˜¯å•¥ï¼Ÿ </li><li>è®¾ç½®æƒ³åŠæ³•è®©æµè§ˆå™¨èƒ½å¤Ÿæ”¯æŒä¸‹è½½æˆ‘ä»¬éœ€è¦çš„ä¸œè¥¿</li><li>è·å–ä¸‹è½½æ–‡ä»¶çš„è¾“å…¥æµ</li><li>åˆ›å»ºç¼“å†²åŒº</li><li>è·å–OutputStreamå¯¹è±¡ </li><li>å°†FileOutputStreamæµå†™å…¥åˆ°bufferç¼“å†²åŒºï¼Œç”¨OutputStreamå°†ç¼“å†²åŒºä¸­çš„æ•°æ®è¾“å‡ºåˆ°å®¢æˆ·ç«¯</li></ol><p>å…·ä½“å®ç°ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FileServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-comment">//1. è¦è·å–ä¸‹è½½æ–‡ä»¶çš„è·¯å¾„</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">realPath</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;D:\\IntelliJ IDEA\\IntelliJ IDEAä»£ç \\Servlet\\servlet-01\\src\\main\\resources\\img.jpeg&quot;</span>;<br>        System.out.println(<span class="hljs-string">&quot;ä¸‹è½½æ–‡ä»¶çš„è·¯å¾„ï¼š&quot;</span>+realPath);<br><br>        <span class="hljs-comment">//2. ä¸‹è½½çš„æ–‡ä»¶åæ˜¯å•¥ï¼Ÿ</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">fileName</span> <span class="hljs-operator">=</span> realPath.substring(realPath.lastIndexOf(<span class="hljs-string">&quot;\\&quot;</span>) + <span class="hljs-number">1</span>);<br><br>        <span class="hljs-comment">//3. è®¾ç½®æƒ³åŠæ³•è®©æµè§ˆå™¨èƒ½å¤Ÿæ”¯æŒä¸‹è½½æˆ‘ä»¬éœ€è¦çš„ä¸œè¥¿</span><br>        resp.setHeader(<span class="hljs-string">&quot;Content-Disposition&quot;</span>,<span class="hljs-string">&quot;attachment;filename=&quot;</span>+fileName);<br>        <br>        <span class="hljs-comment">//4. è·å–ä¸‹è½½æ–‡ä»¶çš„è¾“å…¥æµ</span><br>        <span class="hljs-type">FileInputStream</span> <span class="hljs-variable">in</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(realPath);<br><br>        <span class="hljs-comment">//5. åˆ›å»ºç¼“å†²åŒº</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">len</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-type">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span>];<br><br>        <span class="hljs-comment">//6. è·å–OutputStreamå¯¹è±¡</span><br>        <span class="hljs-type">ServletOutputStream</span> <span class="hljs-variable">out</span> <span class="hljs-operator">=</span> resp.getOutputStream();<br><br>        <span class="hljs-comment">//7. å°†FileOutputStreamæµå†™å…¥åˆ°bufferç¼“å†²åŒºï¼Œç”¨OutputStreamå°†ç¼“å†²åŒºä¸­çš„æ•°æ®è¾“å‡ºåˆ°å®¢æˆ·ç«¯</span><br>        <span class="hljs-keyword">while</span>((len=in.read(buffer))&gt;<span class="hljs-number">0</span>)&#123;<br>            out.write(buffer,<span class="hljs-number">0</span>,len);<br>        &#125;<br>        in.close();<br>        out.close();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•ï¼š</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220824183018.png" alt="QQæˆªå›¾20220824183018"></p><h3 id="5-6-4-éªŒè¯ç åŠŸèƒ½"><a href="#5-6-4-éªŒè¯ç åŠŸèƒ½" class="headerlink" title="5.6.4 éªŒè¯ç åŠŸèƒ½"></a>5.6.4 éªŒè¯ç åŠŸèƒ½</h3><p>éªŒè¯æ€ä¹ˆæ¥çš„ï¼Ÿ </p><ul><li>å‰ç«¯å®ç° </li><li>åç«¯å®ç°ï¼Œéœ€è¦ç”¨åˆ° Java çš„å›¾ç‰‡ç±»ï¼Œç”Ÿäº§ä¸€ä¸ªå›¾ç‰‡</li></ul><p>å…·ä½“å®ç°ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ImageServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-comment">//å¦‚ä½•è®©æµè§ˆå™¨3ç§’è‡ªåŠ¨åˆ·æ–°ä¸€æ¬¡</span><br>        resp.setHeader(<span class="hljs-string">&quot;refresh&quot;</span>,<span class="hljs-string">&quot;3&quot;</span>);<br><br>        <span class="hljs-comment">//åœ¨å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªå›¾ç‰‡</span><br>        <span class="hljs-type">BufferedImage</span> <span class="hljs-variable">image</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedImage</span>(<span class="hljs-number">80</span>,<span class="hljs-number">20</span>,BufferedImage.TYPE_INT_RGB);<br>        <span class="hljs-comment">//å¾—åˆ°å›¾ç‰‡</span><br>        <span class="hljs-type">Graphics2D</span> <span class="hljs-variable">g</span> <span class="hljs-operator">=</span> (Graphics2D) image.getGraphics();  <span class="hljs-comment">//ç¬”</span><br>        <span class="hljs-comment">//è®¾ç½®å›¾ç‰‡çš„èƒŒæ™¯é¢œè‰²</span><br>        g.setColor(Color.white);<br>        g.fillRect(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">80</span>,<span class="hljs-number">20</span>);<br>        <span class="hljs-comment">//ç»™å›¾ç‰‡å†™æ•°æ®</span><br>        g.setColor(Color.BLUE );<br>        g.setFont(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Font</span>(<span class="hljs-literal">null</span>,Font.BOLD,<span class="hljs-number">20</span>));<br>        g.drawString(makeNum(),<span class="hljs-number">0</span>,<span class="hljs-number">20</span>);<br>        <span class="hljs-comment">//å‘Šè¯‰æµè§ˆå™¨ï¼Œè¿™ä¸ªè¯·æ±‚ç”¨å›¾ç‰‡çš„æ–¹å¼æ‰“å¼€</span><br>        resp.setContentType(<span class="hljs-string">&quot;image/jpeg&quot;</span>);<br>        <span class="hljs-comment">//ç½‘ç«™å­˜åœ¨ç¼“å­˜ï¼Œä¸è®©æµè§ˆå™¨ç¼“å­˜</span><br>        resp.setDateHeader(<span class="hljs-string">&quot;expires&quot;</span>,-<span class="hljs-number">1</span>);<br>        resp.setHeader(<span class="hljs-string">&quot;Cache-Control&quot;</span>,<span class="hljs-string">&quot;no-cache&quot;</span>);<br>        resp.setHeader(<span class="hljs-string">&quot;Pragma&quot;</span>,<span class="hljs-string">&quot;no-cache&quot;</span>);<br><br>        <span class="hljs-comment">//æŠŠå›¾ç‰‡å†™ç»™æµè§ˆå™¨</span><br>        ImageIO.write(image,<span class="hljs-string">&quot;jpg&quot;</span>, resp.getOutputStream());<br>    &#125;<br><br>    <span class="hljs-comment">//ç”Ÿæˆéšæœºæ•°</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">makeNum</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-type">Random</span> <span class="hljs-variable">random</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Random</span>();<br>        <span class="hljs-type">String</span> <span class="hljs-variable">num</span> <span class="hljs-operator">=</span> random.nextInt(<span class="hljs-number">99999999</span>)+<span class="hljs-string">&quot;&quot;</span>;<br>        <span class="hljs-type">StringBuffer</span> <span class="hljs-variable">stringbuffer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuffer</span>();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">8</span>-num.length(); i++)&#123;<br>            stringbuffer.append(<span class="hljs-string">&quot;0&quot;</span>);  <span class="hljs-comment">//ç¡®ä¿è¾“å‡º8ä½æ•°éšæœºæ•°</span><br>        &#125;<br>        num = stringbuffer.toString()+num;<br>        <span class="hljs-keyword">return</span> num;<br>    &#125;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-built_in">super</span>.doPost(req, resp);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•ï¼š</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220824192058.png" alt="QQæˆªå›¾20220824192058"></p><h3 id="5-6-5-å®ç°é‡å®šå‘"><a href="#5-6-5-å®ç°é‡å®šå‘" class="headerlink" title="5.6.5 å®ç°é‡å®šå‘"></a>5.6.5 å®ç°é‡å®šå‘</h3><p><img src="https://img.yiqiangshiyia.cn/blog/javaweb052.jpg" alt="javaweb052"></p><p>Bä¸€ä¸ªwebèµ„æºæ”¶åˆ°å®¢æˆ·ç«¯Aè¯·æ±‚åï¼ŒBä»–ä¼šé€šçŸ¥Aå®¢æˆ·ç«¯å»è®¿é—®å¦å¤–ä¸€ä¸ªwebèµ„æºCï¼Œè¿™ä¸ªè¿‡ç¨‹å«é‡å®šå‘ </p><p>å¸¸è§åœºæ™¯ï¼š</p><ul><li>ç”¨æˆ·ç™»å½•</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">void</span> <span class="hljs-title function_">sendRedirect</span><span class="hljs-params">(String var1)</span> <span class="hljs-keyword">throws</span> IOException;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br><br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">resp.setHeader(&quot;Location&quot;,&quot;/r/img&quot;);</span><br><span class="hljs-comment">resp.setStatus(302);</span><br><span class="hljs-comment">*/</span><br>resp.sendRedirect(<span class="hljs-string">&quot;/r/img&quot;</span>);<span class="hljs-comment">//é‡å®šå‘</span><br>&#125;<br></code></pre></td></tr></table></figure><p><strong>èŠé‡å®šå‘å’Œè½¬å‘çš„åŒºåˆ«</strong></p><p>ç›¸åŒç‚¹ </p><ul><li>é¡µé¢éƒ½ä¼šå®ç°è·³è½¬ </li></ul><p>ä¸åŒç‚¹ </p><ul><li>è¯·æ±‚è½¬å‘çš„æ—¶å€™ï¼Œurlä¸ä¼šäº§ç”Ÿå˜åŒ– </li><li>é‡å®šå‘æ—¶å€™ï¼Œurlåœ°å€æ ä¼šå‘ç”Ÿå˜åŒ–</li></ul><p><img src="https://img.yiqiangshiyia.cn/blog/javaweb053.jpg" alt="javaweb053"></p><p><strong>æ¡ˆä¾‹ï¼šç®€å•å®ç°ç™»å½•é‡å®šå‘</strong></p><p>index.jsp</p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%--è¿™é‡Œæäº¤çš„è·¯å¾„ï¼Œéœ€è¦å¯»æ‰¾åˆ°é¡¹ç›®çš„è·¯å¾„--%&gt;<br>&lt;%--$&#123;pageContext.request.contextPath&#125;ä»£è¡¨å½“å‰çš„é¡¹ç›®--%&gt;<br>&lt;form action=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/login&quot;</span> method=<span class="hljs-string">&quot;get&quot;</span>&gt;<br>ç”¨æˆ·åï¼š&lt;input type=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;username&quot;</span>&gt; &lt;br&gt;<br>å¯†ç ï¼š&lt;input type=<span class="hljs-string">&quot;password&quot;</span> name=<span class="hljs-string">&quot;password&quot;</span>&gt; &lt;br&gt;<br>&lt;input type=<span class="hljs-string">&quot;submit&quot;</span>&gt;<br>&lt;/form&gt;<br></code></pre></td></tr></table></figure><p>RequestTest.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RequestTest</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span>&#123;<br>    <span class="hljs-meta">@Override</span><br><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br><span class="hljs-comment">//å¤„ç†è¯·æ±‚</span><br><span class="hljs-type">String</span> <span class="hljs-variable">username</span> <span class="hljs-operator">=</span> req.getParameter(<span class="hljs-string">&quot;username&quot;</span>);<br><span class="hljs-type">String</span> <span class="hljs-variable">password</span> <span class="hljs-operator">=</span> req.getParameter(<span class="hljs-string">&quot;password&quot;</span>);<br>System.out.println(username+<span class="hljs-string">&quot;:&quot;</span>+password);<br><br>    <span class="hljs-comment">//é‡å®šå‘æ—¶å€™ä¸€å®šè¦æ³¨æ„ï¼Œè·¯å¾„é—®é¢˜ï¼Œå¦åˆ™404ï¼›</span><br>resp.sendRedirect(<span class="hljs-string">&quot;/r/success.jsp&quot;</span>);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>web.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>requset<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>com.kuang.servlet.RequestTest<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>requset<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/login<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure><p>success.jsp</p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>&lt;title&gt;Title&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>    <br>&lt;h1&gt;Success&lt;/h1&gt;<br>    <br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure><h2 id="5-7-HttpServletRequest"><a href="#5-7-HttpServletRequest" class="headerlink" title="5.7 HttpServletRequest"></a>5.7 HttpServletRequest</h2><p>HttpServletRequestä»£è¡¨å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œç”¨æˆ·é€šè¿‡Httpåè®®è®¿é—®æœåŠ¡å™¨ï¼ŒHTTPè¯·æ±‚ä¸­çš„æ‰€æœ‰ä¿¡æ¯ä¼šè¢«å° è£…åˆ°HttpServletRequestï¼Œé€šè¿‡è¿™ä¸ªHttpServletRequestçš„æ–¹æ³•ï¼Œè·å¾—å®¢æˆ·ç«¯çš„æ‰€æœ‰ä¿¡æ¯</p><p>ä½œç”¨ï¼šè·å–å‰ç«¯ä¼ é€’çš„å‚æ•°ã€è¯·æ±‚è½¬å‘â€¦</p><h3 id="5-7-1-è·å–å‰ç«¯ä¼ é€’çš„å‚æ•°"><a href="#5-7-1-è·å–å‰ç«¯ä¼ é€’çš„å‚æ•°" class="headerlink" title="5.7.1 è·å–å‰ç«¯ä¼ é€’çš„å‚æ•°"></a>5.7.1 è·å–å‰ç«¯ä¼ é€’çš„å‚æ•°</h3><blockquote><p>getParameter(String s)          String  //è·å–å•ä¸ªå‚æ•°<br>getParameterValues(String s)    String[]  //è·å–å¤šä¸ªå‚æ•°ï¼Œå¦‚å¤šé€‰æ¡†ç­‰</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>req.setCharacterEncoding(<span class="hljs-string">&quot;utf-8&quot;</span>);<br>resp.setCharacterEncoding(<span class="hljs-string">&quot;utf-8&quot;</span>);<br><br>    <span class="hljs-type">String</span> <span class="hljs-variable">username</span> <span class="hljs-operator">=</span> req.getParameter(<span class="hljs-string">&quot;username&quot;</span>);<br><span class="hljs-type">String</span> <span class="hljs-variable">password</span> <span class="hljs-operator">=</span> req.getParameter(<span class="hljs-string">&quot;password&quot;</span>);<br>String[] hobbys = req.getParameterValues(<span class="hljs-string">&quot;hobbys&quot;</span>);<br><br><span class="hljs-comment">//åå°æ¥æ”¶ä¸­æ–‡ä¹±ç é—®é¢˜</span><br>System.out.println(username);<br>System.out.println(password);<br>System.out.println(Arrays.toString(hobbys));<br><br>    System.out.println(req.getContextPath());<br><span class="hljs-comment">//é€šè¿‡è¯·æ±‚è½¬å‘</span><br><span class="hljs-comment">//è¿™é‡Œçš„ / ä»£è¡¨å½“å‰çš„webåº”ç”¨</span><br>req.getRequestDispatcher(<span class="hljs-string">&quot;/success.jsp&quot;</span>).forward(req,resp);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="5-7-2-è¯·æ±‚è½¬å‘"><a href="#5-7-2-è¯·æ±‚è½¬å‘" class="headerlink" title="5.7.2 è¯·æ±‚è½¬å‘"></a>5.7.2 è¯·æ±‚è½¬å‘</h3><p><strong>é‡å®šå‘å’Œè½¬å‘çš„åŒºåˆ«</strong></p><p>ç›¸åŒç‚¹ </p><ul><li>é¡µé¢éƒ½ä¼šå®ç°è·³è½¬ </li></ul><p>ä¸åŒç‚¹ </p><ul><li>è¯·æ±‚è½¬å‘çš„æ—¶å€™ï¼Œurlä¸ä¼šäº§ç”Ÿå˜åŒ–  â€”-  307 </li><li>é‡å®šå‘æ—¶å€™ï¼Œurlåœ°å€æ ä¼šå‘ç”Ÿå˜åŒ–  â€”-  302</li></ul><h1 id="6-Cookieã€Session"><a href="#6-Cookieã€Session" class="headerlink" title="6. Cookieã€Session"></a>6. Cookieã€Session</h1><h2 id="6-1-ä¼šè¯"><a href="#6-1-ä¼šè¯" class="headerlink" title="6.1 ä¼šè¯"></a>6.1 ä¼šè¯</h2><p><strong>ä¼šè¯ï¼š</strong>ç”¨æˆ·æ‰“å¼€ä¸€ä¸ªæµè§ˆå™¨ï¼Œç‚¹å‡»äº†å¾ˆå¤šè¶…é“¾æ¥ï¼Œè®¿é—®å¤šä¸ªwebèµ„æºï¼Œå…³é—­æµè§ˆå™¨ï¼Œè¿™ä¸ªè¿‡ç¨‹å¯ä»¥ç§°ä¹‹ä¸ºä¼šè¯</p><p><strong>æœ‰çŠ¶æ€ä¼šè¯ï¼š</strong>ä¸€ä¸ªåŒå­¦æ¥è¿‡æ•™å®¤ï¼Œä¸‹æ¬¡å†æ¥æ•™å®¤ï¼Œæˆ‘ä»¬ä¼šçŸ¥é“è¿™ä¸ªåŒå­¦ï¼Œæ›¾ç»æ¥è¿‡ï¼Œç§°ä¹‹ä¸ºæœ‰çŠ¶æ€ä¼šè¯ï¼› </p><p><strong>ä¸€ä¸ªç½‘ç«™ï¼Œæ€ä¹ˆè¯æ˜ä½ æ¥è¿‡ï¼Ÿ</strong> </p><p>å®¢æˆ·ç«¯    æœåŠ¡ç«¯ </p><ol><li>æœåŠ¡ç«¯ç»™å®¢æˆ·ç«¯ä¸€ä¸ª ä¿¡ä»¶ï¼Œå®¢æˆ·ç«¯ä¸‹æ¬¡è®¿é—®æœåŠ¡ç«¯å¸¦ä¸Šä¿¡ä»¶å°±å¯ä»¥äº†  â€”-  cookie </li><li>æœåŠ¡å™¨ç™»è®°ä½ æ¥è¿‡äº†ï¼Œä¸‹æ¬¡ä½ æ¥çš„æ—¶å€™æˆ‘æ¥åŒ¹é…ä½   â€”-  seesion</li></ol><h2 id="6-2-ä¿å­˜ä¼šè¯çš„ä¸¤ç§æŠ€æœ¯"><a href="#6-2-ä¿å­˜ä¼šè¯çš„ä¸¤ç§æŠ€æœ¯" class="headerlink" title="6.2 ä¿å­˜ä¼šè¯çš„ä¸¤ç§æŠ€æœ¯"></a>6.2 ä¿å­˜ä¼šè¯çš„ä¸¤ç§æŠ€æœ¯</h2><p><strong>cookie</strong> </p><ul><li>å®¢æˆ·ç«¯æŠ€æœ¯ ï¼ˆå“åº”ï¼Œè¯·æ±‚ï¼‰ </li></ul><p><strong>session</strong> </p><ul><li>æœåŠ¡å™¨æŠ€æœ¯ï¼Œåˆ©ç”¨è¿™ä¸ªæŠ€æœ¯ï¼Œå¯ä»¥ä¿å­˜ç”¨æˆ·çš„ä¼šè¯ä¿¡æ¯ï¼Ÿ æˆ‘ä»¬å¯ä»¥æŠŠä¿¡æ¯æˆ–è€…æ•°æ®æ”¾åœ¨Session ä¸­ï¼</li></ul><p>å¸¸è§ï¼šç½‘ç«™ç™»å½•ä¹‹åï¼Œä½ ä¸‹æ¬¡ä¸ç”¨å†ç™»å½•äº†ï¼Œç¬¬äºŒæ¬¡è®¿é—®ç›´æ¥å°±ä¸Šå»äº†ï¼</p><h2 id="6-3-Cookie"><a href="#6-3-Cookie" class="headerlink" title="6.3 Cookie"></a>6.3 Cookie</h2><ol><li>ä»è¯·æ±‚ä¸­æ‹¿åˆ°cookieä¿¡æ¯ </li><li>æœåŠ¡å™¨å“åº”ç»™å®¢æˆ·ç«¯cookie</li></ol><p><strong>Cookieä¸­å¸¸ç”¨çš„æ–¹æ³•ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java">Cookie[] cookies = req.getCookies();  <span class="hljs-comment">//è·å¾—Cookie</span><br>cookie.getName();  <span class="hljs-comment">//è·å¾—cookieä¸­çš„key</span><br>cookie.getValue();  <span class="hljs-comment">//è·å¾—cookieä¸­çš„vlaue</span><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Cookie</span>(<span class="hljs-string">&quot;lastLoginTime&quot;</span>, System.currentTimeMillis()+<span class="hljs-string">&quot;&quot;</span>);  <span class="hljs-comment">//æ–°å»ºä¸€ä¸ªcookie</span><br>cookie.setMaxAge(<span class="hljs-number">24</span>*<span class="hljs-number">60</span>*<span class="hljs-number">60</span>);  <span class="hljs-comment">//è®¾ç½®cookieçš„æœ‰æ•ˆæœŸ</span><br>resp.addCookie(cookie);  <span class="hljs-comment">//å“åº”ç»™å®¢æˆ·ç«¯ä¸€ä¸ªcookie</span><br></code></pre></td></tr></table></figure><p><strong>ç”¨Cookieè·å–ä¸Šä¸€æ¬¡è®¿é—®ç½‘ç«™çš„æ—¶é—´ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//ä¿å­˜ç”¨æˆ·ä¸Šä¸€æ¬¡è®¿é—®çš„æ—¶é—´</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CookieDemo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-comment">//æœåŠ¡å™¨å‘Šè¯‰ä½ ä½ æ¥çš„æ—¶é—´ï¼ŒæŠŠè¿™ä¸ªæ—¶é—´å°è£…ï¼Œä¸‹æ¬¡å¸¦æ¥å°±çŸ¥é“è®¿é—®è¿‡ç½‘ç«™äº†</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-comment">//è§£å†³ä¸­æ–‡ä¹±ç </span><br>        req.setCharacterEncoding(<span class="hljs-string">&quot;utf-8&quot;</span>);<br>        resp.setCharacterEncoding(<span class="hljs-string">&quot;utf-8&quot;</span>);<br><br>        <span class="hljs-type">PrintWriter</span> <span class="hljs-variable">out</span> <span class="hljs-operator">=</span> resp.getWriter();<br><br>        <span class="hljs-comment">//Cookie æœåŠ¡ç«¯ä»å®¢æˆ·ç«¯è·å–</span><br>        Cookie[] cookies = req.getCookies();  <span class="hljs-comment">//è¿”å›æ•°ç»„ï¼Œè¯´æ˜cookieå¯èƒ½å­˜åœ¨å¤šä¸ª</span><br><br>        <span class="hljs-comment">//åˆ¤æ–­cookieæ˜¯å¦å­˜åœ¨</span><br>        <span class="hljs-keyword">if</span>(cookies != <span class="hljs-literal">null</span>)&#123;<br>            <span class="hljs-comment">//å¦‚æœå­˜åœ¨</span><br>            out.write(<span class="hljs-string">&quot;æ‚¨ä¸Šä¸€æ¬¡è®¿é—®çš„æ—¶é—´æ˜¯ï¼š&quot;</span>);<br><br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;cookies.length; i++)&#123;<br>                <span class="hljs-type">Cookie</span> <span class="hljs-variable">cookie</span> <span class="hljs-operator">=</span> cookies[i];<br>                <span class="hljs-comment">//è·å–cookieçš„åå­—</span><br>                <span class="hljs-keyword">if</span>(cookie.getName().equals(<span class="hljs-string">&quot;LastLoginTime&quot;</span>))&#123;<br>                    <span class="hljs-comment">//è·å–cookieçš„å€¼</span><br>                    <span class="hljs-type">long</span> <span class="hljs-variable">lastLoginTime</span> <span class="hljs-operator">=</span> Long.parseLong(cookie.getValue());<br>                    <span class="hljs-type">Date</span> <span class="hljs-variable">date</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(lastLoginTime);<br>                    out.write(date.toLocaleString());<br>                &#125;<br>            &#125;<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            out.write(<span class="hljs-string">&quot;è¿™æ˜¯æ‚¨ç¬¬ä¸€æ¬¡è®¿é—®æœ¬ç«™ï¼&quot;</span>);<br>        &#125;<br><br>        <span class="hljs-comment">//æœåŠ¡ç«¯ç»™å®¢æˆ·ç«¯å“åº”ä¸€ä¸ªcookie</span><br>        <span class="hljs-type">Cookie</span> <span class="hljs-variable">cookie</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cookie</span>(<span class="hljs-string">&quot;lastLoginTime&quot;</span>,System.currentTimeMillis()+<span class="hljs-string">&quot;&quot;</span>);<br>        <span class="hljs-comment">//è®¾ç½®Cookieæœ‰æ•ˆæœŸ1å¤©</span><br>        cookie.setMaxAge(<span class="hljs-number">24</span>*<span class="hljs-number">60</span>*<span class="hljs-number">60</span>);<br>        resp.addCookie(cookie);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-built_in">super</span>.doPost(req, resp);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>cookieï¼šä¸€èˆ¬ä¼šä¿å­˜åœ¨æœ¬åœ°çš„ ç”¨æˆ·ç›®å½•ä¸‹ appdata</strong></p><p>ä¸€ä¸ªç½‘ç«™cookieæ˜¯å¦å­˜åœ¨ä¸Šé™</p><ul><li>ä¸€ä¸ªCookieåªèƒ½ä¿å­˜ä¸€ä¸ªä¿¡æ¯</li><li>ä¸€ä¸ªwebç«™ç‚¹å¯ä»¥ç»™æµè§ˆå™¨å‘é€å¤šä¸ªcookieï¼Œæœ€å¤šå­˜æ”¾20ä¸ªcookie</li><li>Cookieå¤§å°æœ‰é™åˆ¶4kb</li><li>300ä¸ªcookieæµè§ˆå™¨ä¸Šé™</li></ul><p><strong>åˆ é™¤Cookie</strong> </p><ul><li>ä¸è®¾ç½®æœ‰æ•ˆæœŸï¼Œå…³é—­æµè§ˆå™¨ï¼Œè‡ªåŠ¨å¤±æ•ˆ</li><li>è®¾ç½®æœ‰æ•ˆæœŸæ—¶é—´ä¸º 0</li></ul><p><strong>ç¼–ç è§£ç ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">URLEncoder.encode(<span class="hljs-string">&quot;æ—æ…•æ¤¿&quot;</span>,<span class="hljs-string">&quot;utf-8&quot;</span>)<br>URLDecoder.decode(cookie.getValue(),<span class="hljs-string">&quot;UTF-8&quot;</span>)<br></code></pre></td></tr></table></figure><h2 id="6-4-Sessionï¼ˆé‡ç‚¹ï¼‰"><a href="#6-4-Sessionï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="6.4 Sessionï¼ˆé‡ç‚¹ï¼‰"></a>6.4 Sessionï¼ˆé‡ç‚¹ï¼‰</h2><p><strong>ä»€ä¹ˆæ˜¯Sessionï¼š</strong> </p><ul><li>æœåŠ¡å™¨ä¼šç»™æ¯ä¸€ä¸ªç”¨æˆ·ï¼ˆæµè§ˆå™¨ï¼‰åˆ›å»ºä¸€ä¸ªSeesionå¯¹è±¡</li><li>ä¸€ä¸ªSeesionç‹¬å ä¸€ä¸ªæµè§ˆå™¨ï¼Œåªè¦æµè§ˆå™¨æ²¡æœ‰å…³é—­ï¼Œè¿™ä¸ªSessionå°±å­˜åœ¨</li><li>ç”¨æˆ·ç™»å½•ä¹‹åï¼Œæ•´ä¸ªç½‘ç«™å®ƒéƒ½å¯ä»¥è®¿é—®ï¼â€“&gt; ä¿å­˜ç”¨æˆ·çš„ä¿¡æ¯    ä¿å­˜è´­ç‰©è½¦çš„ä¿¡æ¯</li></ul><p><strong>Sessionå’Œcookieçš„åŒºåˆ«ï¼š</strong> </p><ul><li>Cookieæ˜¯æŠŠç”¨æˆ·çš„æ•°æ®å†™ç»™ç”¨æˆ·çš„æµè§ˆå™¨ï¼Œæµè§ˆå™¨ä¿å­˜ ï¼ˆå¯ä»¥ä¿å­˜å¤šä¸ªï¼‰ </li><li>SessionæŠŠç”¨æˆ·çš„æ•°æ®å†™åˆ°ç”¨æˆ·ç‹¬å Sessionä¸­ï¼ŒæœåŠ¡å™¨ç«¯ä¿å­˜ ï¼ˆä¿å­˜é‡è¦çš„ä¿¡æ¯ï¼Œå‡å°‘æœåŠ¡å™¨èµ„æºçš„æµªè´¹ï¼‰ </li><li>Sessionå¯¹è±¡ç”±æœåŠ¡åˆ›å»º</li></ul><p><strong>ä½¿ç”¨åœºæ™¯ï¼š</strong> </p><ul><li>ä¿å­˜ä¸€ä¸ªç™»å½•ç”¨æˆ·çš„ä¿¡æ¯</li><li>è´­ç‰©è½¦ä¿¡æ¯</li><li>åœ¨æ•´ä¸ªç½‘ç«™ä¸­ç»å¸¸ä¼šä½¿ç”¨çš„æ•°æ®ï¼Œæˆ‘ä»¬å°†å®ƒä¿å­˜åœ¨Sessionä¸­</li></ul><p><strong>ä½¿ç”¨Sessionï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SessionDemo01</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>    <span class="hljs-comment">//è§£å†³ä¹±ç é—®é¢˜</span><br>    req.setCharacterEncoding(<span class="hljs-string">&quot;UTF-8&quot;</span>);<br>resp.setCharacterEncoding(<span class="hljs-string">&quot;UTF-8&quot;</span>);<br>resp.setContentType(<span class="hljs-string">&quot;text/html;charset=utf-8&quot;</span>);<br><br>    <span class="hljs-comment">//å¾—åˆ°Session</span><br><span class="hljs-type">HttpSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> req.getSession();<br><span class="hljs-comment">//ç»™Sessionä¸­å­˜ä¸œè¥¿</span><br>session.setAttribute(<span class="hljs-string">&quot;name&quot;</span>,<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;æ—æ…•æ¤¿&quot;</span>,<span class="hljs-number">1</span>));<br><span class="hljs-comment">//è·å–Sessionçš„ID</span><br><span class="hljs-type">String</span> <span class="hljs-variable">sessionId</span> <span class="hljs-operator">=</span> session.getId();<br><br>    <span class="hljs-comment">//åˆ¤æ–­Sessionæ˜¯ä¸æ˜¯æ–°åˆ›å»º</span><br><span class="hljs-keyword">if</span> (session.isNew())&#123;<br>resp.getWriter().write(<span class="hljs-string">&quot;sessionåˆ›å»ºæˆåŠŸ,ID:&quot;</span>+sessionId);<br>&#125;<span class="hljs-keyword">else</span> &#123;<br>resp.getWriter().write(<span class="hljs-string">&quot;sessionä»¥åŠåœ¨æœåŠ¡å™¨ä¸­å­˜åœ¨äº†,ID:&quot;</span>+sessionId);<br>&#125;<br><br><span class="hljs-comment">//Sessionåˆ›å»ºçš„æ—¶å€™åšäº†ä»€ä¹ˆäº‹æƒ…ï¼›</span><br><span class="hljs-comment">// Cookie cookie = new Cookie(&quot;JSESSIONID&quot;,sessionId);</span><br><span class="hljs-comment">// resp.addCookie(cookie);</span><br>&#125;<br>    <br><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>doGet(req, resp);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//å¾—åˆ°Session</span><br><span class="hljs-type">HttpSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> req.getSession();<br><span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> (Person) session.getAttribute(<span class="hljs-string">&quot;name&quot;</span>);<br>System.out.println(person.toString());<br><span class="hljs-type">HttpSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> req.getSession();<br>session.removeAttribute(<span class="hljs-string">&quot;name&quot;</span>);<br><span class="hljs-comment">//æ‰‹åŠ¨æ³¨é”€Session</span><br>session.invalidate();<br></code></pre></td></tr></table></figure><p><strong>ä¼šè¯è‡ªåŠ¨è¿‡æœŸï¼šweb.xmlé…ç½®</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--è®¾ç½®Sessioné»˜è®¤çš„å¤±æ•ˆæ—¶é—´--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">session-config</span>&gt;</span><br><span class="hljs-comment">&lt;!--15åˆ†é’ŸåSessionè‡ªåŠ¨å¤±æ•ˆï¼Œä»¥åˆ†é’Ÿä¸ºå•ä½--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">session-timeout</span>&gt;</span>15<span class="hljs-tag">&lt;/<span class="hljs-name">session-timeout</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">session-config</span>&gt;</span><br></code></pre></td></tr></table></figure><h1 id="7-JSP"><a href="#7-JSP" class="headerlink" title="7. JSP"></a>7. JSP</h1><p>â€¦â€¦</p><h1 id="8-JavaBean"><a href="#8-JavaBean" class="headerlink" title="8. JavaBean"></a>8. JavaBean</h1><p>å®ä½“ç±» </p><p>JavaBeanæœ‰ç‰¹å®šçš„å†™æ³•ï¼š </p><ul><li>å¿…é¡»è¦æœ‰ä¸€ä¸ªæ— å‚æ„é€  </li><li>å±æ€§å¿…é¡»ç§æœ‰åŒ– </li><li>å¿…é¡»æœ‰å¯¹åº”çš„get/setæ–¹æ³•</li></ul><p>ä¸€èˆ¬ç”¨æ¥å’Œæ•°æ®åº“çš„å­—æ®µåšæ˜ å°„ ORM</p><p>ORM ï¼šå¯¹è±¡å…³ç³»æ˜ å°„</p><ul><li>è¡¨  â€”-&gt;  ç±» </li><li>å­—æ®µ  â€”-&gt;  å±æ€§ </li><li>è¡Œè®°å½•  â€”-&gt;  å¯¹è±¡</li></ul><p><strong>peopleè¡¨</strong></p><table><thead><tr><th>id</th><th>name</th><th>age</th><th>address</th></tr></thead><tbody><tr><td>1</td><td>æ—æ…•æ¤¿</td><td>18</td><td>é’å²›</td></tr><tr><td>2</td><td>æ—å—èŠŠ</td><td>20</td><td>åŒ—äº¬</td></tr><tr><td>3</td><td>æ—è½è¯—</td><td>19</td><td>å—äº¬</td></tr></tbody></table><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">People</span>&#123;<br><span class="hljs-keyword">private</span> <span class="hljs-type">int</span> id;<br><span class="hljs-keyword">private</span> String name;<br><span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;<br><span class="hljs-keyword">private</span> String address;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>&#123;<br><span class="hljs-keyword">new</span> <span class="hljs-title class_">People</span>(<span class="hljs-number">1</span>,<span class="hljs-string">&quot;æ—æ…•æ¤¿&quot;</span>,<span class="hljs-number">18</span>ï¼Œ<span class="hljs-string">&quot;é’å²›&quot;</span>);<br><span class="hljs-keyword">new</span> <span class="hljs-title class_">People</span>(<span class="hljs-number">2</span>,<span class="hljs-string">&quot;æ—å—èŠŠ&quot;</span>,<span class="hljs-number">20</span>ï¼Œ<span class="hljs-string">&quot;åŒ—äº¬&quot;</span>);<br><span class="hljs-keyword">new</span> <span class="hljs-title class_">People</span>(<span class="hljs-number">3</span>,<span class="hljs-string">&quot;æ—è½è¯—&quot;</span>,<span class="hljs-number">19</span>ï¼Œ<span class="hljs-string">&quot;å—äº¬&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="9-MVCä¸‰å±‚æ¶æ„"><a href="#9-MVCä¸‰å±‚æ¶æ„" class="headerlink" title="9. MVCä¸‰å±‚æ¶æ„"></a>9. MVCä¸‰å±‚æ¶æ„</h1><p>ä»€ä¹ˆæ˜¯MVCï¼š Model view Controller    æ¨¡å‹ã€è§†å›¾ã€æ§åˆ¶å™¨</p><h2 id="9-1-æ—©äº›å¹´"><a href="#9-1-æ—©äº›å¹´" class="headerlink" title="9.1 æ—©äº›å¹´"></a>9.1 æ—©äº›å¹´</h2><p><img src="https://img.yiqiangshiyia.cn/blog/javaweb061.jpg" alt="javaweb061"></p><p>ç”¨æˆ·ç›´æ¥è®¿é—®æ§åˆ¶å±‚ï¼Œæ§åˆ¶å±‚å°±å¯ä»¥ç›´æ¥æ“ä½œæ•°æ®åº“</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java">servlet--CRUD--&gt;æ•°æ®åº“<br>å¼Šç«¯ï¼šç¨‹åºååˆ†è‡ƒè‚¿ï¼Œä¸åˆ©äºç»´æŠ¤<br>servletçš„ä»£ç ä¸­ï¼šå¤„ç†è¯·æ±‚ã€å“åº”ã€è§†å›¾è·³è½¬ã€å¤„ç†JDBCã€å¤„ç†ä¸šåŠ¡ä»£ç ã€å¤„ç†é€»è¾‘ä»£ç <br><br>æ¶æ„ï¼šæ²¡æœ‰ä»€ä¹ˆæ˜¯åŠ ä¸€å±‚è§£å†³ä¸äº†çš„ï¼<br>ç¨‹åºå‘˜è°ƒç”¨<br>  |<br>JDBC<br>  |<br>Mysql Oracle SqlServer ....<br></code></pre></td></tr></table></figure><h2 id="9-2-MVCä¸‰å±‚æ¶æ„"><a href="#9-2-MVCä¸‰å±‚æ¶æ„" class="headerlink" title="9.2 MVCä¸‰å±‚æ¶æ„"></a>9.2 MVCä¸‰å±‚æ¶æ„</h2><p><img src="https://img.yiqiangshiyia.cn/blog/javaweb062.jpg" alt="javaweb062"></p><p><strong>Model</strong> </p><ul><li>ä¸šåŠ¡å¤„ç† ï¼šä¸šåŠ¡é€»è¾‘ï¼ˆServiceï¼‰ </li><li>æ•°æ®æŒä¹…å±‚ï¼šCRUD ï¼ˆDaoï¼‰ </li></ul><p><strong>View</strong> </p><ul><li>å±•ç¤ºæ•°æ® </li><li>æä¾›é“¾æ¥å‘èµ·Servletè¯·æ±‚ ï¼ˆaï¼Œformï¼Œimgâ€¦ï¼‰ </li></ul><p><strong>Controller</strong> ï¼ˆServletï¼‰ </p><ul><li><p>æ¥æ”¶ç”¨æˆ·çš„è¯·æ±‚ ï¼šï¼ˆreqï¼šè¯·æ±‚å‚æ•°ã€Sessionä¿¡æ¯â€¦.ï¼‰ </p></li><li><p>äº¤ç»™ä¸šåŠ¡å±‚å¤„ç†å¯¹åº”çš„ä»£ç  </p></li><li><p>æ§åˆ¶è§†å›¾çš„è·³è½¬</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">ç™»å½•---&gt;æ¥æ”¶ç”¨æˆ·çš„ç™»å½•è¯·æ±‚---&gt;å¤„ç†ç”¨æˆ·çš„è¯·æ±‚ï¼ˆè·å–ç”¨æˆ·ç™»å½•çš„å‚æ•°ï¼Œusernameï¼Œ<br>passwordï¼‰----&gt;äº¤ç»™ä¸šåŠ¡å±‚å¤„ç†ç™»å½•ä¸šåŠ¡ï¼ˆåˆ¤æ–­ç”¨æˆ·åå¯†ç æ˜¯å¦æ­£ç¡®ï¼šäº‹åŠ¡ï¼‰---&gt;Daoå±‚æŸ¥è¯¢ç”¨<br>æˆ·åå’Œå¯†ç æ˜¯å¦æ­£ç¡®--&gt;æ•°æ®åº“<br></code></pre></td></tr></table></figure></li></ul><h1 id="10-Filter-ï¼ˆé‡ç‚¹ï¼‰"><a href="#10-Filter-ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="10. Filter ï¼ˆé‡ç‚¹ï¼‰"></a>10. Filter ï¼ˆé‡ç‚¹ï¼‰</h1><p>Filterï¼šè¿‡æ»¤å™¨</p><p><strong>ä½œç”¨ï¼š</strong>ç”¨æ¥è¿‡æ»¤ç½‘ç«™çš„æ•°æ®</p><ul><li>å¤„ç†ä¸­æ–‡ä¹±ç  </li><li>ç™»å½•éªŒè¯â€¦.</li></ul><p><img src="https://img.yiqiangshiyia.cn/blog/javaweb063.jpg" alt="javaweb063"></p><p><strong>Filterå¼€å‘æ­¥éª¤ï¼š</strong></p><ol><li><p>å¯¼åŒ…ï¼ˆpom.xmlï¼‰</p></li><li><p>ç¼–å†™è¿‡æ»¤å™¨</p><p>ç¼–å†™Javaç±»å®ç°Filteræ¥å£ï¼Œé‡å†™å¯¹åº”çš„ä¸‰ä¸ªæ–¹æ³•ï¼ˆæ¥å£åœ¨ javax.servlet åŒ…ä¸‹ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.study.servlet;<br><span class="hljs-keyword">import</span> javax.servlet.*;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CharacterEncodingFilter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Filter</span> &#123;<br><br>    <span class="hljs-comment">//åˆå§‹åŒ–ï¼šwebæœåŠ¡å™¨å¯åŠ¨ï¼Œå°±ä»¥åŠåˆå§‹åŒ–äº†ï¼Œéšæ—¶ç­‰å¾…è¿‡æ»¤å¯¹è±¡å‡ºç°</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">(FilterConfig filterConfig)</span> <span class="hljs-keyword">throws</span> ServletException &#123;<br>        System.out.println(<span class="hljs-string">&quot;CharacterEncodingFilteråˆå§‹åŒ–&quot;</span>);<br>    &#125;<br>    <span class="hljs-comment">//Chain : é“¾</span><br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">        1. è¿‡æ»¤ä¸­çš„æ‰€æœ‰ä»£ç ï¼Œåœ¨è¿‡æ»¤ç‰¹å®šè¯·æ±‚çš„æ—¶å€™éƒ½ä¼šæ‰§è¡Œ</span><br><span class="hljs-comment">        2. å¿…é¡»è¦è®©è¿‡æ»¤å™¨ç»§ç»­åŒè¡Œ chain.doFilter(request,response);</span><br><span class="hljs-comment">    */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doFilter</span><span class="hljs-params">(ServletRequest request, ServletResponse response, FilterChain chain)</span> <span class="hljs-keyword">throws</span> IOException, ServletException &#123;<br>        request.setCharacterEncoding(<span class="hljs-string">&quot;utf-8&quot;</span>);<br>        response.setCharacterEncoding(<span class="hljs-string">&quot;utf-8&quot;</span>);<br>        response.setContentType(<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;CharacterEncodingFilteræ‰§è¡Œå‰....&quot;</span>);<br>        chain.doFilter(request,response); <span class="hljs-comment">//è®©æˆ‘ä»¬çš„è¯·æ±‚ç»§ç»­èµ°ï¼Œå¦‚æœä¸å†™ï¼Œç¨‹åºåˆ°è¿™é‡Œå°±è¢«æ‹¦æˆªåœæ­¢</span><br>        System.out.println(<span class="hljs-string">&quot;CharacterEncodingFilteræ‰§è¡Œå....&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-comment">//é”€æ¯ï¼šwebæœåŠ¡å™¨å…³é—­çš„æ—¶å€™ï¼Œè¿‡æ»¤ä¼šé”€æ¯</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">destroy</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;CharacterEncodingFilteré”€æ¯&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>åœ¨web.xmlä¸­é…ç½® Filter</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">filter</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">filter-class</span>&gt;</span>com.study.filter.CharacterEncodingFilter&lt;/filterclass&gt;<br><span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">filter-mapping</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><br><span class="hljs-comment">&lt;!--åªè¦æ˜¯ /servletçš„ä»»ä½•è¯·æ±‚ï¼Œä¼šç»è¿‡è¿™ä¸ªè¿‡æ»¤å™¨--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/servlet/*<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">æ•´ä¸ªç½‘ç«™çš„è¯·æ±‚éƒ½è¦è¿›è¿‡è¿™ä¸ªè¿‡æ»¤å™¨</span><br><span class="hljs-comment">&lt;url-pattern&gt;/*&lt;/url-pattern&gt;</span><br><span class="hljs-comment">--&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">filter-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure></li></ol><h1 id="11-ç›‘å¬å™¨"><a href="#11-ç›‘å¬å™¨" class="headerlink" title="11. ç›‘å¬å™¨"></a>11. ç›‘å¬å™¨</h1><p>å®ç°ä¸€ä¸ªç›‘å¬å™¨çš„æ¥å£ï¼ˆæœ‰Nç§ï¼‰</p><ol><li><p>ç¼–å†™ä¸€ä¸ªç›‘å¬å™¨</p><p>ç¼–å†™ä¸€ä¸ªJavaç±»å®ç°ç›‘å¬å™¨çš„æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//ç»Ÿè®¡ç½‘ç«™åœ¨çº¿äººæ•° ï¼š ç»Ÿè®¡session</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OnlineCountListener</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">HttpSessionListener</span> &#123;<br><br>    <span class="hljs-comment">//åˆ›å»ºsessionç›‘å¬ï¼š çœ‹ä½ çš„ä¸€ä¸¾ä¸€åŠ¨</span><br><span class="hljs-comment">//ä¸€æ—¦åˆ›å»ºSessionå°±ä¼šè§¦å‘ä¸€æ¬¡è¿™ä¸ªäº‹ä»¶ï¼</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sessionCreated</span><span class="hljs-params">(HttpSessionEvent se)</span> &#123;<br><span class="hljs-type">ServletContext</span> <span class="hljs-variable">ctx</span> <span class="hljs-operator">=</span> se.getSession().getServletContext();<br>System.out.println(se.getSession().getId());<br><span class="hljs-type">Integer</span> <span class="hljs-variable">onlineCount</span> <span class="hljs-operator">=</span> (Integer) ctx.getAttribute(<span class="hljs-string">&quot;OnlineCount&quot;</span>);<br><span class="hljs-keyword">if</span> (onlineCount==<span class="hljs-literal">null</span>)&#123;<br>onlineCount = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Integer</span>(<span class="hljs-number">1</span>);<br>&#125;<span class="hljs-keyword">else</span> &#123;<br><span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> onlineCount.intValue();<br>onlineCount = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Integer</span>(count+<span class="hljs-number">1</span>);<br>&#125;<br>ctx.setAttribute(<span class="hljs-string">&quot;OnlineCount&quot;</span>,onlineCount);<br>&#125;<br>    <br>    <span class="hljs-comment">//é”€æ¯sessionç›‘å¬</span><br><span class="hljs-comment">//ä¸€æ—¦é”€æ¯Sessionå°±ä¼šè§¦å‘ä¸€æ¬¡è¿™ä¸ªäº‹ä»¶ï¼</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sessionDestroyed</span><span class="hljs-params">(HttpSessionEvent se)</span> &#123;<br><span class="hljs-type">ServletContext</span> <span class="hljs-variable">ctx</span> <span class="hljs-operator">=</span> se.getSession().getServletContext();<br><span class="hljs-type">Integer</span> <span class="hljs-variable">onlineCount</span> <span class="hljs-operator">=</span> (Integer) ctx.getAttribute(<span class="hljs-string">&quot;OnlineCount&quot;</span>);<br><span class="hljs-keyword">if</span> (onlineCount==<span class="hljs-literal">null</span>)&#123;<br>onlineCount = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Integer</span>(<span class="hljs-number">0</span>);<br>&#125;<span class="hljs-keyword">else</span> &#123;<br><span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> onlineCount.intValue();<br>onlineCount = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Integer</span>(count-<span class="hljs-number">1</span>);<br>&#125;<br>ctx.setAttribute(<span class="hljs-string">&quot;OnlineCount&quot;</span>,onlineCount);<br>&#125;<br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    Sessioné”€æ¯ï¼š</span><br><span class="hljs-comment">    1. æ‰‹åŠ¨é”€æ¯ getSession().invalidate();</span><br><span class="hljs-comment">    2. è‡ªåŠ¨é”€æ¯</span><br><span class="hljs-comment">    */</span><br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>web.xmlä¸­æ³¨å†Œç›‘å¬å™¨</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--æ³¨å†Œç›‘å¬å™¨--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">listener</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">listener-class</span>&gt;</span>com.study.listener.OnlineCountListener<span class="hljs-tag">&lt;/<span class="hljs-name">listener-class</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">listener</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>çœ‹æƒ…å†µæ˜¯å¦ä½¿ç”¨</p></li></ol><h1 id="12-è¿‡æ»¤å™¨ã€ç›‘å¬å™¨å¸¸è§åº”ç”¨"><a href="#12-è¿‡æ»¤å™¨ã€ç›‘å¬å™¨å¸¸è§åº”ç”¨" class="headerlink" title="12. è¿‡æ»¤å™¨ã€ç›‘å¬å™¨å¸¸è§åº”ç”¨"></a>12. è¿‡æ»¤å™¨ã€ç›‘å¬å™¨å¸¸è§åº”ç”¨</h1><p><strong>ç›‘å¬å™¨ï¼šGUIç¼–ç¨‹ä¸­ç»å¸¸ä½¿ç”¨</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TestPanel</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><span class="hljs-type">Frame</span> <span class="hljs-variable">frame</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Frame</span>(<span class="hljs-string">&quot;ä¸­ç§‹èŠ‚å¿«ä¹&quot;</span>); <span class="hljs-comment">//æ–°å»ºä¸€ä¸ªçª—ä½“</span><br><span class="hljs-type">Panel</span> <span class="hljs-variable">panel</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Panel</span>(<span class="hljs-literal">null</span>); <span class="hljs-comment">//é¢æ¿</span><br>frame.setLayout(<span class="hljs-literal">null</span>); <span class="hljs-comment">//è®¾ç½®çª—ä½“çš„å¸ƒå±€</span><br><br>        frame.setBounds(<span class="hljs-number">300</span>,<span class="hljs-number">300</span>,<span class="hljs-number">500</span>,<span class="hljs-number">500</span>);<br>frame.setBackground(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Color</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">255</span>)); <span class="hljs-comment">//è®¾ç½®èƒŒæ™¯é¢œè‰²</span><br><br>        panel.setBounds(<span class="hljs-number">50</span>,<span class="hljs-number">50</span>,<span class="hljs-number">300</span>,<span class="hljs-number">300</span>);<br>panel.setBackground(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Color</span>(<span class="hljs-number">0</span>,<span class="hljs-number">255</span>,<span class="hljs-number">0</span>)); <span class="hljs-comment">//è®¾ç½®èƒŒæ™¯é¢œè‰²</span><br><br>        frame.add(panel);<br>  frame.setVisible(<span class="hljs-literal">true</span>);<br><br>        <span class="hljs-comment">//ç›‘å¬äº‹ä»¶ï¼Œç›‘å¬å…³é—­äº‹ä»¶</span><br>frame.addWindowListener(<span class="hljs-keyword">new</span> <span class="hljs-title class_">WindowAdapter</span>() &#123;<br><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">windowClosing</span><span class="hljs-params">(WindowEvent e)</span> &#123;<br><span class="hljs-built_in">super</span>.windowClosing(e);<br>&#125;<br>&#125;);<br>&#125;<br>&#125;  <br></code></pre></td></tr></table></figure><p>ç”¨æˆ·ç™»å½•ä¹‹åæ‰èƒ½è¿›å…¥ä¸»é¡µï¼ç”¨æˆ·æ³¨é”€åå°±ä¸èƒ½è¿›å…¥ä¸»é¡µäº†ï¼ </p><ol><li><p>ç”¨æˆ·ç™»å½•ä¹‹åï¼Œå‘Sesisonä¸­æ”¾å…¥ç”¨æˆ·çš„æ•°æ®</p></li><li><p>è¿›å…¥ä¸»é¡µçš„æ—¶å€™è¦åˆ¤æ–­ç”¨æˆ·æ˜¯å¦å·²ç»ç™»å½•ï¼›è¦æ±‚ï¼šåœ¨è¿‡æ»¤å™¨ä¸­å®ç°ï¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">HttpServletRequest</span> <span class="hljs-variable">request</span> <span class="hljs-operator">=</span> (HttpServletRequest) req;<br><span class="hljs-type">HttpServletResponse</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> (HttpServletResponse) resp;<br><br><span class="hljs-keyword">if</span> (request.getSession().getAttribute(Constant.USER_SESSION)==<span class="hljs-literal">null</span>)&#123;<br><br>    response.sendRedirect(<span class="hljs-string">&quot;/error.jsp&quot;</span>);<br>&#125;<br><br>chain.doFilter(request,response);<br></code></pre></td></tr></table></figure></li></ol>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>web</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¤§äºŒæ•°æ®ç»“æ„ä¸ç®—æ³•å®ä¹ </title>
    <link href="/2022/08/20/%E5%A4%A7%E4%BA%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E5%AE%9E%E4%B9%A0/"/>
    <url>/2022/08/20/%E5%A4%A7%E4%BA%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E5%AE%9E%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<blockquote><p>å¤§äºŒå°å­¦æœŸæ•°æ®ç»“æ„ä¸ç®—æ³•å®ä¹ PTA 12é“æ•°æ®ç»“æ„é¢˜ç›®é¢˜è§£å’ŒACä»£ç </p><p>æ—¶é—´ï¼š2022.08.15-2022.09.05    ç½‘è¯¾</p></blockquote><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220903162715.png" alt="QQæˆªå›¾20220903162715"></p><h2 id="ç¬¬1é¢˜-èŒƒå›´æŸ¥è¯¢-Range"><a href="#ç¬¬1é¢˜-èŒƒå›´æŸ¥è¯¢-Range" class="headerlink" title="ç¬¬1é¢˜ èŒƒå›´æŸ¥è¯¢(Range)"></a>ç¬¬1é¢˜ èŒƒå›´æŸ¥è¯¢(Range)</h2><h3 id="é¢˜ç›®å¤§æ„"><a href="#é¢˜ç›®å¤§æ„" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>æ•°è½´ä¸Šæœ‰nä¸ªç‚¹ï¼Œå¯¹äºä»»ä¸€é—­åŒºé—´ [a, b]ï¼Œè¯•è®¡ç®—è½åœ¨å…¶å†…çš„ç‚¹æ•°ã€‚<br>è¦æ±‚ï¼š<br>0 â‰¤ n, m â‰¤ 5Ã—10^5<br>å¯¹äºæ¯æ¬¡æŸ¥è¯¢çš„åŒºé—´[a, b]ï¼Œéƒ½æœ‰a â‰¤ b<br>å„ç‚¹çš„åæ ‡äº’å¼‚</p><p><strong>è¾“å…¥æ ¼å¼:</strong></p><p>ç¬¬ä¸€è¡ŒåŒ…æ‹¬ä¸¤ä¸ªæ•´æ•°ï¼šç‚¹çš„æ€»æ•°nï¼ŒæŸ¥è¯¢çš„æ¬¡æ•°mã€‚<br>ç¬¬äºŒè¡ŒåŒ…å«nä¸ªæ•°ï¼Œä¸ºå„ä¸ªç‚¹çš„åæ ‡ã€‚<br>ä»¥ä¸‹mè¡Œï¼Œå„åŒ…å«ä¸¤ä¸ªæ•´æ•°ï¼šæŸ¥è¯¢åŒºé—´çš„å·¦ã€å³è¾¹ç•Œaå’Œbã€‚</p><p><strong>è¾“å‡ºæ ¼å¼:</strong></p><p>å¯¹æ¯æ¬¡æŸ¥è¯¢ï¼Œè¾“å‡ºè½åœ¨é—­åŒºé—´[a, b]å†…ç‚¹çš„ä¸ªæ•°ã€‚</p><p><strong>è¾“å…¥æ ·ä¾‹:</strong></p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">5 </span><span class="hljs-number">2</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">3</span> <span class="hljs-number">7</span> <span class="hljs-number">9</span> <span class="hljs-number">11</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">6</span><br><span class="hljs-symbol">7 </span><span class="hljs-number">12</span><br></code></pre></td></tr></table></figure><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs">0<br>3<br></code></pre></td></tr></table></figure><h3 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>æœªé‡åˆ°é—®é¢˜</p><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-meta">#<span class="hljs-keyword">define</span> N 500000</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> n,m,a,b;<br>    <span class="hljs-type">int</span> nums[N+<span class="hljs-number">10</span>];<br>    cin&gt;&gt;n&gt;&gt;m;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;n; i++)&#123;<br>        cin&gt;&gt;nums[i];<br>    &#125;<br>    <span class="hljs-keyword">while</span>(m--)&#123;<br>        cin&gt;&gt;a&gt;&gt;b;<br>        <span class="hljs-type">int</span> ans = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;n; i++)&#123;<br>            <span class="hljs-keyword">if</span>(nums[i] &gt;= a &amp;&amp; nums[i] &lt;= b)&#123;<br>                ans++;<br>            &#125;<br>        &#125;<br>        cout&lt;&lt;ans&lt;&lt;endl;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ç¬¬2é¢˜-ç¥–ç›-Zuma"><a href="#ç¬¬2é¢˜-ç¥–ç›-Zuma" class="headerlink" title="ç¬¬2é¢˜ ç¥–ç›(Zuma)"></a>ç¬¬2é¢˜ ç¥–ç›(Zuma)</h2><h3 id="é¢˜ç›®å¤§æ„-1"><a href="#é¢˜ç›®å¤§æ„-1" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p><img src="https://img.yiqiangshiyia.cn/blog/4570edbb-6efb-4450-8356-957f4f6d562e.png" alt="4570edbb-6efb-4450-8356-957f4f6d562e"></p><p>ç¥–ç›æ˜¯ä¸€æ¬¾æ›¾ç»é£é¡å…¨çƒçš„æ¸¸æˆï¼Œå…¶ç©æ³•æ˜¯ï¼šåœ¨ä¸€æ¡è½¨é“ä¸Šåˆå§‹æ’åˆ—ç€è‹¥å¹²ä¸ªå½©è‰²ç å­ï¼Œå…¶ä¸­ä»»æ„ä¸‰ä¸ªç›¸é‚»çš„ç å­ä¸ä¼šå®Œå…¨åŒè‰²ã€‚æ­¤åï¼Œä½ å¯ä»¥å‘å°„ç å­åˆ°è½¨é“ä¸Šå¹¶åŠ å…¥åŸæœ‰åºåˆ—ä¸­ã€‚ä¸€æ—¦æœ‰ä¸‰ä¸ªæˆ–æ›´å¤šåŒè‰²çš„ç å­å˜æˆç›¸é‚»ï¼Œå®ƒä»¬å°±ä¼šç«‹å³æ¶ˆå¤±ã€‚è¿™ç±»æ¶ˆé™¤ç°è±¡å¯èƒ½ä¼šè¿é”å¼å‘ç”Ÿï¼Œå…¶é—´ä½ å°†æš‚æ—¶ä¸èƒ½å‘å°„ç å­ã€‚<br>å¼€å‘å•†æœ€è¿‘å‡†å¤‡ä¸ºç©å®¶å†™ä¸€ä¸ªæ¸¸æˆè¿‡ç¨‹çš„å›æ”¾å·¥å…·ã€‚ä»–ä»¬å·²ç»åœ¨æ¸¸æˆå†…å®Œæˆäº†è¿‡ç¨‹è®°å½•çš„åŠŸèƒ½ï¼Œè€Œå›æ”¾åŠŸèƒ½çš„å®ç°åˆ™å§”æ‰˜ä½ æ¥å®Œæˆã€‚<br>æ¸¸æˆè¿‡ç¨‹çš„è®°å½•ä¸­ï¼Œé¦–å…ˆæ˜¯è½¨é“ä¸Šåˆå§‹çš„ç å­åºåˆ—ï¼Œç„¶åæ˜¯ç©å®¶æ¥ä¸‹æ¥æ‰€åšçš„ä¸€ç³»åˆ—æ“ä½œã€‚ä½ çš„ä»»åŠ¡æ˜¯ï¼Œåœ¨å„æ¬¡æ“ä½œä¹‹ååŠæ—¶è®¡ç®—å‡ºæ–°çš„ç å­åºåˆ—ã€‚</p><p><strong>è¾“å…¥æ ¼å¼:</strong></p><p>ç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªç”±å¤§å†™å­—æ¯â€™Aâ€™~â€™Zâ€™ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºè½¨é“ä¸Šåˆå§‹çš„ç å­åºåˆ—ï¼Œä¸åŒçš„å­—æ¯è¡¨ç¤ºä¸åŒçš„é¢œè‰²ã€‚<br>ç¬¬äºŒè¡Œæ˜¯ä¸€ä¸ªæ•°å­—nï¼Œè¡¨ç¤ºæ•´ä¸ªå›æ”¾è¿‡ç¨‹å…±æœ‰næ¬¡æ“ä½œã€‚<br>æ¥ä¸‹æ¥çš„nè¡Œä¾æ¬¡å¯¹åº”äºå„æ¬¡æ“ä½œã€‚æ¯æ¬¡æ“ä½œç”±ä¸€ä¸ªæ•°å­—kå’Œä¸€ä¸ªå¤§å†™å­—æ¯Î£æè¿°ï¼Œä»¥ç©ºæ ¼åˆ†éš”ã€‚å…¶ä¸­ï¼ŒÎ£ä¸ºæ–°ç å­çš„é¢œè‰²ã€‚è‹¥æ’å…¥å‰å…±æœ‰mé¢—ç å­ï¼Œåˆ™k âˆˆ [0, m]è¡¨ç¤ºæ–°ç å­åµŒå…¥ä¹‹åï¼ˆå°šæœªå‘ç”Ÿæ¶ˆé™¤ä¹‹å‰ï¼‰åœ¨è½¨é“ä¸Šçš„ä½åºã€‚<br>è¦æ±‚ï¼š<br>0 â‰¤ n â‰¤ 10^4<br>0 â‰¤ åˆå§‹ç å­æ•°é‡ â‰¤ 10^4</p><p><strong>è¾“å‡ºæ ¼å¼:</strong></p><p>è¾“å‡ºå…±nè¡Œï¼Œä¾æ¬¡ç»™å‡ºå„æ¬¡æ“ä½œï¼ˆåŠå¯èƒ½éšå³å‘ç”Ÿçš„æ¶ˆé™¤ç°è±¡ï¼‰ä¹‹åè½¨é“ä¸Šçš„ç å­åºåˆ—ã€‚<br>å¦‚æœè½¨é“ä¸Šå·²æ²¡æœ‰ç å­ï¼Œåˆ™ä»¥â€œ-â€è¡¨ç¤ºã€‚</p><p><strong>è¾“å…¥æ ·ä¾‹:</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs css">ACCBA<br><span class="hljs-number">5</span><br><span class="hljs-number">1</span> <span class="hljs-selector-tag">B</span><br><span class="hljs-number">0</span> <span class="hljs-selector-tag">A</span><br><span class="hljs-number">2</span> <span class="hljs-selector-tag">B</span><br><span class="hljs-number">4</span> C<br><span class="hljs-number">0</span> <span class="hljs-selector-tag">A</span><br></code></pre></td></tr></table></figure><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">ABCCBA<br>AABCCBA<br>AABBCCBA<br><span class="hljs-bullet">-</span><br><span class="hljs-bullet"></span>A<br></code></pre></td></tr></table></figure><h3 id="é¢˜è§£-1"><a href="#é¢˜è§£-1" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>æœªé‡åˆ°é—®é¢˜</p><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-meta">#<span class="hljs-keyword">define</span> N 10000</span><br><br><span class="hljs-comment">//åˆ¤æ–­æ˜¯å¦æœ‰ä¸‰ä¸ªè¿ç»­é‡å¤çš„å­—æ¯</span><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">repeat</span><span class="hljs-params">(string s)</span></span>&#123;<br>    <span class="hljs-keyword">if</span>(s.<span class="hljs-built_in">size</span>() &lt; <span class="hljs-number">3</span>)&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;s.<span class="hljs-built_in">size</span>()<span class="hljs-number">-2</span>; i++)&#123;<br>        <span class="hljs-keyword">if</span>(s[i] == s[i+<span class="hljs-number">1</span>] &amp;&amp; s[i+<span class="hljs-number">1</span>] == s[i+<span class="hljs-number">2</span>])&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> m,n;<br>    string str;<br>    cin&gt;&gt;str;<br>    cin&gt;&gt;n;<br>    <span class="hljs-keyword">while</span>(n--)&#123;<br>        <span class="hljs-type">int</span> index;<br>        <span class="hljs-type">char</span> ch;<br>        cin&gt;&gt;index&gt;&gt;ch;<br>        string str2 = str.<span class="hljs-built_in">substr</span>(<span class="hljs-number">0</span>,index)+ch+str.<span class="hljs-built_in">substr</span>(index,str.<span class="hljs-built_in">size</span>()-index);<br>        <span class="hljs-comment">//è°ƒç”¨å‡½æ•°åˆ¤æ–­æ˜¯å¦å­˜åœ¨é‡å¤</span><br>        <span class="hljs-keyword">while</span>(<span class="hljs-built_in">repeat</span>(str2))&#123;<br>            <span class="hljs-comment">//å»é‡</span><br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;str2.<span class="hljs-built_in">size</span>()<span class="hljs-number">-3</span>; i++)&#123;<br>                <span class="hljs-keyword">if</span>(str2[i] == str2[i+<span class="hljs-number">1</span>] &amp;&amp; str2[i+<span class="hljs-number">1</span>] == str2[i+<span class="hljs-number">2</span>])&#123;  <span class="hljs-comment">//å¦‚æœè¿ç»­ä¸‰ä¸ªç›¸ç­‰</span><br>                    str2 = str2.<span class="hljs-built_in">substr</span>(<span class="hljs-number">0</span>,i)+str2.<span class="hljs-built_in">substr</span>(i+<span class="hljs-number">3</span>,str2.<span class="hljs-built_in">size</span>()<span class="hljs-number">-3</span>-i);<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">if</span>(str2[str2.<span class="hljs-built_in">size</span>()<span class="hljs-number">-3</span>] == str2[str2.<span class="hljs-built_in">size</span>()<span class="hljs-number">-2</span>] &amp;&amp; str2[str2.<span class="hljs-built_in">size</span>()<span class="hljs-number">-2</span>] == str2[str2.<span class="hljs-built_in">size</span>()<span class="hljs-number">-1</span>])&#123;<br>                str2 = str2.<span class="hljs-built_in">substr</span>(<span class="hljs-number">0</span>,str2.<span class="hljs-built_in">size</span>()<span class="hljs-number">-3</span>);<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">if</span>(str2.<span class="hljs-built_in">size</span>() == <span class="hljs-number">0</span>)&#123;<br>            cout&lt;&lt;<span class="hljs-string">&quot;-&quot;</span>&lt;&lt;endl;<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            cout&lt;&lt;str2&lt;&lt;endl;<br>        &#125;<br>        str = str2;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ç¬¬3é¢˜-ç¯å¡”-LightHouse"><a href="#ç¬¬3é¢˜-ç¯å¡”-LightHouse" class="headerlink" title="ç¬¬3é¢˜ ç¯å¡”(LightHouse)"></a>ç¬¬3é¢˜ ç¯å¡”(LightHouse)</h2><h3 id="é¢˜ç›®å¤§æ„-2"><a href="#é¢˜ç›®å¤§æ„-2" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>æµ·ä¸Šæœ‰è®¸å¤šç¯å¡”ï¼Œä¸ºè¿‡è·¯èˆ¹åªç…§æ˜ã€‚</p><p><img src="https://img.yiqiangshiyia.cn/blog/3d494b5e-b74e-4444-ae45-12394961241f.png" alt="3d494b5e-b74e-4444-ae45-12394961241f"></p><p>ï¼ˆå›¾ä¸€ï¼‰<br>å¦‚å›¾ä¸€æ‰€ç¤ºï¼Œæ¯ä¸ªç¯å¡”éƒ½é…æœ‰ä¸€ç›æ¢ç…§ç¯ï¼Œç…§äº®å…¶ä¸œåŒ—ã€è¥¿å—ä¸¤ä¸ªå¯¹é¡¶çš„ç›´è§’åŒºåŸŸã€‚æ¢ç…§ç¯çš„åŠŸç‡ä¹‹å¤§ï¼Œè¶³ä»¥è¦†ç›–ä»»ä½•è·ç¦»ã€‚ç¯å¡”æœ¬èº«æ˜¯å¦‚æ­¤ä¹‹å°ï¼Œå¯ä»¥å‡å®šå®ƒä»¬ä¸ä¼šå½¼æ­¤é®æŒ¡ã€‚</p><p><img src="https://img.yiqiangshiyia.cn/blog/bfdf2806-18f1-4cbe-84f2-4a03ad5737cd.png" alt="bfdf2806-18f1-4cbe-84f2-4a03ad5737cd"></p><p>ï¼ˆå›¾äºŒï¼‰<br>è‹¥ç¯å¡”Aã€Bå‡åœ¨å¯¹æ–¹çš„ç…§äº®èŒƒå›´å†…ï¼Œåˆ™ç§°å®ƒä»¬èƒ½å¤Ÿç…§äº®å½¼æ­¤ã€‚æ¯”å¦‚åœ¨å›¾äºŒçš„å®ä¾‹ä¸­ï¼Œè“ã€çº¢ç¯å¡”å¯ç…§äº®å½¼æ­¤ï¼Œè“ã€ç»¿ç¯å¡”åˆ™ä¸æ˜¯ï¼Œçº¢ã€ç»¿ç¯å¡”ä¹Ÿä¸æ˜¯ã€‚<br>ç°åœ¨ï¼Œå¯¹äºä»»ä½•ä¸€ç»„ç»™å®šçš„ç¯å¡”ï¼Œè¯·è®¡ç®—å‡ºå…¶ä¸­æœ‰å¤šå°‘å¯¹ç¯å¡”èƒ½å¤Ÿç…§äº®å½¼æ­¤ã€‚</p><p><strong>è¾“å…¥æ ¼å¼:</strong></p><p>å…±n+1è¡Œã€‚<br>ç¬¬1è¡Œä¸º1ä¸ªæ•´æ•°nï¼Œè¡¨ç¤ºç¯å¡”çš„æ€»æ•°ã€‚<br>ç¬¬2åˆ°n+1è¡Œæ¯è¡ŒåŒ…å«2ä¸ªæ•´æ•°x, yï¼Œåˆ†åˆ«è¡¨ç¤ºå„ç¯å¡”çš„æ¨ªã€çºµåæ ‡ã€‚</p><p>è¦æ±‚ï¼š<br>1 â‰¤ n â‰¤ 4Ã—10^6<br>ç¯å¡”çš„åæ ‡x, yæ˜¯æ•´æ•°ï¼Œä¸”ä¸åŒç¯å¡”çš„x, yåæ ‡å‡äº’å¼‚<br>1 â‰¤ x, y â‰¤ 10^8</p><p><strong>è¾“å‡ºæ ¼å¼:</strong></p><p>1ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºå¯ç…§äº®å½¼æ­¤çš„ç¯å¡”å¯¹çš„æ•°é‡ã€‚</p><p><strong>è¾“å…¥æ ·ä¾‹:</strong></p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-number">3</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">2</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">5 </span><span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p><strong>è¾“å‡ºæ ·ä¾‹:</strong></p><p>åœ¨è¿™é‡Œç»™å‡ºç›¸åº”çš„è¾“å‡ºã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">1<br></code></pre></td></tr></table></figure><h3 id="é¢˜è§£-2"><a href="#é¢˜è§£-2" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p><strong>problemï¼š</strong><br>æ²¡æœ‰ç¼–è¯‘å’Œè¿è¡Œé”™è¯¯ï¼Œä½†æ˜¯æ— æ³•è¾“å…¥æ ·ä¾‹ï¼Œæ§åˆ¶å°æ˜¾ç¤º ï¼š</p><blockquote><p>Process returned -1073741571 (0xC00000FD) execution time : 2.097 s Press any</p></blockquote><p><strong>causeï¼š</strong><br>#define N 4000000<br>int a[N+10][2];<br>åœ¨å‡½æ•°å†…éƒ¨åˆå§‹åŒ–äº†ä¸€ä¸ªç›¸å½“å¤§çš„æ•°ç»„ï¼Œå¯¼è‡´å†…å­˜æº¢å‡ºï¼Œä»è€Œå¯¼è‡´æ•´ä¸ªå‡½æ•°ï¼ˆå³ä¾¿æ˜¯åœ¨åˆå§‹åŒ–è¿™ä¸ªæ•°ç»„ä¹‹å‰çš„ä»£ç ï¼‰æœªæ‰§è¡Œï¼Œå¹¶å¯¼è‡´æ•´ä¸ªç¨‹åºç›´æ¥é€€å‡ºï¼<br><strong>solveï¼š</strong><br>cin&gt;&gt;n;<br>int a[n+10][2];<br>é¿å…äº†å®šä¹‰æ•°ç»„å†…å­˜å¤ªå¤§ï¼Œå¯¼è‡´å†…å­˜æº¢å‡ºå’Œæµªè´¹</p><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> n,ans = <span class="hljs-number">0</span>;<br>    cin&gt;&gt;n;<br>    <span class="hljs-type">int</span> a[n+<span class="hljs-number">10</span>][<span class="hljs-number">2</span>];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;n; i++)&#123;<br>        cin&gt;&gt;a[i][<span class="hljs-number">0</span>]&gt;&gt;a[i][<span class="hljs-number">1</span>];<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;n<span class="hljs-number">-1</span>; i++)&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=i+<span class="hljs-number">1</span>; j&lt;n; j++)&#123;<br>            <span class="hljs-keyword">if</span>((a[j][<span class="hljs-number">0</span>] - a[i][<span class="hljs-number">0</span>]) * (a[j][<span class="hljs-number">1</span>] - a[i][<span class="hljs-number">1</span>]) &gt; <span class="hljs-number">0</span>)&#123;<br>                ans++;<br>            &#125;<br>        &#125;<br>    &#125;<br>    cout&lt;&lt;ans&lt;&lt;endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ç¬¬4é¢˜-åˆ—è½¦è°ƒåº¦-Train"><a href="#ç¬¬4é¢˜-åˆ—è½¦è°ƒåº¦-Train" class="headerlink" title="ç¬¬4é¢˜ åˆ—è½¦è°ƒåº¦(Train)"></a>ç¬¬4é¢˜ åˆ—è½¦è°ƒåº¦(Train)</h2><h3 id="é¢˜ç›®å¤§æ„-3"><a href="#é¢˜ç›®å¤§æ„-3" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>æŸåˆ—è½¦è°ƒåº¦ç«™çš„é“é“è”æ¥ç»“æ„å¦‚Figure 1æ‰€ç¤ºã€‚</p><p><img src="https://img.yiqiangshiyia.cn/blog/1bb71727-2fd5-4d53-b6c9-3a02ab1f4e79.png" alt="1bb71727-2fd5-4d53-b6c9-3a02ab1f4e79"></p><p>å…¶ä¸­ï¼ŒAä¸ºå…¥å£ï¼ŒBä¸ºå‡ºå£ï¼ŒSä¸ºä¸­è½¬ç›²ç«¯ã€‚æ‰€æœ‰é“é“å‡ä¸ºå•è½¨å•å‘å¼ï¼šåˆ—è½¦è¡Œé©¶çš„æ–¹å‘åªèƒ½æ˜¯ä»Aåˆ°Sï¼Œå†ä»Såˆ°Bï¼›å¦å¤–ï¼Œä¸å…è®¸è¶…è½¦ã€‚å› ä¸ºè½¦å¢å¯åœ¨Sä¸­é©»ç•™ï¼Œæ‰€ä»¥å®ƒä»¬ä»Bç«¯é©¶å‡ºçš„æ¬¡åºï¼Œå¯èƒ½ä¸ä»Aç«¯é©¶å…¥çš„æ¬¡åºä¸åŒã€‚ä¸è¿‡Sçš„å®¹é‡æœ‰é™ï¼ŒåŒæ—¶é©»ç•™çš„è½¦å¢ä¸å¾—è¶…è¿‡mèŠ‚ã€‚<br>è®¾æŸåˆ—è½¦ç”±ç¼–å·ä¾æ¬¡ä¸º{1, 2, â€¦, n}çš„nèŠ‚è½¦å¢ç»„æˆã€‚è°ƒåº¦å‘˜å¸Œæœ›çŸ¥é“ï¼ŒæŒ‰ç…§ä»¥ä¸Šäº¤é€šè§„åˆ™ï¼Œè¿™äº›è½¦å¢èƒ½å¦ä»¥{a1, a2, â€¦, an}çš„æ¬¡åºï¼Œé‡æ–°æ’åˆ—åä»Bç«¯é©¶å‡ºã€‚å¦‚æœå¯è¡Œï¼Œåº”è¯¥ä»¥æ€æ ·çš„æ¬¡åºæ“ä½œ?</p><p><strong>è¾“å…¥æ ¼å¼:</strong></p><p>å…±ä¸¤è¡Œã€‚<br>ç¬¬ä¸€è¡Œä¸ºä¸¤ä¸ªæ•´æ•°nï¼Œmã€‚<br>ç¬¬äºŒè¡Œä¸ºä»¥ç©ºæ ¼åˆ†éš”çš„nä¸ªæ•´æ•°ï¼Œä¿è¯ä¸º{1, 2, â€¦, n}çš„ä¸€ä¸ªæ’åˆ—ï¼Œè¡¨ç¤ºå¾…åˆ¤æ–­å¯è¡Œæ€§çš„é©¶å‡ºåºåˆ—{a1ï¼Œa2ï¼Œâ€¦ï¼Œan}ã€‚</p><p>è¦æ±‚ï¼š<br>1 â‰¤ n â‰¤ 1,600,000<br>0 â‰¤ m â‰¤ 1,600,000</p><p><strong>è¾“å‡ºæ ¼å¼:</strong></p><p>è‹¥é©¶å‡ºåºåˆ—å¯è¡Œï¼Œåˆ™è¾“å‡ºæ“ä½œåºåˆ—ï¼Œå…¶ä¸­pushè¡¨ç¤ºè½¦å¢ä»Aè¿›å…¥Sï¼Œpopè¡¨ç¤ºè½¦å¢ä»Sè¿›å…¥Bï¼Œæ¯ä¸ªæ“ä½œå ä¸€è¡Œã€‚<br>è‹¥ä¸å¯è¡Œï¼Œåˆ™è¾“å‡ºNoã€‚</p><p><strong>è¾“å…¥æ ·ä¾‹:</strong></p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">5 </span><span class="hljs-number">2</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">5</span> <span class="hljs-number">4</span><br></code></pre></td></tr></table></figure><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-built_in">push</span><br><span class="hljs-built_in">pop</span><br><span class="hljs-built_in">push</span><br><span class="hljs-built_in">pop</span><br><span class="hljs-built_in">push</span><br><span class="hljs-built_in">pop</span><br><span class="hljs-built_in">push</span><br><span class="hljs-built_in">push</span><br><span class="hljs-built_in">pop</span><br><span class="hljs-built_in">pop</span><br></code></pre></td></tr></table></figure><h3 id="é¢˜è§£-3"><a href="#é¢˜è§£-3" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>æ ˆçš„åº”ç”¨ï¼šæ¨¡æ‹Ÿå‡ºæ ˆå’Œè¿›æ ˆï¼Œå°†ä¸­è½¬ç›²ç«¯çœ‹æˆä¸€ä¸ªæ ˆï¼ŒAåˆ°Sï¼šå…¥æ ˆï¼ŒSåˆ°Bï¼šå‡ºæ ˆï¼Œæœ€å¤§é©»ç•™è½¦å¢ï¼šæ ˆçš„å¤§å°</p><p>åˆå§‹æ ˆä¸ºç©ºï¼Œå¾ªç¯éå†å‡ºæ ˆé¡ºåºçš„æ•°ç»„ã€‚</p><ul><li><p>å¦‚æœå½“å‰æ ˆé¡¶å…ƒç´ å°äºåº”è¯¥å‡ºæ ˆçš„å…ƒç´ ï¼Œåˆ™é¡ºæ¬¡æŠŠåé¢çš„æ•°å­—å…¥æ ˆï¼Œè®°å½•å…¥æ ˆ</p></li><li><p>å¦‚æœå½“å‰æ ˆé¡¶å…ƒç´ ç­‰äºåº”è¯¥å‡ºæ ˆçš„å…ƒç´ ï¼Œåˆ™å‡ºæ ˆï¼Œéå†æ•°ç»„çš„æŒ‡é’ˆåç§» ï¼Œè®°å½•å‡ºæ ˆ</p></li><li><p>å¦‚æœå½“å‰æ ˆé¡¶å…ƒç´ å¤§äºåº”è¯¥å‡ºæ ˆçš„å…ƒç´ ï¼Œåˆ™è¯´æ˜è¯¥å‡ºæ ˆé¡ºåºä¸å¯èƒ½å®ç°ï¼Œè¾“å‡ºNoï¼Œç„¶åç»“æŸç¨‹åº</p></li></ul><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-type">int</span> n,m,x;<br>    cin&gt;&gt;n&gt;&gt;m;<br>    <span class="hljs-type">int</span> now = <span class="hljs-number">1</span>;<br>    stack&lt;<span class="hljs-type">int</span>&gt; st;<br>    vector&lt;string&gt; ans;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;n; i++)&#123;<br>        cin&gt;&gt;x;<br>        <span class="hljs-keyword">while</span>(now &lt;= x)&#123;<br>            st.<span class="hljs-built_in">push</span>(now);<br>            now++;<br>            ans.<span class="hljs-built_in">push_back</span>(<span class="hljs-string">&quot;push&quot;</span>);<br>        &#125;<br>        <span class="hljs-keyword">if</span>(st.<span class="hljs-built_in">size</span>() &gt; m)&#123;<br>            cout&lt;&lt;<span class="hljs-string">&quot;No&quot;</span>&lt;&lt;endl;<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(st.<span class="hljs-built_in">top</span>() == x)&#123;<br>            st.<span class="hljs-built_in">pop</span>();<br>            ans.<span class="hljs-built_in">push_back</span>(<span class="hljs-string">&quot;pop&quot;</span>);<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            cout&lt;&lt;<span class="hljs-string">&quot;No&quot;</span>&lt;&lt;endl;<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;ans.<span class="hljs-built_in">size</span>(); i++)&#123;<br>        cout&lt;&lt;ans[i]&lt;&lt;endl;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ç¬¬5é¢˜-çœŸäºŒå‰æ ‘é‡æ„-Proper-Rebuild"><a href="#ç¬¬5é¢˜-çœŸäºŒå‰æ ‘é‡æ„-Proper-Rebuild" class="headerlink" title="ç¬¬5é¢˜ çœŸäºŒå‰æ ‘é‡æ„(Proper Rebuild)"></a>ç¬¬5é¢˜ çœŸäºŒå‰æ ‘é‡æ„(Proper Rebuild)</h2><h3 id="é¢˜ç›®å¤§æ„-4"><a href="#é¢˜ç›®å¤§æ„-4" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>ä¸€èˆ¬æ¥è¯´ï¼Œç»™å®šäºŒå‰æ ‘çš„å…ˆåºéå†åºåˆ—å’Œååºéå†åºåˆ—ï¼Œå¹¶ä¸èƒ½å”¯ä¸€ç¡®å®šè¯¥äºŒå‰æ ‘ã€‚</p><p><img src="https://img.yiqiangshiyia.cn/blog/f3bfdbf4-e2af-4bc9-8ecb-dd7e4868991b.png" alt="f3bfdbf4-e2af-4bc9-8ecb-dd7e4868991b"></p><p>ï¼ˆå›¾ä¸€ï¼‰<br>æ¯”å¦‚å›¾ä¸€ä¸­çš„ä¸¤æ£µäºŒå‰æ ‘ï¼Œè™½ç„¶å®ƒä»¬æ˜¯ä¸åŒäºŒå‰æ ‘ï¼Œä½†æ˜¯å®ƒä»¬çš„å…ˆåºã€ååºéå†åºåˆ—éƒ½æ˜¯ç›¸åŒçš„ã€‚<br>ä½†æ˜¯å¯¹äºâ€œçœŸäºŒå‰æ ‘â€ï¼ˆæ¯ä¸ªå†…éƒ¨èŠ‚ç‚¹éƒ½æœ‰ä¸¤ä¸ªå­©å­çš„äºŒå‰æ ‘ï¼‰ï¼Œç»™å®šå®ƒçš„å…ˆåºã€ååºéå†åºåˆ—è¶³ä»¥å®Œå…¨ç¡®å®šå®ƒçš„ç»“æ„ã€‚<br>å°†äºŒå‰æ ‘çš„nä¸ªèŠ‚ç‚¹ç”¨[1, n]å†…çš„æ•´æ•°è¿›è¡Œç¼–å·ï¼Œè¾“å…¥ä¸€æ£µçœŸäºŒå‰æ ‘çš„å…ˆåºã€ååºéå†åºåˆ—ï¼Œè¯·è¾“å‡ºå®ƒçš„ä¸­åºéå†åºåˆ—ã€‚</p><p><strong>è¾“å…¥æ ¼å¼:</strong></p><p>ç¬¬ä¸€è¡Œä¸ºä¸€ä¸ªæ•´æ•°nï¼Œå³äºŒå‰æ ‘ä¸­èŠ‚ç‚¹çš„ä¸ªæ•°ã€‚<br>ç¬¬äºŒã€ä¸‰è¡Œä¸ºå·²çŸ¥çš„å…ˆåºã€ååºéå†åºåˆ—ã€‚</p><p>è¦æ±‚ï¼š<br>1 â‰¤ n â‰¤ 4,000,000<br>è¾“å…¥çš„åºåˆ—æ˜¯{1,2â€¦n}çš„æ’åˆ—ï¼Œä¸”å¯¹åº”äºä¸€æ£µåˆæ³•çš„çœŸäºŒå‰æ ‘</p><p><strong>è¾“å‡ºæ ¼å¼:</strong></p><p>ä»…ä¸€è¡Œï¼Œç»™å®šçœŸäºŒå‰æ ‘çš„ä¸­åºéå†åºåˆ—ã€‚</p><p><strong>è¾“å…¥æ ·ä¾‹:</strong></p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-number">5</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span> <span class="hljs-number">3</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">5</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">4 </span><span class="hljs-number">2</span> <span class="hljs-number">5</span> <span class="hljs-number">1</span> <span class="hljs-number">3</span><br></code></pre></td></tr></table></figure><h3 id="é¢˜è§£-4"><a href="#é¢˜è§£-4" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>åˆ©ç”¨å…ˆåºéå†å’Œååºéå†æ„å»ºä¸€é¢—å®Œæ•´çš„äºŒå‰æ ‘ï¼Œéœ€è¦å……åˆ†åˆ©ç”¨å…ˆåºéå†å…ˆæ‰“å°å†é€’å½’å·¦å³ã€ååºéå†æ˜¯å…ˆé€’å½’å·¦å³å†æ‰“å°çš„ç‰¹ç‚¹å»ºäºŒå‰æ ‘ã€‚</p><p>é¢˜ç›®ç»™å‡ºäº†çœŸäºŒå‰æ ‘çš„å‰åºå’Œååºéå†ï¼Œåªéœ€å¯¹ä¸¤è€…è¿›è¡Œå¯¹æ¯”ï¼Œå°±èƒ½å¾—åˆ°æ ¹èŠ‚ç‚¹å’Œå·¦å³å­æ ‘ï¼Œç„¶åå†å¯¹å·¦å³å­æ ‘è¿›è¡Œé€’å½’å³å¯æ„å»ºå‡ºå®Œæ•´çš„äºŒå‰æ ‘ã€‚</p><p>æ„å»ºå‡ºå®Œæ•´çš„äºŒå‰æ ‘åä¸­åºéå†è¾“å‡º</p><blockquote><p>è¿™é“é¢˜ç›®è¿˜æ˜¯æŒºå¥½çš„ï¼Œè€ƒå¯Ÿäº†äºŒå‰æ ‘çš„é‡æ„å’Œéå†ï¼Œè¿™é“é¢˜æ˜¯ç»™å‡ºå‰åºéå†å’Œååºéå†è¾“å‡ºä¸­åºéå†ï¼ŒLCä¸Šè¿˜æœ‰ä¸€é“é¢˜æ˜¯ç»™å‡ºå‰åºéå†å’Œä¸­åºéå†è¾“å‡ºååºéå†ï¼š</p><ul><li><a href="https://leetcode.cn/problems/zhong-jian-er-cha-shu-lcof/">https://leetcode.cn/problems/zhong-jian-er-cha-shu-lcof/</a></li></ul><p>æ­¤å¤–è¿™é“é¢˜åœ¨æ•°ç»„æŒ‡é’ˆä¼ é€’å’ŒäºŒå‰æ ‘æ„å»ºéƒ½è¦å¥½å¥½å­¦ä¹ ä¸€ä¸‹ï¼ï¼ï¼</p></blockquote><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-comment">//å®šä¹‰äºŒå‰æ ‘</span><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">treeNode</span><br>&#123;<br>    <span class="hljs-type">int</span> data;<br>    treeNode* left;<br>    treeNode* right;<br>    <span class="hljs-built_in">treeNode</span>() :<br><span class="hljs-built_in">left</span>(<span class="hljs-literal">NULL</span>), <span class="hljs-built_in">right</span>(<span class="hljs-literal">NULL</span>) &#123; &#125;<br><span class="hljs-built_in">treeNode</span>(<span class="hljs-type">int</span> e, treeNode* left = <span class="hljs-literal">NULL</span>, treeNode* right = <span class="hljs-literal">NULL</span>) :<br><span class="hljs-built_in">data</span>(e), <span class="hljs-built_in">left</span>(left), <span class="hljs-built_in">right</span>(right) &#123; &#125;<br>&#125;;<br><br><span class="hljs-comment">//æ ¹æ®å…ˆåºéå†å’Œååºéå†é‡æ„äºŒå‰æ ‘</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">rebuild</span><span class="hljs-params">(treeNode* root, <span class="hljs-type">int</span>* pre, <span class="hljs-type">int</span>* post, <span class="hljs-type">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(n &lt; <span class="hljs-number">2</span>)&#123;<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-type">int</span> postleft,preright;  <span class="hljs-comment">//å®šä¹‰ååºéå†å·¦å­æ ‘å’Œå…ˆåºéå†çš„å³å­æ ‘æ ¹èŠ‚ç‚¹ä¸‹æ ‡</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;n; i++)&#123;<br>        <span class="hljs-keyword">if</span>(pre[i] == post[n<span class="hljs-number">-2</span>])&#123;<br>            preright = i;<br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;n; i++)&#123;<br>        <span class="hljs-keyword">if</span>(pre[<span class="hljs-number">1</span>] == post[i])&#123;<br>            postleft = i;<br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125;<br>    root-&gt;left = <span class="hljs-keyword">new</span> <span class="hljs-built_in">treeNode</span>(pre[<span class="hljs-number">1</span>]);<br>    root-&gt;right = <span class="hljs-keyword">new</span> <span class="hljs-built_in">treeNode</span>(post[n<span class="hljs-number">-2</span>]);<br>    <span class="hljs-comment">//å¯¹å·¦å³å­æ ‘é€’å½’é‡æ„</span><br>    <span class="hljs-built_in">rebuild</span>(root-&gt;left, pre+<span class="hljs-number">1</span>, post, preright<span class="hljs-number">-1</span>);<br>    <span class="hljs-built_in">rebuild</span>(root-&gt;right, pre+preright, post+postleft+<span class="hljs-number">1</span>, n-postleft<span class="hljs-number">-2</span>);<br>&#125;<br><br><span class="hljs-comment">//äºŒå‰æ ‘ä¸­åºéå†</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">inorder</span><span class="hljs-params">(treeNode* root)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">nullptr</span>)&#123;<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-built_in">inorder</span>(root-&gt;left);<br>    cout &lt;&lt; root-&gt;data &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>    <span class="hljs-built_in">inorder</span>(root-&gt;right);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> n;<br>    cin&gt;&gt;n;<br>    <span class="hljs-type">int</span> *pre = <span class="hljs-keyword">new</span> <span class="hljs-type">int</span>[n+<span class="hljs-number">10</span>];<br>    <span class="hljs-type">int</span> *post = <span class="hljs-keyword">new</span> <span class="hljs-type">int</span>[n+<span class="hljs-number">10</span>];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;n; i++)&#123;<br>        cin&gt;&gt;pre[i];<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;n; i++)&#123;<br>        cin&gt;&gt;post[i];<br>    &#125;<br>    treeNode* root = <span class="hljs-keyword">new</span> <span class="hljs-built_in">treeNode</span>(pre[<span class="hljs-number">0</span>]);<br>    <span class="hljs-built_in">rebuild</span>(root, pre, post, n);<br>    <span class="hljs-built_in">inorder</span>(root);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ç¬¬6é¢˜-æ—…è¡Œå•†-TSP"><a href="#ç¬¬6é¢˜-æ—…è¡Œå•†-TSP" class="headerlink" title="ç¬¬6é¢˜ æ—…è¡Œå•†(TSP)"></a>ç¬¬6é¢˜ æ—…è¡Œå•†(TSP)</h2><h3 id="é¢˜ç›®å¤§æ„-5"><a href="#é¢˜ç›®å¤§æ„-5" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>Shrekæ˜¯ä¸€ä¸ªå¤§å±±é‡Œçš„é‚®é€’å‘˜ï¼Œæ¯å¤©è´Ÿè´£ç»™æ‰€åœ¨åœ°åŒºçš„nä¸ªæ‘åº„æ´¾å‘ä¿¡ä»¶ã€‚ä½†æ¯å…·çš„æ˜¯ï¼Œç”±äºé“è·¯ç‹­çª„ï¼Œå¹´ä¹…å¤±ä¿®ï¼Œæ‘åº„é—´çš„é“è·¯éƒ½åªèƒ½å•å‘é€šè¿‡ï¼Œç”šè‡³æœ‰äº›æ‘åº„æ— æ³•ä»ä»»æ„ä¸€ä¸ªæ‘åº„åˆ°è¾¾ã€‚è¿™æ ·æˆ‘ä»¬åªèƒ½å¸Œæœ›å°½å¯èƒ½å¤šçš„æ‘åº„å¯ä»¥æ”¶åˆ°æŠ•é€’çš„ä¿¡ä»¶ã€‚<br>Shrekå¸Œæœ›çŸ¥é“å¦‚ä½•é€‰å®šä¸€ä¸ªæ‘åº„Aä½œä¸ºèµ·ç‚¹ï¼ˆæˆ‘ä»¬å°†ä»–ç©ºæŠ•åˆ°è¯¥æ‘åº„ï¼‰ï¼Œä¾æ¬¡ç»è¿‡å°½å¯èƒ½å¤šçš„æ‘åº„ï¼Œè·¯é€”ä¸­çš„æ¯ä¸ªæ‘åº„éƒ½ç»è¿‡ä»…ä¸€æ¬¡ï¼Œæœ€ç»ˆåˆ°è¾¾ç»ˆç‚¹æ‘åº„Bï¼Œå®Œæˆæ•´ä¸ªé€ä¿¡è¿‡ç¨‹ã€‚è¿™ä¸ªä»»åŠ¡äº¤ç»™ä½ æ¥å®Œæˆã€‚</p><p><strong>è¾“å…¥æ ¼å¼:</strong></p><p>ç¬¬ä¸€è¡ŒåŒ…æ‹¬ä¸¤ä¸ªæ•´æ•°nï¼Œmï¼Œåˆ†åˆ«è¡¨ç¤ºæ‘åº„çš„ä¸ªæ•°ä»¥åŠå¯ä»¥é€šè¡Œçš„é“è·¯çš„æ•°ç›®ã€‚<br>ä»¥ä¸‹å…±mè¡Œï¼Œæ¯è¡Œç”¨ä¸¤ä¸ªæ•´æ•°v1å’Œv2è¡¨ç¤ºä¸€æ¡é“è·¯ï¼Œä¸¤ä¸ªæ•´æ•°åˆ†åˆ«ä¸ºé“è·¯è¿æ¥çš„æ‘åº„å·ï¼Œé“è·¯çš„æ–¹å‘ä¸ºä»v1è‡³v2ï¼Œnä¸ªæ‘åº„ç¼–å·ä¸º[1, n]ã€‚</p><p>è¦æ±‚ï¼š<br>1 â‰¤ n â‰¤ 1,000,000<br>0 â‰¤ m â‰¤ 1,000,000<br>è¾“å…¥ä¿è¯é“è·¯ä¹‹é—´æ²¡æœ‰å½¢æˆç¯</p><p><strong>è¾“å‡ºæ ¼å¼:</strong></p><p>è¾“å‡ºä¸€ä¸ªæ•°å­—ï¼Œè¡¨ç¤ºç¬¦åˆæ¡ä»¶çš„æœ€é•¿é“è·¯ç»è¿‡çš„æ‘åº„æ•°ã€‚</p><p><strong>è¾“å…¥æ ·ä¾‹:</strong></p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">4 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">4</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">4</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">3</span><br></code></pre></td></tr></table></figure><p><strong>è¾“å‡ºæ ·ä¾‹</strong></p><p>åœ¨è¿™é‡Œç»™å‡ºç›¸åº”çš„è¾“å‡ºã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">3<br></code></pre></td></tr></table></figure><h3 id="é¢˜è§£-5"><a href="#é¢˜è§£-5" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p><strong>pointï¼š</strong>å›¾+æ‹“æ‰‘æ’åº</p><p>åšè¿™é“é¢˜å‰å…ˆå­¦ä¹ äº†ä¸€ä¸‹æ‹“æ‰‘æ’åºçš„çŸ¥è¯†</p><p><strong>æ‹“æ‰‘æ’åºï¼š</strong></p><blockquote><p>å¯¹ä¸€ä¸ª<a href="https://baike.baidu.com/item/%E6%9C%89%E5%90%91%E6%97%A0%E7%8E%AF%E5%9B%BE/10972513">æœ‰å‘æ— ç¯å›¾</a>(Directed Acyclic Graphç®€ç§°DAG)Gè¿›è¡Œæ‹“æ‰‘æ’åºï¼Œæ˜¯å°†Gä¸­æ‰€æœ‰é¡¶ç‚¹æ’æˆä¸€ä¸ªçº¿æ€§åºåˆ—ï¼Œä½¿å¾—å›¾ä¸­ä»»æ„ä¸€å¯¹é¡¶ç‚¹uå’Œvï¼Œè‹¥è¾¹&lt;u,v&gt;âˆˆE(G)ï¼Œåˆ™uåœ¨çº¿æ€§åºåˆ—ä¸­å‡ºç°åœ¨vä¹‹å‰ã€‚é€šå¸¸ï¼Œè¿™æ ·çš„çº¿æ€§åºåˆ—ç§°ä¸ºæ»¡è¶³æ‹“æ‰‘æ¬¡åº(Topological Order)çš„åºåˆ—ï¼Œç®€ç§°æ‹“æ‰‘åºåˆ—ã€‚ç®€å•çš„è¯´ï¼Œç”±æŸä¸ªé›†åˆä¸Šçš„ä¸€ä¸ª<a href="https://baike.baidu.com/item/%E5%81%8F%E5%BA%8F/2439087">ååº</a>å¾—åˆ°è¯¥é›†åˆä¸Šçš„ä¸€ä¸ª<a href="https://baike.baidu.com/item/%E5%85%A8%E5%BA%8F/10577699">å…¨åº</a>ï¼Œè¿™ä¸ªæ“ä½œç§°ä¹‹ä¸ºæ‹“æ‰‘æ’åºã€‚</p><p><strong>æ‰§è¡Œæ­¥éª¤ï¼š</strong></p><p>ç”±AOVç½‘æ„é€ æ‹“æ‰‘åºåˆ—çš„æ‹“æ‰‘æ’åºç®—æ³•ä¸»è¦æ˜¯å¾ªç¯æ‰§è¡Œä»¥ä¸‹ä¸¤æ­¥ï¼Œç›´åˆ°ä¸å­˜åœ¨å…¥åº¦ä¸º0çš„é¡¶ç‚¹ä¸ºæ­¢ã€‚</p><p>(1) é€‰æ‹©ä¸€ä¸ªå…¥åº¦ä¸º0çš„é¡¶ç‚¹å¹¶è¾“å‡ºä¹‹ï¼›</p><p>(2) ä»ç½‘ä¸­åˆ é™¤æ­¤é¡¶ç‚¹åŠæ‰€æœ‰<a href="https://baike.baidu.com/item/%E5%87%BA%E8%BE%B9">å‡ºè¾¹</a>ã€‚</p><p>å¾ªç¯ç»“æŸåï¼Œè‹¥è¾“å‡ºçš„é¡¶ç‚¹æ•°å°äºç½‘ä¸­çš„é¡¶ç‚¹æ•°ï¼Œåˆ™è¾“å‡ºâ€œæœ‰<a href="https://baike.baidu.com/item/%E5%9B%9E%E8%B7%AF/35792">å›è·¯</a>â€ä¿¡æ¯ï¼Œå¦åˆ™è¾“å‡ºçš„é¡¶ç‚¹åºåˆ—å°±æ˜¯ä¸€ç§æ‹“æ‰‘<a href="https://baike.baidu.com/item/%E5%BA%8F%E5%88%97/1302588">åºåˆ—</a>ã€‚</p><p><img src="https://img.yiqiangshiyia.cn/blog/%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F.jpg" alt="æ‹“æ‰‘æ’åº"></p></blockquote><p>å¥½äº†ï¼Œå­¦ä¼šäº†æ‹“æ‰‘æ’åºç°åœ¨å¯ä»¥å¼€å§‹åšTSPäº†ï¼å¯æ˜¯ä¸€ä¸‹åˆè¿åˆ«äººå†™çš„ä»£ç éƒ½æ²¡çœ‹æ‡‚ï¼ï¼ï¼ğŸ˜­</p><p><strong>è§£é¢˜æ€è·¯ï¼š</strong></p><ol><li><p>æ‹“æ‰‘æ’åº</p><p>ç­–ç•¥ï¼šå°†æ‰€æœ‰å…¥åº¦ä¸º0çš„é¡¶ç‚¹å…¥æ ˆï¼Œå¼¹å‡ºæ ˆé¡¶å…ƒç´ ï¼Œè‹¥æ­¤å…ƒç´ å­˜åœ¨å…¥åº¦ä¸º1çš„é‚»å±…ï¼Œå°†å…¶å…¥æ ˆå¹¶å°†æ­¤é‚»å±…çš„å…¥åº¦-1ï¼Œé‡å¤ç›´åˆ°æ ˆç©ºã€‚</p></li><li><p>å°†é¢˜æ„ä¸æ‹“æ‰‘æ’åºç»“åˆ</p><p>é¢˜ç›®éœ€è¦æ±‚çš„å˜é‡å¯ç­‰æ•ˆåœ°ç†è§£ä¸ºæ±‚å›¾çš„æœ€å¤§è·¯å¾„ä¸Šçš„é¡¶ç‚¹æ•°ï¼Œæ³¨æ„åˆ°æ ¹æ®æ­¤é¢˜ï¼Œé¡¶ç‚¹æ•°=è·¯å¾„é•¿åº¦+1ï¼Œäºæ˜¯é—®é¢˜è½¬æ¢ä¸ºæ±‚å›¾çš„æœ€å¤§è·¯å¾„é•¿åº¦ï¼Œè€Œå›¾çš„æœ€å¤§è·¯å¾„é•¿åº¦å°±æ˜¯åˆ°æ‰€æœ‰é¡¶ç‚¹çš„æœ€å¤§è·¯å¾„é•¿åº¦çš„æœ€å¤§å€¼ï¼Œå¦‚ä½•æ±‚å¾—åˆ°æ¯ä¸ªé¡¶ç‚¹çš„æœ€å¤§è·¯å¾„é•¿åº¦å‘¢ï¼Ÿæˆ‘ä»¬çŸ¥é“æ‹“æ‰‘æ’åºç®—æ³•å°†éå†å›¾çš„æ¯ä¸ªå…¥åº¦ä¸º0çš„é¡¶ç‚¹çš„é‚»å±…ï¼Œé‚£ä¹ˆå¯é‡‡ç”¨åŠ¨æ€è§„åˆ’çš„ç­–ç•¥ï¼Œä¸ºæ¯ä¸ªé¡¶ç‚¹å¢è®¾ä¸€ä¸ªé•¿åº¦å±æ€§ï¼Œæ¯éå†ä¸€ä¸ªå…¥åº¦ä¸º0çš„é¡¶ç‚¹çš„é‚»å±…ï¼Œæ­¤é‚»å±…çš„é•¿åº¦å±æ€§å°±æ›´æ–°ä¸ºæ­¤é‚»å±…çš„é•¿åº¦å±æ€§ä¸æ­¤å…¥åº¦ä¸º0çš„é¡¶ç‚¹çš„é•¿åº¦å±æ€§+1ä¹‹é—´çš„è¾ƒå¤§è€…ï¼Œæ›´æ–°åçš„å€¼å³å½“å‰åˆ°æ­¤é‚»å±…çš„æœ€å¤§è·¯å¾„é•¿åº¦ï¼Œç®—æ³•ç»“æŸåï¼Œå°†å¾—åˆ°åˆ°æ¯ä¸ªé¡¶ç‚¹çš„æœ€å¤§è·¯å¾„é•¿åº¦ã€‚ä¸ºæå‡ç®—æ³•æ•ˆç‡ï¼Œå¯å¢è®¾ä¸€è®°å½•å›¾æœ€å¤§è·¯å¾„é•¿åº¦çš„å˜é‡ï¼Œæ¯æ¬¡æ›´æ–°å®Œä¸€ä¸ªé¡¶ç‚¹çš„é•¿åº¦å±æ€§åï¼Œå°±å°†æ­¤å˜é‡æ›´æ–°ä¸ºæ­¤é¡¶ç‚¹çš„é•¿åº¦å±æ€§ä¸æ­¤å˜é‡ä¹‹é—´çš„è¾ƒå¤§è€…ï¼Œç®—æ³•ç»“æŸåï¼Œå°†å¾—åˆ°å›¾çš„æœ€å¤§è·¯å¾„é•¿åº¦ã€‚</p></li></ol><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> MAXSIZE 1000000</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ENode</span>&#123;<br><span class="hljs-type">int</span> vsub;<br>ENode *succ;<br>&#125;;<br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">VNode</span>&#123;<br><span class="hljs-type">int</span> in,len;<br>ENode *fstEdge;<br>&#125;;<br>VNode adjList[MAXSIZE];ENode *t;<br><span class="hljs-type">int</span> visited[MAXSIZE],stack[MAXSIZE],top=<span class="hljs-number">0</span>,maxlen=<span class="hljs-number">0</span>,n,m,v1,v2;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">GetMax</span><span class="hljs-params">(<span class="hljs-type">int</span> a,<span class="hljs-type">int</span> b)</span></span>&#123;<br>    <span class="hljs-keyword">if</span>(a&gt;b)&#123;<br>        <span class="hljs-keyword">return</span> a;<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        <span class="hljs-keyword">return</span> b;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//æ‹“æ‰‘æ’åº</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">TSort</span><span class="hljs-params">()</span></span>&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;n; i++)&#123;<br>        <span class="hljs-keyword">if</span>(!adjList[i].in)&#123;<br>            stack[++top] = i;<br>        &#125;<br>&#125;<br><span class="hljs-keyword">while</span>(top)&#123;<br><span class="hljs-type">int</span> v=stack[top--];<br><span class="hljs-keyword">for</span>(ENode *p=adjList[v].fstEdge;p;p=p-&gt;succ)&#123;<br>adjList[p-&gt;vsub].len = <span class="hljs-built_in">GetMax</span>(adjList[v].len+<span class="hljs-number">1</span>,adjList[p-&gt;vsub].len);<br>maxlen = <span class="hljs-built_in">GetMax</span>(adjList[p-&gt;vsub].len,maxlen);<br><span class="hljs-keyword">if</span>(!(--adjList[p-&gt;vsub].in))&#123;<br>                stack[++top] = p-&gt;vsub;<br>&#125;<br>&#125;<br>&#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>cin&gt;&gt;n&gt;&gt;m;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;m; i++)&#123;<br>cin&gt;&gt;v1&gt;&gt;v2;<br>t = <span class="hljs-keyword">new</span> ENode;<br>t-&gt;vsub = v2;<br>adjList[v2].in++;<br>t-&gt;succ = adjList[v1].fstEdge;<br>adjList[v1].fstEdge = t;<br>&#125;<br><span class="hljs-built_in">TSort</span>();<br>cout&lt;&lt;maxlen+<span class="hljs-number">1</span>&lt;&lt;endl;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ç¬¬7é¢˜-æ— çº¿å¹¿æ’­-Broadcast"><a href="#ç¬¬7é¢˜-æ— çº¿å¹¿æ’­-Broadcast" class="headerlink" title="ç¬¬7é¢˜ æ— çº¿å¹¿æ’­(Broadcast)"></a>ç¬¬7é¢˜ æ— çº¿å¹¿æ’­(Broadcast)</h2><h3 id="é¢˜ç›®å¤§æ„-6"><a href="#é¢˜ç›®å¤§æ„-6" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>æŸå¹¿æ’­å…¬å¸è¦åœ¨ä¸€ä¸ªåœ°åŒºæ¶è®¾æ— çº¿å¹¿æ’­å‘å°„è£…ç½®ã€‚è¯¥åœ°åŒºå…±æœ‰nä¸ªå°é•‡ï¼Œæ¯ä¸ªå°é•‡éƒ½è¦å®‰è£…ä¸€å°å‘å°„æœºå¹¶æ’­æ”¾å„è‡ªçš„èŠ‚ç›®ã€‚<br>ä¸è¿‡ï¼Œè¯¥å…¬å¸åªè·å¾—äº†FM104.2å’ŒFM98.6ä¸¤ä¸ªæ³¢æ®µçš„æˆæƒï¼Œè€Œä½¿ç”¨åŒä¸€æ³¢æ®µçš„å‘å°„æœºä¼šäº’ç›¸å¹²æ‰°ã€‚å·²çŸ¥æ¯å°å‘å°„æœºçš„ä¿¡å·è¦†ç›–èŒƒå›´æ˜¯ä»¥å®ƒä¸ºåœ†å¿ƒï¼Œ20kmä¸ºåŠå¾„çš„åœ†å½¢åŒºåŸŸï¼Œå› æ­¤ï¼Œå¦‚æœè·ç¦»å°äº20kmçš„ä¸¤ä¸ªå°é•‡ä½¿ç”¨åŒæ ·çš„æ³¢æ®µï¼Œé‚£ä¹ˆå®ƒä»¬å°±ä¼šç”±äºæ³¢æ®µå¹²æ‰°è€Œæ— æ³•æ­£å¸¸æ”¶å¬èŠ‚ç›®ã€‚ç°åœ¨ç»™å‡ºè¿™äº›è·ç¦»å°äº20kmçš„å°é•‡åˆ—è¡¨ï¼Œè¯•åˆ¤æ–­è¯¥å…¬å¸èƒ½å¦ä½¿å¾—æ•´ä¸ªåœ°åŒºçš„å±…æ°‘æ­£å¸¸å¬åˆ°å¹¿æ’­èŠ‚ç›®ã€‚</p><p><strong>è¾“å…¥æ ¼å¼:</strong></p><p>ç¬¬ä¸€è¡Œä¸ºä¸¤ä¸ªæ•´æ•°nï¼Œmï¼Œåˆ†åˆ«ä¸ºå°é•‡çš„ä¸ªæ•°ä»¥åŠæ¥ä¸‹æ¥å°äº20kmçš„å°é•‡å¯¹çš„æ•°ç›®ã€‚ æ¥ä¸‹æ¥çš„mè¡Œï¼Œæ¯è¡Œ2ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºä¸¤ä¸ªå°é•‡çš„è·ç¦»å°äº20kmï¼ˆç¼–å·ä»1å¼€å§‹ï¼‰ã€‚</p><p>è¦æ±‚ï¼š<br>1 â‰¤ n â‰¤ 10000<br>1 â‰¤ m â‰¤ 30000<br>ä¸éœ€è¦è€ƒè™‘ç»™å®šçš„20kmå°é•‡åˆ—è¡¨çš„ç©ºé—´ç‰¹æ€§ï¼Œæ¯”å¦‚æ˜¯å¦æ»¡è¶³ä¸‰è§’ä¸ç­‰å¼ï¼Œæ˜¯å¦åˆ©ç”¨ä¼ é€’æ€§å¯ä»¥æ¨å‡ºæ›´å¤šçš„ä¿¡æ¯ç­‰ç­‰ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼:</strong></p><p>å¦‚æœèƒ½å¤Ÿæ»¡è¶³è¦æ±‚ï¼Œè¾“å‡º1ï¼Œå¦åˆ™è¾“å‡º-1ã€‚</p><p><strong>è¾“å…¥æ ·ä¾‹:</strong></p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">4 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">4</span><br></code></pre></td></tr></table></figure><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">1<br></code></pre></td></tr></table></figure><h3 id="é¢˜è§£-6"><a href="#é¢˜è§£-6" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><blockquote><p><strong>pointï¼š</strong>å›¾çš„å¹¿åº¦ä¼˜å…ˆæœç´¢</p><p><strong>Get Pointï¼š</strong>åŠ æ·±äº†å¯¹å›¾+äºŒå‰æ ‘çš„ä¸¤ç§éå†æ–¹å¼æ·±åº¦ä¼˜å…ˆéå†å’Œå¹¿åº¦ä¼˜å…ˆéå†çš„ç†è§£</p><p>éœ€è¦å­¦ä¹ çš„çŸ¥è¯†ï¼šæ•°æ®ç»“æ„å›¾çš„åˆ›å»ºå’Œéå†</p><p><a href="https://www.bilibili.com/video/BV1T64y147r1?spm_id_from=333.337.search-card.all.click&amp;vd_source=7ad06c95735c5cae130daf28b94f5d0f">https://www.bilibili.com/video/BV1T64y147r1?spm_id_from=333.337.search-card.all.click&amp;vd_source=7ad06c95735c5cae130daf28b94f5d0f</a></p></blockquote><p><strong>é—®é¢˜åˆ†æï¼š</strong></p><p>å°†ä¸€å¯¹è·ç¦»å°äº20kmçš„å°é•‡æ¨¡æ‹Ÿä¸ºä¸€å¯¹æ— å‘è¾¹èŠ‚ç‚¹ï¼Œè¿™æ ·æ‰€æœ‰çš„å°é•‡å¯ä»¥ç”Ÿæˆä¸€ä¸ªå¤šè¿é€šæ— å‘å›¾ã€‚é¢˜ç›®ä¸­è¦æ±‚è·ç¦»å°äº20kmçš„å°é•‡ï¼ˆå³è¾“å…¥ç»™å‡ºçš„ä¸€å¯¹å°é•‡ï¼‰ä¸èƒ½å¤Ÿæ”¾ç½®åŒé¢‘ç‡çš„æ³¢æ®µï¼Œä¸”å¹¿æ’­ä¸€å…±æœ‰ä¸¤ç§ä¸åŒçš„æ³¢æ®µã€‚åˆ†åˆ«ä¸ºä¸¤ç§æ³¢æ®µè®¾ç½®æ ‡è®°å€¼ï¼Œé—®é¢˜å¯ä»¥è½¬åŒ–æˆæ‰€æœ‰å°é•‡æ‰€æ„å»ºçš„å¤šè¿é€šæ— å‘å›¾ä¸­çš„ä»»æ„ç›¸é‚»ä¸¤ä¸ªèŠ‚ç‚¹çš„æ ‡è®°å€¼ä¸åŒã€‚</p><p><strong>è§£é¢˜æ€è·¯ï¼š</strong></p><p>é—®é¢˜å¯è½¬åŒ–ä¸ºå›¾çš„å¹¿åº¦ä¼˜å…ˆæœç´¢é—®é¢˜ï¼ŒèŠ‚ç‚¹å’Œå…¶é‚»èŠ‚ç‚¹çš„æ•°æ®ä¸èƒ½ç›¸åŒï¼ˆåˆ©ç”¨BFSä¸€å±‚ä¸€å±‚çš„å‘å¤–æ‹“å±•å¹¶æ ‡è®°å›¾çš„èŠ‚ç‚¹ï¼Œæ‰¾åˆ°ä¸€å¯¹é‚»èŠ‚ç‚¹æ ‡è®°å€¼ç›¸åŒåˆ™è¿”å›falseï¼Œå…¨éƒ¨æ ‡è®°æˆåŠŸåˆ™è¿”å›trueï¼‰</p><p><strong>BFS+é˜Ÿåˆ—ï¼š</strong>å°†ä»»æ„ä¸€ç‚¹ä½œä¸ºæºç‚¹å…¥é˜Ÿï¼ˆæ ‡è®°ä¸º1ï¼‰ï¼Œå‘å¤–å°†å…¶æ‰€æœ‰é‚»èŠ‚ç‚¹å…¥é˜Ÿï¼ˆæ ‡è®°ä¸º-1ï¼‰ï¼Œå†å°†æºç‚¹å‡ºé˜Ÿï¼Œåœ¨å–é˜Ÿé¦–ç‚¹æ‰€æœ‰é‚»èŠ‚ç‚¹å…¥é˜Ÿï¼ˆæ ‡è®°ä¸º1ï¼‰ï¼Œæ­¤åˆ¤æ–­æœ‰æ— é‚»èŠ‚ç‚¹ä¸ºä¸é˜Ÿé¦–åŒæ ‡è®°ï¼Œæœ‰åˆ™è¿”å›falseï¼Œæ²¡æœ‰åˆ™ç»§ç»­æ‰§è¡Œ</p><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> N 10000</span><br><br><span class="hljs-type">int</span> n,m;  <span class="hljs-comment">//å°é•‡æ•°ï¼Œç›¸è·20kmå†…çš„å°é•‡å¯¹æ•°</span><br><span class="hljs-type">int</span> queue[N+<span class="hljs-number">10</span>],head,tail;  <span class="hljs-comment">//æ¨¡æ‹Ÿé˜Ÿåˆ—</span><br><br><span class="hljs-comment">//nextTown</span><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Node</span>&#123;<br>    <span class="hljs-type">int</span> num;<br>    Node* next;<br>    <span class="hljs-built_in">Node</span>() &#123; next = <span class="hljs-literal">NULL</span>; &#125;<br>    <span class="hljs-built_in">Node</span>(<span class="hljs-type">int</span> n,Node *node) :<span class="hljs-built_in">num</span>(n),<span class="hljs-built_in">next</span>(node) &#123;&#125;<br>&#125;;<br><br><span class="hljs-comment">//å°é•‡</span><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Town</span>&#123;<br>    <span class="hljs-type">int</span> state;  <span class="hljs-comment">//çŠ¶æ€</span><br>    Node *nt;  <span class="hljs-comment">//nextTown</span><br>    <span class="hljs-built_in">Town</span>() &#123; state = <span class="hljs-number">0</span>; nt = <span class="hljs-literal">NULL</span>; &#125;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">insert</span><span class="hljs-params">(<span class="hljs-type">int</span> num)</span></span>;<br>&#125;town[N];<br><br><span class="hljs-comment">//æ’å…¥æ–°è¾¹</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Town::insert</span><span class="hljs-params">(<span class="hljs-type">int</span> num)</span></span>&#123;<br>    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>-&gt;nt == <span class="hljs-literal">NULL</span>)&#123;<br>        <span class="hljs-keyword">this</span>-&gt;nt = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Node</span>(num,<span class="hljs-literal">NULL</span>);<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        <span class="hljs-keyword">this</span>-&gt;nt = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Node</span>(num,<span class="hljs-keyword">this</span>-&gt;nt);<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span></span>&#123;<br>    queue[tail++] = x;<br>    town[x].state = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(head &lt; tail)&#123;<br>        Town cur = town[queue[head]];  <span class="hljs-comment">//å½“å‰å°é•‡</span><br>        Node *tmp = cur.nt;  <span class="hljs-comment">//æŒ‡å‘nextTown</span><br>        <span class="hljs-keyword">while</span>(tmp != <span class="hljs-literal">NULL</span>)&#123;<br>            <span class="hljs-keyword">if</span>(!town[tmp-&gt;num].state)&#123;<br>                town[tmp-&gt;num].state = -cur.state;<br>                queue[tail++] = tmp-&gt;num;<br>            &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(town[tmp-&gt;num].state == cur.state)&#123;  <span class="hljs-comment">//æ³¢æ®µç›¸åŒè¢«å¹²æ‰°</span><br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>            &#125;<br>            tmp = tmp-&gt;next;<br>        &#125;<br>        head++;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin&gt;&gt;n&gt;&gt;m;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;m; i++)&#123;<br>        <span class="hljs-type">int</span> x,y;<br>        cin&gt;&gt;x&gt;&gt;y;<br>        town[x].<span class="hljs-built_in">insert</span>(y);<br>        town[y].<span class="hljs-built_in">insert</span>(x);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;n; i++)&#123;<br>        <span class="hljs-keyword">if</span>(!town[i].state)&#123;<br>            <span class="hljs-keyword">if</span>(<span class="hljs-built_in">bfs</span>(i) == <span class="hljs-literal">false</span>)&#123;<br>                cout&lt;&lt;<span class="hljs-string">&quot;-1&quot;</span>&lt;&lt;endl;<br>                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br>    cout&lt;&lt;<span class="hljs-string">&quot;1&quot;</span>&lt;&lt;endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ç¬¬8é¢˜-ä¼ æŸ“é“¾-Infectious-Chain"><a href="#ç¬¬8é¢˜-ä¼ æŸ“é“¾-Infectious-Chain" class="headerlink" title="ç¬¬8é¢˜ ä¼ æŸ“é“¾( Infectious Chain )"></a>ç¬¬8é¢˜ ä¼ æŸ“é“¾( Infectious Chain )</h2><h3 id="é¢˜ç›®å¤§æ„-7"><a href="#é¢˜ç›®å¤§æ„-7" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>æŸç—…æ¯’å¯ä»¥äººä¼ äººï¼Œä¸”ä¼ æŸ“èƒ½åŠ›æå¼ºï¼Œåªè¦ä¸å·²æ„ŸæŸ“è¯¥ç—…æ¯’çš„äººå‘ç”Ÿæ¥è§¦å³åˆ»æ„ŸæŸ“ã€‚<br>ç°ç»™å®šä¸€äº›æ„ŸæŸ“è¯¥ç—…æ¯’çš„äººå‘˜æ¥è§¦å…³ç³»ï¼Œè¦æ±‚ä½ æ‰¾å‡ºå…¶ä¸­æœ€æ—©æœ€é•¿çš„ä¸€æ¡ä¼ æŸ“é“¾ã€‚</p><p><strong>è¾“å…¥æ ¼å¼:</strong></p><p>è¾“å…¥åœ¨ç¬¬ä¸€è¡Œä¸­ç»™å‡ºä¸€ä¸ªæ­£æ•´æ•° Nï¼ˆNâ‰¤10^4ï¼‰ï¼Œå³æ„ŸæŸ“ç—…æ¯’çš„äººå‘˜æ€»æ•°ï¼Œä» 0 åˆ° Nâˆ’1 è¿›è¡Œç¼–å·ã€‚<br>éšåN è¡ŒæŒ‰ç…§ç¼–å·é¡ºåºç»™å‡ºäººå‘˜æ¥è§¦ä¿¡æ¯ï¼Œæ¯è¡ŒæŒ‰ä»¥ä¸‹æ ¼å¼æè¿°è¯¥äººå‘˜çš„æ¥è§¦å¯¹è±¡ï¼š<br>k æ¥è§¦äººå‘˜1 â€¦â€¦ æ¥è§¦äººå‘˜k<br>å…¶ä¸­ k æ˜¯è¯¥ç¼–å·äººå‘˜æ¥è§¦çš„å…¶ä»–äººæ€»æ•°ï¼Œåé¢æŒ‰ç…§æ—¶é—´å…ˆåç»™å‡ºæ‰€æœ‰æ¥è§¦çš„äººå‘˜ç¼–å·ã€‚é¢˜ç›®ä¿è¯ä¼ æŸ“æºå¤´æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªï¼Œä¸”å·²è¢«æ„ŸæŸ“äººå‘˜ä¸ä¼šä¸å¦ä¸€ä¸ªæ„ŸæŸ“äººå‘˜å†æ¥è§¦ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼:</strong></p><p>ç¬¬ä¸€è¡Œè¾“å‡ºä»æºå¤´å¼€å§‹çš„æœ€æ—©æœ€é•¿ä¼ æŸ“é“¾é•¿åº¦ã€‚<br>ç¬¬äºŒè¡Œè¾“å‡ºä»æºå¤´å¼€å§‹çš„æœ€æ—©æœ€é•¿ä¼ æŸ“é“¾ï¼Œç¼–å·ä¹‹é—´ä»¥1ä¸ªç©ºæ ¼åˆ†éš”ï¼Œè¡Œé¦–å°¾ä¸å¾—æœ‰å¤šä½™ç©ºæ ¼ã€‚è¿™é‡Œçš„æœ€æ—©æœ€é•¿ä¼ æŸ“é“¾æ˜¯æŒ‡ä»æºå¤´å¼€å§‹çš„ä¼ æŸ“é“¾ä¸Šçš„äººæ•°æœ€å¤šï¼Œä¸”è¢«æ„ŸæŸ“çš„æ—¶é—´æœ€æ—©ã€‚<br>æ‰€è°“æ—¶é—´æœ€æ—©æŒ‡çš„ä¸¤ä¸ªé•¿åº¦ç›¸ç­‰çš„ä¼ æŸ“é“¾{a1,a2,â€¦,an}å’Œ{b1,b2,â€¦,bn}ï¼Œå­˜åœ¨1â‰¤k&lt;nï¼Œå¯¹äºæ‰€æœ‰çš„i (1â‰¤i&lt;k)éƒ½æ»¡è¶³ai=biï¼Œä¸”akè¢«æ„ŸæŸ“çš„æ—¶é—´æ—©äºbkè¢«æ„ŸæŸ“çš„æ—¶é—´ã€‚</p><p><strong>è¾“å…¥æ ·ä¾‹:</strong></p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-number">10</span><br><span class="hljs-number">0</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">7</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">1</span> <span class="hljs-number">9</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">6</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">5</span><br><span class="hljs-number">0</span><br><span class="hljs-number">0</span><br><span class="hljs-number">0</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">6</span> <span class="hljs-number">0</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">8</span><br></code></pre></td></tr></table></figure><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-number">4</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">1</span> <span class="hljs-number">3</span> <span class="hljs-number">6</span><br></code></pre></td></tr></table></figure><h3 id="é¢˜è§£-7"><a href="#é¢˜è§£-7" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p><strong>pointï¼š</strong></p><ul><li>ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆdfsï¼‰æ‰¾å‡ºæœ€æ—©æœ€é•¿çš„ä¼ æŸ“é“¾</li><li>ç”¨ä¸€ä¸ªvector&lt;int&gt;ç±»å‹çš„å®¹å™¨æ¥å­˜å‚¨æ¯ä¸€æ¡æ¥è§¦ä¿¡æ¯ï¼Œæ¨¡æ‹Ÿä¼ æŸ“å‰åçš„æ—¶é—´å…³ç³»</li><li>åŠ¨æ€è§„åˆ’ï¼šåœ¨dfsæ—¶ï¼Œç”¨ä¸€ä¸ªstepæ•°ç»„è®°å½•ä»æŸä¸€ä½ç½®å¼€å§‹èƒ½èµ°çš„æœ€å¤§æ­¥æ•°ï¼Œåé¢å‡ºç°è¯¥ä½ç½®æ—¶ç›´æ¥è°ƒç”¨ï¼Œé¿å…äº†å¤§é‡çš„é‡å¤è®¡ç®—</li><li>ç”¨ä¸€ä¸ªnxtæ•°ç»„æ‰¾å‡ºæŸä¸€ä½ç½®å¼€å§‹æ‰¾åˆ°å¯ä»¥èµ°çš„æœ€å¤§çš„æ­¥æ•°æ—¶è¿›è¡Œè®°å½•ï¼Œè¿™æ ·å°±å¯ä»¥ç›´æ¥å¯¹æœ€é•¿è·¯å¾„è¿›è¡Œè¾“å‡º</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-meta">#<span class="hljs-keyword">define</span> N 10000</span><br><br><span class="hljs-type">int</span> step[N+<span class="hljs-number">10</span>];  <span class="hljs-comment">//è®°å½•ä»æŸä¸€ä½ç½®å¼€å§‹èµ°èƒ½èµ°çš„æœ€å¤§è·¯å¾„é•¿åº¦</span><br><span class="hljs-type">int</span> nxt[N+<span class="hljs-number">10</span>];<br>vector&lt;<span class="hljs-type">int</span>&gt; v[N+<span class="hljs-number">10</span>];  <span class="hljs-comment">//å­˜å‚¨æ¯ä¸€æ¡æ¥è§¦ä¿¡æ¯</span><br><br><span class="hljs-comment">//æ·±åº¦ä¼˜å…ˆæœç´¢æ¯ä¸€ä¸ªindexçš„æœ€å¤§è·¯å¾„é•¿åº¦</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> index)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(v[index].<span class="hljs-built_in">size</span>() == <span class="hljs-number">0</span>)&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-type">int</span> steps=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;v[index].<span class="hljs-built_in">size</span>(); i++)&#123;<br>        <span class="hljs-keyword">if</span>(step[v[index][i]] &gt; steps)&#123;<br>            steps = step[v[index][i]]+<span class="hljs-number">1</span>;<br>            nxt[index] = v[index][i];<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            <span class="hljs-type">int</span> temp = <span class="hljs-built_in">dfs</span>(v[index][i])+<span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">if</span>(temp &gt; steps)&#123;<br>                steps = temp;<br>                nxt[index] = v[index][i];<br>            &#125;<br>        &#125;<br>    &#125;<br>    step[index] = steps;<br>    <span class="hljs-keyword">return</span> steps;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> n;<br>    cin&gt;&gt;n;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;n; i++)<br>    &#123;<br>        <span class="hljs-type">int</span> k;<br>        cin&gt;&gt;k;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">0</span>; j&lt;k; j++)<br>        &#123;<br>            <span class="hljs-type">int</span> t;<br>            cin&gt;&gt;t;<br>            v[i].<span class="hljs-built_in">push_back</span>(t);<br>        &#125;<br>    &#125;<br>    <span class="hljs-type">int</span> index = <span class="hljs-number">0</span>,ans = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;n; i++)&#123;<br>        <span class="hljs-type">int</span> temp = <span class="hljs-built_in">dfs</span>(i);<br>        <span class="hljs-keyword">if</span>(temp &gt; ans)&#123;<br>            index = i;  <span class="hljs-comment">//å½“å‰æœ€å¤§è·¯å¾„çš„èµ·å§‹ç‚¹</span><br>            ans = temp;<br>        &#125;<br>    &#125;<br>    cout&lt;&lt;ans&lt;&lt;endl;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;ans<span class="hljs-number">-1</span>; i++)<br>    &#123;<br>        cout&lt;&lt;index&lt;&lt;<span class="hljs-string">&quot; &quot;</span>;<br>        index = nxt[index];<br>    &#125;<br>    cout&lt;&lt;index;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ç¬¬9é¢˜-é‡åå‰”é™¤-Deduplicate"><a href="#ç¬¬9é¢˜-é‡åå‰”é™¤-Deduplicate" class="headerlink" title="ç¬¬9é¢˜ é‡åå‰”é™¤(Deduplicate)"></a>ç¬¬9é¢˜ é‡åå‰”é™¤(Deduplicate)</h2><h3 id="é¢˜ç›®å¤§æ„-8"><a href="#é¢˜ç›®å¤§æ„-8" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>Epicureå…ˆç”Ÿæ­£åœ¨ç¼–æ’°ä¸€æœ¬ç¾é£Ÿç™¾ç§‘å…¨ä¹¦ã€‚ä¸ºæ­¤ï¼Œä»–å·²ä»ä¼—å¤šçš„åŒå¥½è€…é‚£é‡Œæœé›†åˆ°äº†ä¸€ä»½å†—é•¿çš„ç¾é£Ÿæåæ¸…å•ã€‚æ—¢ç„¶æºè‡ªå¤šäººä¹‹æ‰‹ï¼Œå…¶ä¸­è‡ªç„¶ä¸ä¹é‡å¤çš„æåï¼Œæ•…å¿…é¡»äºˆä»¥ç­›é™¤ã€‚Epicureå…ˆç”Ÿå› æ­¤ç™»é—¨æ±‚åŠ©ï¼Œå¹¶è®¤å®šæ­¤äº‹å¯¹ä½ è€Œè¨€ä¸è¿‡æ˜¯â€œä¸€ç¢Ÿå°èœâ€ï¼Œç›¸ä¿¡ä½ ä¸ä¼šé”™è¿‡åœ¨ç¾é£Ÿç•Œæ‰¬åç«‹ä¸‡çš„è¿™ä¸€è‰¯æœºã€‚</p><p><strong>è¾“å…¥æ ¼å¼:</strong></p><p>ç¬¬1è¡Œä¸º1ä¸ªæ•´æ•°nï¼Œè¡¨ç¤ºæåæ¸…å•çš„é•¿åº¦ã€‚ä»¥ä¸‹nè¡Œå„ä¸ºä¸€é¡¹æåã€‚</p><p>è¦æ±‚ï¼š<br>1 &lt; n &lt; 6 * 10^5<br>æåå‡ç”±å°å†™å­—æ¯ç»„æˆï¼Œä¸å«å…¶å®ƒå­—ç¬¦ï¼Œä¸”æ¯é¡¹é•¿åº¦ä¸è¶…è¿‡40å­—ç¬¦ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼:</strong></p><p>æ‰€æœ‰å‡ºç°é‡å¤çš„æåï¼ˆå¤šæ¬¡é‡å¤çš„ä»…è¾“å‡ºä¸€æ¬¡ï¼‰ï¼Œä¸”ä»¥å…¶åœ¨åŸæ¸…å•ä¸­é¦–æ¬¡å‡ºç°é‡å¤ï¼ˆå³ç¬¬äºŒæ¬¡å‡ºç°ï¼‰çš„ä½ç½®ä¸ºåºã€‚</p><p><strong>è¾“å…¥æ ·ä¾‹:</strong></p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-number">10</span><br><span class="hljs-keyword">brioche</span><br><span class="hljs-keyword"></span>camembert<br>cappelletti<br>savarin<br>cheddar<br>cappelletti<br>tortellni<br>croissant<br><span class="hljs-keyword">brioche</span><br><span class="hljs-keyword"></span>mapotoufu<br></code></pre></td></tr></table></figure><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">cappelletti</span><br><span class="hljs-attribute">brioche</span><br></code></pre></td></tr></table></figure><h3 id="é¢˜è§£-8"><a href="#é¢˜è§£-8" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><blockquote><p>unorder_set å®ç°æœºç†ï¼šå“ˆå¸Œè¡¨ï¼Œæ— åºï¼Œå…ƒç´ ä¸å¯é‡å¤</p></blockquote><p>unordered_set&lt;string&gt; set1 ç”¨æ¥å­˜å‚¨ä¸é‡å¤ çš„å…ƒç´ ï¼Œvector&lt;string&gt; vec ç”¨æ¥å­˜å‚¨é‡å¤çš„å…ƒç´ ä¸”é‡å¤å…ƒç´ å¯ä»¥å¤šæ¬¡é‡å¤å‡ºç°ï¼Œvector&lt;string&gt; ans ç”¨æ¥å­˜å‚¨ç¬¬ä¸€æ¬¡é‡å¤çš„å…ƒç´ </p><p>é¢˜ç›®è¦æ±‚çš„è¾“å‡ºæ ¼å¼ä¸ºï¼šæ‰€æœ‰å‡ºç°é‡å¤çš„æåï¼ˆå¤šæ¬¡é‡å¤çš„ä»…è¾“å‡ºä¸€æ¬¡ï¼‰ï¼Œä¸”ä»¥å…¶åœ¨åŸæ¸…å•ä¸­é¦–æ¬¡å‡ºç°é‡å¤ï¼ˆå³ç¬¬äºŒæ¬¡å‡ºç°ï¼‰çš„ä½ç½®ä¸ºåºï¼Œå› æ­¤å®šä¹‰ä¸€ä¸ªboolç±»å‹çš„searchå‡½æ•°ï¼Œä½¿vectorå®¹å™¨å®ç°æŸ¥æ‰¾åŠŸèƒ½ï¼Œç”¨æ¥åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç¬¬ä¸€æ¬¡é‡å¤</p><p>è¾“å‡ºå­—ç¬¦ä¸²ï¼Œå¦‚æœå­—ç¬¦ä¸²é‡å¤ä¸”ç¬¬ä¸€æ¬¡é‡å¤ï¼Œåˆ™å°†å…¶å­˜å…¥è¾“å‡ºçš„ç»“æœansä¸­ï¼Œå¦‚æœå­—ç¬¦ä¸²é‡å¤ä½†ä¸æ˜¯ç¬¬ä¸€æ¬¡é‡å¤å­˜å…¥vecä¸­ï¼Œè¾“å…¥çš„å…ƒç´ éƒ½å­˜å…¥seté›†åˆä¸­ã€‚æœ€åè¾“å‡ºansä¸­çš„ç»“æœ</p><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-meta">#<span class="hljs-keyword">define</span> N 600000</span><br><br><span class="hljs-comment">//ä½¿vectorå®¹å™¨å®ç°æŸ¥æ‰¾çš„å‡½æ•°</span><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">search</span><span class="hljs-params">(vector&lt;string&gt;&amp; vec,string target)</span></span>&#123;<br>    vector&lt;string&gt;::iterator it;<br>    it = <span class="hljs-built_in">find</span>(vec.<span class="hljs-built_in">begin</span>(), vec.<span class="hljs-built_in">end</span>(), target);<br>    <span class="hljs-keyword">if</span>(it != vec.<span class="hljs-built_in">end</span>())&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> n;<br>    unordered_set&lt;string&gt; set1;  <span class="hljs-comment">//å­˜å‚¨ä¸é‡å¤å…ƒç´ </span><br>    vector&lt;string&gt; vec;  <span class="hljs-comment">//å­˜å‚¨é‡å¤å…ƒç´ </span><br>    vector&lt;string&gt; ans;  <span class="hljs-comment">//å­˜å‚¨ç¬¬ä¸€æ¬¡é‡å¤çš„å…ƒç´ </span><br>    cin&gt;&gt;n;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;n; i++)&#123;<br>        string str;<br>        cin&gt;&gt;str;<br>        <span class="hljs-keyword">if</span>(set1.<span class="hljs-built_in">count</span>(str) &amp;&amp; !<span class="hljs-built_in">search</span>(vec,str))&#123;  <span class="hljs-comment">//é‡å¤ä¸”ç¬¬ä¸€æ¬¡é‡å¤</span><br>            ans.<span class="hljs-built_in">push_back</span>(str);<br>        &#125;<br>        <span class="hljs-keyword">if</span>(set1.<span class="hljs-built_in">count</span>(str))&#123;  <span class="hljs-comment">//é‡å¤</span><br>            vec.<span class="hljs-built_in">push_back</span>(str);<br>        &#125;<br>        set1.<span class="hljs-built_in">insert</span>(str);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;ans.<span class="hljs-built_in">size</span>(); i++)&#123;<br>        cout&lt;&lt;ans[i]&lt;&lt;endl;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ç¬¬10é¢˜-ç©å…·-Toy"><a href="#ç¬¬10é¢˜-ç©å…·-Toy" class="headerlink" title="ç¬¬10é¢˜ ç©å…·(Toy)"></a>ç¬¬10é¢˜ ç©å…·(Toy)</h2><h3 id="é¢˜ç›®å¤§æ„-9"><a href="#é¢˜ç›®å¤§æ„-9" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>ZCç¥æœ€æ“…é•¿é€»è¾‘æ¨ç†ï¼Œä¸€æ—¥ï¼Œä»–ç»™å¤§å®¶è®²è¿°èµ·è‡ªå·±å„¿æ—¶çš„æ•°å­—ç©å…·ã€‚<br>è¯¥ç©å…·é…·ä¼¼é­”æ–¹ï¼Œåˆä¸æ˜¯é­”æ–¹ã€‚å…·ä½“æ¥è¯´ï¼Œå®ƒä¸æ˜¯ä¸€ä¸ª3 * 3 * 3çš„ç»“æ„ï¼Œè€Œæ˜¯4 * 2çš„ç»“æ„ã€‚</p><p><img src="https://img.yiqiangshiyia.cn/blog/7020dc60-248c-483a-8bb9-d3d235e66b49.png" alt="å›¾1"></p><p>æŒ‰ç…§è¯¥ç©å…·çº¦å®šçš„ç©æ³•ï¼Œæˆ‘ä»¬å¯åå¤åœ°ä»¥å¦‚ä¸‹ä¸‰ç§æ–¹å¼å¯¹å…¶åšå˜æ¢ï¼š<br>Aï¼ äº¤æ¢ä¸Šä¸‹ä¸¤è¡Œã€‚æ¯”å¦‚ï¼Œå›¾(a)ç»æ­¤å˜æ¢åç»“æœå¦‚å›¾(b)æ‰€ç¤ºã€‚<br>Bï¼ å¾ªç¯å³ç§»ï¼ˆZCç¥ä»å°å°±æ‡‚å¾—è¿™æ˜¯ä»€ä¹ˆæ„æ€çš„ï¼‰ã€‚æ¯”å¦‚ï¼Œå›¾(b)ç»æ­¤å˜æ¢åç»“æœå¦‚å›¾(c)æ‰€ç¤ºã€‚<br>Cï¼ ä¸­å¿ƒé¡ºæ—¶é’ˆæ—‹è½¬ã€‚æ¯”å¦‚ï¼Œå›¾(c)ç»æ­¤å˜æ¢åç»“æœå¦‚å›¾(d)æ‰€ç¤ºã€‚<br>ZCç¥è‡ªå°å°±æ˜¯è¿™æ–¹é¢çš„å¤©æ‰ï¼Œä»–å¾€å¾€æ˜¯ä¸€åªæ‰‹è¿˜æ²¡æ©å¹²é¼»æ¶•ï¼Œå¦ä¸€åªæ‰‹å·²ç»è¿…é€Ÿåœ°å°†å¤„äºä»»æ„çŠ¶æ€çš„ç©å…·å¤åŸè‡³å¦‚å›¾(a)æ‰€ç¤ºçš„åˆå§‹çŠ¶æ€ã€‚ç‰©è´¨æå…¶åŒ®ä¹çš„å½“å¹´ï¼ŒZCç¥åªæœ‰ä¸€ä¸ªè¿™æ ·çš„ç©å…·ï¼›ç‰©è´¨æå¤§ä¸°å¯Œçš„ä»Šå¤©ï¼Œä½ å·²æ‹¥æœ‰å¤šä¸ªå¤„äºä¸åŒçŠ¶æ€çš„ç©å…·ã€‚ç°åœ¨ï¼Œå°±è¯·å°†å®ƒä»¬å…¨éƒ¨å¤åŸå§ã€‚</p><p><strong>è¾“å…¥æ ¼å¼:</strong></p><p>ç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œå³ä½ æ‹¥æœ‰çš„é­”æ–¹ç©å…·æ€»æ•°Nã€‚<br>æ¥ä¸‹æ¥å…±Nè¡Œï¼Œæ¯è¡Œ8ä¸ªæ­£æ•´æ•°ï¼Œæ˜¯1~8çš„æ’åˆ—ï¼Œè¡¨ç¤ºè¯¥ç©å…·çš„å½“å‰çŠ¶æ€ã€‚<br>è¿™é‡Œï¼Œé­”æ–¹çŠ¶æ€çš„è¡¨ç¤ºè§„åˆ™ä¸ºï¼šå‰å››ä¸ªæ•°è‡ªå·¦å‘å³ç»™å‡ºé­”æ–¹çš„ç¬¬ä¸€è¡Œï¼Œåå››ä¸ªæ•°è‡ªå³å‘å·¦ç»™å‡ºç¬¬äºŒè¡Œã€‚æ¯”å¦‚ï¼Œåˆå§‹çŠ¶æ€è¡¨ç¤ºä¸ºâ€œ1 2 3 4 5 6 7 8â€ã€‚</p><p>è¦æ±‚ï¼š1 &lt;= N &lt;= 1,000</p><p><strong>è¾“å‡ºæ ¼å¼:</strong></p><p>å…±Nè¡Œï¼Œå„å«ä¸€ä¸ªæ•´æ•°ï¼Œä¾æ¬¡å¯¹åº”äºå¤åŸå„ç©å…·æ‰€éœ€æ‰§è¡Œå˜æ¢çš„æœ€å°‘æ¬¡æ•°ã€‚<br>ç‰¹åˆ«åœ°ï¼Œè‹¥æŸä¸ªç©å…·ä¸å¯å¤åŸï¼Œåˆ™ç›¸åº”è¡Œè¾“å‡º-1ã€‚</p><p><strong>è¾“å…¥æ ·ä¾‹:</strong></p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-number">2</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span> <span class="hljs-number">6</span> <span class="hljs-number">7</span> <span class="hljs-number">8</span><br><span class="hljs-symbol">8 </span><span class="hljs-number">6</span> <span class="hljs-number">3</span> <span class="hljs-number">5</span> <span class="hljs-number">4</span> <span class="hljs-number">2</span> <span class="hljs-number">7</span> <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs">0<br>2<br></code></pre></td></tr></table></figure><h3 id="é¢˜è§£-9"><a href="#é¢˜è§£-9" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><ul><li>ä¸€å…±æœ‰8!=40320ä¸­çŠ¶æ€ï¼Œé€šè¿‡å“ˆå¸Œè¡¨å»ºç«‹æ˜ å°„(åº·æ‰˜å±•å¼€)</li><li>å¤§ä½“æ€è·¯å°±æ˜¯ä»åŸå§‹çŠ¶æ€å¼€å§‹é€šè¿‡ä¸‰ç§æ“ä½œçš„åå‘ç»™å‡ºä¸€åˆ‡å¯ä»¥è¾¾åˆ°çš„çŠ¶æ€ï¼Œé€šè¿‡BFSè¿›è¡Œæ¢ç´¢</li><li>å¦‚æœæŸä¸ªçŠ¶æ€å·²ç»å®ç°è¿‡åˆ™å›æº¯ï¼Œå› ä¸ºBFSç¬¬ä¸€éåˆ°è¾¾è¯¥ç»“ç‚¹çš„æ­¥æ•°å°±æ˜¯æœ€çŸ­è·¯å¾„ï¼Œæ•…éœ€è¦è®°å½•æ¯ä¸ªçŠ¶æ€çš„è®¿é—®æ ‡è®°å’Œéœ€è¦è¾¾åˆ°çš„æœ€å°æ­¥æ•°ï¼Œå‡è®¾æ­¥æ•°ä¸º-1å³ä¸ºæœªè®¿é—®è¿‡</li><li>å¯¹äºé€†åº·æ‰˜è¦ä¿å­˜åº·æ‰˜çš„ç»“æœï¼Œå¤§å¤§æé«˜æ•ˆç‡</li></ul><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">/*</span><br><span class="hljs-comment">åˆæ€ï¼š 1 2 3 4 5 6 7 8</span><br><span class="hljs-comment">Aå˜æ¢ï¼š8 7 6 5 4 3 2 1</span><br><span class="hljs-comment">Bå˜æ¢ï¼š5 8 7 6 3 2 1 4</span><br><span class="hljs-comment">Cå˜æ¢ï¼š5 1 8 6 3 7 2 4</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-comment">//å­˜æ”¾é˜¶ä¹˜</span><br><span class="hljs-type">int</span> jie[<span class="hljs-number">9</span>] = &#123;<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">6</span>,<span class="hljs-number">24</span>,<span class="hljs-number">120</span>,<span class="hljs-number">720</span>,<span class="hljs-number">5040</span>,<span class="hljs-number">40320</span>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">Cantor</span><span class="hljs-params">(<span class="hljs-type">int</span> adr[])</span><span class="hljs-comment">//åº·æ‰˜å‡½æ•°</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> sou = <span class="hljs-number">0</span>,cnt;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">7</span>; i++)<br>    &#123;<br>        cnt = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = i + <span class="hljs-number">1</span>; j &lt; <span class="hljs-number">8</span>; j++)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(adr[j] &lt; adr[i])<br>            &#123;<br>                cnt++;<span class="hljs-comment">//é€†åºæ•°</span><br>            &#125;<br>        &#125;<br>        sou += cnt * jie[<span class="hljs-number">7</span> - i];<span class="hljs-comment">//é˜¶ä¹˜æ±‚å’Œ</span><br>    &#125;<br>    <span class="hljs-keyword">return</span> sou;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">nCantor</span><span class="hljs-params">(<span class="hljs-type">int</span> x,<span class="hljs-type">int</span> adr[])</span><span class="hljs-comment">//é€†åº·æ‰˜å‡½æ•°</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> s[<span class="hljs-number">8</span>],t,j,l;<br>    <span class="hljs-built_in">memset</span>(&amp;s,<span class="hljs-number">0</span>,<span class="hljs-built_in">sizeof</span>(s));<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">8</span>; i++)<br>    &#123;<br>        t = x / jie[<span class="hljs-number">7</span> - i];<br>        x -= t * jie[<span class="hljs-number">7</span> - i];<br>        <span class="hljs-keyword">for</span>(j = <span class="hljs-number">0</span>,l = <span class="hljs-number">0</span>; l &lt;= t; j++)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(s[j] == <span class="hljs-number">0</span>)<br>            &#123;<br>                l++;<br>            &#125;<br>        &#125;<br>        j--;<br>        s[j] = <span class="hljs-number">1</span>;<br>        adr[i] = j + <span class="hljs-number">1</span>;<br>    &#125;<br>&#125;<br><span class="hljs-comment">//å®šä¹‰ä¸‰ç§å˜æ¢</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">A</span><span class="hljs-params">(<span class="hljs-type">int</span> a)</span><span class="hljs-comment">//äº¤æ¢è¡Œ</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> tmp[<span class="hljs-number">8</span>],s[<span class="hljs-number">8</span>];<br>    <span class="hljs-built_in">nCantor</span>(a,tmp);<br>    s[<span class="hljs-number">0</span>] = tmp[<span class="hljs-number">4</span>];<br>    s[<span class="hljs-number">1</span>] = tmp[<span class="hljs-number">5</span>];<br>    s[<span class="hljs-number">2</span>] = tmp[<span class="hljs-number">6</span>];<br>    s[<span class="hljs-number">3</span>] = tmp[<span class="hljs-number">7</span>];<br>    s[<span class="hljs-number">4</span>] = tmp[<span class="hljs-number">0</span>];<br>    s[<span class="hljs-number">5</span>] = tmp[<span class="hljs-number">1</span>];<br>    s[<span class="hljs-number">6</span>] = tmp[<span class="hljs-number">2</span>];<br>    s[<span class="hljs-number">7</span>] = tmp[<span class="hljs-number">3</span>];<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Cantor</span>(s);<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">B</span><span class="hljs-params">(<span class="hljs-type">int</span> b)</span><span class="hljs-comment">//å¾ªç¯å³ç§»</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> tmp[<span class="hljs-number">8</span>], s[<span class="hljs-number">8</span>];<br>    <span class="hljs-built_in">nCantor</span>(b,tmp);<br>    s[<span class="hljs-number">0</span>] = tmp[<span class="hljs-number">3</span>];<br>    s[<span class="hljs-number">1</span>] = tmp[<span class="hljs-number">0</span>];<br>    s[<span class="hljs-number">2</span>] = tmp[<span class="hljs-number">1</span>];<br>    s[<span class="hljs-number">3</span>] = tmp[<span class="hljs-number">2</span>];<br>    s[<span class="hljs-number">4</span>] = tmp[<span class="hljs-number">7</span>];<br>    s[<span class="hljs-number">5</span>] = tmp[<span class="hljs-number">4</span>];<br>    s[<span class="hljs-number">6</span>] = tmp[<span class="hljs-number">5</span>];<br>    s[<span class="hljs-number">7</span>] = tmp[<span class="hljs-number">6</span>];<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Cantor</span>(s);<br><br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">C</span><span class="hljs-params">(<span class="hljs-type">int</span> c)</span><span class="hljs-comment">//ä¸­å¿ƒé¡ºæ—¶é’ˆæ—‹è½¬</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> tmp[<span class="hljs-number">8</span>],s[<span class="hljs-number">8</span>];<br>    <span class="hljs-built_in">nCantor</span>(c, tmp);<br>    s[<span class="hljs-number">0</span>] = tmp[<span class="hljs-number">0</span>];<br>    s[<span class="hljs-number">1</span>] = tmp[<span class="hljs-number">5</span>];<br>    s[<span class="hljs-number">2</span>] = tmp[<span class="hljs-number">1</span>];<br>    s[<span class="hljs-number">3</span>] = tmp[<span class="hljs-number">3</span>];<br>    s[<span class="hljs-number">4</span>] = tmp[<span class="hljs-number">4</span>];<br>    s[<span class="hljs-number">5</span>] = tmp[<span class="hljs-number">6</span>];<br>    s[<span class="hljs-number">6</span>] = tmp[<span class="hljs-number">2</span>];<br>    s[<span class="hljs-number">7</span>] = tmp[<span class="hljs-number">7</span>];<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Cantor</span>(s);<br><br>&#125;<br><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">node</span><br>&#123;<br>    string pum;<br>    <span class="hljs-type">int</span> folat;<span class="hljs-comment">//åº·æ‰˜æ•°</span><br>    <span class="hljs-built_in">node</span>(string a = <span class="hljs-string">&quot;&quot;</span>,<span class="hljs-type">int</span> b = <span class="hljs-number">-1</span>):<span class="hljs-built_in">pum</span>(a),<span class="hljs-built_in">folat</span>(b) &#123;&#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    queue &lt;node&gt; q;<span class="hljs-comment">//å¹¿åº¦ä¼˜å…ˆæœç´¢é˜Ÿåˆ—</span><br>    <span class="hljs-type">int</span> n;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;n);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; n;i++)<br>    &#123;<br>        <span class="hljs-type">int</span> mban[<span class="hljs-number">8</span>],sum,cnt = <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> chu[] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">8</span>, <span class="hljs-number">7</span>, <span class="hljs-number">6</span>, <span class="hljs-number">5</span>&#125;; <span class="hljs-comment">//åˆå§‹çŠ¶æ€</span><br>        <span class="hljs-type">bool</span> flog = <span class="hljs-literal">true</span>,hashcode[<span class="hljs-number">50000</span>] = &#123;<span class="hljs-literal">false</span>&#125;;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i++)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;mban[i]);<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">7</span>; i &gt; <span class="hljs-number">3</span>; i--)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;mban[i]);<br>        &#125;<br>        sum = <span class="hljs-built_in">Cantor</span>(mban);<span class="hljs-comment">//è®¡ç®—åº·æ‰˜æ•°</span><br>        <span class="hljs-function">node <span class="hljs-title">a</span><span class="hljs-params">(<span class="hljs-string">&quot;&quot;</span>,Cantor(chu))</span></span>;<br>        q.<span class="hljs-built_in">push</span>(a);<br>        <span class="hljs-keyword">while</span>(flog)<br>        &#123;<br>            cnt++;<br>            <span class="hljs-type">int</span> m = q.<span class="hljs-built_in">size</span>();<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; m &amp;&amp; flog; i++)<br>            &#123;<br>                node tmp = q.<span class="hljs-built_in">front</span>();<br>                q.<span class="hljs-built_in">pop</span>();<br>                <span class="hljs-keyword">if</span> (tmp.folat == sum)<br>                &#123;<br>                    flog = <span class="hljs-literal">false</span>;<br>                    string res = tmp.pum;<br>                    <span class="hljs-type">int</span> le = res.<span class="hljs-built_in">size</span>(), hang = le / <span class="hljs-number">60</span>; <span class="hljs-comment">// è®¡ç®—è¾“å‡ºè¡Œæ•°</span><br>                    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,cnt - <span class="hljs-number">1</span>);<br>                    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> k = <span class="hljs-number">0</span>; k &lt; hang + <span class="hljs-number">1</span>; k++) <span class="hljs-comment">// æ¯è¡Œ60ä¸ªå­—ç¬¦</span><br>                    &#123;<br>                        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">60</span> &amp;&amp; le &gt; <span class="hljs-number">0</span>; j++)<br>                        &#123;<br>                            le--;<br>                        &#125;<br>                    &#125;<br>                &#125;<br>                <span class="hljs-keyword">if</span>(flog)<br>                &#123;<br>                    <span class="hljs-type">int</span> a1 = <span class="hljs-built_in">A</span>(tmp.folat), a2 = <span class="hljs-built_in">B</span>(tmp.folat), a3 = <span class="hljs-built_in">C</span>(tmp.folat);<br>                    <span class="hljs-comment">// åˆ¤æ–­ä¸‰ç§æ“ä½œåäº§ç”Ÿçš„æƒ…å†µæ˜¯å¦å‡ºç°è¿‡ï¼Œæ²¡æœ‰åˆ™å…¥é˜Ÿï¼Œå¹¶è®°å½•ç›¸åº”çš„æ“ä½œæ­¥éª¤</span><br>                    <span class="hljs-keyword">if</span> (!hashcode[a1])<br>                    &#123;<br>                        hashcode[a1] = <span class="hljs-literal">true</span>;<br>                        string f = tmp.pum + <span class="hljs-string">&quot;A&quot;</span>;<br>                        <span class="hljs-function">node <span class="hljs-title">x</span><span class="hljs-params">(f, a1)</span></span>;<br>                        q.<span class="hljs-built_in">push</span>(x);<br>                    &#125;<br>                    <span class="hljs-keyword">if</span> (!hashcode[a2])<br>                    &#123;<br>                        hashcode[a2] = <span class="hljs-literal">true</span>;<br>                        string f = tmp.pum + <span class="hljs-string">&quot;B&quot;</span>;<br>                        <span class="hljs-function">node <span class="hljs-title">x</span><span class="hljs-params">(f, a2)</span></span>;<br>                        q.<span class="hljs-built_in">push</span>(x);<br>                    &#125;<br>                    <span class="hljs-keyword">if</span> (!hashcode[a3])<br>                    &#123;<br>                        hashcode[a3] = <span class="hljs-literal">true</span>;<br>                        string f = tmp.pum + <span class="hljs-string">&quot;C&quot;</span>;<br>                        <span class="hljs-function">node <span class="hljs-title">x</span><span class="hljs-params">(f, a3)</span></span>;<br>                        q.<span class="hljs-built_in">push</span>(x);<br>                    &#125;<br>                &#125;<br>            &#125;<br><br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ç¬¬11é¢˜-ä»»åŠ¡è°ƒåº¦-Schedule"><a href="#ç¬¬11é¢˜-ä»»åŠ¡è°ƒåº¦-Schedule" class="headerlink" title="ç¬¬11é¢˜ ä»»åŠ¡è°ƒåº¦(Schedule)"></a>ç¬¬11é¢˜ ä»»åŠ¡è°ƒåº¦(Schedule)</h2><h3 id="é¢˜ç›®å¤§æ„-10"><a href="#é¢˜ç›®å¤§æ„-10" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>æŸé«˜æ€§èƒ½è®¡ç®—é›†ç¾¤ï¼ˆHPC clusterï¼‰é‡‡ç”¨çš„ä»»åŠ¡è°ƒåº¦å™¨ä¸ä¼—ä¸åŒã€‚ä¸ºç®€åŒ–èµ·è§ï¼Œå‡å®šè¯¥é›†ç¾¤ä¸æ”¯æŒå¤šä»»åŠ¡åŒæ—¶æ‰§è¡Œï¼Œæ•…åŒä¸€æ—¶åˆ»åªæœ‰å•ä¸ªä»»åŠ¡å¤„äºæ‰§è¡ŒçŠ¶æ€ã€‚åˆå§‹çŠ¶æ€ä¸‹ï¼Œæ¯ä¸ªä»»åŠ¡éƒ½ç”±ç§°ä½œä¼˜å…ˆçº§æ•°çš„ä¸€ä¸ªæ•´æ•°æŒ‡å®šä¼˜å…ˆçº§ï¼Œè¯¥æ•°å€¼è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜ï¼›è‹¥ä¼˜å…ˆçº§æ•°ç›¸ç­‰ï¼Œåˆ™ä»»åŠ¡åASCIIå­—å…¸é¡ºåºä½è€…ä¼˜å…ˆã€‚æ­¤åï¼ŒCPUç­‰èµ„æºæ€»æ˜¯è¢«ä¼˜å…ˆçº§æ•°æœ€å°çš„ä»»åŠ¡å ç”¨ï¼›æ¯ä¸€ä»»åŠ¡è®¡ç®—å®Œæ¯•ï¼Œå†é€‰å–ä¼˜å…ˆçº§æ•°æœ€å°çš„ä¸‹ä¸€ä»»åŠ¡ã€‚ä¸è¿‡ï¼Œè¿™é‡Œçš„ä»»åŠ¡åœ¨è®¡ç®—ç»“æŸåé€šå¸¸å¹¶ä¸ç«‹å³é€€å‡ºï¼Œè€Œæ˜¯å°†ä¼˜å…ˆçº§æ•°åŠ å€ï¼ˆåŠ å€è®¡ç®—æ‰€éœ€çš„æ—¶é—´å¯ä»¥å¿½ç•¥ï¼‰å¹¶ç»§ç»­å‚ä¸è°ƒåº¦ï¼›åªæœ‰åœ¨ä¼˜å…ˆçº§æ•°ä¸å°äº2^32æ—¶ï¼Œæ‰çœŸæ­£é€€å‡ºã€‚<br>ä½ çš„ä»»åŠ¡æ˜¯ï¼Œæ ¹æ®åˆå§‹ä¼˜å…ˆçº§è®¾ç½®ï¼ŒæŒ‰ç…§ä¸Šè¿°è°ƒåº¦åŸåˆ™ï¼Œé¢„æµ‹ä¸€æ‰¹è®¡ç®—ä»»åŠ¡çš„æ‰§è¡Œåºåˆ—ã€‚</p><p><strong>è¾“å…¥æ ¼å¼:</strong></p><p>ç¬¬ä¸€è¡Œä¸ºä»¥ç©ºæ ¼åˆ†éš”çš„ä¸¤ä¸ªæ•´æ•°nå’Œmï¼Œnä¸ºåˆå§‹æ—¶çš„ä»»åŠ¡æ€»æ•°ï¼Œmä¸ºæ‰€é¢„æµ‹çš„ä»»åŠ¡æ‰§è¡Œåºåˆ—é•¿åº¦ï¼Œæ¯è¡Œæœ«å°¾æœ‰ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚<br>ä»¥ä¸‹nè¡Œåˆ†åˆ«åŒ…å«ä¸€ä¸ªæ•´æ•°å’Œä¸€ä¸ªç”±ä¸è¶…è¿‡8ä¸ªå°å†™å­—æ¯å’Œæ•°å­—ç»„æˆçš„å­—ç¬¦ä¸²ã€‚å‰è€…ä¸ºä»»åŠ¡çš„åˆå§‹ä¼˜å…ˆçº§æ•°ï¼Œåè€…ä¸ºä»»åŠ¡åã€‚æ•°å­—å’Œå­—ç¬¦ä¸²ä¹‹é—´ä»¥ç©ºæ ¼åˆ†éš”ã€‚</p><p>è¦æ±‚ï¼š<br>0 â‰¤ n â‰¤ 4,000,000<br>0 â‰¤ m â‰¤ 2,000,000<br>0 &lt; æ¯ä¸ªä»»åŠ¡çš„åˆå§‹ä¼˜å…ˆçº§ &lt; 2^32<br>ä¸ä¼šæœ‰é‡åçš„ä»»åŠ¡</p><p><strong>è¾“å‡ºæ ¼å¼:</strong></p><p>æœ€å¤šmè¡Œï¼Œå„å«ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚æŒ‰æ‰§è¡Œæ¬¡åºåˆ†åˆ«ç»™å‡ºæ‰§è¡Œåºåˆ—ä¸­å‰mä¸ªä»»åŠ¡çš„åç§°ï¼Œè‹¥æ‰§è¡Œåºåˆ—å°‘äºmï¼Œé‚£ä¹ˆè¾“å‡ºè°ƒåº¦å™¨çš„ä»»åŠ¡å¤„ç†å®Œæ¯•å‰çš„æ‰€æœ‰ä»»åŠ¡å³å¯ã€‚</p><p><strong>è¾“å…¥æ ·ä¾‹:</strong></p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">3 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">1 </span>hello<br><span class="hljs-symbol">2 </span>world<br><span class="hljs-symbol">10 </span>test<br></code></pre></td></tr></table></figure><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">hello</span><br><span class="hljs-attribute">hello</span><br><span class="hljs-attribute">world</span><br></code></pre></td></tr></table></figure><h3 id="é¢˜è§£-10"><a href="#é¢˜è§£-10" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>åšè¿™é“é¢˜é¦–å…ˆè¦äº†è§£<strong>ä¼˜å…ˆé˜Ÿåˆ—ã€å †ã€æœ€å¤§å †ã€æœ€å°å †</strong>ç­‰æ•°æ®ç»“æ„å†…å®¹</p><p>ä¼˜å…ˆé˜Ÿåˆ—</p><blockquote><p>ä¼˜å…ˆé˜Ÿåˆ—ï¼ˆpriority queueï¼‰</p><p>â€‹        æ™®é€šçš„é˜Ÿåˆ—æ˜¯ä¸€ç§å…ˆè¿›å…ˆå‡ºçš„æ•°æ®ç»“æ„ï¼Œå…ƒç´ åœ¨é˜Ÿåˆ—å°¾è¿½åŠ ï¼Œè€Œä»é˜Ÿåˆ—å¤´åˆ é™¤ã€‚åœ¨ä¼˜å…ˆé˜Ÿåˆ—ä¸­ï¼Œå…ƒç´ è¢«èµ‹äºˆä¼˜å…ˆçº§ã€‚å½“è®¿é—®å…ƒç´ æ—¶ï¼Œå…·æœ‰æœ€é«˜ä¼˜å…ˆçº§çš„å…ƒç´ æœ€å…ˆåˆ é™¤ã€‚ä¼˜å…ˆé˜Ÿåˆ—å…·æœ‰æœ€é«˜çº§å…ˆå‡º ï¼ˆfirst in, largest outï¼‰çš„è¡Œä¸ºç‰¹å¾ã€‚é€šå¸¸é‡‡ç”¨å †æ•°æ®ç»“æ„æ¥å®ç°ã€‚</p><p>â€‹        ä¼˜å…ˆé˜Ÿåˆ—ä¹Ÿç§°ä¸ºå †ï¼Œæœ¬è´¨æ˜¯ç”¨ä¸€ä¸ªæ•°ç»„è¿›è¡Œæ¨¡æ‹Ÿçš„ä¸€é¢—å®Œå…¨äºŒå‰æ ‘ï¼Œå¯ä»¥æ‹¿å‡ºä¼˜å…ˆçº§æœ€å¤§çš„å…ƒç´ </p></blockquote><p>å †ã€æœ€å¤§å †ã€æœ€å°å †</p><blockquote><p>å †æ˜¯æ•°æ®ç»“æ„ç»“æ„ä¸­ä¸€ç§ç‰¹æ®Šçš„æ ‘ï¼Œåˆ†ä¸ºæœ€å¤§å †å’Œæœ€å°å †ï¼Œå¯ä»¥ç”¨äºŒå‰æ ‘è¡¨ç¤ºï¼Œæ»¡è¶³ä»¥ä¸‹ä¸¤ç‚¹è¦æ±‚ï¼š</p><ul><li>å †æ˜¯ä¸€ä¸ªå®Œå…¨äºŒå‰æ ‘ã€‚</li><li>å †ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å¿…é¡»å¤§äºç­‰äºï¼ˆæˆ–å°äºç­‰äºï¼‰å…¶å­æ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„å€¼ã€‚</li></ul><p>é€šè¿‡è¦æ±‚äºŒå¯çŸ¥ï¼Œå †æœ‰ä¸¤ç§ç±»å‹ï¼Œå¤§é¡¶å †å’Œå°é¡¶å †ï¼š</p><ul><li>å¯¹äºæ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å¤§äºç­‰äºå­æ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹å€¼çš„å †ï¼Œå«ä½œâ€œå¤§é¡¶å †â€ã€‚</li><li>å¯¹äºæ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å°äºç­‰äºå­æ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹å€¼çš„å †ï¼Œå«ä½œâ€œå°é¡¶å †â€ã€‚</li></ul><p><img src="https://img.yiqiangshiyia.cn/blog/dui.jpeg"></p><p>ä¸Šå›¾ä¸­ï¼Œç¬¬1ã€2ä¸ªæ˜¯å¤§é¡¶å †ï¼Œç¬¬3ä¸ªæ˜¯å°é¡¶å †ï¼Œç¬¬4ä¸ªä¸æ˜¯å †ã€‚</p></blockquote><p>å †çš„æ’å…¥ã€å–å€¼å’Œæ’åº</p><blockquote><p>å †çš„æ’å…¥ã€å–å€¼å’Œæ’åºï¼š<a href="https://www.cnblogs.com/chenkeyu/p/7505637.html">https://www.cnblogs.com/chenkeyu/p/7505637.html</a></p></blockquote><p>è§£é¢˜æ€è·¯ï¼š</p><p>STLå®šä¹‰ä¼˜å…ˆé˜Ÿåˆ—ç”¨æ¥å­˜å‚¨ä»»åŠ¡ï¼Œå£°æ˜ç»“æ„ä½“ï¼Œç”¨æ¥è¡¨ç¤ºä»»åŠ¡ï¼Œvalä¸ºä»»åŠ¡åï¼Œstræ•°ç»„ä¸ºä»»åŠ¡åã€‚é€šè¿‡é‡è½½è‡ªå®šä¹‰ä¼˜å…ˆé˜Ÿåˆ—çš„ä¼˜å…ˆçº§ï¼šå…ˆæ¯”è¾ƒä¼˜å…ˆçº§çš„å¤§å°ï¼Œè‹¥ä¼˜å…ˆçº§æ•°ç›¸ç­‰ï¼Œåˆ™ä»»åŠ¡åASCIIå­—å…¸é¡ºåºä½è€…ä¼˜å…ˆã€‚</p><p>æ¯æ¬¡å–å‡ºå †é¡¶ï¼Œè¾“å‡ºï¼Œç„¶åå°†å…¶ä¼˜å…ˆçº§æ•°ä¹˜ä»¥2ï¼Œå¦‚æœä¼˜å…ˆçº§æ•°å°äº2çš„32æ¬¡æ–¹ï¼Œåˆ™é‡æ–°å…¥é˜Ÿã€‚ç›´è‡³æ‰§è¡Œmæ¬¡å–å‡ºæ“ä½œæˆ–é˜Ÿä¸ºç©ºã€‚</p><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-comment">//ç»“æ„ä½“å£°æ˜</span><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Node</span> &#123;<br>    <span class="hljs-type">long</span> <span class="hljs-type">long</span> <span class="hljs-type">int</span> val;  <span class="hljs-comment">//ä»»åŠ¡ä¼˜å…ˆçº§</span><br>    <span class="hljs-type">char</span> str[<span class="hljs-number">8</span>];  <span class="hljs-comment">//ä»»åŠ¡å</span><br>    <span class="hljs-comment">//é‡è½½è‡ªå®šä¹‰ä¼˜å…ˆçº§</span><br>    <span class="hljs-keyword">friend</span> <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span> &lt; (Node a, Node b) &#123;<br>        <span class="hljs-keyword">if</span> (a.val != b.val)<br>            <span class="hljs-keyword">return</span> a.val &gt; b.val;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">strcmp</span>(a.str, b.str) &gt; <span class="hljs-number">0</span>;<br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    priority_queue&lt;Node&gt; que;  <span class="hljs-comment">//STLå®šä¹‰ä¼˜å…ˆé˜Ÿåˆ—</span><br>    <span class="hljs-type">int</span> n,m;<br>    Node node;<br>    cin&gt;&gt;n&gt;&gt;m;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;n; i++)&#123;<br>        cin&gt;&gt;node.val&gt;&gt;node.str;<br>        que.<span class="hljs-built_in">push</span>(node);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;m; i++)&#123;<br>        <span class="hljs-keyword">if</span>(!que.<span class="hljs-built_in">empty</span>())&#123;<br>            cout&lt;&lt;que.<span class="hljs-built_in">top</span>().str&lt;&lt;endl;<br>            Node node2 = que.<span class="hljs-built_in">top</span>();<br>            node2.val = que.<span class="hljs-built_in">top</span>().val*<span class="hljs-number">2</span>;<br>            que.<span class="hljs-built_in">push</span>(node2);<br>            que.<span class="hljs-built_in">pop</span>();<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ç¬¬12é¢˜-å¾ªç¯ç§»ä½-Cycle"><a href="#ç¬¬12é¢˜-å¾ªç¯ç§»ä½-Cycle" class="headerlink" title="ç¬¬12é¢˜ å¾ªç¯ç§»ä½(Cycle)"></a>ç¬¬12é¢˜ å¾ªç¯ç§»ä½(Cycle)</h2><h3 id="é¢˜ç›®å¤§æ„-11"><a href="#é¢˜ç›®å¤§æ„-11" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>æ‰€è°“å¾ªç¯ç§»ä½æ˜¯æŒ‡ï¼šä¸€ä¸ªå­—ç¬¦ä¸²çš„é¦–å­—æ¯ç§»åˆ°æœ«å°¾, å…¶ä»–å­—ç¬¦çš„æ¬¡åºä¿æŒä¸å˜ã€‚æ¯”å¦‚ABCDç»è¿‡ä¸€æ¬¡å¾ªç¯ç§»ä½åå˜æˆBCDAã€‚<br>ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œåˆ¤æ–­å®ƒä»¬æ˜¯ä¸æ˜¯å¯ä»¥é€šè¿‡è‹¥å¹²æ¬¡å¾ªç¯ç§»ä½å¾—åˆ°å½¼æ­¤ã€‚</p><p><strong>è¾“å…¥æ ¼å¼:</strong></p><p>ç¬¬ä¸€è¡Œä¸ºä¸€ä¸ªæ•´æ•°ï¼Œä¸ºåˆ¤æ–­çš„æ¬¡æ•°nï¼›<br>ä¸‹é¢ç”±mè¡Œç»„æˆï¼Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªç”±å¤§å†™å­—æ¯â€™Aâ€™~â€™Zâ€™ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œä¸­é—´ç”±ç©ºæ ¼éš”å¼€ã€‚</p><p>è¦æ±‚ï¼š<br>0 â‰¤ n â‰¤ 5000<br>0 â‰¤ m â‰¤ 5000<br>1 â‰¤ |S1|, |S2| â‰¤ 10^5</p><p><strong>è¾“å‡ºæ ¼å¼:</strong></p><p>å¯¹äºæ¯è¡Œè¾“å…¥ï¼Œè¾“å‡ºè¿™ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦å¯ä»¥é€šè¿‡å¾ªç¯ç§»ä½å¾—åˆ°å½¼æ­¤ï¼šYESè¡¨ç¤ºæ˜¯ï¼ŒNOè¡¨ç¤ºå¦ã€‚</p><p><strong>è¾“å…¥æ ·ä¾‹:</strong></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs">4<br>AACD CDAA<br>ABCDEFG EFGABCD<br>ABCD ACBD<br>ABCDEFEG ABCDEE<br></code></pre></td></tr></table></figure><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs gams"><span class="hljs-keyword">YES</span><br><span class="hljs-keyword">YES</span><br><span class="hljs-keyword">NO</span><br><span class="hljs-keyword">NO</span><br></code></pre></td></tr></table></figure><h3 id="é¢˜è§£-11"><a href="#é¢˜è§£-11" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>è¾“å…¥ä¸¤ä¸ªå­—ç¬¦ä¸² str1 å’Œ str2ï¼Œå®šä¹‰ä¸€ä¸ªæ–°å­—ç¬¦ä¸² str = str1+str1 ï¼Œè‹¥ str2 æ˜¯ str çš„å­ä¸²ï¼Œåˆ™ str1 å¯ä»¥é€šè¿‡è‹¥å¹²æ¬¡å¾ªç¯ç§»ä½å¾—åˆ° str2ï¼Œå¦åˆ™åˆ™ä¸èƒ½</p><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> n;<br>    cin&gt;&gt;n;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;n; i++)&#123;<br>        string str1,str2;<br>        cin&gt;&gt;str1&gt;&gt;str2;<br>        string str = str1+str1;<br>        <span class="hljs-keyword">if</span>(str.<span class="hljs-built_in">find</span>(str2) != <span class="hljs-number">-1</span>)&#123;<br>            cout&lt;&lt;<span class="hljs-string">&quot;YES&quot;</span>&lt;&lt;endl;<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            cout&lt;&lt;<span class="hljs-string">&quot;NO&quot;</span>&lt;&lt;endl;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ•°æ®ç»“æ„</tag>
      
      <tag>ç®—æ³•</tag>
      
      <tag>ä¼˜å…ˆé˜Ÿåˆ—</tag>
      
      <tag>å †</tag>
      
      <tag>å›¾</tag>
      
      <tag>æ‹“æ‰‘æ’åº</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java-ç½‘ç»œç¼–ç¨‹</title>
    <link href="/2022/08/19/Java-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"/>
    <url>/2022/08/19/Java-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<h1 id="1-ç½‘ç»œç¼–ç¨‹æ¦‚è¿°"><a href="#1-ç½‘ç»œç¼–ç¨‹æ¦‚è¿°" class="headerlink" title="1. ç½‘ç»œç¼–ç¨‹æ¦‚è¿°"></a>1. ç½‘ç»œç¼–ç¨‹æ¦‚è¿°</h1><h2 id="1-1-æ¦‚è¿°"><a href="#1-1-æ¦‚è¿°" class="headerlink" title="1.1 æ¦‚è¿°"></a>1.1 æ¦‚è¿°</h2><p>Javaæ˜¯Internetä¸Šçš„è¯­è¨€ï¼Œå®ƒä»è¯­è¨€çº§ä¸Šæä¾›äº†å¯¹ç½‘ç»œåº”ç”¨ç¨‹åºçš„æ”¯æŒï¼Œç¨‹åºå‘˜èƒ½å¤Ÿå¾ˆå®¹æ˜“å¼€å‘å¸¸è§çš„ ç½‘ç»œåº”ç”¨ç¨‹åºã€‚Javaæä¾›çš„ç½‘ç»œç±»åº“ï¼Œå¯ä»¥å®ç°æ— ç—›çš„ç½‘ç»œè¿æ¥ï¼Œè”ç½‘çš„åº•å±‚ç»†èŠ‚è¢«éšè—åœ¨ Java çš„æœ¬æœº å®‰è£…ç³»ç»Ÿé‡Œï¼Œç”±JVMè¿›è¡Œæ§åˆ¶ã€‚å¹¶ä¸”Javaå®ç°äº†ä¸€ä¸ªè·¨å¹³å°çš„ç½‘ç»œåº“ï¼Œ<strong>ç¨‹åºå‘˜é¢å¯¹çš„æ˜¯ä¸€ä¸ªç»Ÿä¸€çš„ç½‘ç»œç¼–ç¨‹ç¯å¢ƒ</strong>ã€‚</p><p><strong>è®¡ç®—æœºç½‘ç»œï¼š</strong> </p><p>æŠŠåˆ†å¸ƒåœ¨ä¸åŒåœ°ç†åŒºåŸŸçš„è®¡ç®—æœºä¸ä¸“é—¨çš„å¤–éƒ¨è®¾å¤‡ç”¨é€šä¿¡çº¿è·¯äº’è¿æˆä¸€ä¸ªè§„æ¨¡å¤§ï¼ŒåŠŸèƒ½å¼ºçš„ç½‘ç»œç³»ç»Ÿï¼Œ ä»è€Œä½¿ä¼—å¤šçš„è®¡ç®—æœºå¯ä»¥æ–¹ä¾¿åœ°äº’ç›¸ä¼ é€’ä¿¡æ¯ï¼Œå…±äº«ç¡¬ä»¶ï¼Œè½¯ä»¶ï¼Œæ•°æ®ä¿¡æ¯ç­‰èµ„æºã€‚</p><p><strong>ç½‘ç»œç¼–ç¨‹çš„ç›®çš„ï¼š</strong> </p><p>ç›´æ¥æˆ–é—´æ¥åœ°é€šè¿‡ç½‘ç»œåè®®ä¸å…¶ä»–è®¡ç®—æœºå®ç°æ•°æ®äº¤æ¢ï¼Œè¿›è¡Œé€šè®¯ã€‚</p><p><strong>ç½‘ç»œç¼–ç¨‹ä¸­æœ‰ä¸¤ä¸ªä¸»è¦çš„é—®é¢˜ï¼š</strong></p><ol><li>å¦‚ä½•å‡†ç¡®çš„å®šä½ç½‘ç»œä¸Šçš„ä¸€å°æˆ–å¤šå°ä¸»æœºï¼Œå®šä½ä¸»æœºä¸Šçš„ç‰¹å®šçš„åº”ç”¨ </li><li>æ‰¾åˆ°ä¸»æœºåå¦‚ä½•å¯é é«˜æ•ˆåœ°è¿›è¡Œæ•°æ®ä¼ è¾“</li></ol><p>ã€æ¯”å–»ï¼šä¿¡ä»¶ã€‘</p><p><img src="https://img.yiqiangshiyia.cn/blog/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B002.jpg" alt="ç½‘ç»œç¼–ç¨‹002"></p><p>ç½‘ç»œç¼–ç¨‹ ï¼= ç½‘é¡µç¼–ç¨‹ï¼ˆwebå¼€å‘ï¼‰ </p><p>B/S æ¶æ„ å’Œ C/S æ¶æ„</p><h2 id="1-2-ç½‘ç»œé€šä¿¡ä¸¤ä¸ªè¦ç´ "><a href="#1-2-ç½‘ç»œé€šä¿¡ä¸¤ä¸ªè¦ç´ " class="headerlink" title="1.2 ç½‘ç»œé€šä¿¡ä¸¤ä¸ªè¦ç´ "></a>1.2 ç½‘ç»œé€šä¿¡ä¸¤ä¸ªè¦ç´ </h2><p>é€šä¿¡åŒæ–¹çš„åœ°å€ ï¼š </p><ul><li>IP </li><li>ç«¯å£å·  </li></ul><p>ä¸€å®šçš„è§„åˆ™ï¼šï¼ˆå³ï¼Œç½‘ç»œé€šä¿¡åè®®ï¼Œæœ‰ä¸¤å¥—å‚è€ƒæ¨¡å‹ï¼‰ </p><ul><li>OSI å‚è€ƒæ¨¡å‹ï¼šæ¨¡å‹è¿‡äºç†æƒ³åŒ–ï¼Œæœªèƒ½åœ¨å› ç‰¹ç½‘ä¸Šè¿›è¡Œå¹¿æ³›æ¨å¹¿ï¼ </li><li>TCP/IP å‚è€ƒæ¨¡å‹ï¼šTCP/IPåè®®ï¼Œäº‹å®ä¸Šçš„å›½é™…æ ‡å‡†ã€‚</li></ul><p><img src="https://img.yiqiangshiyia.cn/blog/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B003.jpg" alt="ç½‘ç»œç¼–ç¨‹003"></p><p><img src="https://img.yiqiangshiyia.cn/blog/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B004.jpg" alt="ç½‘ç»œç¼–ç¨‹004"></p><p><strong>å°æ€»ç»“ï¼š</strong> </p><ol><li>ç½‘ç»œç¼–ç¨‹ä¸­æœ‰ä¸¤ä¸ªä¸»è¦çš„é—®é¢˜ï¼š <ul><li>å¦‚ä½•å‡†ç¡®çš„å®šä½ç½‘ç»œä¸Šä¸€å°æˆ–å¤šå°ä¸»æœºï¼›å®šä½ä¸»æœºä¸Šçš„ç‰¹å®šçš„åº”ç”¨ </li><li>æ‰¾åˆ°ä¸»æœºåå¦‚ä½•å¯é é«˜æ•ˆçš„è¿›è¡Œæ•°æ®ä¼ è¾“ </li></ul></li><li>ç½‘ç»œç¼–ç¨‹ä¸­çš„ä¸¤ä¸ªè¦ç´ ï¼š <ul><li>ip å’Œ ç«¯å£å· </li><li>æä¾›ç½‘ç»œé€šä¿¡åè®®ã€‚ TCP/IPå‚è€ƒæ¨¡å‹ï¼ˆåº”ç”¨å±‚ï¼Œä¼ è¾“å±‚ï¼Œç½‘ç»œå±‚ï¼Œç‰©ç†+æ•°æ®é“¾è·¯å±‚ï¼‰</li></ul></li></ol><h2 id="1-3-Inet-Address"><a href="#1-3-Inet-Address" class="headerlink" title="1.3 Inet Address"></a>1.3 Inet Address</h2><p><strong>ipåœ°å€ï¼šInet Address</strong> </p><ul><li><p>å”¯ä¸€çš„æ ‡è¯† internet ä¸Šçš„è®¡ç®—æœº ( é€šä¿¡å®ä½“ ) </p></li><li><p>æœ¬åœ°å›ç¯åœ°å€ï¼ˆhostAddressï¼‰ï¼š127.0.0.1 ä¸»æœºå ( hostName )ï¼šlocalhost </p></li><li><p>IPåœ°å€åˆ†ç±»æ–¹å¼ä¸€ ï¼š IPV4 IPV6 </p><ul><li>IPV4ï¼š4ä¸ªå­—èŠ‚ç»„æˆï¼Œ4ä¸ª0~255ã€‚å¤§æ¦‚42äº¿ä¸ªï¼Œ 30äº¿éƒ½åœ¨åŒ—ç¾ï¼Œäºšæ´²4äº¿ã€‚2011å¹´åˆå·²ç»ç”¨ å°½ã€‚ä»¥ç‚¹åˆ†åè¿›åˆ¶è¡¨ç¤ºï¼Œå¦‚192.168.0.1 </li><li>IPV6ï¼š128ä½ï¼ˆ16ä¸ªå­—èŠ‚ï¼‰ï¼Œå†™æˆ8ä¸ªæ— ç¬¦å·æ•´æ•°ï¼Œæ¯ä¸ªæ•´æ•°ç”¨å››ä¸ªåå…­è¿›åˆ¶ä½è¡¨ç¤ºï¼Œæ•°ä¹‹é—´ ç”¨å†’å· éš”å¼€ï¼Œå¦‚ï¼š2001:0db8:3c4d:0015:0000:0000:1a2f:1a2b </li></ul></li><li><p>IPåœ°å€åˆ†ç±»æ–¹å¼2ï¼šå…¬ç½‘åœ°å€ï¼ˆä¸‡ç»´ç½‘ä½¿ç”¨ï¼‰ å’Œ ç§æœ‰åœ°å€ï¼ˆå±€åŸŸç½‘ä½¿ç”¨ï¼‰ã€‚ </p><ul><li>192.168.å¼€å¤´çš„å°±æ˜¯ç§æœ‰åœ°å€ï¼ŒèŒƒå›´å³ä¸º 192.168.0.0 ~ 192.168.255.255ï¼Œä¸“é—¨ä¸ºç»„ç»‡æœºæ„ å†…éƒ¨ä½¿ç”¨ </li></ul></li><li><p>ã€æŸ¥çœ‹ JDK å¸®åŠ©æ–‡æ¡£=&gt; InetAddressç±»ï¼Œä»£è¡¨IPã€‘</p></li><li><p>ç‰¹ç‚¹ï¼šä¸ä¾¿äºè®°å¿†ï¼Œæˆ‘ä»¬å¸¸ä½¿ç”¨åŸŸåæ¥è®¿é—®ï¼š<a href="http://www.baidu.com/">www.baidu.com</a> </p></li><li><p><a href="https://blog.kuangstudy.com/">https://blog.kuangstudy.com/</a> =&gt; DNS åŸŸåè§£æï¼ˆ150.109.117.44ï¼‰=&gt; ç°åœ¨æœ¬æœºçš„hostsæ–‡ä»¶ï¼Œ åˆ¤æ–­æ˜¯å¦æœ‰è¾“å…¥çš„åŸŸååœ°å€ï¼Œæ²¡æœ‰çš„è¯ï¼Œå†é€šè¿‡DNSæœåŠ¡å™¨ï¼Œæ‰¾ä¸»æœºã€‚ hostsæ–‡ä»¶åœ°å€ï¼š cï¼š\windows\system32\drivers\etc\hosts</p></li></ul><p>InetAddressTest</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.lesson1;<br><br><span class="hljs-keyword">import</span> java.net.InetAddress;<br><span class="hljs-keyword">import</span> java.net.UnknownHostException;<br><br><span class="hljs-comment">//IP è¿™ä¸ªä¸œè¥¿ï¼Œæ€ä¹ˆç”¨Javaå¯¹è±¡è¡¨ç¤º</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">InetAddressTest</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><span class="hljs-keyword">try</span> &#123;<br>            <br><span class="hljs-comment">//è·å¾—IPåœ°å€</span><br><span class="hljs-type">InetAddress</span> <span class="hljs-variable">inetAddresses1</span> <span class="hljs-operator">=</span> InetAddress.getByName(<span class="hljs-string">&quot;192.168.8.123&quot;</span>);<br>System.out.println(inetAddresses1);<br><span class="hljs-type">InetAddress</span> <span class="hljs-variable">inetAddresses2</span> <span class="hljs-operator">=</span><br>InetAddress.getByName(<span class="hljs-string">&quot;www.baidu.com&quot;</span>);<br>System.out.println(inetAddresses2);<br><br>            <span class="hljs-comment">//è·å–æœ¬åœ°IP</span><br><span class="hljs-type">InetAddress</span> <span class="hljs-variable">inetAddresses3</span> <span class="hljs-operator">=</span> InetAddress.getByName(<span class="hljs-string">&quot;127.0.0.1&quot;</span>);<br>System.out.println(inetAddresses3);<br><span class="hljs-type">InetAddress</span> <span class="hljs-variable">inetAddresses4</span> <span class="hljs-operator">=</span> InetAddress.getByName(<span class="hljs-string">&quot;localhost&quot;</span>);<br>System.out.println(inetAddresses4);<br><span class="hljs-type">InetAddress</span> <span class="hljs-variable">inetAddresses5</span> <span class="hljs-operator">=</span> InetAddress.getLocalHost();<br>System.out.println(inetAddresses5);<br><br>            <span class="hljs-comment">//getHostName</span><br>System.out.println(inetAddresses2.getHostName());<br><span class="hljs-comment">//getHostAddress</span><br>System.out.println(inetAddresses2.getHostAddress());<br><span class="hljs-comment">//Canonical : è§„èŒƒçš„</span><br>            System.out.println(inetAddresses2.getCanonicalHostName());<br>&#125; <span class="hljs-keyword">catch</span> (UnknownHostException e) &#123;<br>e.printStackTrace();<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="1-4-ç«¯å£å·"><a href="#1-4-ç«¯å£å·" class="headerlink" title="1.4 ç«¯å£å·"></a>1.4 ç«¯å£å·</h2><p>ç«¯å£å·æ ‡è¯†æ­£åœ¨è®¡ç®—æœºä¸Šè¿è¡Œçš„è¿›ç¨‹ï¼ˆç¨‹åºï¼‰ </p><ul><li>ä¸åŒçš„è¿›ç¨‹æœ‰ä¸åŒçš„ç«¯å£å·ï¼Œç”¨æ¥åŒºåˆ†è½¯ä»¶ </li><li>è¢«è§„å®šä¸ºä¸€ä¸ª16ä½çš„æ•´æ•° 0~65535</li><li>TCP å’Œ UDP å„æœ‰ 65535ä¸ªç«¯å£ï¼Œå•ä¸ªåè®®ä¸‹ç«¯å£ä¸èƒ½å†²çª </li><li>ç«¯å£åˆ†ç±»ï¼š <ul><li>å…¬è®¤ç«¯å£ï¼š 0~1023ã€‚è¢«é¢„å…ˆå®šä¹‰çš„æœåŠ¡é€šä¿¡å ç”¨ç«¯å£ã€‚ <ul><li>HTTP é»˜è®¤ç«¯å£ ï¼š 80 </li><li>HTTPS é»˜è®¤ç«¯å£ï¼š443 </li><li>FTP é»˜è®¤ç«¯å£ï¼š 21 </li><li>Telnet é»˜è®¤ç«¯å£ï¼š23 </li></ul></li><li>æ³¨å†Œç«¯å£ï¼š1024~49151ã€åˆ†é…ç»™ç”¨æˆ·è¿›ç¨‹æˆ–åº”ç”¨ç¨‹åºã€‚ <ul><li>tomcat é»˜è®¤ç«¯å£ï¼š8080 </li><li>Mysql é»˜è®¤ç«¯å£ï¼š3306 </li><li>Oracle é»˜è®¤ç«¯å£ï¼š1521 </li></ul></li><li>åŠ¨æ€ã€ç§æœ‰ç«¯å£ï¼š49152~65535</li></ul></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell">netstat -ano #æŸ¥çœ‹æ‰€æœ‰ç«¯å£<br>netstat -ano|findstr &quot;6732&quot; #æŸ¥çœ‹æŒ‡å®šç«¯å£<br>tasklist|findstr &quot;6732&quot; #æŸ¥çœ‹æŒ‡å®šè¿›ç¨‹<br><span class="hljs-meta prompt_"># </span><span class="language-bash">ä½¿ç”¨ä»»åŠ¡ç®¡ç†å™¨æŸ¥çœ‹PID</span><br></code></pre></td></tr></table></figure><p><img src="https://img.yiqiangshiyia.cn/blog/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B005.jpg" alt="ç½‘ç»œç¼–ç¨‹005"></p><p>æ—©å¹´ï¼ŒQQå«OICQï¼Œwindowsæœ¬æ¥ç»‘å®šçš„MSN ï¼Œä½†æ˜¯å½“æ—¶ä¸­å›½æ³•å¾‹ä¹Ÿä¸å¤ªæ˜ç¡®ï¼Œå¾®è½¯é‚£è¾¹çš„äººå°±æè®®ï¼Œ è¦ä¸è¦å°æ‰QQï¼Œå¯¹äºä»–ä»¬æ¥è¯´éå¸¸ç®€å•ï¼Œæ“ä½œç³»ç»Ÿå±‚é¢ï¼Œåªéœ€è¦è®©QQå®‰è£…ä¸æˆåŠŸå³å¯ã€‚ä½†æ˜¯å¾®è½¯æƒ³äº† æƒ³ï¼Œæ²¡è¿™ä¹ˆå»åšï¼Œæ¯•ç«Ÿä¸å¥½ï¼Œæ‰€ä»¥è¯´QQèƒ½èµ·æ¥ä¹Ÿæ˜¯æœ‰ä¸€å®šçš„æœºé‡çš„ï¼Œä½†æ˜¯QQèµ·æ¥ä¹‹åï¼Œæ˜ç™½äº†è¿™ä¸ªé—® é¢˜ï¼Œæ‰€ä»¥è¯´è…¾è®¯ç°åœ¨å¾ˆå¤šè¡Œä¸šéƒ½æ˜¯å„æ–­å¼çš„ï¼Œå¯¹ä¸å¯¹ã€‚</p><p>ç«¯å£å·ä¸IPåœ°å€çš„ç»„åˆï¼Œå¾—å‡ºä¸€ä¸ªç½‘ç»œå¥—æ¥å­—ï¼šSocketï¼Œæ‰€ä»¥è¯´ä¸€äº›ç½‘ç»œç¼–ç¨‹ä¹Ÿè¢«ç§°ä¸ºSocketç¼–ç¨‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.lesson1;<br><br><span class="hljs-keyword">import</span> java.net.InetSocketAddress;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">InetSocketAddressTest</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><span class="hljs-type">InetSocketAddress</span> <span class="hljs-variable">socketAddress</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span><br><span class="hljs-title class_">InetSocketAddress</span>(<span class="hljs-string">&quot;127.0.0.1&quot;</span>,<span class="hljs-number">8080</span>);<br>    <span class="hljs-type">InetSocketAddress</span> <span class="hljs-variable">socketAddress2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span><br><span class="hljs-title class_">InetSocketAddress</span>(<span class="hljs-string">&quot;localhost&quot;</span>,<span class="hljs-number">9000</span>);<br><br>        System.out.println(socketAddress.getHostName());<br>System.out.println(socketAddress.getAddress());<br>System.out.println(socketAddress.getPort());<br><br>        System.out.println(socketAddress2.getHostName());<br>System.out.println(socketAddress2.getAddress()); <span class="hljs-comment">//è¿”å›åœ°å€</span><br>System.out.println(socketAddress2.getPort()); <span class="hljs-comment">//è¿”å›ç«¯å£</span><br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="1-5-ç½‘ç»œé€šä¿¡åè®®"><a href="#1-5-ç½‘ç»œé€šä¿¡åè®®" class="headerlink" title="1.5 ç½‘ç»œé€šä¿¡åè®®"></a>1.5 ç½‘ç»œé€šä¿¡åè®®</h2><p>åè®®ï¼šå°±å¥½æ¯”æˆ‘ä»¬éƒ½è¯´çš„æ™®é€šè¯ï¼Œå¤§å®¶æ‰èƒ½å¬æ‡‚æˆ‘è®²çš„ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜æœ‰è‡ªå·±çš„æ–¹è¨€ï¼ </p><p><strong>ç½‘ç»œé€šä¿¡åè®®ï¼š</strong> </p><p>è®¡ç®—æœºç½‘ç»œä¸­å®ç°é€šä¿¡å¿…é¡»æœ‰ä¸€äº›çº¦å®šï¼Œå³é€šä¿¡åè®®ï¼Œå¯¹é€Ÿç‡ï¼Œä¼ è¾“ä»£ç ï¼Œä»£ç ç»“æ„ï¼Œä¼ è¾“æ§åˆ¶æ­¥éª¤ï¼Œ å‡ºé”™æ§åˆ¶ç­‰åˆ¶å®šæ ‡å‡†ã€‚ </p><p><strong>é—®é¢˜ï¼šç½‘è·¯åè®®å¤ªå¤æ‚ï¼Ÿ</strong> </p><p>è®¡ç®—æœºç½‘ç»œé€šä¿¡æ¶‰åŠå†…å®¹å¾ˆå¤šï¼Œæ¯”å¦‚æŒ‡å®šæºåœ°å€å’Œç›®æ ‡åœ°å€ï¼ŒåŠ å¯†è§£å¯†ï¼Œå‹ç¼©è§£å‹ç¼©ï¼Œå·®é”™æ§åˆ¶ï¼Œæµé‡ æ§åˆ¶ï¼Œè·¯ç”±æ§åˆ¶ï¼Œå¦‚ä½•å®ç°å¦‚æ­¤å¤æ‚çš„ç½‘ç»œåè®®å‘¢ï¼Ÿ </p><p><strong>é€šä¿¡åè®®åˆ†å±‚çš„æ€æƒ³</strong> </p><p>åœ¨åˆ¶å®šåè®®æ—¶ï¼ŒæŠŠå¤æ‚æˆä»½åˆ†è§£æˆä¸€äº›ç®€å•çš„æˆä»½ï¼Œå†å°†ä»–ä»¬å¤åˆèµ·æ¥ã€‚æœ€å¸¸ç”¨çš„å¤åˆæ–¹å¼æ˜¯å±‚æ¬¡æ–¹ å¼ï¼Œå³åŒå±‚é—´å¯ä»¥é€šä¿¡ï¼Œä¸Šä¸€å±‚è°ƒç”¨ä¸‹ä¸€å±‚ï¼Œè€Œä¸å†ä¸‹ä¸€å±‚ä¸å‘ç”Ÿå…³ç³»ã€‚å„å±‚äº’ä¸å½±å“ï¼Œåˆ©äºç³»ç»Ÿçš„å¼€ å‘å’Œæ‰©å±•ã€‚</p><p><strong>TCP/IPåè®®ç°‡</strong> </p><ul><li>ä¼ è¾“å±‚åè®®ä¸­æœ‰ä¸¤ä¸ªéå¸¸é‡è¦çš„åè®®ï¼š <ul><li>ç”¨æˆ·ä¼ è¾“åè®® TCP ï¼ˆTransmission Control Protocolï¼‰ </li><li>ç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼ˆUser Datagram Protocolï¼‰ </li></ul></li><li>Tcp/IP ä»¥å…¶ä¸¤ä¸ªä¸»è¦åè®®ï¼š ä¼ è¾“æ§åˆ¶åè®®ï¼šTCPï¼Œå’Œç½‘ç»œäº’è”åè®®ï¼šIPï¼Œè€Œå¾—åï¼Œå®é™…ä¸Šæ˜¯ä¸€ç»„å è®®ï¼ŒåŒ…æ‹¬å¤šä¸ªå…·æœ‰ä¸åŒåŠŸèƒ½ä¸”äº’ä¸ºå…³è”çš„åè®®ã€‚ </li><li>IPï¼ˆInternet Protocolï¼‰åè®®æ˜¯ç½‘ç»œå±‚çš„ä¸»è¦åè®®ï¼Œæ”¯æŒç½‘é—´äº’è”çš„æ•°æ®é€šä¿¡ã€‚ </li><li>TCP/IPåè®®æ¨¡å‹ä»æ›´å®ç”¨çš„è§’åº¦å‡ºå‘ï¼Œå½¢æˆäº†é«˜æ•ˆçš„å››å±‚ä½“ç³»ç»“æ„ï¼Œå³ç‰©ç†é“¾è·¯å±‚ï¼ŒIPå±‚ï¼Œä¼ è¾“å±‚ å’Œåº”ç”¨å±‚</li></ul><p><strong>TCP å’Œ UDPå¯¹æ¯”</strong> </p><p>TCPåè®® </p><ul><li>ä½¿ç”¨TCPåè®®å‰ï¼Œå¿…é¡»å»ºç«‹TCPè¿æ¥ï¼Œå½¢æˆä¼ è¾“æ•°æ®é€šé“ï¼› </li><li>ä¼ è¾“å‰ï¼Œé‡‡ç”¨ â€˜ ä¸‰æ¬¡æ¡æ‰‹ â€™ æ–¹å¼ï¼Œç‚¹å¯¹ç‚¹é€šä¿¡ï¼Œæ˜¯å¯é çš„ã€‚</li><li>TCPåè®®è¿›è¡Œé€šä¿¡çš„ä¸¤ä¸ªåº”ç”¨è¿›ç¨‹ï¼šå®¢æˆ·ç«¯ï¼ŒæœåŠ¡ç«¯ã€‚ </li><li>åœ¨è¿æ¥ä¸­å¯è¿›è¡Œå¤§æ•°æ®é‡çš„ä¼ è¾“ </li><li>ä¼ è¾“å®Œæ¯•ï¼Œéœ€è¦é‡Šæ”¾å·²å»ºç«‹çš„è¿æ¥ï¼Œæ•ˆç‡ä½ </li><li>ä¸¾ä¾‹ï¼šæ‰“ç”µè¯</li></ul><p><img src="https://img.yiqiangshiyia.cn/blog/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B006.jpg" alt="ç½‘ç»œç¼–ç¨‹006"></p><p><img src="https://img.yiqiangshiyia.cn/blog/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B007.jpg" alt="ç½‘ç»œç¼–ç¨‹007"></p><p>UDPåè®® </p><ul><li>å°†æ•°æ®ï¼Œæºï¼Œç›®çš„å°è£…æˆæ•°æ®åŒ…ï¼Œä¸éœ€è¦å»ºç«‹è¿æ¥ </li><li>æ¯ä¸ªæ•°æ®æŠ¥çš„å¤§å°é™åˆ¶åœ¨64Kå†… </li><li>å‘é€æ–¹ä¸ç®¡å¯¹æ–¹æ˜¯å¦å‡†å¤‡å¥½ï¼Œæ¥æ”¶æ–¹æ”¶åˆ°ä¹Ÿä¸ç¡®è®¤ï¼Œæ•…äº‹ä¸å¯é çš„ </li><li>å¯ä»¥å¹¿æ’­å‘é€ </li><li>å‘é€æ•°æ®ç»“æŸæ—¶ï¼Œæ— éœ€é‡Šæ”¾èµ„æºï¼Œå¼€é”€å°ï¼Œé€Ÿåº¦å¿«ã€‚ </li><li>ä¸¾ä¾‹ï¼šå‘çŸ­ä¿¡ï¼Œå¯¼å¼¹ï¼ˆé¥±å’Œæ”»å‡»ï¼‰</li></ul><h1 id="2-TCPç½‘ç»œç¼–ç¨‹"><a href="#2-TCPç½‘ç»œç¼–ç¨‹" class="headerlink" title="2. TCPç½‘ç»œç¼–ç¨‹"></a>2. TCPç½‘ç»œç¼–ç¨‹</h1><h2 id="2-1-æ¡ˆä¾‹1"><a href="#2-1-æ¡ˆä¾‹1" class="headerlink" title="2.1 æ¡ˆä¾‹1"></a>2.1 æ¡ˆä¾‹1</h2><p>éœ€æ±‚ï¼šå®¢æˆ·ç«¯å‘é€ä¿¡æ¯ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯å°†æ•°æ®æ˜¾ç¤ºåœ¨æ§åˆ¶å°ä¸Šã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.lesson2;<br><br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.OutputStream;<br><span class="hljs-keyword">import</span> java.net.InetAddress;<br><span class="hljs-keyword">import</span> java.net.Socket;<br><span class="hljs-keyword">import</span> java.net.UnknownHostException;<br><br><span class="hljs-comment">//å®¢æˆ·ç«¯</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TcpClientDemo01</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><span class="hljs-type">Socket</span> <span class="hljs-variable">socket</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br><span class="hljs-type">OutputStream</span> <span class="hljs-variable">os</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br><span class="hljs-keyword">try</span> &#123;<br><span class="hljs-comment">//1. è¿æ¥æœåŠ¡å™¨çš„åœ°å€</span><br><span class="hljs-type">InetAddress</span> <span class="hljs-variable">serverIP</span> <span class="hljs-operator">=</span> InetAddress.getByName(<span class="hljs-string">&quot;127.0.0.1&quot;</span>);<br><span class="hljs-type">int</span> <span class="hljs-variable">port</span> <span class="hljs-operator">=</span> <span class="hljs-number">8899</span>;<br><span class="hljs-comment">//2. åˆ›å»ºä¸€ä¸ªSocket</span><br>socket = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Socket</span>(serverIP,port);<br><span class="hljs-comment">//3. åˆ›å»ºä¸€ä¸ªè¾“å‡ºæµï¼Œå‘å¤–å†™ä¸œè¥¿</span><br>os = socket.getOutputStream();<br>os.write(<span class="hljs-string">&quot;ä½ å¥½,æ¬¢è¿å­¦ä¹ ç‹‚ç¥è¯´Java&quot;</span>.getBytes());<br><br>        &#125; <span class="hljs-keyword">catch</span> (UnknownHostException e) &#123;<br>e.printStackTrace();<br>&#125; <span class="hljs-keyword">catch</span> (IOException e) &#123;<br>e.printStackTrace();<br>&#125; <span class="hljs-keyword">finally</span> &#123;<br><span class="hljs-comment">//4. å…³é—­èµ„æº</span><br><span class="hljs-keyword">try</span> &#123;<br><span class="hljs-keyword">if</span> (os!=<span class="hljs-literal">null</span>)&#123;<br>os.close();<br>&#125;<br><span class="hljs-keyword">if</span> (socket!=<span class="hljs-literal">null</span>)&#123;<br>socket.close();<br>&#125;<br>&#125; <span class="hljs-keyword">catch</span> (IOException e) &#123;<br>e.printStackTrace();<br>&#125;<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æœåŠ¡ç«¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.lesson2;<br><br><span class="hljs-keyword">import</span> javax.sound.midi.Soundbank;<br><span class="hljs-keyword">import</span> java.io.ByteArrayOutputStream;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.InputStream;<br><span class="hljs-keyword">import</span> java.net.ServerSocket;<br><span class="hljs-keyword">import</span> java.net.Socket;<br><span class="hljs-keyword">import</span> java.util.Base64;<br><br><span class="hljs-comment">//æœåŠ¡ç«¯</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TcpServerDemo01</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>    <span class="hljs-type">ServerSocket</span> <span class="hljs-variable">serverSocket</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br><span class="hljs-type">Socket</span> <span class="hljs-variable">accept</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br><span class="hljs-type">InputStream</span> <span class="hljs-variable">is</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br><span class="hljs-type">ByteArrayOutputStream</span> <span class="hljs-variable">baos</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br><br>        <span class="hljs-keyword">try</span> &#123;<br><span class="hljs-comment">//1. å¼€æ”¾æœåŠ¡å™¨ç«¯å£ï¼Œåˆ›å»ºServerSocket</span><br>serverSocket = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServerSocket</span>(<span class="hljs-number">8899</span>);<br><span class="hljs-comment">//2. ç­‰å¾…å®¢æˆ·ç«¯çš„è¿æ¥</span><br>accept = serverSocket.accept();<br><span class="hljs-comment">//3. è¯»å…¥å®¢æˆ·ç«¯çš„æ¶ˆæ¯,</span><br>is = accept.getInputStream();<br><br>            <span class="hljs-comment">/*</span><br><span class="hljs-comment">å›å¿†ä¹‹å‰çš„IOæµæ–¹æ¡ˆï¼Œå¼Šç«¯ï¼šå­˜åœ¨ä¸­æ–‡ï¼Œå¯èƒ½å­˜åœ¨ä¹±ç ã€‚</span><br><span class="hljs-comment">byte[] buffer = new byte[1024];</span><br><span class="hljs-comment">int len;</span><br><span class="hljs-comment">while ((len=is.read(buffer))!=-1)&#123;</span><br><span class="hljs-comment">String str = new String(buffer,0,len);</span><br><span class="hljs-comment">System.out.println(str);</span><br><span class="hljs-comment">&#125;</span><br><span class="hljs-comment">**/</span><br><br>            baos = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ByteArrayOutputStream</span>();<br><span class="hljs-type">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span>];<br><span class="hljs-type">int</span> len;<br><span class="hljs-keyword">while</span> ((len=is.read(buffer))!=-<span class="hljs-number">1</span>)&#123;<br>baos.write(buffer,<span class="hljs-number">0</span>,len);<br>&#125;<br>System.out.println(baos.toString());<br><br>            System.out.println(<br><span class="hljs-string">&quot;æ•°æ®æ¥æºåœ°å€ï¼š&quot;</span>+accept.getInetAddress().getHostName());<br><br>        &#125; <span class="hljs-keyword">catch</span> (IOException e) &#123;<br>e.printStackTrace();<br>&#125; <span class="hljs-keyword">finally</span> &#123;<br><span class="hljs-comment">//4. å…³é—­èµ„æº</span><br><span class="hljs-keyword">try</span> &#123;<br><span class="hljs-keyword">if</span> (baos!=<span class="hljs-literal">null</span>)&#123;<br>baos.close();<br>&#125;<br><span class="hljs-keyword">if</span> (is!=<span class="hljs-literal">null</span>)&#123;<br>is.close();<br>&#125;<br><span class="hljs-keyword">if</span> (accept!=<span class="hljs-literal">null</span>)&#123;<br>accept.close();<br>&#125;<br><span class="hljs-keyword">if</span> (serverSocket!=<span class="hljs-literal">null</span>)&#123;<br>serverSocket.close();<br>&#125;<br>&#125;<span class="hljs-keyword">catch</span> (Exception e)&#123;<br>e.printStackTrace();<br>&#125;<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç”Ÿæ´»ä¸¾ä¾‹ï¼šæ¸¯å£</p><p><img src="https://img.yiqiangshiyia.cn/blog/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B008.jpg" alt="ç½‘ç»œç¼–ç¨‹008"></p><h2 id="2-2-æ¡ˆä¾‹2"><a href="#2-2-æ¡ˆä¾‹2" class="headerlink" title="2.2 æ¡ˆä¾‹2"></a>2.2 æ¡ˆä¾‹2</h2><p>éœ€æ±‚ï¼šå®¢æˆ·ç«¯å‘é€æ–‡ä»¶ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡ç«¯å°†æ–‡ä»¶ä¿å­˜åœ¨æœ¬åœ°ã€‚ </p><p>æˆ‘ä»¬éœ€è¦å‡†å¤‡ä¸€ä¸ªå›¾ç‰‡ï¼Œæ”¾åœ¨é¡¹ç›®ç›®å½•ä¸‹ï¼š</p><p><img src="https://img.yiqiangshiyia.cn/blog/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B009.jpg" alt="ç½‘ç»œç¼–ç¨‹009"></p><p>ç¼–å†™ä»£ç ï¼šå®¢æˆ·ç«¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.lesson3;<br><br><span class="hljs-keyword">import</span> java.io.File;<br><span class="hljs-keyword">import</span> java.io.FileInputStream;<br><span class="hljs-keyword">import</span> java.io.OutputStream;<br><span class="hljs-keyword">import</span> java.net.InetAddress;<br><span class="hljs-keyword">import</span> java.net.Socket;<br><br><span class="hljs-comment">//å®¢æˆ·ç«¯</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TcpClientDemo02</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception&#123;<br><span class="hljs-comment">//1. åˆ›å»ºsocketè¿æ¥</span><br><span class="hljs-type">Socket</span> <span class="hljs-variable">socket</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Socket</span>(InetAddress.getByName(<span class="hljs-string">&quot;127.0.0.1&quot;</span>),<br><span class="hljs-number">9090</span>);<br><span class="hljs-comment">//2. åˆ›å»ºä¸€ä¸ªè¾“å‡ºæµ</span><br><span class="hljs-type">OutputStream</span> <span class="hljs-variable">os</span> <span class="hljs-operator">=</span> socket.getOutputStream();<br><span class="hljs-comment">//3. è¯»å–æ–‡ä»¶</span><br><span class="hljs-type">FileInputStream</span> <span class="hljs-variable">fis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(<span class="hljs-string">&quot;qinjiang.jpg&quot;</span>));<br><span class="hljs-comment">//4. å†™å‡ºæ–‡ä»¶</span><br><span class="hljs-type">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span>];<br>    <span class="hljs-type">int</span> len;<br><span class="hljs-keyword">while</span> ((len=fis.read(buffer))!=-<span class="hljs-number">1</span>)&#123;<br>os.write(buffer,<span class="hljs-number">0</span>,len);<br>&#125;<br><span class="hljs-comment">//5. èµ„æºå…³é—­,åº”è¯¥ä½¿ç”¨ try-catch-finally</span><br>fis.close();<br>os.close();<br>socket.close();<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æœåŠ¡ç«¯ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.lesson3;<br><br><span class="hljs-keyword">import</span> java.io.*;<br><span class="hljs-keyword">import</span> java.net.ServerSocket;<br><span class="hljs-keyword">import</span> java.net.Socket;<br><br><span class="hljs-comment">//æœåŠ¡ç«¯</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TcpServerDemo02</span> &#123;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br><span class="hljs-comment">//1. å¼€å¯ ServerSocket</span><br><span class="hljs-type">ServerSocket</span> <span class="hljs-variable">serverSocket</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServerSocket</span>(<span class="hljs-number">9090</span>);<br><span class="hljs-comment">//2. ä¾¦å¬ å®¢æˆ·ç«¯ Socket</span><br><span class="hljs-type">Socket</span> <span class="hljs-variable">socket</span> <span class="hljs-operator">=</span> serverSocket.accept();<br><span class="hljs-comment">//3. è·å–è¾“å…¥æµ</span><br><span class="hljs-type">InputStream</span> <span class="hljs-variable">is</span> <span class="hljs-operator">=</span> socket.getInputStream();<br><span class="hljs-comment">//4. è¯»å–æ¥æ”¶çš„æ–‡ä»¶å¹¶ä¿å­˜</span><br><span class="hljs-type">FileOutputStream</span> <span class="hljs-variable">fos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(<span class="hljs-keyword">new</span><br><span class="hljs-title class_">File</span>(<span class="hljs-string">&quot;receive.jpg&quot;</span>));<br><span class="hljs-type">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span>];<br><span class="hljs-type">int</span> len;<br><span class="hljs-keyword">while</span> ((len=is.read(buffer))!=-<span class="hljs-number">1</span>)&#123;<br>fos.write(buffer,<span class="hljs-number">0</span>,len);<br>&#125;<br><br>        <span class="hljs-comment">//5.å…³é—­èµ„æº,åº”è¯¥ä½¿ç”¨ try-catch-finally</span><br>fos.close();<br>is.close();<br>socket.close();<br>serverSocket.close();<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•ï¼šå¯åŠ¨æœåŠ¡ç«¯ï¼Œå¯åŠ¨å®¢æˆ·ç«¯ï¼Œå›¾ç‰‡æ¥æ”¶æˆåŠŸï¼</p><h2 id="2-3-æ¡ˆä¾‹3"><a href="#2-3-æ¡ˆä¾‹3" class="headerlink" title="2.3 æ¡ˆä¾‹3"></a>2.3 æ¡ˆä¾‹3</h2><p>éœ€æ±‚ï¼šæˆ‘ä»¬éœ€è¦åœ¨æ¡ˆä¾‹äºŒçš„åŸºç¡€ä¸Šï¼Œæ¥æ”¶æˆåŠŸåï¼Œè¿”å›ç»™å®¢æˆ·ç«¯ï¼Œæ¥æ”¶æˆåŠŸï¼ç„¶åå®¢æˆ·ç«¯æ‰å…³é—­è¿æ¥ï¼ </p><p>å®¢æˆ·ç«¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.lesson4;<br><br><span class="hljs-keyword">import</span> java.io.*;<br><span class="hljs-keyword">import</span> java.net.InetAddress;<br><span class="hljs-keyword">import</span> java.net.Socket;<br><br><span class="hljs-comment">//å®¢æˆ·ç«¯</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TcpClientDemo03</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception&#123;<br><span class="hljs-comment">//1. åˆ›å»ºsocketè¿æ¥</span><br><span class="hljs-type">Socket</span> <span class="hljs-variable">socket</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Socket</span>(InetAddress.getByName(<span class="hljs-string">&quot;127.0.0.1&quot;</span>),<br><span class="hljs-number">9090</span>);<br><span class="hljs-comment">//2. åˆ›å»ºä¸€ä¸ªè¾“å‡ºæµ</span><br><span class="hljs-type">OutputStream</span> <span class="hljs-variable">os</span> <span class="hljs-operator">=</span> socket.getOutputStream();<br><span class="hljs-comment">//3. è¯»å–æ–‡ä»¶</span><br><span class="hljs-type">FileInputStream</span> <span class="hljs-variable">fis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(<span class="hljs-string">&quot;qinjiang.jpg&quot;</span>));<br><span class="hljs-comment">//4. å†™å‡ºæ–‡ä»¶</span><br><span class="hljs-type">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span>];<br><span class="hljs-type">int</span> len;<br><span class="hljs-keyword">while</span> ((len=fis.read(buffer))!=-<span class="hljs-number">1</span>)&#123;<br>os.write(buffer,<span class="hljs-number">0</span>,len);<br>&#125;<br><br>        <span class="hljs-comment">//å‘Šè¯‰æœåŠ¡å™¨ï¼Œæˆ‘ä¼ è¾“å®Œäº†,å…³é—­æ•°æ®çš„è¾“å‡ºï¼Œä¸ç„¶å°±ä¼šä¸€ç›´é˜»å¡ï¼</span><br>socket.shutdownOutput();<br><br>        <span class="hljs-comment">//å…ˆåˆ«ç€æ€¥å…³ï¼Œç­‰å¾…æœåŠ¡å™¨å“åº”ï¼Œå“åº”åˆ°æ§åˆ¶å°ï¼Œæ³¨æ„é‡å¤çš„å˜é‡é—®é¢˜ï¼</span><br><span class="hljs-type">InputStream</span> <span class="hljs-variable">inputStream</span> <span class="hljs-operator">=</span> socket.getInputStream();<br><span class="hljs-type">ByteArrayOutputStream</span> <span class="hljs-variable">baos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ByteArrayOutputStream</span>();<br><span class="hljs-type">byte</span>[] buffer2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span>];<br><span class="hljs-type">int</span> len2;<br><span class="hljs-keyword">while</span> ((len2=inputStream.read(buffer2))!=-<span class="hljs-number">1</span>)&#123;<br>baos.write(buffer2,<span class="hljs-number">0</span>,len2);<br>&#125;<br>System.out.println(baos.toString());<br><br>        <span class="hljs-comment">//5. èµ„æºå…³é—­,åº”è¯¥ä½¿ç”¨ try-catch-finally</span><br>baos.close();<br>inputStream.close();<br>fis.close();<br>os.close();<br>socket.close();<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æœåŠ¡ç«¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.lesson4;<br><br><span class="hljs-keyword">import</span> java.io.File;<br><span class="hljs-keyword">import</span> java.io.FileOutputStream;<br><span class="hljs-keyword">import</span> java.io.InputStream;<br><span class="hljs-keyword">import</span> java.io.OutputStream;<br><span class="hljs-keyword">import</span> java.net.ServerSocket;<br><span class="hljs-keyword">import</span> java.net.Socket;<br><br><span class="hljs-comment">//æœåŠ¡ç«¯</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TcpServerDemo03</span> &#123;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br><span class="hljs-comment">//1. å¼€å¯ ServerSocket</span><br>    <span class="hljs-type">ServerSocket</span> <span class="hljs-variable">serverSocket</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServerSocket</span>(<span class="hljs-number">9090</span>);<br><span class="hljs-comment">//2. ä¾¦å¬ å®¢æˆ·ç«¯ Socket</span><br><span class="hljs-type">Socket</span> <span class="hljs-variable">socket</span> <span class="hljs-operator">=</span> serverSocket.accept();<br><span class="hljs-comment">//3. è·å–è¾“å…¥æµ</span><br><span class="hljs-type">InputStream</span> <span class="hljs-variable">is</span> <span class="hljs-operator">=</span> socket.getInputStream();<br><span class="hljs-comment">//4. è¯»å–æ¥æ”¶çš„æ–‡ä»¶å¹¶ä¿å­˜</span><br><span class="hljs-type">FileOutputStream</span> <span class="hljs-variable">fos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(<span class="hljs-keyword">new</span><br><span class="hljs-title class_">File</span>(<span class="hljs-string">&quot;receive2.jpg&quot;</span>));<br><span class="hljs-type">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span>];<br><span class="hljs-type">int</span> len;<br><span class="hljs-keyword">while</span> ((len=is.read(buffer))!=-<span class="hljs-number">1</span>)&#123;<br>fos.write(buffer,<span class="hljs-number">0</span>,len);<br>&#125;<br><br>        <span class="hljs-comment">//é€šçŸ¥å®¢æˆ·ç«¯æ¥æ”¶æˆåŠŸ</span><br><span class="hljs-type">OutputStream</span> <span class="hljs-variable">outputStream</span> <span class="hljs-operator">=</span> socket.getOutputStream();<br>outputStream.write(<span class="hljs-string">&quot;æ–‡ä»¶å·²ç»æˆåŠŸæ”¶åˆ°ï¼ŒOK&quot;</span>.getBytes());<br><br>        <span class="hljs-comment">//5.å…³é—­èµ„æº,åº”è¯¥ä½¿ç”¨ try-catch-finally</span><br>outputStream.close();<br>fos.close();<br>is.close();<br>socket.close();<br>serverSocket.close();<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="2-4-åˆå§‹TomcatæœåŠ¡å™¨"><a href="#2-4-åˆå§‹TomcatæœåŠ¡å™¨" class="headerlink" title="2.4 åˆå§‹TomcatæœåŠ¡å™¨"></a>2.4 åˆå§‹TomcatæœåŠ¡å™¨</h2><p>å®¢æˆ·ç«¯ </p><ul><li>è‡ªå®šä¹‰ </li><li>æµè§ˆå™¨ </li></ul><p>æœåŠ¡ç«¯ </p><ul><li>è‡ªå®šä¹‰ </li><li>TomcatæœåŠ¡å™¨ </li></ul><ol><li>å°†æä¾›çš„tomcatè§£å‹</li><li>è¿è¡Œbinç›®å½•ä¸‹çš„å¯åŠ¨æ–‡ä»¶</li><li>æµ‹è¯•è®¿é—®localhost:8080</li></ol><p><img src="https://img.yiqiangshiyia.cn/blog/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B010.jpg" alt="ç½‘ç»œç¼–ç¨‹010"></p><ol start="4"><li>ç°åœ¨ï¼Œæˆ‘ä»¬åœ¨é‡Œé¢çš„ \webapps\ROOT ç›®å½•ä¸‹ æ–°å»ºä¸€ä¸ªkuangshen.txtï¼Œç¼–è¾‘æ–‡ä»¶ä¿å­˜ï¼</li><li>æµè§ˆå™¨è¾“å…¥ <a href="http://localhost:8080/kuangshen.txt">http://localhost:8080/kuangshen.txt</a> ï¼Œå‘ç°å¯ä»¥è®¿é—®åˆ°æˆ‘ä»¬å®¢æˆ·ç«¯çš„èµ„æºï¼ŒOK </li><li>è¿™é‡Œï¼Œæˆ‘ä»¬çš„æµè§ˆå™¨ï¼Œå°±ç›¸å½“äºæ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯ï¼Œè€ŒTomcat æœåŠ¡å™¨ï¼Œå°±ç›¸å½“äºæ˜¯æœåŠ¡ç«¯</li></ol><h1 id="3-UDPç½‘ç»œç¼–ç¨‹"><a href="#3-UDPç½‘ç»œç¼–ç¨‹" class="headerlink" title="3. UDPç½‘ç»œç¼–ç¨‹"></a>3. UDPç½‘ç»œç¼–ç¨‹</h1><h2 id="3-1-è¯´æ˜"><a href="#3-1-è¯´æ˜" class="headerlink" title="3.1 è¯´æ˜"></a>3.1 è¯´æ˜</h2><ul><li>DatagramSocket å’Œ DatagramPacket ä¸¤ä¸ªç±»å®ç°äº†åŸºäºUDPåè®®çš„ç½‘ç»œç¨‹åºã€‚ </li><li>UDP æ•°æ®æŠ¥é€šè¿‡æ•°æ®æŠ¥å¥—æ¥å­— DatagramSocket å‘é€å’Œæ¥æ”¶ï¼Œç³»ç»Ÿä¸ä¿è¯UDPæ•°æ®æŠ¥ä¸€å®šèƒ½å¤Ÿå®‰ å…¨é€åˆ°ç›®çš„åœ°ï¼Œä¹Ÿä¸ç¡®å®šä»€ä¹ˆæ—¶å€™å¯ä»¥æŠµè¾¾ã€‚ </li><li>DatagramPacket å¯¹è±¡å°è£…äº†UDPæ•°æ®æŠ¥ï¼Œåœ¨æ•°æ®æŠ¥ä¸­åŒ…å«äº†å‘é€ç«¯çš„IPåœ°å€å’Œç«¯å£å·ä»¥åŠæ¥æ”¶ç«¯ çš„IPåœ°å€å’Œç«¯å£å·ã€‚ </li><li>UDPåè®®ä¸­æ¯ä¸ªæ•°æ®æŠ¥éƒ½ç»™å‡ºäº†å®Œæ•´çš„åœ°å€ä¿¡æ¯ï¼Œå› æ­¤æ— éœ€å»ºç«‹å‘é€æ–¹å’Œæ¥æ”¶æ–¹çš„è¿æ¥ã€‚å¦‚åŒå‘å¿« é€’åŒ…è£¹ä¸€æ ·ã€‚</li></ul><h2 id="3-2-æ¡ˆä¾‹1"><a href="#3-2-æ¡ˆä¾‹1" class="headerlink" title="3.2 æ¡ˆä¾‹1"></a>3.2 æ¡ˆä¾‹1</h2><p>å‘é€æ–¹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.lesson5;<br><br><span class="hljs-keyword">import</span> java.net.DatagramPacket;<br><span class="hljs-keyword">import</span> java.net.DatagramSocket;<br><span class="hljs-keyword">import</span> java.net.InetAddress;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UDPSenderDemo01</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br><br>        <span class="hljs-comment">//1. å»ºç«‹DatagramSocket</span><br>    <span class="hljs-type">DatagramSocket</span> <span class="hljs-variable">socket</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DatagramSocket</span>();<br><br>        <span class="hljs-comment">//2. å°è£…æ•°æ®åŒ…</span><br><span class="hljs-type">String</span> <span class="hljs-variable">msg</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;UDPSender==&gt;&quot;</span>;<br><span class="hljs-type">byte</span>[] data = msg.getBytes();<br><span class="hljs-type">InetAddress</span> <span class="hljs-variable">inet</span> <span class="hljs-operator">=</span> InetAddress.getByName(<span class="hljs-string">&quot;127.0.0.1&quot;</span>);<br><span class="hljs-type">int</span> <span class="hljs-variable">port</span> <span class="hljs-operator">=</span> <span class="hljs-number">9090</span>;<br><span class="hljs-type">DatagramPacket</span> <span class="hljs-variable">packet</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span><br><span class="hljs-title class_">DatagramPacket</span>(data,<span class="hljs-number">0</span>,data.length,inet,port);<br><br>        <span class="hljs-comment">//3. é€šè¿‡ Socket å‘é€ packet</span><br>socket.send(packet);<br><br>        <span class="hljs-comment">//4. å…³é—­socket</span><br>socket.close();<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ¥æ”¶æ–¹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.lesson5;<br><br><span class="hljs-keyword">import</span> java.net.DatagramPacket;<br><span class="hljs-keyword">import</span> java.net.DatagramSocket;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UDPReceiverDemo01</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br><br>        <span class="hljs-comment">//1. å»ºç«‹DatagramSocket,å¼€æ”¾ç«¯å£</span><br><span class="hljs-type">DatagramSocket</span> <span class="hljs-variable">socket</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DatagramSocket</span>(<span class="hljs-number">9090</span>);<br><br>        <span class="hljs-comment">//2. æ¥æ”¶æ•°æ®</span><br><span class="hljs-type">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span>];<br><span class="hljs-type">DatagramPacket</span> <span class="hljs-variable">packet</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DatagramPacket</span>(buffer,<span class="hljs-number">0</span>,buffer.length);<br>socket.receive(packet);<br><br>        <span class="hljs-comment">//3. è¾“å‡ºæ•°æ®</span><br><span class="hljs-comment">// packet.getData() : è·å–packetä¸­çš„æ•°æ®</span><br>System.out.println(<span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(packet.getData(), <span class="hljs-number">0</span>,<br>packet.getLength()));<br><br>        <span class="hljs-comment">//4. å…³é—­socket</span><br>socket.close();<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•ï¼š å¯åŠ¨æ¥æ”¶æ–¹ï¼Œå¯åŠ¨å‘é€æ–¹ï¼ŒæŸ¥çœ‹æ˜¯å¦èƒ½å¤Ÿæ¥æ”¶åˆ°ï¼</p><h2 id="3-3-æ¡ˆä¾‹2ï¼šåœ¨çº¿å’¨è¯¢"><a href="#3-3-æ¡ˆä¾‹2ï¼šåœ¨çº¿å’¨è¯¢" class="headerlink" title="3.3 æ¡ˆä¾‹2ï¼šåœ¨çº¿å’¨è¯¢"></a>3.3 æ¡ˆä¾‹2ï¼šåœ¨çº¿å’¨è¯¢</h2><p>å®¢æˆ·ç«¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.udpchat;<br><br><span class="hljs-keyword">import</span> java.io.BufferedReader;<br><span class="hljs-keyword">import</span> java.io.InputStreamReader;<br><span class="hljs-keyword">import</span> java.net.DatagramPacket;<br><span class="hljs-keyword">import</span> java.net.DatagramSocket;<br><span class="hljs-keyword">import</span> java.net.InetSocketAddress;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UdpTalkClient</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>System.out.println(<span class="hljs-string">&quot;å‘é€æ–¹å¯åŠ¨ä¸­....&quot;</span>);<br><br>        <span class="hljs-comment">//1. ä½¿ç”¨DatagramSocket æŒ‡å®šç«¯å£ï¼Œåˆ›å»ºå‘é€ç«¯</span><br><span class="hljs-type">DatagramSocket</span> <span class="hljs-variable">socket</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DatagramSocket</span>(<span class="hljs-number">8888</span>);<br><span class="hljs-comment">//2. å‡†å¤‡æ•°æ®ï¼Œè½¬æˆå­—èŠ‚æ•°ç»„</span><br><span class="hljs-type">BufferedReader</span> <span class="hljs-variable">reader</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedReader</span>(<span class="hljs-keyword">new</span><br><span class="hljs-title class_">InputStreamReader</span>(System.in));<br><span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>)&#123;<br><span class="hljs-type">String</span> <span class="hljs-variable">data</span> <span class="hljs-operator">=</span> reader.readLine();<br><span class="hljs-type">byte</span>[] datas = data.getBytes();<br><span class="hljs-comment">//3. å°è£…æˆDatagramPacketåŒ…è£¹ï¼Œéœ€è¦æŒ‡å®šç›®çš„åœ°</span><br><span class="hljs-type">DatagramPacket</span> <span class="hljs-variable">packet</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DatagramPacket</span>(datas,<span class="hljs-number">0</span>,datas.length,<br><span class="hljs-keyword">new</span> <span class="hljs-title class_">InetSocketAddress</span>(<span class="hljs-string">&quot;localhost&quot;</span>,<span class="hljs-number">6666</span>));<br><br>            <span class="hljs-comment">//4. å‘é€åŒ…è£¹send</span><br>socket.send(packet);<br><br>            <span class="hljs-comment">//é€€å‡ºåˆ¤æ–­</span><br><span class="hljs-keyword">if</span> (data.equals(<span class="hljs-string">&quot;bye&quot;</span>))&#123;<br><span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<br><br>        <span class="hljs-comment">//5. é‡Šæ”¾èµ„æº</span><br>socket.close();<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æœåŠ¡ç«¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.udpchat;<br><br><span class="hljs-keyword">import</span> java.net.DatagramPacket;<br><span class="hljs-keyword">import</span> java.net.DatagramSocket;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UdpTalkServer</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br><span class="hljs-type">DatagramSocket</span> <span class="hljs-variable">socket</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DatagramSocket</span>(<span class="hljs-number">6666</span>);<br><span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) &#123;<br><span class="hljs-keyword">try</span> &#123;<br><span class="hljs-comment">//å‡†å¤‡æ¥æ”¶åŒ…è£¹ï¼›</span><br><span class="hljs-type">byte</span>[] container = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span>];<br><span class="hljs-type">DatagramPacket</span> <span class="hljs-variable">packet</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DatagramPacket</span>(container, <span class="hljs-number">0</span>,<br>container.length);<br>socket.receive(packet); <span class="hljs-comment">//é˜»å¡å¼æ¥æ”¶åŒ…è£¹</span><br><br>                <span class="hljs-type">byte</span>[] datas = packet.getData();<br><span class="hljs-type">int</span> <span class="hljs-variable">len</span> <span class="hljs-operator">=</span> packet.getLength();<br><span class="hljs-type">String</span> <span class="hljs-variable">data</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(datas,<span class="hljs-number">0</span>,len);<br>System.out.println(data);<br>    <span class="hljs-comment">//é€€å‡ºåˆ¤æ–­</span><br><span class="hljs-keyword">if</span> (data.equals(<span class="hljs-string">&quot;bye&quot;</span>))&#123;<br><span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<span class="hljs-keyword">catch</span> (Exception e)&#123;<br>e.printStackTrace();<br>&#125;<br>&#125;<br>socket.close();<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>é—®é¢˜ï¼šç°åœ¨éœ€è¦ä¸¤ééœ€è¦æ¥å—å’Œå‘é€ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¤šçº¿ç¨‹æ¥è§£å†³ï¼</p><p>å‘é€ç«¯å¤šçº¿ç¨‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.udpchat;<br><br><span class="hljs-keyword">import</span> java.io.BufferedReader;<br><span class="hljs-keyword">import</span> java.io.InputStreamReader;<br><span class="hljs-keyword">import</span> java.net.DatagramPacket;<br><span class="hljs-keyword">import</span> java.net.DatagramSocket;<br><span class="hljs-keyword">import</span> java.net.InetSocketAddress;<br><span class="hljs-keyword">import</span> java.net.SocketException;<br><br><span class="hljs-comment">//å‘é€ç«¯</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TalkSend</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Runnable</span> &#123;<br><br>    <span class="hljs-keyword">private</span> DatagramSocket socket;<br><span class="hljs-keyword">private</span> BufferedReader reader;<br><br>    <span class="hljs-keyword">private</span> String toIP;<br><span class="hljs-keyword">private</span> <span class="hljs-type">int</span> toPort;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">TalkSend</span><span class="hljs-params">(<span class="hljs-type">int</span> port,String toIP,<span class="hljs-type">int</span> toPort)</span> &#123;<br><span class="hljs-built_in">this</span>.toIP = toIP;<br><span class="hljs-built_in">this</span>.toPort = toPort;<br><span class="hljs-keyword">try</span> &#123;<br>socket = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DatagramSocket</span>(port);<br>reader = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedReader</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">InputStreamReader</span>(System.in));<br>&#125; <span class="hljs-keyword">catch</span> (SocketException e) &#123;<br>e.printStackTrace();<br>&#125;<br>&#125;<br><br>    <span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>)&#123;<br><span class="hljs-keyword">try</span> &#123;<br><span class="hljs-type">String</span> <span class="hljs-variable">data</span> <span class="hljs-operator">=</span> reader.readLine();<br><span class="hljs-type">byte</span>[] datas = data.getBytes();<br><span class="hljs-comment">//3. å°è£…æˆDatagramPacketåŒ…è£¹ï¼Œéœ€è¦æŒ‡å®šç›®çš„åœ°</span><br><span class="hljs-type">DatagramPacket</span> <span class="hljs-variable">packet</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span><br><span class="hljs-title class_">DatagramPacket</span>(datas,<span class="hljs-number">0</span>,datas.length,<br><span class="hljs-keyword">new</span> <span class="hljs-title class_">InetSocketAddress</span>(<span class="hljs-built_in">this</span>.toIP,<span class="hljs-built_in">this</span>.toPort));<br><br>                <span class="hljs-comment">//4. å‘é€åŒ…è£¹send</span><br>socket.send(packet);<br>    <span class="hljs-comment">//é€€å‡ºåˆ¤æ–­</span><br><span class="hljs-keyword">if</span> (data.equals(<span class="hljs-string">&quot;bye&quot;</span>))&#123;<br><span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<span class="hljs-keyword">catch</span> (Exception e)&#123;<br>e.printStackTrace();<br>&#125;<br>&#125;<br><span class="hljs-comment">//5. é‡Šæ”¾èµ„æº</span><br>socket.close();<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ¥æ”¶ç«¯å¤šçº¿ç¨‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.udpchat;<br><br><span class="hljs-keyword">import</span> java.net.DatagramPacket;<br><span class="hljs-keyword">import</span> java.net.DatagramSocket;<br><span class="hljs-keyword">import</span> java.net.SocketException;<br><br><span class="hljs-comment">//æ¥æ”¶ç«¯</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TalkReceive</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Runnable</span> &#123;<br><span class="hljs-keyword">private</span> DatagramSocket socket;<br><span class="hljs-keyword">private</span> String msgFrom;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">TalkReceive</span><span class="hljs-params">(<span class="hljs-type">int</span> port,String msgFrom)</span> &#123;<br><span class="hljs-built_in">this</span>.msgFrom = msgFrom;<br><span class="hljs-keyword">try</span> &#123;<br>socket = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DatagramSocket</span>(port);<br>&#125; <span class="hljs-keyword">catch</span> (SocketException e) &#123;<br>e.printStackTrace();<br>&#125;<br>&#125;<br><br>    <span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) &#123;<br><span class="hljs-keyword">try</span> &#123;<br><span class="hljs-comment">//å‡†å¤‡æ¥æ”¶åŒ…è£¹ï¼›</span><br><span class="hljs-type">byte</span>[] container = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span>];<br><span class="hljs-type">DatagramPacket</span> <span class="hljs-variable">packet</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DatagramPacket</span>(container, <span class="hljs-number">0</span>,<br>container.length);<br>socket.receive(packet); <span class="hljs-comment">//é˜»å¡å¼æ¥æ”¶åŒ…è£¹</span><br><span class="hljs-type">byte</span>[] datas = packet.getData();<br><span class="hljs-type">int</span> <span class="hljs-variable">len</span> <span class="hljs-operator">=</span> packet.getLength();<br><span class="hljs-type">String</span> <span class="hljs-variable">data</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(datas,<span class="hljs-number">0</span>,len);<br>System.out.println(msgFrom+<span class="hljs-string">&quot;:&quot;</span>+data);<br><span class="hljs-comment">//é€€å‡ºåˆ¤æ–­</span><br><span class="hljs-keyword">if</span> (data.equals(<span class="hljs-string">&quot;bye&quot;</span>))&#123;<br><span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<span class="hljs-keyword">catch</span> (Exception e)&#123;<br>e.printStackTrace();<br>&#125;<br>&#125;<br>socket.close();<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å­¦ç”Ÿç«¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.udpchat;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TalkStudent</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TalkSend</span>(<span class="hljs-number">7777</span>,<span class="hljs-string">&quot;localhost&quot;</span>,<span class="hljs-number">9999</span>)).start();<br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TalkReceive</span>(<span class="hljs-number">8888</span>,<span class="hljs-string">&quot;è€å¸ˆ&quot;</span>)).start();<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>è€å¸ˆç«¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.udpchat;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TalkTeacher</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TalkReceive</span>(<span class="hljs-number">9999</span>,<span class="hljs-string">&quot;å­¦ç”Ÿ&quot;</span>)).start();<br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TalkSend</span>(<span class="hljs-number">5555</span>,<span class="hljs-string">&quot;localhost&quot;</span>,<span class="hljs-number">8888</span>)).start();<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="4-URLç¼–ç¨‹"><a href="#4-URLç¼–ç¨‹" class="headerlink" title="4. URLç¼–ç¨‹"></a>4. URLç¼–ç¨‹</h1><h2 id="4-1-urlç±»"><a href="#4-1-urlç±»" class="headerlink" title="4.1 urlç±»"></a>4.1 urlç±»</h2><ul><li><p>URL ï¼ˆUniform Resource Locatorï¼‰ï¼š ç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼Œå®ƒè¡¨ç¤º internet ä¸ŠæŸä¸€èµ„æºçš„åœ°å€ã€‚ </p></li><li><p>å®ƒæ˜¯ä¸€ç§å…·ä½“çš„URIï¼Œå³URLå¯ä»¥ç”¨æ¥æ ‡è¯†ä¸€ä¸ªèµ„æºï¼Œè€Œä¸”è¿˜æŒ‡æ˜äº†å¦‚ä½•locateï¼šå®šä½è¿™ä¸ªèµ„æºã€‚ </p></li><li><p>é€šè¿‡URL æˆ‘ä»¬å¯ä»¥è®¿é—®Internetä¸Šçš„å„ç§ç½‘ç»œèµ„æºï¼Œæ¯”å¦‚æœ€å¸¸è§çš„ www,ftpç«™ç‚¹ã€‚æµè§ˆå™¨é€šè¿‡è§£æ ç»™å®šçš„URLå¯ä»¥åœ¨ç½‘ç»œä¸ŠæŸ¥æ‰¾ç›¸åº”çš„æ–‡ä»¶æˆ–å…¶ä»–èµ„æºã€‚ </p></li><li><p>URL çš„ åŸºæœ¬ç»“æ„ç”± 5éƒ¨åˆ†ç»„æˆï¼š</p><blockquote><p>ä¼ è¾“åè®®ï¼š//ä¸»æœºåï¼šç«¯å£å·/æ–‡ä»¶å #ç‰‡æ®µåï¼Ÿå‚æ•°åˆ—è¡¨</p></blockquote><ul><li>ä¾‹å¦‚ï¼š<a href="http://localhost:8080/helloworld/index.jsp#a?username=kuangshen&amp;password=123">http://localhost:8080/helloworld/index.jsp#a?username=kuangshen&amp;password=123</a> </li><li>ç‰‡æ®µåï¼Œå³é”šé“¾æ¥ï¼Œæ¯”å¦‚æˆ‘ä»¬å»ä¸€äº›å°è¯´ç½‘ç«™ï¼Œå¯ä»¥ç›´æ¥å®šä½åˆ°æŸä¸ªç« èŠ‚ä½ç½® </li><li>å‚æ•°åˆ—è¡¨æ ¼å¼ ï¼š å‚æ•°å=å‚æ•°å€¼ &amp; å‚æ•°å=å‚æ•°å€¼â€¦</li></ul></li></ul><p>å®ä¾‹åŒ–</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.lesson6;<br><span class="hljs-keyword">import</span> java.net.MalformedURLException;<br><span class="hljs-keyword">import</span> java.net.URL;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">URLDemo01</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><span class="hljs-keyword">try</span> &#123;<br><span class="hljs-type">URL</span> <span class="hljs-variable">url</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">URL</span>(<span class="hljs-string">&quot;http://localhost:8080/helloworld/index.jsp?</span><br><span class="hljs-string">username=kuangshen&amp;password=123&quot;</span>);<br><br>System.out.println(url.getProtocol()); <span class="hljs-comment">//è·å–URLçš„åè®®å</span><br>System.out.println(url.getHost()); <span class="hljs-comment">//è·å–URLçš„ä¸»æœºå</span><br>System.out.println(url.getPort()); <span class="hljs-comment">//è·å–URLçš„ç«¯å£å·</span><br>System.out.println(url.getPath()); <span class="hljs-comment">//è·å–URLçš„æ–‡ä»¶è·¯å¾„</span><br>System.out.println(url.getFile()); <span class="hljs-comment">//è·å–URLçš„æ–‡ä»¶å</span><br>System.out.println(url.getQuery()); <span class="hljs-comment">//è·å–URLçš„æŸ¥è¯¢å</span><br>&#125; <span class="hljs-keyword">catch</span> (MalformedURLException e) &#123;<br>e.printStackTrace();<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="4-2-ä¸‹è½½Tomcatä¸‹çš„æ–‡ä»¶"><a href="#4-2-ä¸‹è½½Tomcatä¸‹çš„æ–‡ä»¶" class="headerlink" title="4.2 ä¸‹è½½Tomcatä¸‹çš„æ–‡ä»¶"></a>4.2 ä¸‹è½½Tomcatä¸‹çš„æ–‡ä»¶</h2><p>é¦–å…ˆéœ€è¦åœ¨tomcatä¸­æ”¾å…¥ä¸€ä¸ªèµ„æºæ–‡ä»¶ï¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.lesson6;<br><br><span class="hljs-keyword">import</span> java.io.FileOutputStream;<br><span class="hljs-keyword">import</span> java.io.InputStream;<br><span class="hljs-keyword">import</span> java.net.HttpURLConnection;<br><span class="hljs-keyword">import</span> java.net.URL;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">URLDemo02</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><span class="hljs-keyword">try</span> &#123;<br><span class="hljs-comment">//1. å®šä½åˆ°æœåŠ¡å™¨ç«¯çš„èµ„æº</span><br><span class="hljs-type">URL</span> <span class="hljs-variable">url</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span><br><span class="hljs-title class_">URL</span>(<span class="hljs-string">&quot;http://localhost:8080/helloworld/qinjiang.jpg&quot;</span>);<br><br>            <span class="hljs-comment">//2. åˆ›å»ºè¿æ¥</span><br><span class="hljs-type">HttpURLConnection</span> <span class="hljs-variable">connection</span> <span class="hljs-operator">=</span> (HttpURLConnection)<br>url.openConnection();<br><span class="hljs-comment">//3. è·å–è¾“å…¥æµ</span><br><span class="hljs-type">InputStream</span> <span class="hljs-variable">is</span> <span class="hljs-operator">=</span> connection.getInputStream();<br><span class="hljs-comment">//4. å†™å‡ºæ–‡ä»¶</span><br><span class="hljs-type">FileOutputStream</span> <span class="hljs-variable">fos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(<span class="hljs-string">&quot;qinjiang2.jpg&quot;</span>);<br><span class="hljs-type">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span>];<br><span class="hljs-type">int</span> len;<br><span class="hljs-keyword">while</span> ((len=is.read(buffer))!=-<span class="hljs-number">1</span>)&#123;<br>fos.write(buffer,<span class="hljs-number">0</span>,len);<br>&#125;<br><span class="hljs-comment">//å…³é—­èµ„æº</span><br>    fos.close();<br>            is.close();<br>            connection.disconnect();  <span class="hljs-comment">//æ–­å¼€è¿æ¥</span><br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            e.printlnStackTrace();<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>ç½‘ç»œç¼–ç¨‹</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java-æ³¨è§£ä¸åå°„</title>
    <link href="/2022/08/03/Java-%E6%B3%A8%E8%A7%A3%E4%B8%8E%E5%8F%8D%E5%B0%84/"/>
    <url>/2022/08/03/Java-%E6%B3%A8%E8%A7%A3%E4%B8%8E%E5%8F%8D%E5%B0%84/</url>
    
    <content type="html"><![CDATA[<h1 id="æ³¨è§£Annotation"><a href="#æ³¨è§£Annotation" class="headerlink" title="æ³¨è§£Annotation"></a>æ³¨è§£Annotation</h1><h2 id="1-ä»€ä¹ˆæ˜¯æ³¨è§£"><a href="#1-ä»€ä¹ˆæ˜¯æ³¨è§£" class="headerlink" title="1. ä»€ä¹ˆæ˜¯æ³¨è§£"></a>1. ä»€ä¹ˆæ˜¯æ³¨è§£</h2><ul><li>Annotation æ˜¯ä»JDK5.0å¼€å§‹å¼•å…¥çš„æ–°æŠ€æœ¯ . </li><li>Annotationçš„ä½œç”¨ <ul><li>ä¸æ˜¯ç¨‹åºæœ¬èº« , å¯ä»¥å¯¹ç¨‹åºä½œå‡ºè§£é‡Š.(è¿™ä¸€ç‚¹å’Œæ³¨é‡Š(comment)æ²¡ä»€ä¹ˆåŒºåˆ«) </li><li>å¯ä»¥è¢«å…¶ä»–ç¨‹åº(æ¯”å¦‚:ç¼–è¯‘å™¨ç­‰)è¯»å–. </li></ul></li><li>Annotationçš„æ ¼å¼ <ul><li>æ³¨è§£æ˜¯ä»¥â€@æ³¨é‡Šåâ€åœ¨ä»£ç ä¸­å­˜åœ¨çš„ </li><li>è¿˜å¯ä»¥æ·»åŠ ä¸€äº›å‚æ•°å€¼ , ä¾‹å¦‚:@SuppressWarnings(value=â€uncheckedâ€) </li></ul></li><li>Annotationåœ¨å“ªé‡Œä½¿ç”¨? <ul><li>å¯ä»¥é™„åŠ åœ¨package , class , method , field ç­‰ä¸Šé¢ , ç›¸å½“äºç»™ä»–ä»¬æ·»åŠ äº†é¢å¤–çš„è¾…åŠ©ä¿¡æ¯ </li><li>æˆ‘ä»¬å¯ä»¥é€šè¿‡åå°„æœºåˆ¶å®ç°å¯¹è¿™äº›å…ƒæ•°æ®çš„è®¿é—®</li></ul></li></ul><h2 id="2-å†…ç½®æ³¨è§£"><a href="#2-å†…ç½®æ³¨è§£" class="headerlink" title="2. å†…ç½®æ³¨è§£"></a>2. å†…ç½®æ³¨è§£</h2><ul><li><strong>@Override</strong> <ul><li>å®šä¹‰åœ¨ java.lang.Override ä¸­ , æ­¤æ³¨é‡Šåªé€‚ç”¨äºä¿®è¾æ–¹æ³• , è¡¨ç¤ºä¸€ä¸ªæ–¹æ³•å£°æ˜æ‰“ç®—é‡å†™è¶…ç±»ä¸­ çš„å¦ä¸€ä¸ªæ–¹æ³•å£°æ˜. </li></ul></li><li><strong>@Deprecated</strong> <ul><li>å®šä¹‰åœ¨java.lang.Deprecatedä¸­ , æ­¤æ³¨é‡Šå¯ä»¥ç”¨äºä¿®è¾æ–¹æ³• , å±æ€§ , ç±» , </li><li>è¡¨ç¤ºä¸é¼“åŠ±ç¨‹åºå‘˜ä½¿ç”¨è¿™æ ·çš„å…ƒç´  , é€šå¸¸æ˜¯å› ä¸ºå®ƒå¾ˆå±é™©æˆ–è€…å­˜åœ¨æ›´å¥½çš„é€‰æ‹© . </li></ul></li><li><strong>@SuppressWarnings</strong> <ul><li>å®šä¹‰åœ¨java.lang.SuppressWarningsä¸­,ç”¨æ¥æŠ‘åˆ¶ç¼–è¯‘æ—¶çš„è­¦å‘Šä¿¡æ¯. </li><li>ä¸å‰ä¸¤ä¸ªæ³¨é‡Šæœ‰æ‰€ä¸åŒ,ä½ éœ€è¦æ·»åŠ ä¸€ä¸ªå‚æ•°æ‰èƒ½æ­£ç¡®ä½¿ç”¨,è¿™äº›å‚æ•°éƒ½æ˜¯å·²ç»å®šä¹‰å¥½äº†çš„,æˆ‘ä»¬ é€‰æ‹©æ€§çš„ä½¿ç”¨å°±å¥½äº† . <ul><li>@SuppressWarnings(â€œallâ€) </li><li>@SuppressWarnings(â€œuncheckedâ€) </li><li>@SuppressWarnings(value={â€œuncheckedâ€,â€deprecationâ€})</li></ul></li></ul></li></ul><p><strong>å†…ç½®æ³¨è§£çš„ä½¿ç”¨ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> Annotation;<br><br><span class="hljs-keyword">import</span> java.util.ArrayList;<br><span class="hljs-keyword">import</span> java.util.List;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    å†…ç½®æ³¨è§£</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">test01</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Object</span>&#123;<br>    <span class="hljs-comment">//@Override é‡å†™çš„æ³¨è§£</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.toString();<br>    &#125;<br><br>    <span class="hljs-comment">//Deprecated ä¸æ¨èç¨‹åºå‘˜ä½¿ç”¨ï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨ï¼Œæˆ–è€…å­˜åœ¨æ›´å¥½çš„æ–¹å¼</span><br>    <span class="hljs-meta">@Deprecated</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;Deprecated&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@SuppressWarnings(&quot;all&quot;)</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test02</span><span class="hljs-params">()</span>&#123;<br>        List&lt;String&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;String&gt;();<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br>        test();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="3-å…ƒæ³¨è§£"><a href="#3-å…ƒæ³¨è§£" class="headerlink" title="3. å…ƒæ³¨è§£"></a>3. å…ƒæ³¨è§£</h2><ul><li>å…ƒæ³¨è§£çš„ä½œç”¨å°±æ˜¯è´Ÿè´£æ³¨è§£å…¶ä»–æ³¨è§£ , Javaå®šä¹‰äº†4ä¸ªæ ‡å‡†çš„meta-annotationç±»å‹,ä»–ä»¬è¢«ç”¨æ¥æä¾› å¯¹å…¶ä»–annotationç±»å‹ä½œè¯´æ˜ . </li><li>è¿™äº›ç±»å‹å’Œå®ƒä»¬æ‰€æ”¯æŒçš„ç±»åœ¨java.lang.annotationåŒ…ä¸­å¯ä»¥æ‰¾åˆ° .( @Target , @Retention , @Documented , @Inherited ) <ul><li><strong>@Target</strong> : ç”¨äºæè¿°æ³¨è§£çš„ä½¿ç”¨èŒƒå›´(å³:è¢«æè¿°çš„æ³¨è§£å¯ä»¥ç”¨åœ¨ä»€ä¹ˆåœ°æ–¹) </li><li><strong>@Retention</strong> : è¡¨ç¤ºéœ€è¦åœ¨ä»€ä¹ˆçº§åˆ«ä¿å­˜è¯¥æ³¨é‡Šä¿¡æ¯ , ç”¨äºæè¿°æ³¨è§£çš„ç”Ÿå‘½å‘¨æœŸ (SOURCE &lt; CLASS &lt; RUNTIME) </li><li><strong>@Document</strong>ï¼šè¯´æ˜è¯¥æ³¨è§£å°†è¢«åŒ…å«åœ¨javadocä¸­ </li><li><strong>@Inherited</strong>ï¼šè¯´æ˜å­ç±»å¯ä»¥ç»§æ‰¿çˆ¶ç±»ä¸­çš„è¯¥æ³¨è§£</li></ul></li></ul><p><strong>å…ƒæ³¨è§£çš„ä½¿ç”¨ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> Annotation;<br><br><span class="hljs-keyword">import</span> java.lang.annotation.*;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    å…ƒæ³¨è§£</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@MyAnnotation</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">test02</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">()</span>&#123;<br><br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªæ³¨è§£</span><br><span class="hljs-comment">//@Targetï¼šè¡¨ç¤ºæˆ‘ä»¬çš„æ³¨è§£å¯ä»¥ç”¨åˆ°å“ªäº›åœ°æ–¹</span><br><span class="hljs-meta">@Target(value = &#123;ElementType.METHOD,ElementType.TYPE&#125;)</span><br><br><span class="hljs-comment">//@Retentionï¼šè¡¨ç¤ºæˆ‘ä»¬çš„æ³¨è§£åœ¨ä»€ä¹ˆåœ°æ–¹è¿˜æœ‰æ•ˆ</span><br><span class="hljs-comment">//RUNTIME&gt;CLASS&gt;SOURCE</span><br><span class="hljs-meta">@Retention(value = RetentionPolicy.RUNTIME)</span><br><br><span class="hljs-comment">//@Documentedï¼šè¡¨ç¤ºæ˜¯å¦å°†æˆ‘ä»¬çš„æ³¨è§£ç”Ÿæˆåœ¨JAVAdocä¸­</span><br><span class="hljs-meta">@Documented</span><br><br><span class="hljs-comment">//@Inheritedï¼šè¡¨ç¤ºå­ç±»å¯ä»¥ç»§æ‰¿çˆ¶ç±»çš„æ³¨è§£</span><br><span class="hljs-meta">@Inherited</span><br><span class="hljs-meta">@interface</span> MyAnnotation&#123;<br><br>&#125;<br></code></pre></td></tr></table></figure><h2 id="4-è‡ªå®šä¹‰æ³¨è§£"><a href="#4-è‡ªå®šä¹‰æ³¨è§£" class="headerlink" title="4. è‡ªå®šä¹‰æ³¨è§£"></a>4. è‡ªå®šä¹‰æ³¨è§£</h2><ul><li>ä½¿ç”¨ @interfaceè‡ªå®šä¹‰æ³¨è§£æ—¶ , è‡ªåŠ¨ç»§æ‰¿äº†java.lang.annotation.Annotationæ¥å£ </li><li>åˆ†æ : <ul><li>@ interfaceç”¨æ¥å£°æ˜ä¸€ä¸ªæ³¨è§£ , æ ¼å¼ : public @ interface æ³¨è§£å { å®šä¹‰å†…å®¹ } </li><li>å…¶ä¸­çš„æ¯ä¸€ä¸ªæ–¹æ³•å®é™…ä¸Šæ˜¯å£°æ˜äº†ä¸€ä¸ªé…ç½®å‚æ•°. </li><li>æ–¹æ³•çš„åç§°å°±æ˜¯å‚æ•°çš„åç§°. </li><li>è¿”å›å€¼ç±»å‹å°±æ˜¯å‚æ•°çš„ç±»å‹ ( è¿”å›å€¼åªèƒ½æ˜¯åŸºæœ¬ç±»å‹,Class , String , enum ). </li><li>å¯ä»¥é€šè¿‡defaultæ¥å£°æ˜å‚æ•°çš„é»˜è®¤å€¼ </li><li>å¦‚æœåªæœ‰ä¸€ä¸ªå‚æ•°æˆå‘˜ , ä¸€èˆ¬å‚æ•°åä¸ºvalue </li><li>æ³¨è§£å…ƒç´ å¿…é¡»è¦æœ‰å€¼ , æˆ‘ä»¬å®šä¹‰æ³¨è§£å…ƒç´ æ—¶ , ç»å¸¸ä½¿ç”¨ç©ºå­—ç¬¦ä¸²,0ä½œä¸ºé»˜è®¤å€¼</li></ul></li></ul><p><strong>è‡ªå®šä¹‰æ³¨è§£çš„ä½¿ç”¨ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> Annotation;<br><br><span class="hljs-keyword">import</span> java.lang.annotation.ElementType;<br><span class="hljs-keyword">import</span> java.lang.annotation.Retention;<br><span class="hljs-keyword">import</span> java.lang.annotation.RetentionPolicy;<br><span class="hljs-keyword">import</span> java.lang.annotation.Target;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    è‡ªå®šä¹‰æ³¨è§£</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">test03</span> &#123;<br>    <span class="hljs-comment">//æ³¨è§£å¯ä»¥æ˜¾ç¤ºèµ‹å€¼ï¼Œå¦‚æœæ²¡æœ‰é»˜è®¤å€¼ï¼Œæˆ‘ä»¬å°±å¿…é¡»ç»™æ³¨è§£èµ‹å€¼</span><br>    <span class="hljs-meta">@MyAnnotation2</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">()</span>&#123;<br><br>    &#125;<br><br>    <span class="hljs-meta">@MyAnnotation3(&quot;æ—æ…•æ¤¿&quot;)</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test2</span><span class="hljs-params">()</span>&#123;<br><br>    &#125;<br>&#125;<br><br><span class="hljs-meta">@Target(&#123;ElementType.METHOD,ElementType.TYPE&#125;)</span><br><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="hljs-meta">@interface</span> MyAnnotation2&#123;<br>    <span class="hljs-comment">//æ³¨è§£çš„å‚æ•°ï¼šå‚æ•°ç±»å‹+å‚æ•°å()</span><br>    String <span class="hljs-title function_">name</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">&quot;&quot;</span>;<br>    <span class="hljs-type">int</span> <span class="hljs-title function_">age</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-number">0</span>;<br>    <span class="hljs-type">int</span> <span class="hljs-title function_">id</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> -<span class="hljs-number">1</span>;  <span class="hljs-comment">//å¦‚æœé»˜è®¤å€¼ä¸º-1ï¼Œä»£è¡¨ä¸å­˜åœ¨</span><br><br>    String[] schools() <span class="hljs-keyword">default</span> &#123;<span class="hljs-string">&quot;ä¸­å›½çŸ³æ²¹å¤§å­¦ï¼ˆåä¸œï¼‰&quot;</span>&#125;;<br>&#125;<br><br><span class="hljs-meta">@Target(&#123;ElementType.METHOD,ElementType.TYPE&#125;)</span><br><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="hljs-meta">@interface</span> MyAnnotation3&#123;<br>    String <span class="hljs-title function_">value</span><span class="hljs-params">()</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="5-åå°„æ³¨è§£è¯»å–"><a href="#5-åå°„æ³¨è§£è¯»å–" class="headerlink" title="5. åå°„æ³¨è§£è¯»å–"></a>5. åå°„æ³¨è§£è¯»å–</h2><h1 id="åå°„æœºåˆ¶Reflection"><a href="#åå°„æœºåˆ¶Reflection" class="headerlink" title="åå°„æœºåˆ¶Reflection"></a>åå°„æœºåˆ¶Reflection</h1><h2 id="1-é™æ€-VS-åŠ¨æ€è¯­è¨€"><a href="#1-é™æ€-VS-åŠ¨æ€è¯­è¨€" class="headerlink" title="1. é™æ€ VS åŠ¨æ€è¯­è¨€"></a>1. é™æ€ VS åŠ¨æ€è¯­è¨€</h2><ul><li><p>åŠ¨æ€è¯­è¨€ </p><ul><li>æ˜¯ä¸€ç±»åœ¨è¿è¡Œæ—¶å¯ä»¥æ”¹å˜å…¶ç»“æ„çš„è¯­è¨€ï¼šä¾‹å¦‚æ–°çš„å‡½æ•°ã€å¯¹è±¡ã€ç”šè‡³ä»£ç å¯ä»¥è¢«å¼•è¿›ï¼Œå·²æœ‰çš„ å‡½æ•°å¯ä»¥è¢«åˆ é™¤æˆ–æ˜¯å…¶ä»–ç»“æ„ä¸Šçš„å˜åŒ–ã€‚é€šä¿—ç‚¹è¯´å°±æ˜¯åœ¨è¿è¡Œæ—¶ä»£ç å¯ä»¥æ ¹æ®æŸäº›æ¡ä»¶æ”¹å˜è‡ª èº«ç»“æ„ã€‚ </li><li>ä¸»è¦åŠ¨æ€è¯­è¨€ï¼šObject-Cã€C#ã€JavaScriptã€PHPã€Pythonç­‰ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//ä½“ç°åŠ¨æ€è¯­è¨€çš„ä»£ç </span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">test</span>(<span class="hljs-params"></span>) &#123;<br><span class="hljs-keyword">var</span> x = <span class="hljs-string">&quot;var a=3;var b=5;alert(a+b)&quot;</span>;<br><span class="hljs-built_in">eval</span>(x);<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>é™æ€è¯­è¨€ </p><ul><li>ä¸åŠ¨æ€è¯­è¨€ç›¸å¯¹åº”çš„ï¼Œè¿è¡Œæ—¶ç»“æ„ä¸å¯å˜çš„è¯­è¨€å°±æ˜¯é™æ€è¯­è¨€ã€‚å¦‚Javaã€Cã€C++ã€‚ </li><li>Javaä¸æ˜¯åŠ¨æ€è¯­è¨€ï¼Œä½†Javaå¯ä»¥ç§°ä¹‹ä¸ºâ€œå‡†åŠ¨æ€è¯­è¨€â€ã€‚å³Javaæœ‰ä¸€å®šçš„åŠ¨æ€æ€§ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ åå°„æœºåˆ¶è·å¾—ç±»ä¼¼åŠ¨æ€è¯­è¨€çš„ç‰¹æ€§ã€‚Javaçš„åŠ¨æ€æ€§è®©ç¼–ç¨‹çš„æ—¶å€™æ›´åŠ çµæ´»ï¼</li></ul></li></ul><h2 id="2-Java-Reflection"><a href="#2-Java-Reflection" class="headerlink" title="2. Java Reflection"></a>2. Java Reflection</h2><p>Reflectionï¼ˆåå°„ï¼‰æ˜¯Javaè¢«è§†ä¸ºåŠ¨æ€è¯­è¨€çš„å…³é”®ï¼Œåå°„æœºåˆ¶å…è®¸ç¨‹åºåœ¨æ‰§è¡ŒæœŸå€ŸåŠ©äºReflection APIå– å¾—ä»»ä½•ç±»çš„å†…éƒ¨ä¿¡æ¯ï¼Œå¹¶èƒ½ç›´æ¥æ“ä½œä»»æ„å¯¹è±¡çš„å†…éƒ¨å±æ€§åŠæ–¹æ³•ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Class</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> Class.forName(<span class="hljs-string">&quot;java.lang.String&quot;</span>)<br></code></pre></td></tr></table></figure><p>åŠ è½½å®Œç±»ä¹‹åï¼Œåœ¨å †å†…å­˜çš„æ–¹æ³•åŒºä¸­å°±äº§ç”Ÿäº†ä¸€ä¸ªClassç±»å‹çš„å¯¹è±¡ï¼ˆä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªClasså¯¹è±¡ï¼‰ï¼Œè¿™ ä¸ªå¯¹è±¡å°±åŒ…å«äº†å®Œæ•´çš„ç±»çš„ç»“æ„ä¿¡æ¯ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªå¯¹è±¡çœ‹åˆ°ç±»çš„ç»“æ„ã€‚è¿™ä¸ªå¯¹è±¡å°±åƒä¸€é¢é•œå­ï¼Œ é€è¿‡è¿™ä¸ªé•œå­çœ‹åˆ°ç±»çš„ç»“æ„ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å½¢è±¡çš„ç§°ä¹‹ä¸ºï¼š<strong>åå°„</strong></p><p><img src="https://img.yiqiangshiyia.cn/blog/image-20220804171024890.png" alt="image-20220804171024890"></p><p><strong>åå°„çš„åŸºæœ¬ä½¿ç”¨ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> Reflection;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    ä»€ä¹ˆå«åå°„</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">test02</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ClassNotFoundException &#123;<br>        <span class="hljs-comment">//é€šè¿‡åå°„è·å–ç±»çš„Classå¯¹è±¡</span><br>        <span class="hljs-type">Class</span> <span class="hljs-variable">c1</span> <span class="hljs-operator">=</span> Class.forName(<span class="hljs-string">&quot;Reflection.User&quot;</span>);<br>        <span class="hljs-comment">//ä¸€ä¸ªç±»è¢«åŠ è½½å , ç±»çš„æ•´ä¸ªç»“æ„ä¿¡æ¯ä¼šè¢«æ”¾åˆ°å¯¹åº”çš„Classå¯¹è±¡ä¸­</span><br>        System.out.println(c1);<br><br>        <span class="hljs-type">Class</span> <span class="hljs-variable">c2</span> <span class="hljs-operator">=</span> Class.forName(<span class="hljs-string">&quot;Reflection.User&quot;</span>);<br>        <span class="hljs-type">Class</span> <span class="hljs-variable">c3</span> <span class="hljs-operator">=</span> Class.forName(<span class="hljs-string">&quot;Reflection.User&quot;</span>);<br>        <span class="hljs-type">Class</span> <span class="hljs-variable">c4</span> <span class="hljs-operator">=</span> Class.forName(<span class="hljs-string">&quot;Reflection.User&quot;</span>);<br><br>        <span class="hljs-comment">//ä¸€ä¸ªç±»åœ¨å†…å­˜ä¸­åªæœ‰ä¸€ä¸ªClasså¯¹è±¡</span><br>        <span class="hljs-comment">//ä¸€ä¸ªç±»è¢«åŠ è½½åï¼Œç±»çš„æ•´ä¸ªç»“æ„éƒ½ä¼šè¢«å°è£…åœ¨Classå¯¹è±¡ä¸­</span><br>        System.out.println(c2.hashCode());<br>        System.out.println(c3.hashCode());<br>        System.out.println(c4.hashCode());<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//åˆ›å»ºå®ä½“ç±»</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span>&#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> id;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">User</span><span class="hljs-params">()</span> &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">User</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> id, <span class="hljs-type">int</span> age)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>        <span class="hljs-built_in">this</span>.id = id;<br>        <span class="hljs-built_in">this</span>.age = age;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> id;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(<span class="hljs-type">int</span> id)</span> &#123;<br>        <span class="hljs-built_in">this</span>.id = id;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> age;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> &#123;<br>        <span class="hljs-built_in">this</span>.age = age;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;User&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;name=&#x27;&quot;</span> + name + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&quot;, id=&quot;</span> + id +<br>                <span class="hljs-string">&quot;, age=&quot;</span> + age +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>Javaåå°„æœºåˆ¶æä¾›çš„åŠŸèƒ½</strong> </p><ul><li>åœ¨è¿è¡Œæ—¶åˆ¤æ–­ä»»æ„ä¸€ä¸ªå¯¹è±¡æ‰€å±çš„ç±» </li><li>åœ¨è¿è¡Œæ—¶æ„é€ ä»»æ„ä¸€ä¸ªç±»çš„å¯¹è±¡ </li><li>åœ¨è¿è¡Œæ—¶åˆ¤æ–­ä»»æ„ä¸€ä¸ªç±»æ‰€å…·æœ‰çš„æˆå‘˜å˜é‡å’Œæ–¹æ³• </li><li>åœ¨è¿è¡Œæ—¶è·å–æ³›å‹ä¿¡æ¯ </li><li>åœ¨è¿è¡Œæ—¶è°ƒç”¨ä»»æ„ä¸€ä¸ªå¯¹è±¡çš„æˆå‘˜å˜é‡å’Œæ–¹æ³• </li><li>åœ¨è¿è¡Œæ—¶å¤„ç†æ³¨è§£ </li><li>ç”ŸæˆåŠ¨æ€ä»£ç†</li></ul><p><strong>Javaåå°„ä¼˜ç‚¹å’Œç¼ºç‚¹</strong> </p><ul><li>ä¼˜ç‚¹ï¼šå¯ä»¥å®ç°åŠ¨æ€åˆ›å»ºå¯¹è±¡å’Œç¼–è¯‘ï¼Œä½“ç°å‡ºå¾ˆå¤§çš„çµæ´»æ€§ ! </li><li>ç¼ºç‚¹ï¼šå¯¹æ€§èƒ½æœ‰å½±å“ã€‚ä½¿ç”¨åå°„åŸºæœ¬ä¸Šæ˜¯ä¸€ç§è§£é‡Šæ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥å‘Šè¯‰JVMï¼Œæˆ‘ä»¬å¸Œæœ›åšä»€ä¹ˆå¹¶ä¸”å®ƒæ»¡ è¶³æˆ‘ä»¬çš„è¦æ±‚ã€‚è¿™ç±»æ“ä½œæ€»æ˜¯æ…¢äº ç›´æ¥æ‰§è¡Œç›¸åŒçš„æ“ä½œã€‚</li></ul><h2 id="3-åå°„ç›¸å…³çš„ä¸»è¦API"><a href="#3-åå°„ç›¸å…³çš„ä¸»è¦API" class="headerlink" title="3. åå°„ç›¸å…³çš„ä¸»è¦API"></a>3. åå°„ç›¸å…³çš„ä¸»è¦API</h2><ul><li>java.lang.Class : ä»£è¡¨ä¸€ä¸ªç±» </li><li>java.lang.reflect.Method : ä»£è¡¨ç±»çš„æ–¹æ³• </li><li>java.lang.reflect.Field : ä»£è¡¨ç±»çš„æˆå‘˜å˜é‡ </li><li>java.lang.reflect.Constructor : ä»£è¡¨ç±»çš„æ„é€ å™¨</li></ul><h2 id="4-Classç±»"><a href="#4-Classç±»" class="headerlink" title="4. Classç±»"></a>4. Classç±»</h2><p>åœ¨Objectç±»ä¸­å®šä¹‰äº†ä»¥ä¸‹çš„æ–¹æ³•ï¼Œæ­¤æ–¹æ³•å°†è¢«æ‰€æœ‰å­ç±»ç»§æ‰¿</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> Class <span class="hljs-title function_">getClass</span><span class="hljs-params">()</span>;<br></code></pre></td></tr></table></figure><p>ä»¥ä¸Šçš„æ–¹æ³•è¿”å›å€¼çš„ç±»å‹æ˜¯ä¸€ä¸ªClassç±»ï¼Œæ­¤ç±»æ˜¯Javaåå°„çš„æºå¤´ï¼Œå®é™…ä¸Šæ‰€è°“åå°„ä»ç¨‹åºçš„è¿è¡Œç»“æœæ¥ çœ‹ä¹Ÿå¾ˆå¥½ç†è§£ï¼Œå³ï¼šå¯ä»¥é€šè¿‡å¯¹è±¡åå°„æ±‚å‡ºç±»çš„åç§°ã€‚</p><p><img src="https://img.yiqiangshiyia.cn/blog/image-20220806100636578.png" alt="image-20220806100636578"></p><p>å¯¹è±¡ç…§é•œå­åå¯ä»¥å¾—åˆ°çš„ä¿¡æ¯ï¼šæŸä¸ªç±»çš„å±æ€§ã€æ–¹æ³•å’Œæ„é€ å™¨ã€æŸä¸ªç±»åˆ°åº•å®ç°äº†å“ªäº›æ¥å£ã€‚å¯¹äºæ¯ä¸ª ç±»è€Œè¨€ï¼ŒJRE éƒ½ä¸ºå…¶ä¿ç•™ä¸€ä¸ªä¸å˜çš„ Class ç±»å‹çš„å¯¹è±¡ã€‚ä¸€ä¸ª Class å¯¹è±¡åŒ…å«äº†ç‰¹å®šæŸä¸ªç»“æ„ (class/interface/enum/annotation/primitive type/void/[])çš„æœ‰å…³ä¿¡æ¯ã€‚</p><ul><li>Class æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªç±» </li><li>Class å¯¹è±¡åªèƒ½ç”±ç³»ç»Ÿå»ºç«‹å¯¹è±¡ </li><li>ä¸€ä¸ªåŠ è½½çš„ç±»åœ¨ JVM ä¸­åªä¼šæœ‰ä¸€ä¸ªClasså®ä¾‹ </li><li>ä¸€ä¸ªClasså¯¹è±¡å¯¹åº”çš„æ˜¯ä¸€ä¸ªåŠ è½½åˆ°JVMä¸­çš„ä¸€ä¸ª.classæ–‡ä»¶ </li><li>æ¯ä¸ªç±»çš„å®ä¾‹éƒ½ä¼šè®°å¾—è‡ªå·±æ˜¯ç”±å“ªä¸ª Class å®ä¾‹æ‰€ç”Ÿæˆ </li><li>é€šè¿‡Classå¯ä»¥å®Œæ•´åœ°å¾—åˆ°ä¸€ä¸ªç±»ä¸­çš„æ‰€æœ‰è¢«åŠ è½½çš„ç»“æ„ </li><li>Classç±»æ˜¯Reflectionçš„æ ¹æºï¼Œé’ˆå¯¹ä»»ä½•ä½ æƒ³åŠ¨æ€åŠ è½½ã€è¿è¡Œçš„ç±»ï¼Œå”¯æœ‰å…ˆè·å¾—ç›¸åº”çš„Classå¯¹è±¡</li></ul><p><strong>è·å–Classç±»çš„å®ä¾‹ï¼š</strong></p><p><strong>æ–¹æ³•1ï¼š</strong>è‹¥å·²çŸ¥å…·ä½“çš„ç±»ï¼Œé€šè¿‡ç±»çš„classå±æ€§è·å–ï¼Œè¯¥æ–¹æ³•æœ€ä¸ºå®‰å…¨å¯é ï¼Œç¨‹åºæ€§èƒ½æœ€é«˜ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Class</span> <span class="hljs-variable">class</span> <span class="hljs-operator">=</span> Person.class;<br></code></pre></td></tr></table></figure><p><strong>æ–¹æ³•2ï¼š</strong>å·²çŸ¥æŸä¸ªç±»çš„å®ä¾‹ï¼Œè°ƒç”¨è¯¥å®ä¾‹çš„getClass()æ–¹æ³•è·å–Classå¯¹è±¡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Class</span> <span class="hljs-variable">class</span> <span class="hljs-operator">=</span> person.getClass();<br></code></pre></td></tr></table></figure><p><strong>æ–¹æ³•3ï¼š</strong>å·²çŸ¥ä¸€ä¸ªç±»çš„å…¨ç±»åï¼Œä¸”è¯¥ç±»åœ¨ç±»è·¯å¾„ä¸‹ï¼Œå¯é€šè¿‡Classç±»çš„é™æ€æ–¹æ³•forName()è·å–ï¼Œå¯èƒ½æŠ›å‡º ClassNotFoundException</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Class</span> <span class="hljs-variable">class</span> <span class="hljs-operator">=</span> Class.forName(<span class="hljs-string">&quot;demo01.Student&quot;</span>);<br></code></pre></td></tr></table></figure><p>æ–¹æ³•4ï¼šå†…ç½®åŸºæœ¬æ•°æ®ç±»å‹å¯ä»¥ç›´æ¥ç”¨ç±»å.Type</p><p>æ–¹æ³•5ï¼šè¿˜å¯ä»¥åˆ©ç”¨ClassLoaderæˆ‘ä»¬ä¹‹åè®²è§£</p><p>è·å–Classç±»çš„å®ä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> Reflection;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    å¾—åˆ°Classç±»çš„å‡ ç§æ–¹å¼</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">test03</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ClassNotFoundException &#123;<br>        <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>();<br>        System.out.println(<span class="hljs-string">&quot;è¿™ä¸ªäººæ˜¯ï¼š&quot;</span>+person.name);<br><br>        <span class="hljs-comment">//æ–¹å¼1ï¼šé€šè¿‡å¯¹è±¡è·å¾—</span><br>        <span class="hljs-type">Class</span> <span class="hljs-variable">c1</span> <span class="hljs-operator">=</span> person.getClass();<br>        System.out.println(c1.hashCode());<br><br>        <span class="hljs-comment">//æ–¹å¼2ï¼šforName()è·å¾—</span><br>        <span class="hljs-type">Class</span> <span class="hljs-variable">c2</span> <span class="hljs-operator">=</span> Class.forName(<span class="hljs-string">&quot;Reflection.Student&quot;</span>);<br>        System.out.println(c2.hashCode());<br><br>        <span class="hljs-comment">//æ–¹å¼3ï¼šé€šè¿‡ç±»å.classè·å¾—</span><br>        <span class="hljs-type">Class</span> <span class="hljs-variable">c3</span> <span class="hljs-operator">=</span> Student.class;<br>        System.out.println(c3.hashCode());<br><br>        <span class="hljs-comment">//æ–¹å¼4ï¼šåŸºæœ¬å†…ç½®ç±»å‹çš„åŒ…è£…ç±»éƒ½æœ‰ä¸€ä¸ªTYPEå±æ€§</span><br>        <span class="hljs-type">Class</span> <span class="hljs-variable">c4</span> <span class="hljs-operator">=</span> Integer.TYPE;<br><br>        <span class="hljs-comment">//è·å¾—çˆ¶ç±»ç±»å‹</span><br>        <span class="hljs-type">Class</span> <span class="hljs-variable">c5</span> <span class="hljs-operator">=</span> c1.getSuperclass();<br>        System.out.println(c5);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>&#123;<br>    <span class="hljs-keyword">public</span> String name;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">()</span> &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Person&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;name=&#x27;&quot;</span> + name + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Person</span>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = <span class="hljs-string">&quot;å­¦ç”Ÿ&quot;</span>;<br>    &#125;<br>&#125;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Teacher</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Person</span>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Teacher</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = <span class="hljs-string">&quot;è€å¸ˆ&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>Classç±»çš„å¸¸ç”¨æ–¹æ³•ï¼š</strong></p><table><thead><tr><th>æ–¹æ³•å</th><th>åŠŸèƒ½è¯´æ˜</th></tr></thead><tbody><tr><td>static ClassforName(String name)</td><td>è¿”å›æŒ‡å®šç±»ånameçš„Classå¯¹è±¡</td></tr><tr><td>Object newInstance()</td><td>è°ƒç”¨ç¼ºçœæ„é€ å‡½æ•°ï¼Œè¿”å›Classå¯¹è±¡çš„ä¸€ä¸ªå®ä¾‹</td></tr><tr><td>getName()</td><td>è¿”å›æ­¤Classå¯¹è±¡æ‰€è¡¨ç¤ºçš„å®ä½“ï¼ˆç±»ï¼Œæ¥å£ï¼Œæ•°ç»„ç±»æˆ– voidï¼‰çš„åç§°ã€‚</td></tr><tr><td>Class getSuperClass()</td><td>è¿”å›å½“å‰Classå¯¹è±¡çš„çˆ¶ç±»çš„Classå¯¹è±¡</td></tr><tr><td>Class[] getinterfaces()</td><td>è·å–å½“å‰Classå¯¹è±¡çš„æ¥å£</td></tr><tr><td>ClassLoader getClassLoader()</td><td>è¿”å›è¯¥ç±»çš„ç±»åŠ è½½å™¨</td></tr><tr><td>Constructor[] getConstructors()</td><td>è¿”å›ä¸€ä¸ªåŒ…å«æŸäº›Constructorå¯¹è±¡çš„æ•°ç»„</td></tr><tr><td>Method getMothed(String name,Class.. T)</td><td>è¿”å›ä¸€ä¸ªMethodå¯¹è±¡ï¼Œæ­¤å¯¹è±¡çš„å½¢å‚ç±»å‹ä¸ºparamType</td></tr><tr><td>Field[] getDeclaredFields()</td><td>è¿”å›Fieldå¯¹è±¡çš„ä¸€ä¸ªæ•°ç»„</td></tr></tbody></table><p><strong>æœ‰Classå¯¹è±¡çš„ç±»å‹ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> Reflection;<br><br><span class="hljs-keyword">import</span> java.lang.annotation.ElementType;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    æ‰€æœ‰ç±»å‹çš„Class</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">test04</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br>        <span class="hljs-type">Class</span> <span class="hljs-variable">c1</span> <span class="hljs-operator">=</span> Object.class;  <span class="hljs-comment">//ç±»</span><br>        <span class="hljs-type">Class</span> <span class="hljs-variable">c2</span> <span class="hljs-operator">=</span> Comparable.class;  <span class="hljs-comment">//æ¥å£</span><br>        <span class="hljs-type">Class</span> <span class="hljs-variable">c3</span> <span class="hljs-operator">=</span> String[].class;  <span class="hljs-comment">//ä¸€ç»´æ•°ç»„</span><br>        <span class="hljs-type">Class</span> <span class="hljs-variable">c4</span> <span class="hljs-operator">=</span> <span class="hljs-type">int</span>[][].class;  <span class="hljs-comment">//äºŒç»´æ•°ç»„</span><br>        <span class="hljs-type">Class</span> <span class="hljs-variable">c5</span> <span class="hljs-operator">=</span> Override.class;  <span class="hljs-comment">//æ³¨è§£</span><br>        <span class="hljs-type">Class</span> <span class="hljs-variable">c6</span> <span class="hljs-operator">=</span> ElementType.class;  <span class="hljs-comment">//æšä¸¾</span><br>        <span class="hljs-type">Class</span> <span class="hljs-variable">c7</span> <span class="hljs-operator">=</span> Integer.class;  <span class="hljs-comment">//åŸºæœ¬æ•°æ®ç±»å‹</span><br>        <span class="hljs-type">Class</span> <span class="hljs-variable">c8</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">void</span>.class;  <span class="hljs-comment">//void</span><br>        <span class="hljs-type">Class</span> <span class="hljs-variable">c9</span> <span class="hljs-operator">=</span> Class.class;  <span class="hljs-comment">//Class</span><br><br>        System.out.println(c1);<br>        System.out.println(c2);<br>        System.out.println(c3);<br>        System.out.println(c4);<br>        System.out.println(c5);<br>        System.out.println(c6);<br>        System.out.println(c7);<br>        System.out.println(c8);<br>        System.out.println(c9);<br><br>        <span class="hljs-comment">//åªè¦å…ƒç´ ç±»å‹å’Œç»´åº¦ä¸€æ ·ï¼Œå°±æ˜¯åŒä¸€ä¸ªClass</span><br>        <span class="hljs-type">int</span>[] a = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[<span class="hljs-number">10</span>];<br>        <span class="hljs-type">int</span>[] b = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[<span class="hljs-number">100</span>];<br>        System.out.println(a.getClass().hashCode());<br>        System.out.println(b.getClass().hashCode());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><blockquote><p>class java.lang.Object<br>interface java.lang.Comparable<br>class [Ljava.lang.String;<br>class [[I<br>interface java.lang.Override<br>class java.lang.annotation.ElementType<br>class java.lang.Integer<br>void<br>class java.lang.Class<br>295530567<br>295530567</p></blockquote><h2 id="5-Javaå†…å­˜åˆ†æ"><a href="#5-Javaå†…å­˜åˆ†æ" class="headerlink" title="5. Javaå†…å­˜åˆ†æ"></a>5. Javaå†…å­˜åˆ†æ</h2><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220806163250.png" alt="QQæˆªå›¾20220806163250"></p><p><strong>ç±»çš„åŠ è½½è¿‡ç¨‹</strong></p><p>å½“ç¨‹åºä¸»åŠ¨ä½¿ç”¨æŸä¸ªç±»æ—¶ï¼Œå¦‚æœè¯¥ç±»è¿˜æœªè¢«åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œåˆ™ç³»ç»Ÿä¼šé€šè¿‡å¦‚ä¸‹ä¸‰ä¸ªæ­¥éª¤æ¥å¯¹è¯¥ç±»è¿›è¡Œåˆå§‹åŒ–</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220806162934.png" alt="QQæˆªå›¾20220806162934"></p><p><strong>ç±»çš„åŠ è½½ä¸ClassLoaderçš„ç†è§£</strong></p><p>ç±»çš„åŠ è½½ï¼š </p><ul><li>å°†classæ–‡ä»¶å­—èŠ‚ç å†…å®¹åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå¹¶å°†è¿™äº›é™æ€æ•°æ®è½¬æ¢æˆæ–¹æ³•åŒºçš„è¿è¡Œæ—¶æ•°æ®ç»“æ„ï¼Œ ç„¶åç”Ÿæˆä¸€ä¸ªä»£è¡¨è¿™ä¸ªç±»çš„java.lang.Classå¯¹è±¡. </li></ul><p>ç±»çš„é“¾æ¥ï¼šå°†Javaç±»çš„äºŒè¿›åˆ¶ä»£ç åˆå¹¶åˆ°JVMçš„è¿è¡ŒçŠ¶æ€ä¹‹ä¸­çš„è¿‡ç¨‹ã€‚ </p><ul><li>éªŒè¯ï¼šç¡®ä¿åŠ è½½çš„ç±»ä¿¡æ¯ç¬¦åˆJVMè§„èŒƒï¼Œæ²¡æœ‰å®‰å…¨æ–¹é¢çš„é—®é¢˜ </li><li>å‡†å¤‡ï¼šæ­£å¼ä¸ºç±»å˜é‡ï¼ˆstaticï¼‰åˆ†é…å†…å­˜å¹¶è®¾ç½®ç±»å˜é‡é»˜è®¤åˆå§‹å€¼çš„é˜¶æ®µï¼Œè¿™äº›å†…å­˜éƒ½å°†åœ¨æ–¹ æ³•åŒºä¸­è¿›è¡Œåˆ†é…ã€‚ </li><li>è§£æï¼šè™šæ‹Ÿæœºå¸¸é‡æ± å†…çš„ç¬¦å·å¼•ç”¨ï¼ˆå¸¸é‡åï¼‰æ›¿æ¢ä¸ºç›´æ¥å¼•ç”¨ï¼ˆåœ°å€ï¼‰çš„è¿‡ç¨‹ã€‚ </li></ul><p>ç±»çš„åˆå§‹åŒ–ï¼š </p><ul><li>æ‰§è¡Œç±»æ„é€ å™¨()æ–¹æ³•çš„è¿‡ç¨‹ã€‚ç±»æ„é€ å™¨()æ–¹æ³•æ˜¯ç”±ç¼–è¯‘æœŸè‡ªåŠ¨æ”¶é›†ç±»ä¸­æ‰€æœ‰ç±»å˜é‡çš„èµ‹å€¼åŠ¨ä½œ å’Œé™æ€ä»£ç å—ä¸­çš„è¯­å¥åˆå¹¶äº§ç”Ÿçš„ã€‚ï¼ˆç±»æ„é€ å™¨æ˜¯æ„é€ ç±»ä¿¡æ¯çš„ï¼Œä¸æ˜¯æ„é€ è¯¥ç±»å¯¹è±¡çš„æ„é€  å™¨ï¼‰ã€‚ </li><li>å½“åˆå§‹åŒ–ä¸€ä¸ªç±»çš„æ—¶å€™ï¼Œå¦‚æœå‘ç°å…¶çˆ¶ç±»è¿˜æ²¡æœ‰è¿›è¡Œåˆå§‹åŒ–ï¼Œåˆ™éœ€è¦å…ˆè§¦å‘å…¶çˆ¶ç±»çš„åˆå§‹åŒ–ã€‚ </li><li>è™šæ‹Ÿæœºä¼šä¿è¯ä¸€ä¸ªç±»çš„()æ–¹æ³•åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­è¢«æ­£ç¡®åŠ é”å’ŒåŒæ­¥ã€‚</li></ul><p>ä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> Reflection;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">test05</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br>        <span class="hljs-type">A</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">A</span>();<br>        System.out.println(A.m);<br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">        1.åŠ è½½åˆ°å†…å­˜ä¼šäº§ç”Ÿä¸€ä¸ªç±»å¯¹åº”çš„Classå¯¹è±¡</span><br><span class="hljs-comment">        2.é“¾æ¥ï¼Œé“¾æ¥ç»“æŸå m=0</span><br><span class="hljs-comment">        3.åˆå§‹åŒ–</span><br><span class="hljs-comment">            &lt;clinit&gt;()&#123;</span><br><span class="hljs-comment">                System.out.println(&quot;Aç±»é™æ€ä»£ç å—åˆå§‹åŒ–&quot;);</span><br><span class="hljs-comment">                m = 300;</span><br><span class="hljs-comment">                m = 100;</span><br><span class="hljs-comment">            &#125;</span><br><span class="hljs-comment">            m = 100;</span><br><span class="hljs-comment">         */</span><br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>&#123;<br>    <span class="hljs-comment">//é™æ€ä»£ç å—</span><br>    <span class="hljs-keyword">static</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;Aç±»é™æ€ä»£ç å—åˆå§‹åŒ–&quot;</span>);<br>        m = <span class="hljs-number">300</span>;<br>    &#125;<br>    <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-variable">m</span> <span class="hljs-operator">=</span> <span class="hljs-number">100</span>;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">A</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;Aç±»çš„æ— å‚æ„é€ åˆå§‹åŒ–&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><blockquote><p>Aç±»é™æ€ä»£ç å—åˆå§‹åŒ–<br>Aç±»çš„æ— å‚æ„é€ åˆå§‹åŒ–<br>100</p></blockquote><p><strong>ä»€ä¹ˆæ—¶å€™ä¼šå‘ç”Ÿç±»çš„åˆå§‹åŒ–</strong></p><p>ç±»çš„ä¸»åŠ¨å¼•ç”¨ï¼ˆä¸€å®šä¼šå‘ç”Ÿç±»çš„åˆå§‹åŒ–ï¼‰ </p><ul><li>å½“è™šæ‹Ÿæœºå¯åŠ¨ï¼Œå…ˆåˆå§‹åŒ–mainæ–¹æ³•æ‰€åœ¨çš„ç±» </li><li>newä¸€ä¸ªç±»çš„å¯¹è±¡ </li><li>è°ƒç”¨ç±»çš„é™æ€æˆå‘˜ï¼ˆé™¤äº†finalå¸¸é‡ï¼‰å’Œé™æ€æ–¹æ³• </li><li>ä½¿ç”¨java.lang.reflectåŒ…çš„æ–¹æ³•å¯¹ç±»è¿›è¡Œåå°„è°ƒç”¨ </li><li>å½“åˆå§‹åŒ–ä¸€ä¸ªç±»ï¼Œå¦‚æœå…¶çˆ¶ç±»æ²¡æœ‰è¢«åˆå§‹åŒ–ï¼Œåˆ™å…ˆä¼šåˆå§‹åŒ–å®ƒçš„çˆ¶ç±» </li></ul><p>ç±»çš„è¢«åŠ¨å¼•ç”¨ï¼ˆä¸ä¼šå‘ç”Ÿç±»çš„åˆå§‹åŒ–ï¼‰ </p><ul><li>å½“è®¿é—®ä¸€ä¸ªé™æ€åŸŸæ—¶ï¼Œåªæœ‰çœŸæ­£å£°æ˜è¿™ä¸ªåŸŸçš„ç±»æ‰ä¼šè¢«åˆå§‹åŒ–ã€‚å¦‚ï¼šå½“é€šè¿‡å­ç±»å¼•ç”¨çˆ¶ç±»çš„é™ æ€å˜é‡ï¼Œä¸ä¼šå¯¼è‡´å­ç±»åˆå§‹åŒ– </li><li>é€šè¿‡æ•°ç»„å®šä¹‰ç±»å¼•ç”¨ï¼Œä¸ä¼šè§¦å‘æ­¤ç±»çš„åˆå§‹åŒ– </li><li>å¼•ç”¨å¸¸é‡ä¸ä¼šè§¦å‘æ­¤ç±»çš„åˆå§‹åŒ–ï¼ˆå¸¸é‡åœ¨é“¾æ¥é˜¶æ®µå°±å­˜å…¥è°ƒç”¨ç±»çš„å¸¸é‡æ± ä¸­äº†ï¼‰</li></ul><p>ä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> Reflection;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    æµ‹è¯•ç±»ä»€ä¹ˆæ—¶å€™åˆå§‹åŒ–</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">test06</span> &#123;<br>    <span class="hljs-keyword">static</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;mainç±»è¢«åŠ è½½&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ClassNotFoundException &#123;<br>        <span class="hljs-comment">//1.ä¸»åŠ¨å¼•ç”¨</span><br>        <span class="hljs-type">Son</span> <span class="hljs-variable">son</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Son</span>();<br><br>        <span class="hljs-comment">//2.åå°„ä¹Ÿä¼šäº§ç”Ÿä¸»åŠ¨å¼•ç”¨</span><br>        Class.forName(<span class="hljs-string">&quot;Reflection.Son&quot;</span>);<br><br>        <span class="hljs-comment">//ä¸ä¼šäº§ç”Ÿç±»çš„å¼•ç”¨çš„æ–¹æ³•</span><br>        System.out.println(Son.b);<br><br>        Son[] array = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Son</span>[<span class="hljs-number">5</span>];<br><br>        System.out.println(Son.M);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Father</span>&#123;<br>    <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span>;<br>    <span class="hljs-keyword">static</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;çˆ¶ç±»è¢«åŠ è½½&quot;</span>);<br>    &#125;<br>&#125;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Son</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Father</span>&#123;<br>    <span class="hljs-keyword">static</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;å­ç±»è¢«åŠ è½½&quot;</span>);<br>        m = <span class="hljs-number">300</span>;<br>    &#125;<br>    <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-variable">m</span> <span class="hljs-operator">=</span> <span class="hljs-number">100</span>;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">M</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>ç±»åŠ è½½å™¨çš„ä½œç”¨</strong></p><p>ç±»åŠ è½½çš„ä½œç”¨ï¼šå°†classæ–‡ä»¶å­—èŠ‚ç å†…å®¹åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå¹¶å°†è¿™äº›é™æ€æ•°æ®è½¬æ¢æˆæ–¹æ³•åŒºçš„è¿è¡Œæ—¶æ•° æ®ç»“æ„ï¼Œç„¶ååœ¨å †ä¸­ç”Ÿæˆä¸€ä¸ªä»£è¡¨è¿™ä¸ªç±»çš„java.lang.Classå¯¹è±¡ï¼Œä½œä¸ºæ–¹æ³•åŒºä¸­ç±»æ•°æ®çš„è®¿é—®å…¥ å£ã€‚ </p><p>ç±»ç¼“å­˜ï¼šæ ‡å‡†çš„JavaSEç±»åŠ è½½å™¨å¯ä»¥æŒ‰è¦æ±‚æŸ¥æ‰¾ç±»ï¼Œä½†ä¸€æ—¦æŸä¸ªç±»è¢«åŠ è½½åˆ°ç±»åŠ è½½å™¨ä¸­ï¼Œå®ƒå°†ç»´æŒ åŠ è½½ï¼ˆç¼“å­˜ï¼‰ä¸€æ®µæ—¶é—´ã€‚ä¸è¿‡JVMåƒåœ¾å›æ”¶æœºåˆ¶å¯ä»¥å›æ”¶è¿™äº›Classå¯¹è±¡</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220806170735.png" alt="QQæˆªå›¾20220806170735"></p><p>ç±»åŠ è½½å™¨ä½œç”¨æ˜¯ç”¨æ¥æŠŠç±»(class)è£…è½½è¿›å†…å­˜çš„ã€‚JVM è§„èŒƒå®šä¹‰äº†å¦‚ä¸‹ç±»å‹çš„ç±»çš„åŠ è½½å™¨</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220806171001.png" alt="QQæˆªå›¾20220806171001"></p><p>è·å¾—ç³»ç»Ÿçš„ç±»åŠ è½½å™¨ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> Reflection;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    è·å¾—ç³»ç»Ÿç±»çš„åŠ è½½å™¨</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">test07</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ClassNotFoundException &#123;<br>        <span class="hljs-comment">//è·å–ç³»ç»Ÿç±»çš„åŠ è½½å™¨</span><br>        <span class="hljs-type">ClassLoader</span> <span class="hljs-variable">systemClassLoader</span> <span class="hljs-operator">=</span> ClassLoader.getSystemClassLoader();<br>        System.out.println(systemClassLoader);<br><br>        <span class="hljs-comment">//è·å–ç³»ç»Ÿç±»åŠ è½½å™¨çš„çˆ¶åŠ è½½å™¨--&gt;æ‰©å±•ç±»åŠ è½½å™¨</span><br>        <span class="hljs-type">ClassLoader</span> <span class="hljs-variable">parent</span> <span class="hljs-operator">=</span> systemClassLoader.getParent();<br>        System.out.println(parent);<br><br>        <span class="hljs-comment">//è·å–æ‰©å±•ç±»åŠ è½½å™¨çš„çˆ¶åŠ è½½å™¨--&gt;æ ¹åŠ è½½å™¨(c/c++)</span><br>        <span class="hljs-comment">//æ ¹åŠ è½½å™¨æ˜¯ç”¨æ¥è£…è½½æ ¸å¿ƒç±»åº“ï¼Œè¯¥åŠ è½½å™¨æ— æ³•ç›´æ¥è·å–</span><br>        <span class="hljs-type">ClassLoader</span> <span class="hljs-variable">parent1</span> <span class="hljs-operator">=</span> parent.getParent();<br>        System.out.println(parent1);<br><br>        <span class="hljs-comment">//æµ‹è¯•å½“å‰ç±»æ˜¯å“ªä¸ªåŠ è½½å™¨åŠ è½½çš„</span><br>        <span class="hljs-type">ClassLoader</span> <span class="hljs-variable">classLoader</span> <span class="hljs-operator">=</span> Class.forName(<span class="hljs-string">&quot;Reflection.test07&quot;</span>).getClassLoader();<br>        System.out.println(classLoader);<br><br>        <span class="hljs-comment">//æµ‹è¯•JDKå†…ç½®çš„ç±»æ˜¯è°åŠ è½½çš„</span><br>        <span class="hljs-type">ClassLoader</span> <span class="hljs-variable">classLoader2</span> <span class="hljs-operator">=</span> Class.forName(<span class="hljs-string">&quot;java.lang.Object&quot;</span>).getClassLoader();<br>        System.out.println(classLoader2);<br><br>        <span class="hljs-comment">//å¦‚ä½•è·å–è·å¾—ç³»ç»Ÿç±»åŠ è½½å™¨å¯ä»¥åŠ è½½çš„è·¯å¾„</span><br>        System.out.println(System.getProperty(<span class="hljs-string">&quot;java.class.path&quot;</span>));<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="6-è·å–ç±»çš„ä¿¡æ¯"><a href="#6-è·å–ç±»çš„ä¿¡æ¯" class="headerlink" title="6. è·å–ç±»çš„ä¿¡æ¯"></a>6. è·å–ç±»çš„ä¿¡æ¯</h2><p>é€šè¿‡åå°„è·å–è¿è¡Œæ—¶ç±»çš„å®Œæ•´ç»“æ„ Fieldã€Methodã€Constructorã€Superclassã€Interfaceã€Annotation </p><ul><li>å®ç°çš„å…¨éƒ¨æ¥å£ </li><li>æ‰€ç»§æ‰¿çš„çˆ¶ç±» </li><li>å…¨éƒ¨çš„æ„é€ å™¨ </li><li>å…¨éƒ¨çš„æ–¹æ³• </li><li>å…¨éƒ¨çš„Field </li><li>æ³¨è§£</li></ul><p><strong>è·å–ç±»ä¿¡æ¯å¸¸ç”¨æ–¹æ³•ï¼š</strong></p><table><thead><tr><th>æ–¹æ³•å</th><th>åŠŸèƒ½è¯´æ˜</th></tr></thead><tbody><tr><td>static ClassforName(String name)</td><td>è¿”å›æŒ‡å®šç±»ånameçš„Classå¯¹è±¡</td></tr><tr><td>Object newInstance()</td><td>è°ƒç”¨ç¼ºçœæ„é€ å‡½æ•°ï¼Œè¿”å›Classå¯¹è±¡çš„ä¸€ä¸ªå®ä¾‹</td></tr><tr><td>getName()</td><td>è¿”å›æ­¤Classå¯¹è±¡æ‰€è¡¨ç¤ºçš„å®ä½“ï¼ˆç±»ï¼Œæ¥å£ï¼Œæ•°ç»„ç±»æˆ– voidï¼‰çš„åç§°ã€‚</td></tr><tr><td>Class getSuperClass()</td><td>è¿”å›å½“å‰Classå¯¹è±¡çš„çˆ¶ç±»çš„Classå¯¹è±¡</td></tr><tr><td>Class[] getinterfaces()</td><td>è·å–å½“å‰Classå¯¹è±¡çš„æ¥å£</td></tr><tr><td>ClassLoader getClassLoader()</td><td>è¿”å›è¯¥ç±»çš„ç±»åŠ è½½å™¨</td></tr><tr><td>Constructor[] getConstructors()</td><td>è¿”å›ä¸€ä¸ªåŒ…å«æŸäº›Constructorå¯¹è±¡çš„æ•°ç»„</td></tr><tr><td>Method getMothed(String name,Class.. T)</td><td>è¿”å›ä¸€ä¸ªMethodå¯¹è±¡ï¼Œæ­¤å¯¹è±¡çš„å½¢å‚ç±»å‹ä¸ºparamType</td></tr><tr><td>Field[] getDeclaredFields()</td><td>è¿”å›Fieldå¯¹è±¡çš„ä¸€ä¸ªæ•°ç»„</td></tr></tbody></table><p>ä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> Reflection;<br><br><span class="hljs-keyword">import</span> java.lang.reflect.Constructor;<br><span class="hljs-keyword">import</span> java.lang.reflect.Field;<br><span class="hljs-keyword">import</span> java.lang.reflect.Method;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    è·å¾—ç±»çš„ä¿¡æ¯</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">test08</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ClassNotFoundException, NoSuchFieldException, NoSuchMethodException &#123;<br>        <span class="hljs-type">Class</span> <span class="hljs-variable">c1</span> <span class="hljs-operator">=</span> Class.forName(<span class="hljs-string">&quot;Reflection.User&quot;</span>);<br>        <span class="hljs-comment">//è·å¾—ç±»çš„åå­—</span><br>        System.out.println(c1.getName());<br>        System.out.println(c1.getSimpleName());<br><br>        <span class="hljs-comment">//è·å¾—ç±»çš„å±æ€§</span><br>        Field[] fields = c1.getFields();  <span class="hljs-comment">//åªèƒ½æ‰¾åˆ°publicå±æ€§</span><br><br>        fields = c1.getDeclaredFields();  <span class="hljs-comment">//æ‰¾åˆ°å…¨éƒ¨å±æ€§</span><br>        <span class="hljs-keyword">for</span>(Field field : fields)&#123;<br>            System.out.println(field);<br>        &#125;<br><br>        <span class="hljs-comment">//è·å¾—æŒ‡å®šå±æ€§çš„å€¼</span><br>        <span class="hljs-type">Field</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> c1.getDeclaredField(<span class="hljs-string">&quot;name&quot;</span>);<br>        System.out.println(name);<br><br>        <span class="hljs-comment">//è·å¾—ç±»çš„æ–¹æ³•</span><br>        Method[] methods = c1.getMethods();  <span class="hljs-comment">//è·å¾—æœ¬ç±»ä»¥åŠçˆ¶ç±»çš„å…¨éƒ¨publicæ–¹æ³•</span><br>        <span class="hljs-keyword">for</span>(Method method : methods)&#123;<br>            System.out.println(<span class="hljs-string">&quot;æ­£å¸¸çš„ï¼š&quot;</span>+method);<br>        &#125;<br>        methods = c1.getDeclaredMethods();  <span class="hljs-comment">//è·å¾—æœ¬æ¥çš„æ‰€æœ‰æ–¹æ³•</span><br>        <span class="hljs-keyword">for</span>(Method method : methods)&#123;<br>            System.out.println(<span class="hljs-string">&quot;getDeclaredMethodsï¼š&quot;</span>+method);<br>        &#125;<br><br>        <span class="hljs-comment">//è·å¾—æŒ‡å®šæ–¹æ³•</span><br>        <span class="hljs-comment">//é‡è½½</span><br>        <span class="hljs-type">Method</span> <span class="hljs-variable">getName</span> <span class="hljs-operator">=</span> c1.getMethod(<span class="hljs-string">&quot;getName&quot;</span>,<span class="hljs-literal">null</span>);<br>        <span class="hljs-type">Method</span> <span class="hljs-variable">setName</span> <span class="hljs-operator">=</span> c1.getMethod(<span class="hljs-string">&quot;setName&quot;</span>,String.class);<br>        System.out.println(getName);<br>        System.out.println(setName);<br><br>        <span class="hljs-comment">//è·å¾—æŒ‡å®šçš„æ„é€ å™¨</span><br>        Constructor[] constructors = c1.getConstructors();<br>        <span class="hljs-keyword">for</span>(Constructor constructor : constructors)&#123;<br>            System.out.println(constructor);<br>        &#125;<br>        constructors = c1.getDeclaredConstructors();<br>        <span class="hljs-keyword">for</span>(Constructor constructor : constructors)&#123;<br>            System.out.println(<span class="hljs-string">&quot;#&quot;</span>+constructor);<br>        &#125;<br><br>        <span class="hljs-comment">//è·å¾—æŒ‡å®šçš„æ„é€ å™¨</span><br>        <span class="hljs-type">Constructor</span> <span class="hljs-variable">declaredConstructor</span> <span class="hljs-operator">=</span> c1.getDeclaredConstructor(String.class,<span class="hljs-type">int</span>.class,<span class="hljs-type">int</span>.class);<br>        System.out.println(<span class="hljs-string">&quot;æŒ‡å®šï¼š&quot;</span>+declaredConstructor);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>Noteï¼š</strong></p><ul><li>åœ¨å®é™…çš„æ“ä½œä¸­ï¼Œå–å¾—ç±»çš„ä¿¡æ¯çš„æ“ä½œä»£ç ï¼Œå¹¶ä¸ä¼šç»å¸¸å¼€å‘ã€‚ </li><li>ä¸€å®šè¦ç†Ÿæ‚‰java.lang.reflectåŒ…çš„ä½œç”¨ï¼Œåå°„æœºåˆ¶ã€‚ </li><li>å¦‚ä½•å–å¾—å±æ€§ã€æ–¹æ³•ã€æ„é€ å™¨çš„åç§°ï¼Œä¿®é¥°ç¬¦ç­‰ã€‚</li></ul><h2 id="7-åŠ¨æ€çš„åˆ›å»ºå¯¹è±¡"><a href="#7-åŠ¨æ€çš„åˆ›å»ºå¯¹è±¡" class="headerlink" title="7. åŠ¨æ€çš„åˆ›å»ºå¯¹è±¡"></a>7. åŠ¨æ€çš„åˆ›å»ºå¯¹è±¡</h2><p><strong>æ–¹æ³•1ï¼š</strong>åˆ›å»ºç±»çš„å¯¹è±¡ï¼šè°ƒç”¨Classå¯¹è±¡çš„newInstance()æ–¹æ³• </p><ul><li>ç±»å¿…é¡»æœ‰ä¸€ä¸ªæ— å‚æ•°çš„æ„é€ å™¨ã€‚ </li><li>ç±»çš„æ„é€ å™¨çš„è®¿é—®æƒé™éœ€è¦è¶³å¤Ÿ</li></ul><p><strong>æ–¹æ³•2ï¼š</strong>æ— å‚æ„é€ å™¨åˆ›å»ºå¯¹è±¡ï¼šåªè¦åœ¨æ“ä½œçš„æ—¶å€™æ˜ç¡®çš„è°ƒç”¨ç±»ä¸­çš„æ„é€ å™¨ï¼Œ å¹¶å°†å‚æ•°ä¼ é€’è¿›å»ä¹‹åï¼Œæ‰å¯ä»¥å®ä¾‹åŒ–æ“ä½œã€‚ æ­¥éª¤å¦‚ä¸‹ï¼š </p><ul><li>é€šè¿‡Classç±»çš„getDeclaredConstructor(Class â€¦ parameterTypes)å–å¾—æœ¬ç±»çš„æŒ‡å®šå½¢å‚ç±»å‹ çš„æ„é€ å™¨ </li><li>å‘æ„é€ å™¨çš„å½¢å‚ä¸­ä¼ é€’ä¸€ä¸ªå¯¹è±¡æ•°ç»„è¿›å»ï¼Œé‡Œé¢åŒ…å«äº†æ„é€ å™¨ä¸­æ‰€éœ€çš„å„ä¸ªå‚æ•°ã€‚ </li><li>é€šè¿‡Constructorå®ä¾‹åŒ–å¯¹è±¡</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> Reflection;<br><br><span class="hljs-keyword">import</span> java.io.File;<br><span class="hljs-keyword">import</span> java.lang.reflect.Constructor;<br><span class="hljs-keyword">import</span> java.lang.reflect.Field;<br><span class="hljs-keyword">import</span> java.lang.reflect.InvocationTargetException;<br><span class="hljs-keyword">import</span> java.lang.reflect.Method;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    åŠ¨æ€çš„åˆ›å»ºå¯¹è±¡ï¼Œé€šè¿‡åå°„</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">test09</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ClassNotFoundException, InstantiationException, IllegalAccessException, NoSuchMethodException, InvocationTargetException, NoSuchFieldException &#123;<br>        <span class="hljs-comment">//è·å¾—Classå¯¹è±¡</span><br>        <span class="hljs-type">Class</span> <span class="hljs-variable">c1</span> <span class="hljs-operator">=</span> Class.forName(<span class="hljs-string">&quot;Reflection.User&quot;</span>);<br><br>        <span class="hljs-comment">//æ„é€ ä¸€ä¸ªå¯¹è±¡</span><br>        <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> (User)c1.newInstance();  <span class="hljs-comment">//æœ¬è´¨æ˜¯è°ƒç”¨äº†ç±»çš„æ— å‚æ„é€ å™¨</span><br>        System.out.println(user);<br><br>        <span class="hljs-comment">//é€šè¿‡æ„é€ å™¨åˆ›å»ºå¯¹è±¡</span><br>        <span class="hljs-type">Constructor</span> <span class="hljs-variable">constructor</span> <span class="hljs-operator">=</span> c1.getDeclaredConstructor(String.class, <span class="hljs-type">int</span>.class, <span class="hljs-type">int</span>.class);<br>        <span class="hljs-type">User</span> <span class="hljs-variable">user2</span> <span class="hljs-operator">=</span> (User)constructor.newInstance(<span class="hljs-string">&quot;æ—æ…•æ¤¿&quot;</span>,<span class="hljs-number">001</span>,<span class="hljs-number">21</span>);<br>        System.out.println(user2);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><blockquote><p>User{name=â€™nullâ€™, id=0, age=0}<br>User{name=â€™æ—æ…•æ¤¿â€™, id=1, age=21}<br>æ—å—èŠŠ<br>æ—æ€æ¹«</p></blockquote><h2 id="8-è°ƒç”¨æŒ‡å®šçš„æ–¹æ³•"><a href="#8-è°ƒç”¨æŒ‡å®šçš„æ–¹æ³•" class="headerlink" title="8. è°ƒç”¨æŒ‡å®šçš„æ–¹æ³•"></a>8. è°ƒç”¨æŒ‡å®šçš„æ–¹æ³•</h2><p>é€šè¿‡åå°„ï¼Œè°ƒç”¨ç±»ä¸­çš„æ–¹æ³•ï¼Œé€šè¿‡Methodç±»å®Œæˆã€‚ </p><ul><li>é€šè¿‡Classç±»çš„getMethod(String name,Classâ€¦parameterTypes)æ–¹æ³•å–å¾—ä¸€ä¸ªMethodå¯¹ è±¡ï¼Œå¹¶è®¾ç½®æ­¤æ–¹æ³•æ“ä½œæ—¶æ‰€éœ€è¦çš„å‚æ•°ç±»å‹ã€‚ </li><li>ä¹‹åä½¿ç”¨Object invoke(Object obj, Object[] args)è¿›è¡Œè°ƒç”¨ï¼Œå¹¶å‘æ–¹æ³•ä¸­ä¼ é€’è¦è®¾ç½®çš„objå¯¹ è±¡çš„å‚æ•°ä¿¡æ¯ã€‚</li></ul><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220807170310.png" alt="QQæˆªå›¾20220807170310"></p><p><strong>Object invoke(Object obj, Object â€¦ args)</strong></p><ul><li>Object å¯¹åº”åŸæ–¹æ³•çš„è¿”å›å€¼ï¼Œè‹¥åŸæ–¹æ³•æ— è¿”å›å€¼ï¼Œæ­¤æ—¶è¿”å›null </li><li>è‹¥åŸæ–¹æ³•è‹¥ä¸ºé™æ€æ–¹æ³•ï¼Œæ­¤æ—¶å½¢å‚Object objå¯ä¸ºnull </li><li>è‹¥åŸæ–¹æ³•å½¢å‚åˆ—è¡¨ä¸ºç©ºï¼Œåˆ™Object[] argsä¸ºnull </li><li>è‹¥åŸæ–¹æ³•å£°æ˜ä¸ºprivate,åˆ™éœ€è¦åœ¨è°ƒç”¨æ­¤invoke()æ–¹æ³•å‰ï¼Œæ˜¾å¼è°ƒç”¨æ–¹æ³•å¯¹è±¡çš„ setAccessible(true)æ–¹æ³•ï¼Œå°†å¯è®¿é—®privateçš„æ–¹æ³•ã€‚</li></ul><h2 id="9-setAccessible"><a href="#9-setAccessible" class="headerlink" title="9. setAccessible"></a>9. setAccessible</h2><ul><li>Methodå’ŒFieldã€Constructorå¯¹è±¡éƒ½æœ‰setAccessible()æ–¹æ³•ã€‚ </li><li>setAccessibleä½œç”¨æ˜¯å¯åŠ¨å’Œç¦ç”¨è®¿é—®å®‰å…¨æ£€æŸ¥çš„å¼€å…³ã€‚ </li><li>å‚æ•°å€¼ä¸ºtrueåˆ™æŒ‡ç¤ºåå°„çš„å¯¹è±¡åœ¨ä½¿ç”¨æ—¶åº”è¯¥å–æ¶ˆJavaè¯­è¨€è®¿é—®æ£€æŸ¥ã€‚ </li><li>æé«˜åå°„çš„æ•ˆç‡ã€‚å¦‚æœä»£ç ä¸­å¿…é¡»ç”¨åå°„ï¼Œè€Œè¯¥å¥ä»£ç éœ€è¦é¢‘ç¹çš„è¢«è°ƒç”¨ï¼Œé‚£ä¹ˆè¯·è®¾ç½®ä¸ºtrueã€‚ </li><li>ä½¿å¾—åŸæœ¬æ— æ³•è®¿é—®çš„ç§æœ‰æˆå‘˜ä¹Ÿå¯ä»¥è®¿é—® å‚æ•°å€¼ä¸ºfalseåˆ™æŒ‡ç¤ºåå°„çš„å¯¹è±¡åº”è¯¥å®æ–½Javaè¯­è¨€è®¿é—®æ£€æŸ¥</li></ul><h2 id="10-æ€§èƒ½å¯¹æ¯”åˆ†æ"><a href="#10-æ€§èƒ½å¯¹æ¯”åˆ†æ" class="headerlink" title="10. æ€§èƒ½å¯¹æ¯”åˆ†æ"></a>10. æ€§èƒ½å¯¹æ¯”åˆ†æ</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> Reflection;<br><br><span class="hljs-keyword">import</span> java.lang.reflect.InvocationTargetException;<br><span class="hljs-keyword">import</span> java.lang.reflect.Method;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    åˆ†ææ€§èƒ½é—®é¢˜</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">test10</span> &#123;<br>    <span class="hljs-comment">//æ™®é€šæ–¹å¼è°ƒç”¨</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test01</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>();<br>        <span class="hljs-type">long</span> <span class="hljs-variable">startTime</span> <span class="hljs-operator">=</span> System.currentTimeMillis();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">1000000000</span>; i++)&#123;<br>            user.getName();<br>        &#125;<br>        <span class="hljs-type">long</span> <span class="hljs-variable">endTime</span> <span class="hljs-operator">=</span> System.currentTimeMillis();<br>        System.out.println(<span class="hljs-string">&quot;æ™®é€šæ–¹å¼æ‰§è¡Œ10äº¿æ¬¡ï¼š&quot;</span>+(endTime-startTime)+<span class="hljs-string">&quot;ms&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-comment">//åå°„æ–¹å¼è°ƒç”¨</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test02</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> NoSuchMethodException, InvocationTargetException, IllegalAccessException &#123;<br>        <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>();<br>        <span class="hljs-type">Class</span> <span class="hljs-variable">c1</span> <span class="hljs-operator">=</span> user.getClass();<br>        <span class="hljs-type">Method</span> <span class="hljs-variable">getName</span> <span class="hljs-operator">=</span> c1.getDeclaredMethod(<span class="hljs-string">&quot;getName&quot;</span>,<span class="hljs-literal">null</span>);<br>        <span class="hljs-type">long</span> <span class="hljs-variable">startTime</span> <span class="hljs-operator">=</span> System.currentTimeMillis();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">1000000000</span>; i++)&#123;<br>            getName.invoke(user,<span class="hljs-literal">null</span>);<br>        &#125;<br>        <span class="hljs-type">long</span> <span class="hljs-variable">endTime</span> <span class="hljs-operator">=</span> System.currentTimeMillis();<br>        System.out.println(<span class="hljs-string">&quot;åå°„æ–¹å¼æ‰§è¡Œ10äº¿æ¬¡ï¼š&quot;</span>+(endTime-startTime)+<span class="hljs-string">&quot;ms&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-comment">//åå°„æ–¹å¼è°ƒç”¨ï¼Œå…³é—­æ£€æµ‹</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test03</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> NoSuchMethodException, InvocationTargetException, IllegalAccessException &#123;<br>        <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>();<br>        <span class="hljs-type">Class</span> <span class="hljs-variable">c1</span> <span class="hljs-operator">=</span> user.getClass();<br>        <span class="hljs-type">Method</span> <span class="hljs-variable">getName</span> <span class="hljs-operator">=</span> c1.getDeclaredMethod(<span class="hljs-string">&quot;getName&quot;</span>,<span class="hljs-literal">null</span>);<br>        getName.setAccessible(<span class="hljs-literal">true</span>);<br>        <span class="hljs-type">long</span> <span class="hljs-variable">startTime</span> <span class="hljs-operator">=</span> System.currentTimeMillis();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">1000000000</span>; i++)&#123;<br>            getName.invoke(user,<span class="hljs-literal">null</span>);<br>        &#125;<br>        <span class="hljs-type">long</span> <span class="hljs-variable">endTime</span> <span class="hljs-operator">=</span> System.currentTimeMillis();<br>        System.out.println(<span class="hljs-string">&quot;å…³é—­æ£€æµ‹æ‰§è¡Œ10äº¿æ¬¡ï¼š&quot;</span>+(endTime-startTime)+<span class="hljs-string">&quot;ms&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InvocationTargetException, NoSuchMethodException, IllegalAccessException &#123;<br>        test01();<br>        test02();<br>        test03();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><blockquote><p>æ™®é€šæ–¹å¼æ‰§è¡Œ10äº¿æ¬¡ï¼š4ms<br>åå°„æ–¹å¼æ‰§è¡Œ10äº¿æ¬¡ï¼š2690ms<br>å…³é—­æ£€æµ‹æ‰§è¡Œ10äº¿æ¬¡ï¼š1695ms</p></blockquote><h2 id="11-åå°„æ“ä½œæ³›å‹"><a href="#11-åå°„æ“ä½œæ³›å‹" class="headerlink" title="11. åå°„æ“ä½œæ³›å‹"></a>11. åå°„æ“ä½œæ³›å‹</h2><p>Javaé‡‡ç”¨æ³›å‹æ“¦é™¤çš„æœºåˆ¶æ¥å¼•å…¥æ³›å‹ , Javaä¸­çš„æ³›å‹ä»…ä»…æ˜¯ç»™ç¼–è¯‘å™¨javacä½¿ç”¨çš„,ç¡®ä¿æ•°æ®çš„å®‰å…¨æ€§ å’Œå…å»å¼ºåˆ¶ç±»å‹è½¬æ¢é—®é¢˜ , ä½†æ˜¯ , ä¸€æ—¦ç¼–è¯‘å®Œæˆ , æ‰€æœ‰å’Œæ³›å‹æœ‰å…³çš„ç±»å‹å…¨éƒ¨æ“¦é™¤ </p><p>ä¸ºäº†é€šè¿‡åå°„æ“ä½œè¿™äº›ç±»å‹ , Javaæ–°å¢äº† ParameterizedType , GenericArrayType , TypeVariable å’Œ WildcardType å‡ ç§ç±»å‹æ¥ä»£è¡¨ä¸èƒ½è¢«å½’ä¸€åˆ°Classç±»ä¸­çš„ç±»å‹ä½†æ˜¯åˆå’ŒåŸå§‹ç±»å‹é½åçš„ç±»å‹. </p><ul><li>ParameterizedType : è¡¨ç¤ºä¸€ç§å‚æ•°åŒ–ç±»å‹,æ¯”å¦‚Collection </li><li>GenericArrayType : è¡¨ç¤ºä¸€ç§å…ƒç´ ç±»å‹æ˜¯å‚æ•°åŒ–ç±»å‹æˆ–è€…ç±»å‹å˜é‡çš„æ•°ç»„ç±»å‹ </li><li>TypeVariable : æ˜¯å„ç§ç±»å‹å˜é‡çš„å…¬å…±çˆ¶æ¥å£ </li><li>WildcardType : ä»£è¡¨ä¸€ç§é€šé…ç¬¦ç±»å‹è¡¨è¾¾å¼</li></ul><h2 id="12-åå°„æ“ä½œæ³¨è§£"><a href="#12-åå°„æ“ä½œæ³¨è§£" class="headerlink" title="12. åå°„æ“ä½œæ³¨è§£"></a>12. åå°„æ“ä½œæ³¨è§£</h2><p><strong>OMRï¼š</strong>Object relationship Mapping â€“&gt; å¯¹è±¡å…³ç³»æ˜ å°„</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220808092227.png" alt="QQæˆªå›¾20220808092227"></p><ul><li>ç±»å’Œè¡¨ç»“æ„å¯¹åº” </li><li>å±æ€§å’Œå­—æ®µå¯¹åº” </li><li>å¯¹è±¡å’Œè®°å½•å¯¹åº”</li></ul><p>åˆ©ç”¨æ³¨è§£å’Œåå°„å®Œæˆç±»å’Œè¡¨ç»“æ„çš„æ˜ å°„å…³ç³»</p><p>åå°„æ“ä½œæ³¨è§£ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> Reflection;<br><br><span class="hljs-keyword">import</span> java.lang.annotation.*;<br><span class="hljs-keyword">import</span> java.lang.reflect.Field;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    åå°„æ“ä½œæ³¨è§£</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">test11</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ClassNotFoundException, NoSuchFieldException &#123;<br>        <span class="hljs-type">Class</span> <span class="hljs-variable">c1</span> <span class="hljs-operator">=</span> Class.forName(<span class="hljs-string">&quot;Reflection.Student2&quot;</span>);<br><br>        <span class="hljs-comment">//é€šè¿‡åå°„è·å¾—æ³¨è§£</span><br>        Annotation[] annotations = c1.getAnnotations();<br>        <span class="hljs-keyword">for</span>(Annotation annotation : annotations)&#123;<br>            System.out.println(annotation);<br>        &#125;<br><br>        <span class="hljs-comment">//è·å¾—æ³¨è§£çš„valueçš„å€¼</span><br>        <span class="hljs-type">MyAnnotation</span> <span class="hljs-variable">myannotation</span> <span class="hljs-operator">=</span> (MyAnnotation)c1.getAnnotation(MyAnnotation.class);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">value</span> <span class="hljs-operator">=</span> myannotation.value();<br>        System.out.println(value);<br><br>        <span class="hljs-comment">//è·å¾—ç±»æŒ‡å®šçš„æ³¨è§£</span><br>        <span class="hljs-type">Field</span> <span class="hljs-variable">f</span> <span class="hljs-operator">=</span> c1.getDeclaredField(<span class="hljs-string">&quot;name&quot;</span>);<br>        <span class="hljs-type">MyAnnotation2</span> <span class="hljs-variable">annotation</span> <span class="hljs-operator">=</span> f.getAnnotation(MyAnnotation2.class);<br>        System.out.println(annotation.columnName());<br>        System.out.println(annotation.type());<br>        System.out.println(annotation.length());<br>    &#125;<br>&#125;<br><br><span class="hljs-meta">@MyAnnotation(&quot;db_student&quot;)</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student2</span>&#123;<br>    <span class="hljs-meta">@MyAnnotation2(columnName = &quot;db_id&quot;,type = &quot;int&quot;,length = 10)</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> id;<br>    <span class="hljs-meta">@MyAnnotation2(columnName = &quot;db_age&quot;,type = &quot;int&quot;,length = 10)</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;<br>    <span class="hljs-meta">@MyAnnotation2(columnName = &quot;db_name&quot;,type = &quot;varchar&quot;,length = 3)</span><br>    <span class="hljs-keyword">private</span> String name;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student2</span><span class="hljs-params">()</span> &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student2</span><span class="hljs-params">(<span class="hljs-type">int</span> id, <span class="hljs-type">int</span> age, String name)</span> &#123;<br>        <span class="hljs-built_in">this</span>.id = id;<br>        <span class="hljs-built_in">this</span>.age = age;<br>        <span class="hljs-built_in">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> id;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(<span class="hljs-type">int</span> id)</span> &#123;<br>        <span class="hljs-built_in">this</span>.id = id;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> age;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> &#123;<br>        <span class="hljs-built_in">this</span>.age = age;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Student2&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;id=&quot;</span> + id +<br>                <span class="hljs-string">&quot;, age=&quot;</span> + age +<br>                <span class="hljs-string">&quot;, name=&#x27;&quot;</span> + name + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//ç±»åçš„æ³¨è§£</span><br><span class="hljs-meta">@Target(ElementType.TYPE)</span><br><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="hljs-meta">@interface</span> MyAnnotation&#123;<br>    String <span class="hljs-title function_">value</span><span class="hljs-params">()</span>;<br>&#125;<br><br><span class="hljs-comment">//å±æ€§çš„æ³¨è§£</span><br><span class="hljs-meta">@Target(ElementType.FIELD)</span><br><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="hljs-meta">@interface</span> MyAnnotation2&#123;<br>    String <span class="hljs-title function_">columnName</span><span class="hljs-params">()</span>;<br>    String <span class="hljs-title function_">type</span><span class="hljs-params">()</span>;<br>    <span class="hljs-type">int</span> <span class="hljs-title function_">length</span><span class="hljs-params">()</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><blockquote><p>@Reflection.MyAnnotation(â€œdb_studentâ€)<br>db_student<br>db_name<br>varchar<br>3</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java-é›†åˆæ¡†æ¶</title>
    <link href="/2022/07/04/Java-%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/"/>
    <url>/2022/07/04/Java-%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/</url>
    
    <content type="html"><![CDATA[<p><strong>Java JDK11åœ¨çº¿å¸®åŠ©æ–‡æ¡£ï¼š<a href="https://www.runoob.com/manual/jdk11api/">https://www.runoob.com/manual/jdk11api/</a></strong></p><h1 id="1-é›†åˆçš„æ¦‚å¿µ"><a href="#1-é›†åˆçš„æ¦‚å¿µ" class="headerlink" title="1. é›†åˆçš„æ¦‚å¿µ"></a>1. é›†åˆçš„æ¦‚å¿µ</h1><h2 id="1-1-é›†åˆæ¦‚å¿µ"><a href="#1-1-é›†åˆæ¦‚å¿µ" class="headerlink" title="1.1 é›†åˆæ¦‚å¿µ"></a>1.1 é›†åˆæ¦‚å¿µ</h2><p>é›†åˆæ˜¯å¯¹è±¡çš„å®¹å™¨ï¼Œå®šä¹‰äº†å¤šä¸ªå¯¹å¯¹è±¡è¿›è¡Œæ“ä½œçš„å¸¸ç”¨æ–¹æ³•ã€‚å¯å®ç°æ•°ç»„çš„åŠŸèƒ½ã€‚</p><h2 id="1-2-é›†åˆå’Œæ•°ç»„çš„åŒºåˆ«"><a href="#1-2-é›†åˆå’Œæ•°ç»„çš„åŒºåˆ«" class="headerlink" title="1.2 é›†åˆå’Œæ•°ç»„çš„åŒºåˆ«"></a>1.2 é›†åˆå’Œæ•°ç»„çš„åŒºåˆ«</h2><ul><li>æ•°ç»„çš„é•¿åº¦å›ºå®šï¼Œé›†åˆçš„é•¿åº¦ä¸å›ºå®š</li><li>æ•°ç»„å¯ä»¥å­˜å‚¨åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹ï¼Œé›†åˆåªèƒ½å­˜å‚¨å¼•ç”¨ç±»å‹</li><li>ä½ç½®ï¼šjava.util.*</li></ul><h1 id="2-Collectionæ¥å£"><a href="#2-Collectionæ¥å£" class="headerlink" title="2. Collectionæ¥å£"></a>2. Collectionæ¥å£</h1><h2 id="2-1-Collectionä½“ç³»é›†åˆ"><a href="#2-1-Collectionä½“ç³»é›†åˆ" class="headerlink" title="2.1 Collectionä½“ç³»é›†åˆ"></a>2.1 Collectionä½“ç³»é›†åˆ</h2><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220628162522.png" alt="QQæˆªå›¾20220628162522"></p><h2 id="2-2-Collectionçˆ¶æ¥å£"><a href="#2-2-Collectionçˆ¶æ¥å£" class="headerlink" title="2.2 Collectionçˆ¶æ¥å£"></a>2.2 Collectionçˆ¶æ¥å£</h2><blockquote><p>public interface Collection&lt;E&gt;<br>extends Iterable&lt;E&gt;</p><p>é›†åˆå±‚æ¬¡ç»“æ„ä¸­çš„æ ¹ç•Œé¢ã€‚ é›†åˆè¡¨ç¤ºä¸€ç»„è¢«ç§°ä¸ºå…¶å…ƒç´ çš„å¯¹è±¡ã€‚  ä¸€äº›é›†åˆå…è®¸é‡å¤å…ƒç´ ï¼Œè€Œå…¶ä»–é›†åˆä¸å…è®¸ã€‚ æœ‰äº›è¢«å‘½ä»¤å’Œå…¶ä»–æ— åºã€‚  JDKä¸æä¾›æ­¤æ¥å£çš„ä»»ä½•ç›´æ¥å®ç°ï¼šå®ƒæä¾›äº†æ›´å…·ä½“çš„å­æ¥å£çš„å®ç°ï¼Œå¦‚ Set å’Œ List ã€‚ è¯¥ç•Œé¢é€šå¸¸ç”¨äºä¼ é€’é›†åˆï¼Œå¹¶åœ¨éœ€è¦æœ€å¤§çš„é€šç”¨æ€§çš„æƒ…å†µä¸‹å¯¹å…¶è¿›è¡Œæ“ä½œã€‚ </p></blockquote><p><strong>ç‰¹ç‚¹ï¼š</strong>ä»£è¡¨ä¸€ç»„ä»»æ„ç±»å‹çš„å¯¹è±¡ï¼Œæ— åºã€æ— ä¸‹æ ‡ã€ä¸èƒ½é‡å¤</p><p><strong>æ–¹æ³•ï¼š</strong></p><ul><li>boolean add(Object obj)    //æ·»åŠ ä¸€ä¸ªå¯¹è±¡</li><li>boolean addAll(Collection c)    //å°†ä¸€ä¸ªé›†åˆä¸­çš„æ‰€æœ‰å¯¹è±¡æ·»åŠ åˆ°æ­¤é›†åˆä¸­</li><li>void clear()    //æ¸…ç©ºæ­¤é›†åˆä¸­çš„æ‰€æœ‰å¯¹è±¡</li><li>boolean contains(Object o)    //åˆ¤æ–­æ­¤é›†åˆä¸­æ˜¯å¦åŒ…å«oå¯¹è±¡</li><li>boolean equals(Object o)    //æ¯”è¾ƒæ­¤é›†åˆæ˜¯å¦ä¸æŒ‡å®šå¯¹è±¡ç›¸ç­‰</li><li>boolean isEmpty()    //åˆ¤æ–­æ­¤é›†åˆæ˜¯å¦ä¸ºç©º</li><li>boolean remove(Object o)    //åœ¨æ­¤é›†åˆä¸­ç§»é™¤oå¯¹è±¡</li><li>int size()    //è¿”å›æ­¤é›†åˆä¸­çš„å…ƒç´ ä¸ªæ•°</li><li>Object[] toArray()    //å°†æ­¤é›†åˆè½¬æ¢æˆæ•°ç»„</li></ul><p><strong>Collectionæ¥å£ä½¿ç”¨ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> Collection;<br><span class="hljs-keyword">import</span> java.util.Collection;<br><span class="hljs-keyword">import</span> java.util.ArrayList;<br><span class="hljs-keyword">import</span> java.util.Iterator;<br><br><span class="hljs-comment">//é›†åˆæ·»åŠ ã€åˆ é™¤ã€éå†ã€åˆ¤æ–­</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">demo1</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br>        <span class="hljs-type">Collection</span> <span class="hljs-variable">collection</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>();  <span class="hljs-comment">//å®ä¾‹åŒ–ArrayList</span><br>        <span class="hljs-comment">//æ·»åŠ </span><br>        collection.add(<span class="hljs-string">&quot;1&quot;</span>);<br>        collection.add(<span class="hljs-string">&quot;2&quot;</span>);<br>        collection.add(<span class="hljs-string">&quot;3&quot;</span>);<br>        collection.add(<span class="hljs-string">&quot;4&quot;</span>);<br>        System.out.println(collection);<br><br>        <span class="hljs-comment">//åˆ é™¤</span><br>        collection.remove(<span class="hljs-string">&quot;3&quot;</span>);<br>        System.out.println(collection);<br><br>        <span class="hljs-comment">//éå†1:å¢å¼ºforéå†</span><br>        <span class="hljs-keyword">for</span>(Object obj : collection)&#123;<br>            System.out.println(obj);<br>        &#125;<br>        <span class="hljs-comment">//éå†2:è¿­ä»£å™¨éå†</span><br>        <span class="hljs-type">Iterator</span> <span class="hljs-variable">it</span> <span class="hljs-operator">=</span> collection.iterator();<br>        <span class="hljs-keyword">while</span>(it.hasNext())&#123;<br>            System.out.println(it.next());<br>        &#125;<br><br>        <span class="hljs-comment">//åˆ¤æ–­</span><br>        System.out.println(collection.isEmpty());<br>        System.out.println(collection.contains(<span class="hljs-string">&quot;4&quot;</span>));<br>        System.out.println(collection.size());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="3-Listæ¥å£ä¸å®ç°ç±»"><a href="#3-Listæ¥å£ä¸å®ç°ç±»" class="headerlink" title="3. Listæ¥å£ä¸å®ç°ç±»"></a>3. Listæ¥å£ä¸å®ç°ç±»</h1><h2 id="3-1-Listå­æ¥å£"><a href="#3-1-Listå­æ¥å£" class="headerlink" title="3.1 Listå­æ¥å£"></a>3.1 Listå­æ¥å£</h2><blockquote><p>public interface List&lt;E&gt;<br>extends Collection&lt;E&gt;</p><p>æœ‰åºé›†åˆï¼ˆä¹Ÿç§°ä¸ºåºåˆ— ï¼‰ã€‚ è¯¥ç•Œé¢çš„ç”¨æˆ·å¯ä»¥ç²¾ç¡®æ§åˆ¶åˆ—è¡¨ä¸­æ¯ä¸ªå…ƒç´ çš„æ’å…¥ä½ç½®ã€‚  ç”¨æˆ·å¯ä»¥é€šè¿‡æ•´æ•°ç´¢å¼•ï¼ˆåˆ—è¡¨ä¸­çš„ä½ç½®ï¼‰è®¿é—®å…ƒç´ ï¼Œå¹¶æœç´¢åˆ—è¡¨ä¸­çš„å…ƒç´ ã€‚ </p></blockquote><p><strong>ç‰¹ç‚¹ï¼š</strong>æœ‰åºã€æœ‰ä¸‹æ ‡ã€å…ƒç´ å¯ä»¥é‡å¤</p><p><strong>æ–¹æ³•ï¼š</strong></p><table><thead><tr><th align="left">å˜é‡å’Œç±»å‹</th><th align="left">æ–¹æ³•</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">void</td><td align="left">add(int index, E element)</td><td align="left">å°†æŒ‡å®šå…ƒç´ æ’å…¥æ­¤åˆ—è¡¨ä¸­çš„æŒ‡å®šä½ç½®ï¼ˆå¯é€‰æ“ä½œï¼‰ã€‚</td></tr><tr><td align="left">boolean</td><td align="left">add(E e)</td><td align="left">å°†æŒ‡å®šçš„å…ƒç´ è¿½åŠ åˆ°æ­¤åˆ—è¡¨çš„æœ«å°¾ï¼ˆå¯é€‰æ“ä½œï¼‰ã€‚</td></tr><tr><td align="left">void</td><td align="left">clear()</td><td align="left">ä»æ­¤åˆ—è¡¨ä¸­åˆ é™¤æ‰€æœ‰å…ƒç´ ï¼ˆå¯é€‰æ“ä½œï¼‰ã€‚</td></tr><tr><td align="left">boolean</td><td align="left">contains(Object o)</td><td align="left">å¦‚æœæ­¤åˆ—è¡¨åŒ…å«æŒ‡å®šçš„å…ƒç´ ï¼Œåˆ™è¿”å› true ã€‚</td></tr><tr><td align="left">boolean</td><td align="left">equals(Object o)</td><td align="left">å°†æŒ‡å®šå¯¹è±¡ä¸æ­¤åˆ—è¡¨è¿›è¡Œæ¯”è¾ƒä»¥è·å¾—ç›¸ç­‰æ€§ã€‚</td></tr><tr><td align="left">E</td><td align="left">get(int index)</td><td align="left">è¿”å›æ­¤åˆ—è¡¨ä¸­æŒ‡å®šä½ç½®çš„å…ƒç´ ã€‚</td></tr><tr><td align="left">int</td><td align="left">hashCode()</td><td align="left">è¿”å›æ­¤åˆ—è¡¨çš„å“ˆå¸Œç å€¼ã€‚</td></tr><tr><td align="left">int</td><td align="left">indexOf(Object o)</td><td align="left">è¿”å›æ­¤åˆ—è¡¨ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„æŒ‡å®šå…ƒç´ çš„ç´¢å¼•ï¼Œå¦‚æœæ­¤åˆ—è¡¨ä¸åŒ…å«è¯¥å…ƒç´ ï¼Œåˆ™è¿”å›-1ã€‚</td></tr><tr><td align="left">boolean</td><td align="left">isEmpty()</td><td align="left">å¦‚æœæ­¤åˆ—è¡¨ä¸åŒ…å«ä»»ä½•å…ƒç´ ï¼Œåˆ™è¿”å› true ã€‚</td></tr><tr><td align="left">Iterator&lt;E&gt;</td><td align="left">iterator()</td><td align="left">ä»¥é€‚å½“çš„é¡ºåºè¿”å›æ­¤åˆ—è¡¨ä¸­å…ƒç´ çš„è¿­ä»£å™¨ã€‚</td></tr><tr><td align="left">int</td><td align="left">lastIndexOf(Object o)</td><td align="left">è¿”å›æ­¤åˆ—è¡¨ä¸­æŒ‡å®šå…ƒç´ æœ€åä¸€æ¬¡å‡ºç°çš„ç´¢å¼•ï¼Œå¦‚æœæ­¤åˆ—è¡¨ä¸åŒ…å«è¯¥å…ƒç´ ï¼Œåˆ™è¿”å›-1ã€‚</td></tr><tr><td align="left">ListIterator&lt;E&gt;</td><td align="left">listIterator()</td><td align="left">è¿”å›æ­¤åˆ—è¡¨ä¸­å…ƒç´ çš„åˆ—è¡¨è¿­ä»£å™¨ï¼ˆæŒ‰é€‚å½“é¡ºåºï¼‰ã€‚</td></tr><tr><td align="left">E</td><td align="left">remove(int index)</td><td align="left">åˆ é™¤æ­¤åˆ—è¡¨ä¸­æŒ‡å®šä½ç½®çš„å…ƒç´ ï¼ˆå¯é€‰æ“ä½œï¼‰ã€‚</td></tr><tr><td align="left">boolean</td><td align="left">remove(Object o)</td><td align="left">ä»è¯¥åˆ—è¡¨ä¸­åˆ é™¤æŒ‡å®šå…ƒç´ çš„ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ï¼ˆå¯é€‰æ“ä½œï¼‰ã€‚</td></tr><tr><td align="left">E</td><td align="left">set(int index, E element)</td><td align="left">ç”¨æŒ‡å®šçš„å…ƒç´ æ›¿æ¢æ­¤åˆ—è¡¨ä¸­æŒ‡å®šä½ç½®çš„å…ƒç´ ï¼ˆå¯é€‰æ“ä½œï¼‰ã€‚</td></tr><tr><td align="left">int</td><td align="left">size()</td><td align="left">è¿”å›æ­¤åˆ—è¡¨ä¸­çš„å…ƒç´ æ•°ã€‚</td></tr><tr><td align="left">default void</td><td align="left">sort(Comparator&lt;? super E&gt; c)</td><td align="left">æ ¹æ®æŒ‡å®šçš„<a href="https://www.runoob.com/manual/jdk11api/java.base/java/util/Comparator.html">Comparator</a>å¼•å‘çš„é¡ºåºå¯¹æ­¤åˆ—è¡¨è¿›è¡Œæ’åºã€‚</td></tr><tr><td align="left">List&lt;E&gt;</td><td align="left">subList(int fromIndex, int toIndex)</td><td align="left">è¿”å›æŒ‡å®šçš„ fromIndex ï¼ˆåŒ…å«ï¼‰å’Œ toIndex ï¼ˆä¸åŒ…æ‹¬ï¼‰ä¹‹é—´çš„æ­¤åˆ—è¡¨éƒ¨åˆ†çš„è§†å›¾ã€‚</td></tr><tr><td align="left">Object[]</td><td align="left">toArray()</td><td align="left">ä»¥é€‚å½“çš„é¡ºåºï¼ˆä»ç¬¬ä¸€ä¸ªå…ƒç´ åˆ°æœ€åä¸€ä¸ªå…ƒç´ ï¼‰è¿”å›åŒ…å«æ­¤åˆ—è¡¨ä¸­æ‰€æœ‰å…ƒç´ çš„æ•°ç»„ã€‚</td></tr><tr><td align="left">&lt;T&gt; T[]</td><td align="left">toArray(T[] a)</td><td align="left">ä»¥é€‚å½“çš„é¡ºåºè¿”å›åŒ…å«æ­¤åˆ—è¡¨ä¸­æ‰€æœ‰å…ƒç´ çš„æ•°ç»„; è¿”å›æ•°ç»„çš„è¿è¡Œæ—¶ç±»å‹æ˜¯æŒ‡å®šæ•°ç»„çš„è¿è¡Œæ—¶ç±»å‹ã€‚</td></tr></tbody></table><ul><li>åŒ…å«Collectionä¸­çš„æ‰€æœ‰æ–¹æ³•</li></ul><p><strong>Listæ¥å£ä½¿ç”¨ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> List;<br><span class="hljs-keyword">import</span> java.util.*;<br><span class="hljs-keyword">import</span> java.util.Iterator;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">demo1</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br>        <span class="hljs-type">List</span> <span class="hljs-variable">list</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>();  <span class="hljs-comment">//å®ä¾‹åŒ–listæ¥å£çš„å®ç°ç±»ï¼Œä¸èƒ½å®ä¾‹åŒ–æ¥å£</span><br>        <span class="hljs-comment">//æ·»åŠ å…ƒç´ </span><br>        list.add(<span class="hljs-string">&quot;1&quot;</span>);<br>        list.add(<span class="hljs-string">&quot;2&quot;</span>);<br>        list.add(<span class="hljs-string">&quot;3&quot;</span>);<br>        list.add(<span class="hljs-string">&quot;5&quot;</span>);<br>        list.add(<span class="hljs-number">3</span>,<span class="hljs-string">&quot;4&quot;</span>);<br>        System.out.println(list.toString());<br><br>        <span class="hljs-comment">//åˆ é™¤</span><br>        list.remove(<span class="hljs-string">&quot;2&quot;</span>);<br>        list.remove(<span class="hljs-number">3</span>);<br>        System.out.println(list.toString());<br><br>        <span class="hljs-comment">//éå†1 forå¾ªç¯</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;list.size(); i++)&#123;<br>            System.out.println(list.get(i));  <span class="hljs-comment">//Note:å’Œæ•°ç»„éå†ç•¥æœ‰åŒºåˆ«</span><br>        &#125;<br>        <span class="hljs-comment">//éå†2 å¢å¼ºforå¾ªç¯</span><br><br>        <span class="hljs-comment">//éå†3 è¿­ä»£å™¨éå†</span><br><br>        <span class="hljs-comment">//éå†4 åˆ—è¡¨è¿­ä»£å™¨ listç‰¹æœ‰ åŠŸèƒ½æ›´åŠ å¼ºå¤§ listIteratorå¯ä»¥å‘å‰æˆ–å‘åéå†ï¼Œæ·»åŠ ã€åˆ é™¤ã€ä¿®æ”¹å…ƒç´ </span><br>        <span class="hljs-type">ListIterator</span> <span class="hljs-variable">lit</span> <span class="hljs-operator">=</span> list.listIterator();<br>        <span class="hljs-keyword">while</span>(lit.hasNext())&#123;<br>            System.out.println(lit.nextIndex()+<span class="hljs-string">&quot;:&quot;</span>+lit.next());<br>        &#125;<br>        <span class="hljs-comment">//ä»åå¾€å‰éå†</span><br>        <span class="hljs-keyword">while</span>(lit.hasPrevious())&#123;<br>            System.out.println(lit.previousIndex()+<span class="hljs-string">&quot;:&quot;</span>+lit.previous());<br>        &#125;<br><br>        <span class="hljs-comment">//è·å–ä½ç½®</span><br>        System.out.println(list.indexOf(<span class="hljs-string">&quot;4&quot;</span>));<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="3-2-ArrayList"><a href="#3-2-ArrayList" class="headerlink" title="3.2 ArrayList"></a>3.2 ArrayList</h2><blockquote><p>public class ArrayList&lt;E&gt;<br>extends AbstractList&lt;E&gt;<br>implements List&lt;E&gt;, RandomAccess, Cloneable, Serializable</p><p>ArrayList ç±»æ˜¯ä¸€ä¸ªå¯ä»¥åŠ¨æ€ä¿®æ”¹çš„æ•°ç»„ï¼Œä¸æ™®é€šæ•°ç»„çš„åŒºåˆ«å°±æ˜¯å®ƒæ˜¯æ²¡æœ‰å›ºå®šå¤§å°çš„é™åˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ æˆ–åˆ é™¤å…ƒç´ ã€‚ArrayList ç»§æ‰¿äº† AbstractList ï¼Œå¹¶å®ç°äº† List æ¥å£ã€‚</p></blockquote><p><strong>ç‰¹ç‚¹ï¼š</strong>æ•°ç»„ç»“æ„å®ç°ï¼ŒæŸ¥è¯¢å¿«ï¼Œå¢åˆ æ…¢ï¼›è¿è¡Œæ•ˆç‡å¿«ï¼Œçº¿ç¨‹ä¸å®‰å…¨</p><p><strong>æ–¹æ³•ï¼š</strong></p><table><thead><tr><th align="left">æ–¹æ³•</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left"><a href="https://www.runoob.com/java/java-arraylist-add.html">add()</a></td><td align="left">å°†å…ƒç´ æ’å…¥åˆ°æŒ‡å®šä½ç½®çš„ arraylist ä¸­</td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-arraylist-addall.html">addAll()</a></td><td align="left">æ·»åŠ é›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ åˆ° arraylist ä¸­</td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-arraylist-clear.html">clear()</a></td><td align="left">åˆ é™¤ arraylist ä¸­çš„æ‰€æœ‰å…ƒç´ </td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-arraylist-clone.html">clone()</a></td><td align="left">å¤åˆ¶ä¸€ä»½ arraylist</td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-arraylist-contains.html">contains()</a></td><td align="left">åˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨ arraylist</td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-arraylist-get.html">get()</a></td><td align="left">é€šè¿‡ç´¢å¼•å€¼è·å– arraylist ä¸­çš„å…ƒç´ </td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-arraylist-indexof.html">indexOf()</a></td><td align="left">è¿”å› arraylist ä¸­å…ƒç´ çš„ç´¢å¼•å€¼</td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-arraylist-removeall.html">removeAll()</a></td><td align="left">åˆ é™¤å­˜åœ¨äºæŒ‡å®šé›†åˆä¸­çš„ arraylist é‡Œçš„æ‰€æœ‰å…ƒç´ </td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-arraylist-remove.html">remove()</a></td><td align="left">åˆ é™¤ arraylist é‡Œçš„å•ä¸ªå…ƒç´ </td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-arraylist-size.html">size()</a></td><td align="left">è¿”å› arraylist é‡Œå…ƒç´ æ•°é‡</td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-arraylist-isempty.html">isEmpty()</a></td><td align="left">åˆ¤æ–­ arraylist æ˜¯å¦ä¸ºç©º</td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-arraylist-sublist.html">subList()</a></td><td align="left">æˆªå–éƒ¨åˆ† arraylist çš„å…ƒç´ </td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-arraylist-set.html">set()</a></td><td align="left">æ›¿æ¢ arraylist ä¸­æŒ‡å®šç´¢å¼•çš„å…ƒç´ </td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-arraylist-sort.html">sort()</a></td><td align="left">å¯¹ arraylist å…ƒç´ è¿›è¡Œæ’åº</td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-arraylist-toarray.html">toArray()</a></td><td align="left">å°† arraylist è½¬æ¢ä¸ºæ•°ç»„</td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-arraylist-tostring.html">toString()</a></td><td align="left">å°† arraylist è½¬æ¢ä¸ºå­—ç¬¦ä¸²</td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-arraylist-surecapacity.html">ensureCapacity</a>()</td><td align="left">è®¾ç½®æŒ‡å®šå®¹é‡å¤§å°çš„ arraylist</td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-arraylist-lastindexof.html">lastIndexOf()</a></td><td align="left">è¿”å›æŒ‡å®šå…ƒç´ åœ¨ arraylist ä¸­æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®</td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-arraylist-retainall.html">retainAll()</a></td><td align="left">ä¿ç•™ arraylist ä¸­åœ¨æŒ‡å®šé›†åˆä¸­ä¹Ÿå­˜åœ¨çš„é‚£äº›å…ƒç´ </td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-arraylist-containsall.html">containsAll()</a></td><td align="left">æŸ¥çœ‹ arraylist æ˜¯å¦åŒ…å«æŒ‡å®šé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ </td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-arraylist-trimtosize.html">trimToSize()</a></td><td align="left">å°† arraylist ä¸­çš„å®¹é‡è°ƒæ•´ä¸ºæ•°ç»„ä¸­çš„å…ƒç´ ä¸ªæ•°</td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-arraylist-removerange.html">removeRange()</a></td><td align="left">åˆ é™¤ arraylist ä¸­æŒ‡å®šç´¢å¼•ä¹‹é—´å­˜åœ¨çš„å…ƒç´ </td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-arraylist-replaceall.html">replaceAll()</a></td><td align="left">å°†ç»™å®šçš„æ“ä½œå†…å®¹æ›¿æ¢æ‰æ•°ç»„ä¸­æ¯ä¸€ä¸ªå…ƒç´ </td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-arraylist-removeif.html">removeIf()</a></td><td align="left">åˆ é™¤æ‰€æœ‰æ»¡è¶³ç‰¹å®šæ¡ä»¶çš„ arraylist å…ƒç´ </td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-arraylist-foreach.html">forEach()</a></td><td align="left">éå† arraylist ä¸­æ¯ä¸€ä¸ªå…ƒç´ å¹¶æ‰§è¡Œç‰¹å®šæ“ä½œ</td></tr></tbody></table><p><strong>ArrayListçš„ä½¿ç”¨ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> ArrayList;<br><span class="hljs-keyword">import</span> java.util.*;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">demo1</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br>        ArrayList&lt;String&gt; arraylist = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;String&gt;();  <span class="hljs-comment">//&lt;&gt;ä»£è¡¨æ³›å‹ ()ä»£è¡¨æ— å‚æ„é€ </span><br>        <span class="hljs-comment">//æ·»åŠ å…ƒç´ </span><br>        arraylist.add(<span class="hljs-string">&quot;hello&quot;</span>);<br>        arraylist.add(<span class="hljs-string">&quot;world&quot;</span>);<br>        arraylist.add(<span class="hljs-string">&quot;!&quot;</span>);<br>        arraylist.add(<span class="hljs-string">&quot;java&quot;</span>);<br>        System.out.println(arraylist);<br><br>        <span class="hljs-comment">//è®¿é—®å…ƒç´ </span><br>        System.out.println(arraylist.get(<span class="hljs-number">3</span>));<br><br>        <span class="hljs-comment">//ä¿®æ”¹å…ƒç´ </span><br>        arraylist.set(<span class="hljs-number">3</span>,<span class="hljs-string">&quot;javase&quot;</span>);<br>        System.out.println(arraylist);<br><br>        <span class="hljs-comment">//åˆ é™¤å…ƒç´ </span><br>        arraylist.remove(<span class="hljs-number">3</span>);<br>        System.out.println(arraylist);<br><br>        <span class="hljs-comment">//è®¡ç®—å¤§å°</span><br>        System.out.println(arraylist.size());<br><br>        <span class="hljs-comment">//éå†</span><br>        <span class="hljs-comment">//éå†1</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;arraylist.size(); i++)&#123;<br>            System.out.println(arraylist.get(i));<br>        &#125;<br>        <span class="hljs-comment">//éå†2</span><br>        <span class="hljs-keyword">for</span>(Object obj : arraylist)&#123;<br>            System.out.println(obj);<br>        &#125;<br>        <span class="hljs-comment">//éå†3</span><br>        <span class="hljs-type">Iterator</span> <span class="hljs-variable">it</span> <span class="hljs-operator">=</span> arraylist.iterator();<br>        <span class="hljs-keyword">while</span>(it.hasNext())&#123;<br>            System.out.println(it.next());<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="3-3-LinkedList"><a href="#3-3-LinkedList" class="headerlink" title="3.3 LinkedList"></a>3.3 LinkedList</h2><blockquote><p>public class LinkedList&lt;E&gt;<br>extends AbstractSequentialList&lt;E&gt;<br>implements List&lt;E&gt;, Deque&lt;E&gt;, Cloneable, Serializable</p><p>é“¾è¡¨ï¼ˆLinked listï¼‰æ˜¯ä¸€ç§å¸¸è§çš„åŸºç¡€æ•°æ®ç»“æ„ï¼Œæ˜¯ä¸€ç§çº¿æ€§è¡¨ï¼Œä½†æ˜¯å¹¶ä¸ä¼šæŒ‰çº¿æ€§çš„é¡ºåºå­˜å‚¨æ•°æ®ï¼Œè€Œæ˜¯åœ¨æ¯ä¸€ä¸ªèŠ‚ç‚¹é‡Œå­˜åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„åœ°å€ã€‚</p><p>å­˜å‚¨ç»“æ„ï¼šåŒå‘é“¾è¡¨</p></blockquote><p><strong>ç‰¹ç‚¹ï¼š</strong>é“¾è¡¨ç»“æ„å®ç°ï¼Œå¢åˆ å¿«ï¼ŒæŸ¥è¯¢æ…¢</p><p><strong>åˆ†ç±»ï¼š</strong></p><p>é“¾è¡¨å¯åˆ†ä¸ºå•å‘é“¾è¡¨å’ŒåŒå‘é“¾è¡¨ã€‚</p><p>ä¸€ä¸ªå•å‘é“¾è¡¨åŒ…å«ä¸¤ä¸ªå€¼: å½“å‰èŠ‚ç‚¹çš„å€¼å’Œä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„é“¾æ¥ã€‚</p><p><img src="https://www.runoob.com/wp-content/uploads/2020/06/408px-Singly-linked-list.svg_.png" alt="img"></p><p>ä¸€ä¸ªåŒå‘é“¾è¡¨æœ‰ä¸‰ä¸ªæ•´æ•°å€¼: æ•°å€¼ã€å‘åçš„èŠ‚ç‚¹é“¾æ¥ã€å‘å‰çš„èŠ‚ç‚¹é“¾æ¥ã€‚</p><p><img src="https://www.runoob.com/wp-content/uploads/2020/06/610px-Doubly-linked-list.svg_.png" alt="img"></p><p>Java LinkedListï¼ˆé“¾è¡¨ï¼‰ ç±»ä¼¼äº ArrayListï¼Œæ˜¯ä¸€ç§å¸¸ç”¨çš„æ•°æ®å®¹å™¨ã€‚</p><p><strong>å®ç°ä¸ç»§æ‰¿ï¼š</strong></p><p><img src="https://img.yiqiangshiyia.cn/blog/linkedlist.png" alt="linkedlist"></p><ul><li>LinkedList ç»§æ‰¿äº† AbstractSequentialList ç±»ã€‚</li><li>LinkedList å®ç°äº† Queue æ¥å£ï¼Œå¯ä½œä¸ºé˜Ÿåˆ—ä½¿ç”¨ã€‚</li><li>LinkedList å®ç°äº† List æ¥å£ï¼Œå¯è¿›è¡Œåˆ—è¡¨çš„ç›¸å…³æ“ä½œã€‚</li><li>LinkedList å®ç°äº† Deque æ¥å£ï¼Œå¯ä½œä¸ºé˜Ÿåˆ—ä½¿ç”¨ã€‚</li><li>LinkedList å®ç°äº† Cloneable æ¥å£ï¼Œå¯å®ç°å…‹éš†ã€‚</li><li>LinkedList å®ç°äº† java.io.Serializable æ¥å£ï¼Œå³å¯æ”¯æŒåºåˆ—åŒ–ï¼Œèƒ½é€šè¿‡åºåˆ—åŒ–å»ä¼ è¾“ã€‚</li></ul><p><strong>æ–¹æ³•ï¼š</strong></p><table><thead><tr><th align="left">æ–¹æ³•</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">public boolean add(E e)</td><td align="left">é“¾è¡¨æœ«å°¾æ·»åŠ å…ƒç´ ï¼Œè¿”å›æ˜¯å¦æˆåŠŸï¼ŒæˆåŠŸä¸º trueï¼Œå¤±è´¥ä¸º falseã€‚</td></tr><tr><td align="left">public void add(int index, E element)</td><td align="left">å‘æŒ‡å®šä½ç½®æ’å…¥å…ƒç´ ã€‚</td></tr><tr><td align="left">public boolean addAll(Collection c)</td><td align="left">å°†ä¸€ä¸ªé›†åˆçš„æ‰€æœ‰å…ƒç´ æ·»åŠ åˆ°é“¾è¡¨åé¢ï¼Œè¿”å›æ˜¯å¦æˆåŠŸï¼ŒæˆåŠŸä¸º trueï¼Œå¤±è´¥ä¸º falseã€‚</td></tr><tr><td align="left">public boolean addAll(int index, Collection c)</td><td align="left">å°†ä¸€ä¸ªé›†åˆçš„æ‰€æœ‰å…ƒç´ æ·»åŠ åˆ°é“¾è¡¨çš„æŒ‡å®šä½ç½®åé¢ï¼Œè¿”å›æ˜¯å¦æˆåŠŸï¼ŒæˆåŠŸä¸º trueï¼Œå¤±è´¥ä¸º falseã€‚</td></tr><tr><td align="left">public void addFirst(E e)</td><td align="left">å…ƒç´ æ·»åŠ åˆ°å¤´éƒ¨ã€‚</td></tr><tr><td align="left">public void addLast(E e)</td><td align="left">å…ƒç´ æ·»åŠ åˆ°å°¾éƒ¨ã€‚</td></tr><tr><td align="left">public void clear()</td><td align="left">æ¸…ç©ºé“¾è¡¨ã€‚</td></tr><tr><td align="left">public E removeFirst()</td><td align="left">åˆ é™¤å¹¶è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</td></tr><tr><td align="left">public E removeLast()</td><td align="left">åˆ é™¤å¹¶è¿”å›æœ€åä¸€ä¸ªå…ƒç´ ã€‚</td></tr><tr><td align="left">public boolean remove(Object o)</td><td align="left">åˆ é™¤æŸä¸€å…ƒç´ ï¼Œè¿”å›æ˜¯å¦æˆåŠŸï¼ŒæˆåŠŸä¸º trueï¼Œå¤±è´¥ä¸º falseã€‚</td></tr><tr><td align="left">public E remove(int index)</td><td align="left">åˆ é™¤æŒ‡å®šä½ç½®çš„å…ƒç´ ã€‚</td></tr><tr><td align="left">public E remove()</td><td align="left">åˆ é™¤å¹¶è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</td></tr><tr><td align="left">public boolean contains(Object o)</td><td align="left">åˆ¤æ–­æ˜¯å¦å«æœ‰æŸä¸€å…ƒç´ ã€‚</td></tr><tr><td align="left">public E get(int index)</td><td align="left">è¿”å›æŒ‡å®šä½ç½®çš„å…ƒç´ ã€‚</td></tr><tr><td align="left">public E getFirst()</td><td align="left">è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</td></tr><tr><td align="left">public E getLast()</td><td align="left">è¿”å›æœ€åä¸€ä¸ªå…ƒç´ ã€‚</td></tr><tr><td align="left">public int indexOf(Object o)</td><td align="left">æŸ¥æ‰¾æŒ‡å®šå…ƒç´ ä»å‰å¾€åç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•ã€‚</td></tr><tr><td align="left">public int lastIndexOf(Object o)</td><td align="left">æŸ¥æ‰¾æŒ‡å®šå…ƒç´ æœ€åä¸€æ¬¡å‡ºç°çš„ç´¢å¼•ã€‚</td></tr><tr><td align="left">public E set(int index, E element)</td><td align="left">è®¾ç½®æŒ‡å®šä½ç½®çš„å…ƒç´ ã€‚</td></tr><tr><td align="left">public Object clone()</td><td align="left">å…‹éš†è¯¥åˆ—è¡¨ã€‚</td></tr><tr><td align="left">public int size()</td><td align="left">è¿”å›é“¾è¡¨å…ƒç´ ä¸ªæ•°ã€‚</td></tr><tr><td align="left">public Object[] toArray()</td><td align="left">è¿”å›ä¸€ä¸ªç”±é“¾è¡¨å…ƒç´ ç»„æˆçš„æ•°ç»„ã€‚</td></tr></tbody></table><p><strong>LinkedListçš„ä½¿ç”¨ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> LinkedList;<br><span class="hljs-keyword">import</span> java.util.*;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">demo1</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br>        <span class="hljs-comment">//åˆ›å»ºé›†åˆ</span><br>        LinkedList&lt;String&gt; sites = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;String&gt;();<br><br>        <span class="hljs-comment">//æ·»åŠ </span><br>        sites.add(<span class="hljs-string">&quot;Geogle&quot;</span>);<br>        sites.add(<span class="hljs-string">&quot;runoob&quot;</span>);<br>        sites.add(<span class="hljs-string">&quot;firefox&quot;</span>);<br>        sites.add(<span class="hljs-string">&quot;baidu&quot;</span>);<br>        System.out.println(sites.size());<br>        System.out.println(sites);<br>        <span class="hljs-comment">//å¤´éƒ¨æ·»åŠ </span><br>        sites.addFirst(<span class="hljs-string">&quot;taobao&quot;</span>);<br>        <span class="hljs-comment">//å°¾éƒ¨æ·»åŠ </span><br>        sites.addLast(<span class="hljs-string">&quot;wiki&quot;</span>);<br>        System.out.println(sites);<br><br>        <span class="hljs-comment">//åˆ é™¤</span><br>        sites.remove(<span class="hljs-string">&quot;firefox&quot;</span>);<br>        <span class="hljs-comment">//åˆ é™¤å¤´éƒ¨å…ƒç´ </span><br>        sites.removeFirst();<br>        <span class="hljs-comment">//åˆ é™¤å°¾éƒ¨å…ƒç´ </span><br>        sites.removeLast();<br>        System.out.println(sites);<br><br>        <span class="hljs-comment">//éå†</span><br>        <span class="hljs-comment">//éå†1</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;sites.size(); i++)&#123;<br>            System.out.println(sites.get(i));<br>        &#125;<br>        <span class="hljs-comment">//éå†2</span><br>        <span class="hljs-keyword">for</span>(Object obj : sites)&#123;<br>            System.out.println(obj);<br>        &#125;<br>        <span class="hljs-comment">//éå†3</span><br>        <span class="hljs-type">Iterator</span> <span class="hljs-variable">it</span> <span class="hljs-operator">=</span> sites.iterator();<br>        <span class="hljs-keyword">while</span>(it.hasNext())&#123;<br>            System.out.println(it.next());<br>        &#125;<br>        <br>        <span class="hljs-comment">//è·å–</span><br>        <span class="hljs-comment">//ä½¿ç”¨getFirst()è·å–å¤´éƒ¨å…ƒç´ </span><br>        System.out.println(sites.getFirst());<br>        <span class="hljs-comment">//ä½¿ç”¨getLast()è·å–å°¾éƒ¨å…ƒç´ </span><br>        System.out.println(sites.getLast());<br>        <span class="hljs-comment">//è·å–index</span><br>        System.out.println(sites.indexOf(<span class="hljs-string">&quot;runoob&quot;</span>));<br><br>        <span class="hljs-comment">//åˆ¤æ–­</span><br>        System.out.println(sites.isEmpty());<br>        System.out.println(sites.contains(<span class="hljs-string">&quot;runoob&quot;</span>));<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="3-4-ArrayListå’ŒLinkedListåŒºåˆ«"><a href="#3-4-ArrayListå’ŒLinkedListåŒºåˆ«" class="headerlink" title="3.4 ArrayListå’ŒLinkedListåŒºåˆ«"></a>3.4 ArrayListå’ŒLinkedListåŒºåˆ«</h2><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220704160627.png" alt="QQæˆªå›¾20220704160627"></p><h2 id="3-5-Vector"><a href="#3-5-Vector" class="headerlink" title="3.5 Vector"></a>3.5 Vector</h2><blockquote><p>public class Vector&lt;E&gt;<br>extends AbstractList&lt;E&gt;<br>implements List&lt;E&gt;, RandomAccess, Cloneable, Serializable</p><p>Vectorç±»å®ç°äº†å¯æ‰©å±•çš„å¯¹è±¡æ•°ç»„ã€‚  åƒæ•°ç»„ä¸€æ ·ï¼Œå®ƒåŒ…å«å¯ä»¥ä½¿ç”¨æ•´æ•°ç´¢å¼•è®¿é—®çš„ç»„ä»¶ã€‚ ä½†æ˜¯ï¼Œ Vectorçš„å¤§å°å¯ä»¥æ ¹æ®éœ€è¦å¢é•¿æˆ–ç¼©å°ï¼Œä»¥é€‚åº”åœ¨åˆ›å»ºVectorä¹‹åæ·»åŠ å’Œåˆ é™¤é¡¹ç›®ã€‚</p></blockquote><p><strong>ç‰¹ç‚¹ï¼š</strong>æ•°ç»„ç»“æ„å®ç°ï¼ŒæŸ¥è¯¢å¿«ï¼Œå¢åˆ æ…¢ï¼›è¿è¡Œæ•ˆç‡æ…¢ï¼Œçº¿ç¨‹å®‰å…¨</p><p><strong>vectorçš„ä½¿ç”¨ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> Vector;<br><span class="hljs-keyword">import</span> java.util.*;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">demo1</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br>        <span class="hljs-comment">//åˆ›å»ºé›†åˆ</span><br>        <span class="hljs-type">Vector</span> <span class="hljs-variable">vector</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vector</span>&lt;&gt;();<br>        <span class="hljs-comment">//æ·»åŠ </span><br>        vector.add(<span class="hljs-string">&quot;hello&quot;</span>);<br>        vector.add(<span class="hljs-string">&quot;world&quot;</span>);<br>        vector.add(<span class="hljs-string">&quot;!&quot;</span>);<br>        vector.add(<span class="hljs-string">&quot;java&quot;</span>);<br>        System.out.println(vector);<br><br>        <span class="hljs-comment">//åˆ é™¤</span><br>        vector.remove(<span class="hljs-string">&quot;!&quot;</span>);<br><span class="hljs-comment">//      vector.remove(2);</span><br>        System.out.println(vector);<br><br>        <span class="hljs-comment">//éå†</span><br>        <span class="hljs-comment">//ä½¿ç”¨æšä¸¾å™¨</span><br>        <span class="hljs-type">Enumeration</span> <span class="hljs-variable">en</span> <span class="hljs-operator">=</span> vector.elements();<br>        <span class="hljs-keyword">while</span>(en.hasMoreElements())&#123;<br>            System.out.println(en.nextElement());<br>        &#125;<br><br>        <span class="hljs-comment">//åˆ¤æ–­</span><br>        System.out.println(vector.contains(<span class="hljs-string">&quot;java&quot;</span>));<br>        System.out.println(vector.isEmpty());<br>        <br>        <span class="hljs-comment">//vectorå…¶ä»–æ–¹æ³•:firstElementã€lastElementã€elementAt()</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="3-6-Iterator"><a href="#3-6-Iterator" class="headerlink" title="3.6 Iterator"></a>3.6 Iterator</h2><h3 id="3-6-1-Iterator"><a href="#3-6-1-Iterator" class="headerlink" title="3.6.1 Iterator"></a>3.6.1 Iterator</h3><blockquote><p>public interface Iterator&lt;E&gt;</p><p>ä½äºjava.utilåŒ…ä¸‹</p><p>Iterator(è¿­ä»£å™¨)ä¸æ˜¯ä¸€ä¸ªé›†åˆï¼Œå®ƒæ˜¯ä¸€ç§ç”¨äºè®¿é—®é›†åˆçš„æ–¹æ³•ï¼Œå¯ç”¨äºè¿­ä»£ArrayListå’ŒHashSetç­‰é›†åˆã€‚</p></blockquote><p><strong>å¸¸ç”¨æ–¹æ³•ï¼š</strong></p><ul><li>iterator()    //è·å–è¿­ä»£å™¨</li><li>boolean hasNext()    //æ£€æµ‹é›†åˆä¸­æ˜¯å¦è¿˜æœ‰å…ƒç´ </li><li>E next()    //è¿”å›è¿­ä»£å™¨çš„ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶ä¸”æ›´æ–°è¿­ä»£å™¨çš„çŠ¶æ€</li><li>void remove()    //å°†è¿­ä»£å™¨è¿”å›çš„å…ƒç´ åˆ é™¤</li></ul><h3 id="3-6-1-ListIterator"><a href="#3-6-1-ListIterator" class="headerlink" title="3.6.1 ListIterator"></a>3.6.1 ListIterator</h3><blockquote><p>public interface ListIterator&lt;E&gt;<br>extends Iterator&lt;E&gt;</p><p>ç”¨äºå…è®¸ç¨‹åºå‘˜æ²¿ä»»ä¸€æ–¹å‘éå†åˆ—è¡¨çš„åˆ—è¡¨çš„è¿­ä»£å™¨ï¼Œåœ¨è¿­ä»£æœŸé—´ä¿®æ”¹åˆ—è¡¨ï¼Œå¹¶è·å–åˆ—è¡¨ä¸­è¿­ä»£å™¨çš„å½“å‰ä½ç½®ã€‚ </p></blockquote><p><strong>å¸¸ç”¨æ–¹æ³•ï¼š</strong></p><ul><li>void add(E e)    //å°†æŒ‡å®šçš„å…ƒç´ æ’å…¥åˆ—è¡¨</li><li>boolean hasNext()    //å¦‚æœæ­¤åˆ—è¡¨è¿­ä»£å™¨åœ¨å‘å‰æ–¹å‘éå†åˆ—è¡¨æ—¶å…·æœ‰æ›´å¤šå…ƒç´ ï¼Œåˆ™è¿”å›true</li><li>boolean hasPrevious()    //å¦‚æœæ­¤åˆ—è¡¨è¿­ä»£å™¨åœ¨ç›¸åæ–¹å‘éå†åˆ—è¡¨æ—¶å…·æœ‰æ›´å¤šå…ƒç´ ï¼Œåˆ™è¿”å›true</li><li>E next()    //è¿”å›åˆ—è¡¨ä¸­çš„ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶ä¸”å‰è¿›å…‰æ ‡ä½ç½®ã€‚</li><li>int nextIndex()    //è¿”å›ç”±åç»­è°ƒç”¨è¿”å›çš„å…ƒç´ çš„ç´¢å¼• next()</li><li>E previous()    //è¿”å›åˆ—è¡¨ä¸­çš„ä¸Šä¸€ä¸ªå…ƒç´ ï¼Œå¹¶å‘åç§»åŠ¨å…‰æ ‡ä½ç½®ã€‚ </li><li>int previousIndex()    //è¿”å›ç”±åç»­è°ƒç”¨è¿”å›çš„å…ƒç´ çš„ç´¢å¼• previous()</li><li>void remove()    //ä»åˆ—è¡¨ä¸­åˆ é™¤ next() æˆ– previous() è¿”å›çš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚ </li><li>void set(E e)    //ç”¨æŒ‡å®šçš„å…ƒç´ æ›¿æ¢ next() æˆ– previous() è¿”å›çš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚ </li></ul><h1 id="4-æ³›å‹å’Œå·¥å…·ç±»"><a href="#4-æ³›å‹å’Œå·¥å…·ç±»" class="headerlink" title="4. æ³›å‹å’Œå·¥å…·ç±»"></a>4. æ³›å‹å’Œå·¥å…·ç±»</h1><h2 id="4-1-æ³›å‹"><a href="#4-1-æ³›å‹" class="headerlink" title="4.1 æ³›å‹"></a>4.1 æ³›å‹</h2><ul><li>Javaæ³›å‹æ˜¯JDK1.5ä¸­å¼•å…¥çš„ä¸€ä¸ªæ–°ç‰¹æ€§ï¼Œ<strong>æ³›å‹çš„æœ¬è´¨æ˜¯ä¸ºäº†å‚æ•°åŒ–ç±»å‹</strong>ï¼ˆåœ¨ä¸åˆ›å»ºæ–°çš„ç±»å‹çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡æ³›å‹æŒ‡å®šçš„ä¸åŒç±»å‹æ¥æ§åˆ¶å½¢å‚å…·ä½“é™åˆ¶çš„ç±»å‹ï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨æ³›å‹ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œæ“ä½œçš„æ•°æ®ç±»å‹è¢«æŒ‡å®šä¸ºä¸€ä¸ªå‚æ•°ï¼Œè¿™ç§å‚æ•°ç±»å‹å¯ä»¥ç”¨åœ¨ç±»ã€æ¥å£å’Œæ–¹æ³•ä¸­ï¼Œåˆ†åˆ«è¢«ç§°ä¸ºæ³›å‹ç±»ã€æ³›å‹æ¥å£ã€æ³›å‹æ–¹æ³•ã€‚</li><li>å¸¸è§çš„å½¢å¼æœ‰æ³›å‹ç±»ã€æ³›å‹æ¥å£ã€æ³›å‹æ–¹æ³•</li><li>è¯­æ³•ï¼š&lt;T,â€¦.&gt; Tç§°ä¸ºç±»å‹å ä½ç¬¦ï¼Œè¡¨ç¤ºä¸€ç§å¼•ç”¨ç±»å‹ã€‚Tå¯ä»¥éšä¾¿å†™ä¸ºä»»æ„æ ‡è¯†ï¼Œå¸¸è§çš„å¦‚Tã€Eã€Kã€Vç­‰å½¢å¼çš„å‚æ•°å¸¸ç”¨äºè¡¨ç¤ºæ³›å‹</li><li>å¥½å¤„ï¼š<ul><li>æé«˜ä»£ç çš„å¤ç”¨æ€§</li><li>é˜²æ­¢ç±»å‹è½¬æ¢å¼‚å¸¸ï¼Œæé«˜ä»£ç çš„å®‰å…¨æ€§</li></ul></li></ul><h2 id="4-2-æ³›å‹ç±»"><a href="#4-2-æ³›å‹ç±»" class="headerlink" title="4.2 æ³›å‹ç±»"></a>4.2 æ³›å‹ç±»</h2><p>æ³›å‹ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> FanXing;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    æ³›å‹ç±»</span><br><span class="hljs-comment">    è¯­æ³•ï¼šç±»å&lt;T&gt;</span><br><span class="hljs-comment">    Tæ˜¯ç±»å‹å ä½ç¬¦ï¼Œè¡¨ç¤ºä¸€ç§å¼•ç”¨ç±»å‹ï¼Œå¦‚æœç¼–å†™å¤šä¸ªä½¿ç”¨é€—å·éš”å¼€</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyGeneric</span>&lt;T&gt; &#123;<br>    <span class="hljs-comment">//ä½¿ç”¨æ³›å‹T</span><br>    <span class="hljs-comment">//1.åˆ›å»ºå˜é‡</span><br>    T t;<br><br>    <span class="hljs-comment">//2.æ³›å‹ä½œä¸ºæ–¹æ³•çš„å‚æ•°</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">show</span><span class="hljs-params">(T t)</span>&#123;<br>        System.out.println(t);<br>    &#125;<br><br>    <span class="hljs-comment">//3.æ³›å‹ä½œä¸ºæ–¹æ³•çš„è¿”å›å€¼</span><br>    <span class="hljs-keyword">public</span> T <span class="hljs-title function_">getT</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">return</span> t;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•ç±»ï¼šä½¿ç”¨æ³›å‹ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> FanXing;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TestGeneric</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br>        <span class="hljs-comment">//ä½¿ç”¨æ³›å‹ç±»åˆ›å»ºå¯¹è±¡</span><br>        <span class="hljs-comment">//æ³¨æ„ï¼š1.æ³›å‹åªèƒ½ä½¿ç”¨å¼•ç”¨ç±»å‹ 2.ä¸åŒæ³›å‹ç±»å‹å¯¹è±¡ä¹‹é—´ä¸èƒ½ç›¸äº’èµ‹å€¼</span><br>        MyGeneric&lt;String&gt; myGeneric = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyGeneric</span>&lt;String&gt;();<br>        myGeneric.t = <span class="hljs-string">&quot;hello&quot;</span>;<br>        myGeneric.show(<span class="hljs-string">&quot;world&quot;</span>);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> myGeneric.getT();<br>        System.out.println(str);<br><br>        <span class="hljs-comment">//Integerç±»å‹</span><br>        MyGeneric&lt;Integer&gt; myGeneric2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyGeneric</span>&lt;Integer&gt;();<br>        myGeneric2.t = <span class="hljs-number">100</span>;<br>        myGeneric2.show(<span class="hljs-number">200</span>);<br>        <span class="hljs-type">Integer</span> <span class="hljs-variable">num</span> <span class="hljs-operator">=</span> myGeneric2.getT();<br>        System.out.println(num);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="4-3-æ³›å‹æ¥å£"><a href="#4-3-æ³›å‹æ¥å£" class="headerlink" title="4.3 æ³›å‹æ¥å£"></a>4.3 æ³›å‹æ¥å£</h2><p>æ³›å‹æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> FanXing;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    æ³›å‹æ¥å£</span><br><span class="hljs-comment">    è¯­æ³•ï¼šæ¥å£å&lt;T&gt;</span><br><span class="hljs-comment">    æ³¨æ„ï¼šä¸èƒ½ä½¿ç”¨æ³›å‹åˆ›å»ºé™æ€å¸¸é‡</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">MyInterface</span>&lt;T&gt; &#123;<br>    T <span class="hljs-title function_">server</span><span class="hljs-params">(T t)</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>å®ç°ç±»ï¼šä½¿ç”¨æ³›å‹æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> FanXing;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    æ–¹æ³•1ï¼šå®ç°æ¥å£æ—¶ç¡®å®šç±»å‹</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyInterfaceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">MyInterface</span>&lt;String&gt; &#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">server</span><span class="hljs-params">(String s)</span> &#123;<br>        <span class="hljs-keyword">return</span> s;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> FanXing;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    æ–¹æ³•2ï¼šå®ç°æ¥å£æ—¶ä¸ç¡®å®šç±»å‹</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyInterfaceImpl2</span>&lt;T&gt; <span class="hljs-keyword">implements</span> <span class="hljs-title class_">MyInterface</span>&lt;T&gt; &#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> T <span class="hljs-title function_">server</span><span class="hljs-params">(T t)</span> &#123;<br>        <span class="hljs-keyword">return</span> t;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> FanXing;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">test</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br>        <span class="hljs-comment">//test1</span><br>        <span class="hljs-type">MyInterfaceImpl</span> <span class="hljs-variable">impl</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyInterfaceImpl</span>();<br>        <span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> impl.server(<span class="hljs-string">&quot;hello&quot;</span>);<br>        System.out.println(str);<br><br>        <span class="hljs-comment">//test2</span><br>        MyInterfaceImpl2&lt;Integer&gt; impl2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyInterfaceImpl2</span>&lt;Integer&gt;();<br>        <span class="hljs-type">Integer</span> <span class="hljs-variable">num</span> <span class="hljs-operator">=</span> impl2.server(<span class="hljs-number">100</span>);<br>        System.out.println(num);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="4-4-æ³›å‹æ–¹æ³•"><a href="#4-4-æ³›å‹æ–¹æ³•" class="headerlink" title="4.4 æ³›å‹æ–¹æ³•"></a>4.4 æ³›å‹æ–¹æ³•</h2><p>æ³›å‹æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> FanXing;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    æ³›å‹æ–¹æ³•</span><br><span class="hljs-comment">    è¯­æ³•ï¼š&lt;T&gt; è¿”å›å€¼ç±»å‹</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyGenericMethod</span> &#123;<br>    <span class="hljs-comment">//æ³›å‹æ–¹æ³•</span><br>    <span class="hljs-keyword">public</span> &lt;T&gt; T <span class="hljs-title function_">show</span><span class="hljs-params">(T t)</span>&#123;<br>        System.out.println(t);<br>        <span class="hljs-keyword">return</span> t;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> FanXing;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">test</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br>        <span class="hljs-type">MyGenericMethod</span> <span class="hljs-variable">myGenericMethod</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyGenericMethod</span>();<br>        myGenericMethod.show(<span class="hljs-string">&quot;hello&quot;</span>);<br>        myGenericMethod.show(<span class="hljs-number">100</span>);<br>        myGenericMethod.show(<span class="hljs-number">3.14</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="4-5-æ³›å‹é›†åˆ"><a href="#4-5-æ³›å‹é›†åˆ" class="headerlink" title="4.5 æ³›å‹é›†åˆ"></a>4.5 æ³›å‹é›†åˆ</h2><p>æ¦‚å¿µï¼šå‚æ•°åŒ–ç±»å‹ã€ç±»å‹å®‰å…¨çš„é›†åˆï¼Œå¼ºåˆ¶é›†åˆå…ƒç´ çš„ç±»å‹å¿…é¡»ä¸€è‡´ã€‚</p><p>ç‰¹ç‚¹ï¼š</p><ul><li>ç¼–è¯‘æ—¶å³å¯æ£€æŸ¥ï¼Œè€Œéè¿è¡Œæ—¶æŠ›å‡ºå¼‚å¸¸</li><li>è®¿é—®æ—¶ï¼Œä¸å¿…ç±»å‹è½¬æ¢ï¼ˆæ‹†ç®±ï¼‰</li><li>ä¸åŒæ³›å‹ä¹‹é—´ç›¸äº’å¼•ç”¨ä¸èƒ½ç›¸äº’èµ‹å€¼ï¼Œæ³›å‹ä¸å­˜åœ¨å¤šæ€</li></ul><p>æ³›å‹é›†åˆ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> FanXing;<br><br><span class="hljs-keyword">import</span> java.util.ArrayList;<br><span class="hljs-keyword">import</span> java.util.Iterator;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    æ³›å‹é›†åˆ</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">demo1</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br>        <span class="hljs-type">ArrayList</span> <span class="hljs-variable">arraylist</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();  <span class="hljs-comment">//é›†åˆå…ƒç´ ç±»å‹ä¸ºobjectï¼Œä½¿ç”¨æ—¶éœ€è¦ç±»å‹è½¬æ¢ï¼Œå¯èƒ½ä¼šå‡ºç°ç±»å‹è½¬æ¢å¼‚å¸¸</span><br>        arraylist.add(<span class="hljs-string">&quot;hello&quot;</span>);<br>        arraylist.add(<span class="hljs-number">100</span>);<br>        arraylist.add(<span class="hljs-number">3.14</span>);<br>        <span class="hljs-keyword">for</span>(Object object : arraylist)&#123;<br>            System.out.println(object);<br>        &#125;<br><br>        <span class="hljs-comment">//æ³›å‹é›†åˆ é¿å…ç±»å‹è½¬æ¢å¼‚å¸¸</span><br>        ArrayList&lt;String&gt; arraylist2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;String&gt;();<br>        arraylist2.add(<span class="hljs-string">&quot;hello&quot;</span>);<br>        arraylist2.add(<span class="hljs-string">&quot;world&quot;</span>);<br>        <span class="hljs-keyword">for</span>(String str : arraylist2)&#123;<br>            System.out.println(str);<br>        &#125;<br><br>        ArrayList&lt;Integer&gt; arraylist3 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;Integer&gt;();<br>        arraylist3.add(<span class="hljs-number">100</span>);<br>        arraylist3.add(<span class="hljs-number">20</span>);<br>        <span class="hljs-type">Iterator</span> <span class="hljs-variable">it</span> <span class="hljs-operator">=</span> arraylist3.iterator();<br>        <span class="hljs-keyword">while</span>(it.hasNext())&#123;<br>            System.out.println(it.next());<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="5-Setæ¥å£ä¸å®ç°ç±»"><a href="#5-Setæ¥å£ä¸å®ç°ç±»" class="headerlink" title="5. Setæ¥å£ä¸å®ç°ç±»"></a>5. Setæ¥å£ä¸å®ç°ç±»</h1><h2 id="5-1-Setå­æ¥å£"><a href="#5-1-Setå­æ¥å£" class="headerlink" title="5.1 Setå­æ¥å£"></a>5.1 Setå­æ¥å£</h2><blockquote><p>public interface Set&lt;E&gt;<br>extends Collection&lt;E&gt;</p><p>ä¸åŒ…å«é‡å¤å…ƒç´ çš„é›†åˆã€‚  æ›´æ­£å¼åœ°ï¼Œé›†åˆä¸åŒ…å«ä¸€å¯¹å…ƒç´ e1å’Œe2  ï¼Œä½¿å¾—e1.equals(e2)ï¼Œå¹¶ä¸”æœ€å¤šåªæœ‰ä¸€ä¸ªç©ºå…ƒç´ ã€‚  æ­£å¦‚å…¶åç§°æ‰€æš—ç¤ºçš„é‚£æ ·ï¼Œè¿™ä¸ªæ¥å£æ¨¡æ‹Ÿäº†æ•°å­¦é›†æŠ½è±¡ã€‚ </p></blockquote><p><strong>ç‰¹ç‚¹ï¼š</strong>æ— åºã€æ— ä¸‹æ ‡ã€å…ƒç´ ä¸å¯é‡å¤</p><p><strong>æ–¹æ³•ï¼š</strong></p><ul><li>å…¨éƒ¨ç»§æ‰¿è‡ªCollectionä¸­çš„æ–¹æ³•</li></ul><p><strong>Setæ¥å£çš„ä½¿ç”¨ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> Set;<br><span class="hljs-keyword">import</span> java.util.Iterator;<br><span class="hljs-keyword">import</span> java.util.Set;<br><span class="hljs-keyword">import</span> java.util.HashSet;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    setæ¥å£çš„ä½¿ç”¨</span><br><span class="hljs-comment">    ç‰¹ç‚¹ï¼šæ— åºã€æ²¡æœ‰ä¸‹æ ‡ã€ä¸èƒ½é‡å¤</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">demo1</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br>        <span class="hljs-comment">//åˆ›å»ºé›†åˆ</span><br>        Set&lt;String&gt; set = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;String&gt;();<br><br>        <span class="hljs-comment">//1.æ·»åŠ æ•°æ®</span><br>        set.add(<span class="hljs-string">&quot;a&quot;</span>);<br>        set.add(<span class="hljs-string">&quot;b&quot;</span>);<br>        set.add(<span class="hljs-string">&quot;b&quot;</span>);<br>        set.add(<span class="hljs-string">&quot;d&quot;</span>);<br>        set.add(<span class="hljs-string">&quot;c&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;å…ƒç´ ä¸ªæ•°ï¼š&quot;</span>+set.size());<br>        System.out.println(set.toString());<br>        <span class="hljs-comment">/* è¾“å‡ºï¼š[a, b, c, d] è¯´æ˜setæ— åºä¸èƒ½é‡å¤ */</span><br><br>        <span class="hljs-comment">//2.åˆ é™¤æ•°æ®</span><br>        set.remove(<span class="hljs-string">&quot;d&quot;</span>);<br>        System.out.println(set.toString());<br><br>        <span class="hljs-comment">//3.éå†</span><br>        <span class="hljs-comment">//éå†1ï¼šå¢å¼ºfor</span><br>        <span class="hljs-keyword">for</span>(String str : set)&#123;<br>            System.out.println(str);<br>        &#125;<br>        <span class="hljs-comment">//éå†2ï¼šè¿­ä»£å™¨</span><br>        <span class="hljs-type">Iterator</span> <span class="hljs-variable">it</span> <span class="hljs-operator">=</span> set.iterator();<br>        <span class="hljs-keyword">while</span>(it.hasNext())&#123;<br>            System.out.println(it.next());<br>        &#125;<br><br>        <span class="hljs-comment">//åˆ¤æ–­</span><br>        System.out.println(set.isEmpty());<br>        System.out.println(set.contains(<span class="hljs-string">&quot;b&quot;</span>));<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="5-2-HashSet"><a href="#5-2-HashSet" class="headerlink" title="5.2 HashSet"></a>5.2 HashSet</h2><p><strong>HashSetï¼š</strong></p><ul><li>åŸºäºHashCodeè®¡ç®—å…ƒç´ å­˜æ”¾ä½ç½®</li><li>å½“å­˜å…¥å…ƒç´ çš„å“ˆå¸Œç ç›¸åŒæ—¶ï¼Œä¼šè°ƒç”¨equalsè¿›è¡Œç¡®è®¤ï¼Œå¦‚ç»“æœä¸ºtrueï¼Œåˆ™æ‹’ç»åè€…å­˜å…¥</li></ul><blockquote><p>public class HashSet&lt;E&gt;<br>extends AbstractSet&lt;E&gt;<br>implements Set&lt;E&gt;, Cloneable, Serializable</p><p>è¯¥ç±»å®ç°Setæ¥å£ï¼Œç”±å“ˆå¸Œè¡¨ï¼ˆå®é™…ä¸ºHashMapå®ä¾‹ï¼‰æ”¯æŒã€‚  å¯¹é›†åˆçš„è¿­ä»£é¡ºåºä¸ä½œä»»ä½•ä¿è¯; ç‰¹åˆ«æ˜¯ï¼Œå®ƒä¸èƒ½ä¿è¯è®¢å•åœ¨ä¸€æ®µæ—¶é—´å†…ä¿æŒä¸å˜ã€‚  è¿™ä¸ªç±»å…è®¸nullå…ƒç´ ã€‚ </p></blockquote><p><strong>æ–¹æ³•ï¼š</strong></p><table><thead><tr><th align="left">å˜é‡å’Œç±»å‹</th><th align="left">æ–¹æ³•</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">boolean</td><td align="left">add(E e)</td><td align="left">å¦‚æœæŒ‡å®šçš„å…ƒç´ å°šä¸å­˜åœ¨ï¼Œåˆ™å°†å…¶æ·»åŠ åˆ°æ­¤é›†åˆä¸­ã€‚</td></tr><tr><td align="left">void</td><td align="left">clear()</td><td align="left">ä»è¯¥é›†ä¸­åˆ é™¤æ‰€æœ‰å…ƒç´ ã€‚</td></tr><tr><td align="left">Object</td><td align="left">clone()</td><td align="left">è¿”å›æ­¤ HashSetå®ä¾‹çš„æµ…è¡¨å‰¯æœ¬ï¼šæœªå…‹éš†å…ƒç´ æœ¬èº«ã€‚</td></tr><tr><td align="left">boolean</td><td align="left">contains(Object o)</td><td align="left">å¦‚æœæ­¤setåŒ…å«æŒ‡å®šçš„å…ƒç´ ï¼Œåˆ™è¿”å› true ã€‚</td></tr><tr><td align="left">boolean</td><td align="left">isEmpty()</td><td align="left">å¦‚æœæ­¤é›†åˆä¸åŒ…å«ä»»ä½•å…ƒç´ ï¼Œåˆ™è¿”å› true ã€‚</td></tr><tr><td align="left">Iterator&lt;E&gt;</td><td align="left">iterator()</td><td align="left">è¿”å›æ­¤setä¸­å…ƒç´ çš„è¿­ä»£å™¨ã€‚</td></tr><tr><td align="left">boolean</td><td align="left">remove(Object o)</td><td align="left">å¦‚æœå­˜åœ¨ï¼Œåˆ™ä»è¯¥é›†åˆä¸­ç§»é™¤æŒ‡å®šçš„å…ƒç´ ã€‚</td></tr><tr><td align="left">int</td><td align="left">size()</td><td align="left">è¿”å›æ­¤é›†åˆä¸­çš„å…ƒç´ æ•°ï¼ˆåŸºæ•°ï¼‰ã€‚</td></tr></tbody></table><p><strong>HashSetçš„ä½¿ç”¨1ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> Set;<br><br><span class="hljs-keyword">import</span> java.util.HashSet;<br><span class="hljs-keyword">import</span> java.util.Iterator;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    HashSeté›†åˆçš„ä½¿ç”¨</span><br><span class="hljs-comment">    å­˜å‚¨ç»“æ„ï¼šå“ˆå¸Œè¡¨ï¼ˆæ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘ï¼‰</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">demo2</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br>        <span class="hljs-comment">//åˆ›å»ºé›†åˆ</span><br>        HashSet&lt;String&gt; hashset = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;String&gt;();<br><br>        <span class="hljs-comment">//1.æ·»åŠ å…ƒç´ </span><br>        hashset.add(<span class="hljs-string">&quot;a&quot;</span>);<br>        hashset.add(<span class="hljs-string">&quot;b&quot;</span>);<br>        hashset.add(<span class="hljs-string">&quot;c&quot;</span>);<br>        hashset.add(<span class="hljs-string">&quot;d&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;å…ƒç´ ä¸ªæ•°ï¼š&quot;</span>+hashset.size());<br>        System.out.println(hashset.toString());<br><br>        <span class="hljs-comment">//2.åˆ é™¤å…ƒç´ </span><br>        hashset.remove(<span class="hljs-string">&quot;d&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;åˆ é™¤ä¹‹åï¼š&quot;</span>+hashset.size());<br>        System.out.println(hashset.toString());<br><br>        <span class="hljs-comment">//3.éå†</span><br>        <span class="hljs-comment">//éå†1</span><br>        <span class="hljs-keyword">for</span>(String str : hashset)&#123;<br>            System.out.println(str);<br>        &#125;<br><br>        <span class="hljs-comment">//éå†2</span><br>        <span class="hljs-type">Iterator</span> <span class="hljs-variable">it</span> <span class="hljs-operator">=</span> hashset.iterator();<br>        <span class="hljs-keyword">while</span>(it.hasNext())&#123;<br>            System.out.println(it.next());<br>        &#125;<br><br>        <span class="hljs-comment">//åˆ¤æ–­</span><br>        System.out.println(hashset.isEmpty());<br>        System.out.println(hashset.contains(<span class="hljs-string">&quot;c&quot;</span>));<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>HashSetçš„ä½¿ç”¨2 &amp;&amp; HashSetå­˜å‚¨è¿‡ç¨‹ï¼š</strong></p><p>Personç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> Set;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> &#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;<br>    <span class="hljs-comment">//æ— å‚æ„é€ </span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">()</span> &#123;<br><br>    &#125;<br>    <span class="hljs-comment">//å¸¦å‚æ„é€ </span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>        <span class="hljs-built_in">this</span>.age = age;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> age;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> &#123;<br>        <span class="hljs-built_in">this</span>.age = age;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Person&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;name=&#x27;&quot;</span> + name + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&quot;, age=&quot;</span> + age +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">equals</span><span class="hljs-params">(Object o)</span> &#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span> == o) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">if</span> (!(o <span class="hljs-keyword">instanceof</span> Person)) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br><br>        <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> (Person) o;<br><br>        <span class="hljs-keyword">if</span> (getAge() != person.getAge()) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">return</span> getName().equals(person.getName());<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">hashCode</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> getName().hashCode();<br>        result = <span class="hljs-number">31</span> * result + getAge();<br>        <span class="hljs-keyword">return</span> result;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> Set;<br><br><span class="hljs-keyword">import</span> java.util.HashSet;<br><span class="hljs-keyword">import</span> java.util.Iterator;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    HashSetçš„ä½¿ç”¨</span><br><span class="hljs-comment">    å­˜å‚¨ç»“æ„ï¼šå“ˆå¸Œè¡¨ï¼ˆæ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘ï¼‰</span><br><span class="hljs-comment">    å­˜å‚¨è¿‡ç¨‹ï¼š</span><br><span class="hljs-comment">        1.æ ¹æ®hashcodeè®¡ç®—ä¿å­˜çš„ä½ç½®ï¼Œå¦‚æœæ­¤ä½ç½®ä¸ºç©ºï¼Œåˆ™ç›´æ¥ä¿å­˜ï¼Œå¦‚æœä¸ä¸ºç©ºæ‰§è¡Œç¬¬äºŒæ­¥</span><br><span class="hljs-comment">        2.å†æ‰§è¡Œequalsæ–¹æ³•ï¼Œå¦‚æœequalsæ–¹æ³•ä¸ºtrueï¼Œåˆ™è®¤ä¸ºæ˜¯é‡å¤ï¼Œå¦åˆ™å½¢æˆé“¾è¡¨</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">demo3</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br>        <span class="hljs-comment">//åˆ›å»ºé›†åˆ</span><br>        HashSet&lt;Person&gt; person = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;Person&gt;();<br><br>        <span class="hljs-comment">//1.æ·»åŠ å…ƒç´ </span><br>        <span class="hljs-type">Person</span> <span class="hljs-variable">p1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;æ—å—èŠŠ&quot;</span>,<span class="hljs-number">20</span>);<br>        <span class="hljs-type">Person</span> <span class="hljs-variable">p2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;æ—æ…•æ¤¿&quot;</span>,<span class="hljs-number">21</span>);<br>        <span class="hljs-type">Person</span> <span class="hljs-variable">p3</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;æ—æ€æ¹«&quot;</span>,<span class="hljs-number">20</span>);<br>        <span class="hljs-type">Person</span> <span class="hljs-variable">p4</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;æ—è½è¯—&quot;</span>,<span class="hljs-number">22</span>);<br><br>        person.add(p1);<br>        person.add(p2);<br>        person.add(p3);<br>        person.add(p4);<br><span class="hljs-comment">//      person.add(p4);  ä¸å¯æ·»åŠ ï¼Œå…ƒç´ é‡å¤</span><br>        person.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;æ—è½è¯—&quot;</span>,<span class="hljs-number">22</span>));  <span class="hljs-comment">//å¯ä»¥æ·»åŠ </span><br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">            è¦ä½¿é‡æ–°newçš„é‡å¤å…ƒç´ æ— æ³•æ·»åŠ ï¼Œåˆ™éœ€è¦äº†è§£HashSetçš„å­˜å‚¨è¿‡ç¨‹</span><br><span class="hljs-comment">            é‡å†™Personç±»ä¸­çš„hashCodeæ–¹æ³•å’Œequalsæ–¹æ³•ï¼Œä½¿å…¶å¯¹æ·»åŠ çš„å…ƒç´ çš„nameå’Œageè¿›è¡Œåˆ¤æ–­</span><br><span class="hljs-comment">         */</span><br><br>        System.out.println(<span class="hljs-string">&quot;å…ƒç´ ä¸ªæ•°ï¼š&quot;</span>+person.size());<br>        System.out.println(person.toString());<br><br>        <span class="hljs-comment">//2.åˆ é™¤å…ƒç´ </span><br>        person.remove(<span class="hljs-string">&quot;p4&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;åˆ é™¤ä¹‹åï¼š&quot;</span>+person.size());<br><br>        <span class="hljs-comment">//3.éå†</span><br>        <span class="hljs-comment">//éå†1</span><br>        <span class="hljs-keyword">for</span>(Person str : person)&#123;<br>            System.out.println(str);<br>        &#125;<br>        <span class="hljs-comment">//éå†2</span><br>        <span class="hljs-type">Iterator</span> <span class="hljs-variable">it</span> <span class="hljs-operator">=</span> person.iterator();<br>        <span class="hljs-keyword">while</span>(it.hasNext())&#123;<br>            System.out.println(it.next());<br>        &#125;<br><br>        <span class="hljs-comment">//4.åˆ¤æ–­</span><br>        System.out.println(person.isEmpty());<br>        System.out.println(person.contains(p2));<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="5-3-TreeSet"><a href="#5-3-TreeSet" class="headerlink" title="5.3 TreeSet"></a>5.3 TreeSet</h2><p><strong>TreeSetï¼š</strong></p><ul><li>åŸºäºæ’åˆ—é¡ºåºå®ç°å…ƒç´ ä¸é‡å¤</li><li>å®ç°äº†SortedSetæ¥å£ï¼Œå¯¹é›†åˆå…ƒç´ è‡ªåŠ¨æ’åº</li><li><strong>å…ƒç´ å¯¹è±¡çš„ç±»å‹å¿…é¡»å®ç°Comparableæ¥å£</strong>ï¼ŒæŒ‡å®šæ’åºè§„åˆ™ï¼Œå¦åˆ™æ— æ³•æ·»åŠ </li><li>é€šè¿‡CompareToæ–¹æ³•ç¡®å®šæ˜¯å¦ä¸ºé‡å¤å…ƒç´ </li></ul><blockquote><p>public class TreeSet&lt;E&gt;<br>extends AbstractSet&lt;E&gt;<br>implements NavigableSet&lt;E&gt;, Cloneable, Serializable</p><p>è¯¥ç±»å®ç°äº†Setæ¥å£ï¼Œå¯ä»¥å®ç°æ’åºç­‰åŠŸèƒ½ã€‚</p></blockquote><p><strong>æ–¹æ³•ï¼š</strong></p><table><thead><tr><th align="left">å˜é‡å’Œç±»å‹</th><th align="left">æ–¹æ³•</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">boolean</td><td align="left">add(E e)</td><td align="left">å¦‚æœæŒ‡å®šçš„å…ƒç´ å°šä¸å­˜åœ¨ï¼Œåˆ™å°†å…¶æ·»åŠ åˆ°æ­¤é›†åˆä¸­ã€‚</td></tr><tr><td align="left">boolean</td><td align="left"><code>addAll(Collection&lt;? extends E&gt; c)</code></td><td align="left">å°†æŒ‡å®šé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ æ·»åŠ åˆ°æ­¤é›†åˆä¸­ã€‚</td></tr><tr><td align="left">E</td><td align="left">ceiling(E e)</td><td align="left">è¿”å›æ­¤setä¸­å¤§äºæˆ–ç­‰äºç»™å®šå…ƒç´ çš„ nullå…ƒç´ ï¼Œå¦‚æœæ²¡æœ‰è¿™æ ·çš„å…ƒç´ ï¼Œåˆ™null ã€‚</td></tr><tr><td align="left">void</td><td align="left">clear()</td><td align="left">ä»è¯¥é›†ä¸­åˆ é™¤æ‰€æœ‰å…ƒç´ ã€‚</td></tr><tr><td align="left">boolean</td><td align="left">contains(Object o)</td><td align="left">å¦‚æœæ­¤setåŒ…å«æŒ‡å®šçš„å…ƒç´ ï¼Œåˆ™è¿”å› true ã€‚</td></tr><tr><td align="left">E</td><td align="left">first()</td><td align="left">è¿”å›æ­¤é›†åˆä¸­å½“å‰çš„ç¬¬ä¸€ä¸ªï¼ˆæœ€ä½ï¼‰å…ƒç´ ã€‚</td></tr><tr><td align="left">E</td><td align="left">floor(E e)</td><td align="left">è¿”å›æ­¤setä¸­å°äºæˆ–ç­‰äºç»™å®šå…ƒç´ çš„æœ€å¤§å…ƒç´ ï¼Œå¦‚æœæ²¡æœ‰è¿™æ ·çš„å…ƒç´ ï¼Œåˆ™ null ã€‚</td></tr><tr><td align="left">SortedSet&lt;E&gt;</td><td align="left">headSet(E toElement)</td><td align="left">è¿”å›æ­¤setçš„éƒ¨åˆ†è§†å›¾ï¼Œå…¶å…ƒç´ ä¸¥æ ¼å°äº toElement ã€‚</td></tr><tr><td align="left">E</td><td align="left">higher(E e)</td><td align="left">è¿”å›æ­¤é›†åˆä¸­çš„æœ€å°å…ƒç´ ä¸¥æ ¼å¤§äºç»™å®šå…ƒç´ ï¼Œå¦‚æœæ²¡æœ‰è¿™æ ·çš„å…ƒç´ ï¼Œåˆ™ null ã€‚</td></tr><tr><td align="left">boolean</td><td align="left">isEmpty()</td><td align="left">å¦‚æœæ­¤é›†åˆä¸åŒ…å«ä»»ä½•å…ƒç´ ï¼Œåˆ™è¿”å› true ã€‚</td></tr><tr><td align="left">Iterator&lt;E&gt;</td><td align="left">iterator()</td><td align="left">ä»¥å‡åºè¿”å›æ­¤é›†åˆä¸­å…ƒç´ çš„è¿­ä»£å™¨ã€‚</td></tr><tr><td align="left">E</td><td align="left">last()</td><td align="left">è¿”å›æ­¤é›†åˆä¸­å½“å‰çš„æœ€åä¸€ä¸ªï¼ˆæœ€é«˜ï¼‰å…ƒç´ ã€‚</td></tr><tr><td align="left">E</td><td align="left">lower(E e)</td><td align="left">è¿”å›æ­¤é›†åˆä¸­çš„æœ€å¤§å…ƒç´ ä¸¥æ ¼å°äºç»™å®šå…ƒç´ ï¼Œå¦‚æœæ²¡æœ‰è¿™æ ·çš„å…ƒç´ ï¼Œåˆ™ null ã€‚</td></tr><tr><td align="left">E</td><td align="left">pollFirst()</td><td align="left">æ£€ç´¢å¹¶åˆ é™¤ç¬¬ä¸€ä¸ªï¼ˆæœ€ä½ï¼‰å…ƒç´ ï¼Œå¦‚æœæ­¤ç»„ä¸ºç©ºï¼Œåˆ™è¿”å› null ã€‚</td></tr><tr><td align="left">E</td><td align="left">pollLast()</td><td align="left">æ£€ç´¢å¹¶åˆ é™¤æœ€åä¸€ä¸ªï¼ˆæœ€é«˜ï¼‰å…ƒç´ ï¼Œå¦‚æœæ­¤é›†åˆä¸ºç©ºï¼Œåˆ™è¿”å› null ã€‚</td></tr><tr><td align="left">boolean</td><td align="left">remove(Object o)</td><td align="left">å¦‚æœå­˜åœ¨ï¼Œåˆ™ä»è¯¥é›†åˆä¸­ç§»é™¤æŒ‡å®šçš„å…ƒç´ ã€‚</td></tr><tr><td align="left">int</td><td align="left">size()</td><td align="left">è¿”å›æ­¤é›†åˆä¸­çš„å…ƒç´ æ•°ï¼ˆåŸºæ•°ï¼‰ã€‚</td></tr></tbody></table><p><strong>TreeSetçš„ä½¿ç”¨1ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> Set;<br><br><span class="hljs-keyword">import</span> java.util.Iterator;<br><span class="hljs-keyword">import</span> java.util.TreeSet;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    TreeSetçš„ä½¿ç”¨</span><br><span class="hljs-comment">    å­˜å‚¨ç»“æ„ï¼šçº¢é»‘æ ‘</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">demo4</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br>        <span class="hljs-comment">//åˆ›å»ºé›†åˆ</span><br>        TreeSet&lt;String&gt; treeSet = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeSet</span>&lt;String&gt;();<br><br>        <span class="hljs-comment">//1.æ·»åŠ å…ƒç´ </span><br>        treeSet.add(<span class="hljs-string">&quot;xyz&quot;</span>);<br>        treeSet.add(<span class="hljs-string">&quot;abc&quot;</span>);<br>        treeSet.add(<span class="hljs-string">&quot;hello&quot;</span>);<br>        treeSet.add(<span class="hljs-string">&quot;world&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;å…ƒç´ ä¸ªæ•°ï¼š&quot;</span>+treeSet.size());<br>        System.out.println(treeSet.toString());<br><br>        <span class="hljs-comment">//2.åˆ é™¤å…ƒç´ </span><br>        treeSet.remove(<span class="hljs-string">&quot;world&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;åˆ é™¤ä¹‹åï¼š&quot;</span>+treeSet.size());<br><br>        <span class="hljs-comment">//3.éå†å…ƒç´ </span><br>        <span class="hljs-comment">//éå†1</span><br>        <span class="hljs-keyword">for</span>(String str : treeSet)&#123;<br>            System.out.println(str);<br>        &#125;<br>        <span class="hljs-comment">//éå†2</span><br>        <span class="hljs-type">Iterator</span> <span class="hljs-variable">it</span> <span class="hljs-operator">=</span> treeSet.iterator();<br>        <span class="hljs-keyword">while</span>(it.hasNext())&#123;<br>            System.out.println(it.next());<br>        &#125;<br><br>        <span class="hljs-comment">//åˆ¤æ–­</span><br>        System.out.println(treeSet.contains(<span class="hljs-string">&quot;abc&quot;</span>));<br>        System.out.println(treeSet.isEmpty());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>TreeSetçš„ä½¿ç”¨2ï¼ˆä½¿ç”¨TreeSetä¿å­˜æ•°æ®ï¼‰ï¼š</strong></p><p>è¦æ±‚ï¼šå…ƒç´ çš„ç±»å‹å¿…é¡»å®ç°Comparableæ¥å£ï¼ŒcompareTo()æ–¹æ³•è¿”å›å€¼ä¸º0ï¼Œè®¤ä¸ºæ˜¯é‡å¤å…ƒç´ </p><p>Personç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> Set;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Comparable</span>&lt;Person&gt; &#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;<br>    <span class="hljs-comment">//æ— å‚æ„é€ </span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">()</span> &#123;<br><br>    &#125;<br>    <span class="hljs-comment">//å¸¦å‚æ„é€ </span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>        <span class="hljs-built_in">this</span>.age = age;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> age;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> &#123;<br>        <span class="hljs-built_in">this</span>.age = age;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Person&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;name=&#x27;&quot;</span> + name + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&quot;, age=&quot;</span> + age +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-comment">//å…ˆæ¯”è¾ƒå§“åï¼Œå†æ¯”è¾ƒå¹´é¾„ï¼Œå¯è‡ªå®šä¹‰æ¯”è¾ƒ</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">compareTo</span><span class="hljs-params">(Person o)</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">n1</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.name.compareTo(o.getName());<br>        <span class="hljs-type">int</span> <span class="hljs-variable">n2</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.age-o.getAge();<br>        <span class="hljs-type">return</span> <span class="hljs-variable">n1</span> <span class="hljs-operator">=</span>= <span class="hljs-number">0</span> ? n2 : n1;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> Set;<br><br><span class="hljs-keyword">import</span> java.util.Iterator;<br><span class="hljs-keyword">import</span> java.util.TreeSet;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    ä½¿ç”¨TreeSetä¿å­˜æ•°æ®</span><br><span class="hljs-comment">    å­˜å‚¨ç»“æ„ï¼šçº¢é»‘æ ‘</span><br><span class="hljs-comment">    è¦æ±‚ï¼šå…ƒç´ å¿…é¡»å®ç°Comparableæ¥å£ï¼ŒcompareTo()æ–¹æ³•è¿”å›å€¼ä¸º0ï¼Œè®¤ä¸ºæ˜¯é‡å¤å…ƒç´ </span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">demo5</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br>        <span class="hljs-comment">//åˆ›å»ºé›†åˆ</span><br>        TreeSet&lt;Person&gt; persons = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeSet</span>&lt;Person&gt;();<br><br>        <span class="hljs-comment">//1.æ·»åŠ å…ƒç´ </span><br>        <span class="hljs-type">Person</span> <span class="hljs-variable">p1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;å—èŠŠ&quot;</span>,<span class="hljs-number">20</span>);<br>        <span class="hljs-type">Person</span> <span class="hljs-variable">p2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;æ…•æ¤¿&quot;</span>,<span class="hljs-number">21</span>);<br>        <span class="hljs-type">Person</span> <span class="hljs-variable">p3</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;æ€æ¹«&quot;</span>,<span class="hljs-number">20</span>);<br>        <span class="hljs-type">Person</span> <span class="hljs-variable">p4</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;è½è¯—&quot;</span>,<span class="hljs-number">22</span>);<br><br>        persons.add(p1);<br>        persons.add(p2);<br>        persons.add(p3);<br>        persons.add(p4);<br>        System.out.println(<span class="hljs-string">&quot;å…ƒç´ ä¸ªæ•°ï¼š&quot;</span>+persons.size());<br>        System.out.println(persons.toString());<br><br>        <span class="hljs-comment">//2.åˆ é™¤å…ƒç´ </span><br>        persons.remove(p4);<br>        System.out.println(<span class="hljs-string">&quot;åˆ é™¤ä¹‹åï¼š&quot;</span>+persons.size());<br><br>        <span class="hljs-comment">//3.éå†</span><br>        <span class="hljs-comment">//éå†1</span><br>        <span class="hljs-keyword">for</span>(Person person : persons)&#123;<br>            System.out.println(person);<br>        &#125;<br>        <span class="hljs-comment">//éå†2</span><br>        <span class="hljs-type">Iterator</span> <span class="hljs-variable">it</span> <span class="hljs-operator">=</span> persons.iterator();<br>        <span class="hljs-keyword">while</span>(it.hasNext())&#123;<br>            System.out.println(it.next());<br>        &#125;<br><br>        <span class="hljs-comment">//åˆ¤æ–­</span><br>        System.out.println(persons.isEmpty());<br>        System.out.println(persons.contains(p4));<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="5-4-Comparatoræ¥å£"><a href="#5-4-Comparatoræ¥å£" class="headerlink" title="5.4 Comparatoræ¥å£"></a>5.4 Comparatoræ¥å£</h2><blockquote><p>Functional Interface:</p><p>è¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½æ¥å£ï¼Œå› æ­¤å¯ä»¥ç”¨ä½œlambdaè¡¨è¾¾å¼æˆ–æ–¹æ³•å¼•ç”¨çš„èµ‹å€¼ç›®æ ‡ã€‚</p><p>@FunctionalInterface<br>public interface Comparator&lt;T&gt;</p><p>æ¯”è¾ƒå‡½æ•°ï¼Œå®ƒå¯¹æŸäº›å¯¹è±¡é›†åˆæ–½åŠ <em>æ€»æ’åº</em> ã€‚ å¯ä»¥å°†æ¯”è¾ƒå™¨ä¼ é€’ç»™æ’åºæ–¹æ³•ï¼ˆä¾‹å¦‚<a href="https://www.runoob.com/manual/jdk11api/java.base/java/util/Collections.html#sort(java.util.List,java.util.Comparator)">Collections.sort</a>æˆ–<a href="https://www.runoob.com/manual/jdk11api/java.base/java/util/Arrays.html#sort(T[],java.util.Comparator)">Arrays.sort</a> ï¼‰ï¼Œä»¥ä¾¿ç²¾ç¡®æ§åˆ¶æ’åºé¡ºåºã€‚ æ¯”è¾ƒå™¨è¿˜å¯ç”¨äºæ§åˆ¶æŸäº›æ•°æ®ç»“æ„çš„é¡ºåºï¼ˆä¾‹å¦‚<a href="https://www.runoob.com/manual/jdk11api/java.base/java/util/SortedSet.html">sorted sets</a>æˆ–<a href="https://www.runoob.com/manual/jdk11api/java.base/java/util/SortedMap.html">sorted maps</a> ï¼‰ï¼Œæˆ–è€…ä¸ºæ²¡æœ‰<a href="https://www.runoob.com/manual/jdk11api/java.base/java/lang/Comparable.html">natural ordering</a>çš„å¯¹è±¡é›†åˆæä¾›æ’åºã€‚</p></blockquote><p><strong>Comparatoræ¥å£çš„ä½¿ç”¨ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> Set;<br><br><span class="hljs-keyword">import</span> java.util.Comparator;<br><span class="hljs-keyword">import</span> java.util.TreeSet;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    TreeSeté›†åˆçš„ä½¿ç”¨</span><br><span class="hljs-comment">    Comparatorï¼šå®ç°å®šåˆ¶æ¯”è¾ƒï¼ˆæ¯”è¾ƒå™¨ï¼Œæ˜¯ä¸€ç§åŠŸèƒ½æ¥å£ï¼‰</span><br><span class="hljs-comment">    Comparableï¼šå¯æ¯”è¾ƒçš„</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">demo6</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br>        <span class="hljs-comment">//åˆ›å»ºé›†åˆï¼Œå¹¶æŒ‡å®šæ¯”è¾ƒè§„åˆ™</span><br>        <span class="hljs-type">TreeSet</span> <span class="hljs-variable">persons</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeSet</span>&lt;&gt;(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Comparator</span>&lt;Person&gt;() &#123;<br>            <span class="hljs-comment">//é‡å†™compareæ–¹æ³•</span><br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">compare</span><span class="hljs-params">(Person o1, Person o2)</span> &#123;<br>                <span class="hljs-comment">//è‡ªå®šä¹‰æ’åºï¼Œå…ˆæ¯”è¾ƒå¹´é¾„ï¼Œå†æ¯”è¾ƒå§“å</span><br>                <span class="hljs-type">int</span> <span class="hljs-variable">n1</span> <span class="hljs-operator">=</span> o1.getAge()-o2.getAge();<br>                <span class="hljs-type">int</span> <span class="hljs-variable">n2</span> <span class="hljs-operator">=</span> o1.getName().compareTo(o2.getName());<br>                <span class="hljs-type">return</span> <span class="hljs-variable">n1</span> <span class="hljs-operator">=</span>= <span class="hljs-number">0</span> ? n2 : n1;<br>            &#125;<br>        &#125;);<br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">            è‡ªå®šä¹‰æ¯”è¾ƒè§„åˆ™åï¼Œå…ƒç´ ä¸ä¸€å®šè¦å®ç°Comparableæ¥å£ï¼Œå› ä¸ºåœ¨åˆ›å»ºé›†åˆæ—¶å·²ç»æŒ‡å®šæ¯”è¾ƒè§„åˆ™äº†</span><br><span class="hljs-comment">            ä¸èƒ½ç›´æ¥newæ¥å£ï¼Œé‡‡ç”¨åŒ¿åå†…éƒ¨ç±»çš„æ–¹å¼å®ç°æ¯”è¾ƒå™¨</span><br><span class="hljs-comment">         */</span><br><br>        <span class="hljs-comment">//1.æ·»åŠ å…ƒç´ </span><br>        <span class="hljs-type">Person</span> <span class="hljs-variable">p1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;nanqian&quot;</span>,<span class="hljs-number">21</span>);<br>        <span class="hljs-type">Person</span> <span class="hljs-variable">p2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;muchun&quot;</span>,<span class="hljs-number">23</span>);<br>        <span class="hljs-type">Person</span> <span class="hljs-variable">p3</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;siqiu&quot;</span>,<span class="hljs-number">20</span>);<br>        <span class="hljs-type">Person</span> <span class="hljs-variable">p4</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;luoshi&quot;</span>,<span class="hljs-number">22</span>);<br><br>        persons.add(p1);<br>        persons.add(p2);<br>        persons.add(p3);<br>        persons.add(p4);<br>        System.out.println(persons.toString());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="6-Mapæ¥å£ä¸å®ç°ç±»"><a href="#6-Mapæ¥å£ä¸å®ç°ç±»" class="headerlink" title="6. Mapæ¥å£ä¸å®ç°ç±»"></a>6. Mapæ¥å£ä¸å®ç°ç±»</h1><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220725161304.png" alt="QQæˆªå›¾20220725161304"></p><h2 id="6-1-Mapçˆ¶æ¥å£"><a href="#6-1-Mapçˆ¶æ¥å£" class="headerlink" title="6.1 Mapçˆ¶æ¥å£"></a>6.1 Mapçˆ¶æ¥å£</h2><blockquote><p>public interface Map&lt;K,V&gt;</p><p>å°†é”®æ˜ å°„åˆ°å€¼çš„å¯¹è±¡ã€‚ åœ°å›¾ä¸èƒ½åŒ…å«é‡å¤çš„é”®; æ¯ä¸ªé”®æœ€å¤šå¯ä»¥æ˜ å°„ä¸€ä¸ªå€¼ã€‚</p></blockquote><p><strong>ç‰¹ç‚¹ï¼š</strong>å­˜å‚¨ä¸€å¯¹æ•°æ®ï¼ˆKey-Valueï¼‰ï¼Œæ— åºã€æ— ä¸‹æ ‡ï¼Œé”®ä¸å¯é‡å¤ï¼Œå€¼å¯é‡å¤</p><p><strong>æ–¹æ³•ï¼š</strong></p><table><thead><tr><th align="left">å˜é‡å’Œç±»å‹</th><th align="left">æ–¹æ³•</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">void</td><td align="left">clear()</td><td align="left">ä»æ­¤æ˜ å°„ä¸­åˆ é™¤æ‰€æœ‰æ˜ å°„ï¼ˆå¯é€‰æ“ä½œï¼‰ã€‚</td></tr><tr><td align="left">boolean</td><td align="left">containsKey(Object key)</td><td align="left">å¦‚æœæ­¤æ˜ å°„åŒ…å«æŒ‡å®šé”®çš„æ˜ å°„ï¼Œåˆ™è¿”å› <code>true</code> ã€‚</td></tr><tr><td align="left">boolean</td><td align="left">containsValue(Object value)</td><td align="left">å¦‚æœæ­¤æ˜ å°„å°†ä¸€ä¸ªæˆ–å¤šä¸ªé”®æ˜ å°„åˆ°æŒ‡å®šå€¼ï¼Œåˆ™è¿”å› true</td></tr><tr><td align="left">Set&lt;Map.Entry&lt;K,V&gt;&gt;</td><td align="left">entrySet()</td><td align="left">è¿”å›æ­¤æ˜ å°„ä¸­åŒ…å«çš„æ˜ å°„çš„<a href="https://www.runoob.com/manual/jdk11api/java.base/java/util/Set.html">Set</a>è§†å›¾ã€‚å³è¿”å›æ‰€æœ‰é”®å€¼å¯¹çš„Seté›†åˆã€‚</td></tr><tr><td align="left">boolean</td><td align="left">equals(Object o)</td><td align="left">å°†æŒ‡å®šå¯¹è±¡ä¸æ­¤æ˜ å°„è¿›è¡Œæ¯”è¾ƒä»¥è·å¾—ç›¸ç­‰æ€§ã€‚</td></tr><tr><td align="left">V</td><td align="left">get(Object key)</td><td align="left">è¿”å›æŒ‡å®šé”®æ‰€æ˜ å°„çš„å€¼ï¼›å¦‚æœæ­¤æ˜ å°„ä¸åŒ…å«è¯¥é”®çš„æ˜ å°„å…³ç³»ï¼Œåˆ™è¿”å›null</td></tr><tr><td align="left">boolean</td><td align="left">isEmpty()</td><td align="left">å¦‚æœæ­¤æ˜ å°„ä¸åŒ…å«é”® - å€¼æ˜ å°„ï¼Œåˆ™è¿”å› true ã€‚</td></tr><tr><td align="left">Set&lt;K&gt;</td><td align="left">keySet()</td><td align="left">è¿”å›æ­¤æ˜ å°„ä¸­åŒ…å«çš„é”®çš„<a href="https://www.runoob.com/manual/jdk11api/java.base/java/util/Set.html">Set</a>è§†å›¾ã€‚å³è¿”å›æ‰€æœ‰keyçš„Seté›†åˆã€‚</td></tr><tr><td align="left">V</td><td align="left">put(K key, V value)</td><td align="left">å°†å¯¹è±¡å­˜å…¥åˆ°é›†åˆä¸­ï¼Œå…³è”é”®å€¼ã€‚keyé‡å¤åˆ™è¦†ç›–åŸå€¼</td></tr><tr><td align="left">V</td><td align="left">remove(Object key)</td><td align="left">å¦‚æœå­˜åœ¨ï¼Œåˆ™ä»è¯¥æ˜ å°„ä¸­ç§»é™¤é”®çš„æ˜ å°„ã€‚</td></tr><tr><td align="left">int</td><td align="left">size()</td><td align="left">è¿”å›æ­¤æ˜ å°„ä¸­é”® - å€¼æ˜ å°„çš„æ•°é‡ã€‚</td></tr><tr><td align="left">Collection&lt;V&gt;</td><td align="left">values()</td><td align="left">è¿”å›åŒ…å«æ‰€æœ‰å€¼çš„Collectioné›†åˆ</td></tr></tbody></table><p><strong>Mapæ¥å£çš„ä½¿ç”¨ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> Map;<br><br><span class="hljs-keyword">import</span> java.util.HashMap;<br><span class="hljs-keyword">import</span> java.util.Map;<br><span class="hljs-keyword">import</span> java.util.Set;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    Mapæ¥å£çš„ä½¿ç”¨</span><br><span class="hljs-comment">    ç‰¹ç‚¹ï¼š1.å­˜å‚¨é”®å€¼å¯¹ 2.é”®ä¸èƒ½é‡å¤ 3.æ— åº</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">demo1</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br>        <span class="hljs-comment">//åˆ›å»ºMapé›†åˆ</span><br>        Map&lt;String,String&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;String,String&gt;();<br><br>        <span class="hljs-comment">//1.æ·»åŠ å…ƒç´  æ·»åŠ é‡å¤keyï¼Œåè€…å…ƒç´ ä¼šè¦†ç›–å‰è€…å…ƒç´ </span><br>        map.put(<span class="hljs-string">&quot;cn&quot;</span>,<span class="hljs-string">&quot;ä¸­å›½&quot;</span>);<br>        map.put(<span class="hljs-string">&quot;uk&quot;</span>,<span class="hljs-string">&quot;è‹±å›½&quot;</span>);<br>        map.put(<span class="hljs-string">&quot;usa&quot;</span>,<span class="hljs-string">&quot;ç¾å›½&quot;</span>);<br>        map.put(<span class="hljs-string">&quot;rus&quot;</span>,<span class="hljs-string">&quot;ä¿„ç½—æ–¯&quot;</span>);<br><br>        System.out.println(<span class="hljs-string">&quot;å…ƒç´ ä¸ªæ•°ï¼š&quot;</span>+map.size());<br>        System.out.println(map.toString());<br><br>        <span class="hljs-comment">//2.åˆ é™¤</span><br>        map.remove(<span class="hljs-string">&quot;rus&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;åˆ é™¤ä¹‹åï¼š&quot;</span>+map.size());<br><br>        <span class="hljs-comment">//3.éå†</span><br>        <span class="hljs-comment">//éå†1ï¼šä½¿ç”¨keySet()æ–¹æ³•ï¼Œè¿”å›æ‰€æœ‰keyçš„Seté›†åˆ</span><br>        System.out.println(<span class="hljs-string">&quot;ä½¿ç”¨keySet()æ–¹æ³•éå†ï¼š&quot;</span>);<br>        Set&lt;String&gt; keyset = map.keySet();<br>        <span class="hljs-keyword">for</span>(String key : keyset)&#123;<br>            System.out.println(key+<span class="hljs-string">&quot;,&quot;</span>+map.get(key));<br>        &#125;<br>        <span class="hljs-comment">//åˆå¹¶å†™æ³•</span><br><span class="hljs-comment">//        for(String key : map.keySet())&#123;</span><br><span class="hljs-comment">//            System.out.println(key+&quot;,&quot;+map.get(key));</span><br><span class="hljs-comment">//        &#125;</span><br><br>        <span class="hljs-comment">//éå†2ï¼šä½¿ç”¨entrySet()æ–¹æ³•ï¼Œè¿”å›æ‰€æœ‰é”®å€¼å¯¹çš„Seté›†åˆ</span><br>        System.out.println(<span class="hljs-string">&quot;ä½¿ç”¨entrySet()æ–¹æ³•éå†ï¼š&quot;</span>);<br>        Set&lt;Map.Entry&lt;String,String&gt;&gt; entries = map.entrySet();<br>        <span class="hljs-keyword">for</span>(Map.Entry&lt;String,String&gt; entry : entries)&#123;<br>            System.out.println(entry.getKey()+<span class="hljs-string">&quot;,&quot;</span>+entry.getValue());<br>        &#125;<br>        <span class="hljs-comment">//åˆå¹¶å†™æ³•</span><br><span class="hljs-comment">//        for(Map.Entry&lt;String,String&gt; entry : map.entrySet())&#123;</span><br><span class="hljs-comment">//            System.out.println(entry.getKey()+&quot;,&quot;+entry.getValue());</span><br><span class="hljs-comment">//        &#125;</span><br><br>        <span class="hljs-comment">//4.åˆ¤æ–­</span><br>        System.out.println(map.containsKey(<span class="hljs-string">&quot;cn&quot;</span>));<br>        System.out.println(map.containsValue(<span class="hljs-string">&quot;å†°å²›&quot;</span>));<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="6-2-HashMap"><a href="#6-2-HashMap" class="headerlink" title="6.2 HashMap"></a>6.2 HashMap</h2><blockquote><p>public class HashMap&lt;K,V&gt;<br>extends AbstractMap&lt;K,V&gt;<br>implements Map&lt;K,V&gt;, Cloneable, Serializable</p><p>åŸºäºå“ˆå¸Œè¡¨çš„Mapæ¥å£çš„å®ç°ï¼Œå³Mapæ¥å£çš„å®ç°ç±»ã€‚ æ­¤å®ç°æä¾›äº†æ‰€æœ‰å¯é€‰çš„æ˜ å°„æ“ä½œï¼Œå¹¶å…è®¸nullå€¼å’Œnullé”®ã€‚ ï¼ˆ HashMapç±»å¤§è‡´ç›¸å½“äºHashtable ï¼Œé™¤äº†å®ƒæ˜¯ä¸åŒæ­¥çš„å¹¶ä¸”å…è®¸ç©ºå€¼ã€‚ï¼‰æ­¤ç±»ä¸ä¿è¯åœ°å›¾çš„é¡ºåº; ç‰¹åˆ«æ˜¯ï¼Œå®ƒä¸ä¿è¯è®¢å•ä¼šéšç€æ—¶é—´çš„æ¨ç§»ä¿æŒä¸å˜ã€‚</p></blockquote><p><strong>ç‰¹ç‚¹ï¼š</strong>çº¿ç¨‹ä¸å®‰å…¨ï¼Œè¿è¡Œæ•ˆç‡å¿«</p><p><strong>æ–¹æ³•ï¼š</strong></p><table><thead><tr><th align="left">å˜é‡å’Œç±»å‹</th><th align="left">æ–¹æ³•</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">void</td><td align="left">clear()</td><td align="left">ä»æ­¤æ˜ å°„ä¸­åˆ é™¤æ‰€æœ‰æ˜ å°„ã€‚</td></tr><tr><td align="left">boolean</td><td align="left">containsKey(Object key)</td><td align="left">å¦‚æœæ­¤æ˜ å°„åŒ…å«æŒ‡å®šé”®çš„æ˜ å°„ï¼Œåˆ™è¿”å› true ã€‚</td></tr><tr><td align="left">boolean</td><td align="left">containsValue(Object value)</td><td align="left">å¦‚æœæ­¤æ˜ å°„å°†ä¸€ä¸ªæˆ–å¤šä¸ªé”®æ˜ å°„åˆ°æŒ‡å®šå€¼ï¼Œåˆ™è¿”å› true ã€‚</td></tr><tr><td align="left">Set&lt;Map.Entry&lt;K,V&gt;&gt;</td><td align="left">entrySet()</td><td align="left">è¿”å›æ­¤æ˜ å°„ä¸­åŒ…å«çš„æ˜ å°„çš„<a href="https://www.runoob.com/manual/jdk11api/java.base/java/util/Set.html">Set</a>è§†å›¾ã€‚</td></tr><tr><td align="left">V</td><td align="left">get(Object key)</td><td align="left">è¿”å›æŒ‡å®šé”®æ˜ å°„åˆ°çš„å€¼ï¼Œå¦‚æœæ­¤æ˜ å°„ä¸åŒ…å«é”®çš„æ˜ å°„ï¼Œåˆ™è¿”å› null ã€‚</td></tr><tr><td align="left">boolean</td><td align="left">isEmpty()</td><td align="left">å¦‚æœæ­¤æ˜ å°„ä¸åŒ…å«é”® - å€¼æ˜ å°„ï¼Œåˆ™è¿”å› true ã€‚</td></tr><tr><td align="left">Set&lt;K&gt;</td><td align="left">keySet()</td><td align="left">è¿”å›æ­¤æ˜ å°„ä¸­åŒ…å«çš„é”®çš„<a href="https://www.runoob.com/manual/jdk11api/java.base/java/util/Set.html">Set</a>è§†å›¾ã€‚</td></tr><tr><td align="left">V</td><td align="left">put(K key, V value)</td><td align="left">å°†æŒ‡å®šçš„å€¼ä¸æ­¤æ˜ å°„ä¸­çš„æŒ‡å®šé”®ç›¸å…³è”ã€‚</td></tr><tr><td align="left">V</td><td align="left">remove(Object key)</td><td align="left">ä»æ­¤æ˜ å°„ä¸­åˆ é™¤æŒ‡å®šé”®çš„æ˜ å°„ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ã€‚</td></tr><tr><td align="left">int</td><td align="left">size()</td><td align="left">è¿”å›æ­¤æ˜ å°„ä¸­é”® - å€¼æ˜ å°„çš„æ•°é‡ã€‚</td></tr><tr><td align="left">Collection&lt;V&gt;</td><td align="left">values()</td><td align="left">è¿”å›æ­¤æ˜ å°„ä¸­åŒ…å«çš„å€¼çš„<a href="https://www.runoob.com/manual/jdk11api/java.base/java/util/Collection.html">Collection</a>è§†å›¾ã€‚</td></tr></tbody></table><p><strong>HashMapçš„ä½¿ç”¨ï¼š</strong></p><p>Studentç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> Map;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> &#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> String sno;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">()</span> &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">(String name, String sno)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>        <span class="hljs-built_in">this</span>.sno = sno;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getSno</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> sno;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setSno</span><span class="hljs-params">(String sno)</span> &#123;<br>        <span class="hljs-built_in">this</span>.sno = sno;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">equals</span><span class="hljs-params">(Object o)</span> &#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span> == o) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">if</span> (!(o <span class="hljs-keyword">instanceof</span> Student)) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br><br>        <span class="hljs-type">Student</span> <span class="hljs-variable">student</span> <span class="hljs-operator">=</span> (Student) o;<br><br>        <span class="hljs-keyword">if</span> (!getName().equals(student.getName())) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">return</span> getSno().equals(student.getSno());<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">hashCode</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> getName().hashCode();<br>        result = <span class="hljs-number">31</span> * result + getSno().hashCode();<br>        <span class="hljs-keyword">return</span> result;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Student&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;name=&#x27;&quot;</span> + name + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&quot;, sno=&#x27;&quot;</span> + sno + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> Map;<br><br><span class="hljs-keyword">import</span> java.util.HashMap;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    HashMapé›†åˆçš„ä½¿ç”¨</span><br><span class="hljs-comment">    å­˜å‚¨ç»“æ„ï¼šå“ˆå¸Œè¡¨ï¼ˆæ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘ï¼‰</span><br><span class="hljs-comment">    ä½¿ç”¨keyçš„hashcodeå’Œequalsä½œä¸ºé‡å¤</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">demo2</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br>        <span class="hljs-comment">//åˆ›å»ºé›†åˆ</span><br>        HashMap&lt;Student,String&gt; students = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;Student,String&gt;();<br><br>        <span class="hljs-comment">//1.æ·»åŠ å…ƒç´ </span><br>        <span class="hljs-type">Student</span> <span class="hljs-variable">s1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">&quot;æ—å—èŠŠ&quot;</span>,<span class="hljs-string">&quot;0001&quot;</span>);<br>        <span class="hljs-type">Student</span> <span class="hljs-variable">s2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">&quot;æ—æ…•æ¤¿&quot;</span>,<span class="hljs-string">&quot;0002&quot;</span>);<br>        <span class="hljs-type">Student</span> <span class="hljs-variable">s3</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">&quot;æ—æ€æ¹«&quot;</span>,<span class="hljs-string">&quot;0003&quot;</span>);<br>        <span class="hljs-type">Student</span> <span class="hljs-variable">s4</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">&quot;æ—è½è¯—&quot;</span>,<span class="hljs-string">&quot;0004&quot;</span>);<br><br>        students.put(s1,<span class="hljs-string">&quot;é’å²›&quot;</span>);<br>        students.put(s2,<span class="hljs-string">&quot;å—äº¬&quot;</span>);<br>        students.put(s3,<span class="hljs-string">&quot;åŒ—äº¬&quot;</span>);<br>        students.put(s4,<span class="hljs-string">&quot;æ·±åœ³&quot;</span>);<br>        students.put(s1,<span class="hljs-string">&quot;é’å²›&quot;</span>);  <span class="hljs-comment">//é‡å¤å…ƒç´ ï¼Œåœ°å€ç›¸åŒï¼Œä¸å¯é‡å¤æ·»åŠ </span><br>        students.put(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">&quot;æ—å—èŠŠ&quot;</span>,<span class="hljs-string">&quot;0001&quot;</span>),<span class="hljs-string">&quot;é’å²›&quot;</span>);  <span class="hljs-comment">//è™½ç„¶å…ƒç´ ç›¸åŒï¼Œä½†æ˜¯å…ƒç´ åœ°å€ä¸ç›¸åŒï¼Œå¯ä»¥æ·»åŠ </span><br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">            è¦ä½¿é‡æ–°newçš„é‡å¤å…ƒç´ æ— æ³•æ·»åŠ ï¼Œåˆ™éœ€è¦äº†é‡å†™Studentç±»ä¸­çš„hashCodeæ–¹æ³•å’Œequalsæ–¹æ³•ï¼Œ</span><br><span class="hljs-comment">            ä½¿å…¶å¯¹æ·»åŠ çš„å…ƒç´ çš„nameå’Œsnoè¿›è¡Œåˆ¤æ–­ï¼Œå’ŒHashSetç±»ä¼¼</span><br><span class="hljs-comment">         */</span><br><br>        System.out.println(<span class="hljs-string">&quot;å…ƒç´ ä¸ªæ•°ï¼š&quot;</span>+students.size());<br>        System.out.println(students.toString());<br><br>        <span class="hljs-comment">//2.åˆ é™¤</span><br>        students.remove(s4);<br>        System.out.println(<span class="hljs-string">&quot;åˆ é™¤ä¹‹åï¼š&quot;</span>+students.size());<br><br>        <span class="hljs-comment">//3.éå†</span><br>        <span class="hljs-comment">//éå†1ï¼šä½¿ç”¨keySet()æ–¹æ³•ï¼Œè¿”å›æ‰€æœ‰keyçš„Seté›†åˆ</span><br>        <span class="hljs-keyword">for</span>(Student key : students.keySet())&#123;<br>            System.out.println(key.toString()+<span class="hljs-string">&quot;,&quot;</span>+students.get(key));<br>        &#125;<br>        <span class="hljs-comment">//éå†2ï¼šä½¿ç”¨entrySet()æ–¹æ³•ï¼Œè¿”å›æ‰€æœ‰é”®å€¼å¯¹çš„Seté›†åˆ</span><br>        <span class="hljs-keyword">for</span>(HashMap.Entry&lt;Student,String&gt; entry : students.entrySet())&#123;<br>            System.out.println(entry.getKey()+<span class="hljs-string">&quot;,&quot;</span>+entry.getValue());<br>        &#125;<br><br>        <span class="hljs-comment">//4.åˆ¤æ–­</span><br>        System.out.println(students.isEmpty());<br>        System.out.println(students.containsKey(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">&quot;æ—å—èŠŠ&quot;</span>,<span class="hljs-string">&quot;0001&quot;</span>)));<br>        System.out.println(students.containsValue(<span class="hljs-string">&quot;æˆéƒ½&quot;</span>));<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="6-3-TreeMap"><a href="#6-3-TreeMap" class="headerlink" title="6.3 TreeMap"></a>6.3 TreeMap</h2><p><strong>TreeMapï¼š</strong></p><ul><li>åŸºäºæ’åˆ—é¡ºåºå®ç°å…ƒç´ ä¸é‡å¤</li><li>å®ç°ç±»SortedMapæ¥å£ï¼ˆæ˜¯Mapçš„å­æ¥å£ï¼‰ï¼Œå¯ä»¥å¯¹keyè‡ªåŠ¨æ’åº</li><li><strong>keyçš„ç±»å‹å¿…é¡»å®ç°Comparableæ¥å£</strong>ï¼ŒæŒ‡å®šæ’åºè§„åˆ™ï¼›æˆ–è€…åˆ©ç”¨Comparatoræ¥å£å®ç°å®šåˆ¶æ¯”è¾ƒï¼Œå¦åˆ™æ— æ³•æ·»åŠ </li><li>é€šè¿‡CompareToæ–¹æ³•ç¡®å®šæ˜¯å¦ä¸ºé‡å¤å…ƒç´ </li></ul><blockquote><p>public class TreeMap&lt;K,V&gt;<br>extends AbstractMap&lt;K,V&gt;<br>implements NavigableMap&lt;K,V&gt;, Cloneable, Serializable</p><p>åŸºäº<a href="https://www.runoob.com/manual/jdk11api/java.base/java/util/NavigableMap.html">çº¢é»‘</a>æ ‘çš„<a href="https://www.runoob.com/manual/jdk11api/java.base/java/util/NavigableMap.html">NavigableMap</a>å®ç°ã€‚ è¯¥åœ°å›¾æ˜¯æ ¹æ®æ’åº<a href="https://www.runoob.com/manual/jdk11api/java.base/java/lang/Comparable.html">natural ordering</a>å…¶å¯†é’¥ï¼Œæˆ–é€šè¿‡<a href="https://www.runoob.com/manual/jdk11api/java.base/java/util/Comparator.html">Comparator</a>åœ¨åœ°å›¾åˆ›å»ºæ—¶æä¾›ï¼Œè¿™å–å†³äºæ‰€ä½¿ç”¨çš„æ„é€ æ–¹æ³•ã€‚</p></blockquote><p><strong>ç‰¹ç‚¹ï¼š</strong>å®ç°ç±»SortedMapæ¥å£ï¼ˆæ˜¯Mapçš„å­æ¥å£ï¼‰ï¼Œå¯ä»¥å¯¹keyè‡ªåŠ¨æ’åº</p><p><strong>æ–¹æ³•ï¼š</strong></p><p>çœ‹APIæ–‡æ¡£ï¼š<a href="https://www.runoob.com/manual/jdk11api/java.base/java/util/TreeMap.html">https://www.runoob.com/manual/jdk11api/java.base/java/util/TreeMap.html</a></p><p><strong>TreeMapçš„ä½¿ç”¨ï¼š</strong></p><p>Studentç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> Map;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Comparable</span>&lt;Student&gt; &#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> String sno;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">()</span> &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">(String name, String sno)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>        <span class="hljs-built_in">this</span>.sno = sno;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getSno</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> sno;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setSno</span><span class="hljs-params">(String sno)</span> &#123;<br>        <span class="hljs-built_in">this</span>.sno = sno;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Student&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;name=&#x27;&quot;</span> + name + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&quot;, sno=&#x27;&quot;</span> + sno + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">compareTo</span><span class="hljs-params">(Student o)</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> Integer.parseInt(<span class="hljs-built_in">this</span>.sno)-Integer.parseInt(o.getSno());<br>        <span class="hljs-keyword">return</span> n;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> Map;<br><br><span class="hljs-keyword">import</span> java.util.Map;<br><span class="hljs-keyword">import</span> java.util.TreeMap;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    TreeMapçš„ä½¿ç”¨</span><br><span class="hljs-comment">    å­˜å‚¨ç»“æ„ï¼šçº¢é»‘æ ‘</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">demo3</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br>        <span class="hljs-comment">//åˆ›å»ºé›†åˆ</span><br>        TreeMap&lt;Student,String&gt; treeMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeMap</span>&lt;Student,String&gt;();<br><br>        <span class="hljs-comment">//1.æ·»åŠ å…ƒç´ </span><br>        <span class="hljs-type">Student</span> <span class="hljs-variable">s1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">&quot;æ—å—èŠŠ&quot;</span>,<span class="hljs-string">&quot;0001&quot;</span>);<br>        <span class="hljs-type">Student</span> <span class="hljs-variable">s2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">&quot;æ—æ…•æ¤¿&quot;</span>,<span class="hljs-string">&quot;0002&quot;</span>);<br>        <span class="hljs-type">Student</span> <span class="hljs-variable">s3</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">&quot;æ—æ€æ¹«&quot;</span>,<span class="hljs-string">&quot;0003&quot;</span>);<br>        <span class="hljs-type">Student</span> <span class="hljs-variable">s4</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">&quot;æ—è½è¯—&quot;</span>,<span class="hljs-string">&quot;0004&quot;</span>);<br><br>        treeMap.put(s1,<span class="hljs-string">&quot;é’å²›&quot;</span>);<br>        treeMap.put(s2,<span class="hljs-string">&quot;å—äº¬&quot;</span>);<br>        treeMap.put(s3,<span class="hljs-string">&quot;åŒ—äº¬&quot;</span>);<br>        treeMap.put(s4,<span class="hljs-string">&quot;æ·±åœ³&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;å…ƒç´ ä¸ªæ•°ï¼š&quot;</span>+treeMap.size());<br>        System.out.println(treeMap.toString());<br><br>        <span class="hljs-comment">//2.åˆ é™¤</span><br>        treeMap.remove(s4);<br>        System.out.println(<span class="hljs-string">&quot;åˆ é™¤ä¹‹åï¼š&quot;</span>+treeMap.size());<br><br>        <span class="hljs-comment">//3.éå†</span><br>        <span class="hljs-comment">//éå†1ï¼šä½¿ç”¨keySet()æ–¹æ³•ï¼Œè¿”å›æ‰€æœ‰keyçš„Seté›†åˆ</span><br>        <span class="hljs-keyword">for</span>(Student key : treeMap.keySet())&#123;<br>            System.out.println(key.toString()+<span class="hljs-string">&quot;,&quot;</span>+treeMap.get(key));<br>        &#125;<br>        <span class="hljs-comment">//éå†2ï¼šä½¿ç”¨entrySet()æ–¹æ³•ï¼Œè¿”å›æ‰€æœ‰é”®å€¼å¯¹çš„Seté›†åˆ</span><br>        <span class="hljs-keyword">for</span>(Map.Entry&lt;Student,String&gt; entry : treeMap.entrySet())&#123;<br>            System.out.println(entry.getKey()+<span class="hljs-string">&quot;,&quot;</span>+entry.getValue());<br>        &#125;<br><br>        <span class="hljs-comment">//åˆ¤æ–­</span><br>        System.out.println(treeMap.containsKey(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">&quot;æ—å—èŠŠ&quot;</span>,<span class="hljs-string">&quot;0001&quot;</span>)));<br>        System.out.println(treeMap.containsValue(<span class="hljs-string">&quot;é’å²›&quot;</span>));<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="7-æ€»ç»“"><a href="#7-æ€»ç»“" class="headerlink" title="7. æ€»ç»“"></a>7. æ€»ç»“</h1><h2 id="7-1-Collectionså·¥å…·ç±»"><a href="#7-1-Collectionså·¥å…·ç±»" class="headerlink" title="7.1 Collectionså·¥å…·ç±»"></a>7.1 Collectionså·¥å…·ç±»</h2><p><strong>æ¦‚å¿µï¼š</strong>é›†åˆå·¥å…·ç±»ï¼Œå®šä¹‰äº†é™¤äº†å­˜å–ä»¥å¤–çš„é›†åˆå¸¸ç”¨æ–¹æ³•ï¼ŒCollectionsæ˜¯å¯¹é›†åˆè¿›è¡Œæ“ä½œçš„ï¼Œç±»ä¼¼äºArrayså¯¹æ•°ç»„è¿›è¡Œæ“ä½œ</p><blockquote><p>public class Collections<br>extends Object</p><p>æ­¤ç±»ä»…åŒ…å«å¯¹é›†åˆè¿›è¡Œæ“ä½œæˆ–è¿”å›é›†åˆçš„é™æ€æ–¹æ³•ã€‚ å®ƒåŒ…å«å¯¹é›†åˆè¿›è¡Œæ“ä½œçš„å¤šæ€ç®—æ³•ï¼Œâ€œåŒ…è£…å™¨â€ï¼Œå®ƒè¿”å›ç”±æŒ‡å®šé›†åˆæ”¯æŒçš„æ–°é›†åˆï¼Œä»¥åŠå…¶ä»–ä¸€äº›å¯èƒ½æ€§å’Œç»“æŸã€‚</p></blockquote><p><strong>æ–¹æ³•ï¼š</strong></p><table><thead><tr><th align="left">å˜é‡å’Œç±»å‹</th><th align="left">æ–¹æ³•</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">static &lt;T&gt; int</td><td align="left">binarySearch(List&lt;? extends Comparable&lt;? super T&gt;&gt; list, T key)</td><td align="left">ä½¿ç”¨äºŒè¿›åˆ¶æœç´¢ç®—æ³•åœ¨æŒ‡å®šåˆ—è¡¨ä¸­æœç´¢æŒ‡å®šå¯¹è±¡ã€‚</td></tr><tr><td align="left">static &lt;T&gt; void</td><td align="left">copy(List&lt;? super T&gt; dest, List&lt;? extends T&gt; src)</td><td align="left">å°†ä¸€ä¸ªåˆ—è¡¨ä¸­çš„æ‰€æœ‰å…ƒç´ å¤åˆ¶åˆ°å¦ä¸€ä¸ªåˆ—è¡¨ä¸­ã€‚</td></tr><tr><td align="left">static &lt;T&gt; List&lt;T&gt;</td><td align="left">emptyList()</td><td align="left">è¿”å›ä¸€ä¸ªç©ºåˆ—è¡¨ã€‚</td></tr><tr><td align="left">static &lt;K,V&gt;Map&lt;K,V&gt;</td><td align="left">emptyMap()</td><td align="left">è¿”å›ä¸€ä¸ªç©ºæ˜ å°„ã€‚</td></tr><tr><td align="left">static &lt;T&gt; Set&lt;T&gt;</td><td align="left">emptySet()</td><td align="left">è¿”å›ä¸€ä¸ªç©ºé›†ã€‚</td></tr><tr><td align="left">static int</td><td align="left">indexOfSubList(List&lt;?&gt; source, List&lt;?&gt; target)</td><td align="left">è¿”å›æŒ‡å®šæºåˆ—è¡¨ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„æŒ‡å®šç›®æ ‡åˆ—è¡¨çš„èµ·å§‹ä½ç½®ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å›-1ã€‚</td></tr><tr><td align="left">static int</td><td align="left">lastIndexOfSubList(List&lt;?&gt; source, List&lt;?&gt; target)</td><td align="left">è¿”å›æŒ‡å®šæºåˆ—è¡¨ä¸­æŒ‡å®šç›®æ ‡åˆ—è¡¨æœ€åä¸€æ¬¡å‡ºç°çš„èµ·å§‹ä½ç½®ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å›-1ã€‚</td></tr><tr><td align="left">static &lt;T extends Object &amp; Comparable&lt;? super T&gt;&gt;T</td><td align="left">max(Collection&lt;? extends T&gt; coll)</td><td align="left">æ ¹æ®å…ƒç´ çš„ <em>è‡ªç„¶é¡ºåº</em>è¿”å›ç»™å®šé›†åˆçš„æœ€å¤§å…ƒç´ ã€‚</td></tr><tr><td align="left">static &lt;T extends Object &amp; Comparable&lt;? super T&gt;&gt;T</td><td align="left">min(Collection&lt;? extends T&gt; coll)</td><td align="left">æ ¹æ®å…ƒç´ çš„ <em>è‡ªç„¶é¡ºåº</em>è¿”å›ç»™å®šé›†åˆçš„æœ€å°å…ƒç´ ã€‚</td></tr><tr><td align="left">static &lt;T&gt; boolean</td><td align="left">replaceAll(List&lt;T&gt; list, T oldVal, T newVal)</td><td align="left">ç”¨åˆ—è¡¨æ›¿æ¢åˆ—è¡¨ä¸­æ‰€æœ‰å‡ºç°çš„æŒ‡å®šå€¼ã€‚</td></tr><tr><td align="left">static void</td><td align="left">reverse(List&lt;?&gt; list)</td><td align="left">åè½¬æŒ‡å®šåˆ—è¡¨ä¸­å…ƒç´ çš„é¡ºåºã€‚</td></tr><tr><td align="left">static void</td><td align="left">shuffle(List&lt;?&gt; list)</td><td align="left">ä½¿ç”¨é»˜è®¤çš„éšæœºæºéšæœºç½®æ¢æŒ‡å®šçš„åˆ—è¡¨ã€‚</td></tr><tr><td align="left">static &lt;T extends Comparable&lt;? super T&gt;&gt;void</td><td align="left">sort(List&lt;T&gt; list)</td><td align="left">æ ¹æ®å…¶å…ƒç´ çš„<a href="https://www.runoob.com/manual/jdk11api/java.base/java/lang/Comparable.html">natural ordering</a> ï¼Œå°†æŒ‡å®šåˆ—è¡¨æŒ‰å‡åºæ’åºã€‚</td></tr><tr><td align="left">static &lt;T&gt; void</td><td align="left">sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; c)</td><td align="left">æ ¹æ®æŒ‡å®šæ¯”è¾ƒå™¨å¼•å‘çš„é¡ºåºå¯¹æŒ‡å®šåˆ—è¡¨è¿›è¡Œæ’åºã€‚</td></tr><tr><td align="left">static void</td><td align="left">swap(List&lt;?&gt; list, int i, int j)</td><td align="left">äº¤æ¢æŒ‡å®šåˆ—è¡¨ä¸­æŒ‡å®šä½ç½®çš„å…ƒç´ ã€‚</td></tr></tbody></table><p><strong>Collectionså·¥å…·ç±»çš„ä½¿ç”¨ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> Map;<br><br><span class="hljs-keyword">import</span> java.util.ArrayList;<br><span class="hljs-keyword">import</span> java.util.Arrays;<br><span class="hljs-keyword">import</span> java.util.Collections;<br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    Collectionså·¥å…·ç±»çš„ä½¿ç”¨</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">demo4</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br>        List&lt;Integer&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;Integer&gt;();<br>        list.add(<span class="hljs-number">4</span>);<br>        list.add(<span class="hljs-number">3</span>);<br>        list.add(<span class="hljs-number">2</span>);<br>        list.add(<span class="hljs-number">5</span>);<br>        list.add(<span class="hljs-number">1</span>);<br><br>        <span class="hljs-comment">//sortæ’åº</span><br>        System.out.println(<span class="hljs-string">&quot;æ’åºå‰ï¼š&quot;</span>+list.toString());<br>        Collections.sort(list);<br>        System.out.println(<span class="hljs-string">&quot;æ’åºåï¼š&quot;</span>+list.toString());<br><br>        <span class="hljs-comment">//binarySearchï¼šäºŒåˆ†æŸ¥æ‰¾</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> Collections.binarySearch(list,<span class="hljs-number">2</span>);<br>        System.out.println(i);<br><br>        <span class="hljs-comment">//copyï¼šå¤åˆ¶</span><br>        List&lt;Integer&gt; list2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;Integer&gt;();<br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">            copy()æ–¹æ³•è¦æ±‚ä¸¤ä¸ªé›†åˆçš„å¤§å°ç›¸ç­‰ï¼Œæ‰€ä»¥è¦å¯¹é›†åˆè¿›è¡Œèµ‹å€¼</span><br><span class="hljs-comment">         */</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">0</span>; j&lt;list.size(); j++)&#123;<br>            list2.add(<span class="hljs-number">0</span>);<br>        &#125;<br>        Collections.copy(list2,list);<br>        System.out.println(<span class="hljs-string">&quot;å¤åˆ¶åï¼š&quot;</span>+list2.toString());<br><br>        <span class="hljs-comment">//reverseï¼šåè½¬</span><br>        Collections.reverse(list);<br>        System.out.println(<span class="hljs-string">&quot;åè½¬ä¹‹åï¼š&quot;</span>+list);<br><br>        <span class="hljs-comment">//shuffleï¼šæ‰“ä¹±</span><br>        Collections.shuffle(list);<br>        System.out.println(<span class="hljs-string">&quot;æ‰“ä¹±ä¹‹åï¼š&quot;</span>+list);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="7-2-é›†åˆä¸æ•°ç»„äº’è½¬"><a href="#7-2-é›†åˆä¸æ•°ç»„äº’è½¬" class="headerlink" title="7.2 é›†åˆä¸æ•°ç»„äº’è½¬"></a>7.2 é›†åˆä¸æ•°ç»„äº’è½¬</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> Map;<br><br><span class="hljs-keyword">import</span> java.util.ArrayList;<br><span class="hljs-keyword">import</span> java.util.Arrays;<br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    é›†åˆä¸æ•°ç»„äº’è½¬</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">demo5</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] arsg)</span>&#123;<br>        List&lt;Integer&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;Integer&gt;();<br>        list.add(<span class="hljs-number">4</span>);<br>        list.add(<span class="hljs-number">3</span>);<br>        list.add(<span class="hljs-number">2</span>);<br>        list.add(<span class="hljs-number">5</span>);<br>        list.add(<span class="hljs-number">1</span>);<br><br>        <span class="hljs-comment">//è¡¥å……ï¼šé›†åˆè½¬æˆæ•°ç»„</span><br>        Integer[] arr = list.toArray(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Integer</span>[<span class="hljs-number">0</span>]);<br>        System.out.println(arr.length);<br>        System.out.println(<span class="hljs-string">&quot;è½¬æˆæ•°ç»„ï¼š&quot;</span>+ Arrays.toString(arr));<br><br>        <span class="hljs-comment">//æ•°ç»„è½¬æˆé›†åˆ</span><br>        String[] letters = &#123;<span class="hljs-string">&quot;a&quot;</span>,<span class="hljs-string">&quot;b&quot;</span>,<span class="hljs-string">&quot;c&quot;</span>,<span class="hljs-string">&quot;d&quot;</span>,<span class="hljs-string">&quot;e&quot;</span>&#125;;<br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">            æ•°ç»„è½¬æˆé›†åˆåï¼Œé›†åˆæ˜¯ä¸€ä¸ªå—é™é›†åˆï¼Œä¸èƒ½å¯¹é›†åˆè¿›è¡Œæ·»åŠ å’Œåˆ é™¤æ“ä½œ</span><br><span class="hljs-comment">         */</span><br>        List&lt;String&gt; list2 = Arrays.asList(letters);<br>        System.out.println(<span class="hljs-string">&quot;è½¬æˆé›†åˆï¼š&quot;</span>+list2.toString());<br><br>        Integer[] nums = &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>&#125;;<br>        List&lt;Integer&gt; list3 = Arrays.asList(nums);<br>        System.out.println(<span class="hljs-string">&quot;è½¬æˆé›†åˆï¼š&quot;</span>+list3.toString());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="7-3-é›†åˆæ€»ç»“"><a href="#7-3-é›†åˆæ€»ç»“" class="headerlink" title="7.3 é›†åˆæ€»ç»“"></a>7.3 é›†åˆæ€»ç»“</h2><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220727214323.png" alt="QQæˆªå›¾20220727214323"></p><p>Java JDK11åœ¨çº¿å¸®åŠ©æ–‡æ¡£ï¼š<a href="https://www.runoob.com/manual/jdk11api/">https://www.runoob.com/manual/jdk11api/</a></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java-åŸºç¡€çŸ¥è¯†</title>
    <link href="/2022/07/04/Java-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    <url>/2022/07/04/Java-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/</url>
    
    <content type="html"><![CDATA[<h1 id="Javaæ•°ç»„"><a href="#Javaæ•°ç»„" class="headerlink" title="Javaæ•°ç»„"></a>Javaæ•°ç»„</h1><h2 id="Javaæ•°ç»„-1"><a href="#Javaæ•°ç»„-1" class="headerlink" title="Javaæ•°ç»„"></a>Javaæ•°ç»„</h2><p><strong>æ•°ç»„çš„åˆ›å»ºï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/*æ ¼å¼1ï¼š</span><br><span class="hljs-comment">å…ƒç´ ç±»å‹[] æ•°ç»„å = new å…ƒç´ ç±»å‹[å…ƒç´ ä¸ªæ•°æˆ–æ•°ç»„é•¿åº¦];</span><br><span class="hljs-comment">ç¤ºä¾‹ï¼š</span><br><span class="hljs-comment">*/</span><br><span class="hljs-type">int</span>[] arr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[<span class="hljs-number">5</span>];<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">æ ¼å¼2ï¼š</span><br><span class="hljs-comment">å…ƒç´ ç±»å‹[] æ•°ç»„å = new å…ƒç´ ç±»å‹[]&#123;å…ƒç´ ï¼Œå…ƒç´ ï¼Œâ€¦â€¦&#125;;</span><br><span class="hljs-comment">*/</span><br><span class="hljs-type">int</span>[] arr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">3</span>,<span class="hljs-number">5</span>,<span class="hljs-number">1</span>,<span class="hljs-number">7</span>&#125;;<br><span class="hljs-type">int</span>[] arr = &#123;<span class="hljs-number">3</span>,<span class="hljs-number">5</span>,<span class="hljs-number">1</span>,<span class="hljs-number">7</span>&#125;;<br><br></code></pre></td></tr></table></figure><p><strong>æ•°ç»„çš„éå†ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//æ–¹å¼ä¸€ï¼šforå¾ªç¯</span><br> <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">listFor</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-type">int</span>[] arrs = &#123;<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>&#125;;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; arrs.length; i++) &#123;<br>            System.out.print(arrs[i]+<span class="hljs-string">&quot; &quot;</span>);<br>        &#125;<br>    &#125;   <br><span class="hljs-comment">//æ–¹å¼äºŒï¼šfor-each</span><br> <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">listFor</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-type">int</span>[] arrs = &#123;<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>&#125;;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> arr : arrs) &#123;<br>            System.out.print(arr+<span class="hljs-string">&quot; &quot;</span>);<br>        &#125;<br>    &#125;<br><br></code></pre></td></tr></table></figure><ul><li>èœé¸Ÿç¬”è®°ï¼š<a href="https://www.runoob.com/java/java-array.html">https://www.runoob.com/java/java-array.html</a></li></ul><h2 id="Arraysç±»"><a href="#Arraysç±»" class="headerlink" title="Arraysç±»"></a>Arraysç±»</h2><p>java.util.Arrays ç±»èƒ½æ–¹ä¾¿åœ°æ“ä½œæ•°ç»„ï¼Œå®ƒæä¾›çš„æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯é™æ€çš„ã€‚</p><p><strong>å…·æœ‰ä»¥ä¸‹åŠŸèƒ½ï¼š</strong></p><ul><li>ç»™æ•°ç»„èµ‹å€¼ï¼šé€šè¿‡ fill æ–¹æ³•ã€‚</li><li>å¯¹æ•°ç»„æ’åºï¼šé€šè¿‡ sort æ–¹æ³•,æŒ‰å‡åºã€‚</li><li>æ¯”è¾ƒæ•°ç»„ï¼šé€šè¿‡ equals æ–¹æ³•æ¯”è¾ƒæ•°ç»„ä¸­å…ƒç´ å€¼æ˜¯å¦ç›¸ç­‰ã€‚</li><li>æŸ¥æ‰¾æ•°ç»„å…ƒç´ ï¼šé€šè¿‡ binarySearch æ–¹æ³•èƒ½å¯¹æ’åºå¥½çš„æ•°ç»„è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾æ³•æ“ä½œã€‚</li></ul><p><strong>å®ç°æ–¹æ³•ï¼š</strong></p><ul><li><p><strong>public static void fill(int[] a, int val)</strong></p><p>å°†æŒ‡å®šçš„ int å€¼åˆ†é…ç»™æŒ‡å®š int å‹æ•°ç»„æŒ‡å®šèŒƒå›´ä¸­çš„æ¯ä¸ªå…ƒç´ ã€‚åŒæ ·çš„æ–¹æ³•é€‚ç”¨äºæ‰€æœ‰çš„å…¶ä»–åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆByteï¼Œshortï¼ŒIntç­‰ï¼‰ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span>[] arr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>&#125;;<br>Arrays.fill(arr,<span class="hljs-number">5</span>);<br></code></pre></td></tr></table></figure></li><li><p><strong>public static void sort(Object[] a)</strong></p><p>å¯¹æŒ‡å®šå¯¹è±¡æ•°ç»„æ ¹æ®å…¶å…ƒç´ çš„è‡ªç„¶é¡ºåºè¿›è¡Œå‡åºæ’åˆ—ã€‚åŒæ ·çš„æ–¹æ³•é€‚ç”¨äºæ‰€æœ‰çš„å…¶ä»–åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆByteï¼Œshortï¼ŒIntç­‰ï¼‰ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span>[] arr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">1</span>,<span class="hljs-number">5</span>,<span class="hljs-number">4</span>&#125;;<br>Arrays.sort(arr);<br></code></pre></td></tr></table></figure></li><li><p><strong>public static boolean equals(long[] a, long[] a2)</strong></p><p>å¦‚æœä¸¤ä¸ªæŒ‡å®šçš„ long å‹æ•°ç»„å½¼æ­¤ç›¸ç­‰ï¼Œåˆ™è¿”å› trueã€‚å¦‚æœä¸¤ä¸ªæ•°ç»„åŒ…å«ç›¸åŒæ•°é‡çš„å…ƒç´ ï¼Œå¹¶ä¸”ä¸¤ä¸ªæ•°ç»„ä¸­çš„æ‰€æœ‰ç›¸åº”å…ƒç´ å¯¹éƒ½æ˜¯ç›¸ç­‰çš„ï¼Œåˆ™è®¤ä¸ºè¿™ä¸¤ä¸ªæ•°ç»„æ˜¯ç›¸ç­‰çš„ã€‚æ¢å¥è¯è¯´ï¼Œå¦‚æœä¸¤ä¸ªæ•°ç»„ä»¥ç›¸åŒé¡ºåºåŒ…å«ç›¸åŒçš„å…ƒç´ ï¼Œåˆ™ä¸¤ä¸ªæ•°ç»„æ˜¯ç›¸ç­‰çš„ã€‚åŒæ ·çš„æ–¹æ³•é€‚ç”¨äºæ‰€æœ‰çš„å…¶ä»–åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆByteï¼Œshortï¼ŒIntç­‰ï¼‰ã€‚</p></li><li><p><strong>public static int binarySearch(Object[] a, Object key)</strong></p><p>ç”¨äºŒåˆ†æŸ¥æ‰¾ç®—æ³•åœ¨ç»™å®šæ•°ç»„ä¸­æœç´¢ç»™å®šå€¼çš„å¯¹è±¡(Byte,Int,doubleç­‰)ã€‚æ•°ç»„åœ¨è°ƒç”¨å‰å¿…é¡»æ’åºå¥½çš„ã€‚å¦‚æœæŸ¥æ‰¾å€¼åŒ…å«åœ¨æ•°ç»„ä¸­ï¼Œåˆ™è¿”å›æœç´¢é”®çš„ç´¢å¼•ï¼›å¦åˆ™è¿”å› (-(<em>æ’å…¥ç‚¹</em>) - 1)ã€‚</p></li></ul><h1 id="Javaå­—ç¬¦ä¸²"><a href="#Javaå­—ç¬¦ä¸²" class="headerlink" title="Javaå­—ç¬¦ä¸²"></a>Javaå­—ç¬¦ä¸²</h1><h2 id="String"><a href="#String" class="headerlink" title="String"></a>String</h2><ul><li>èœé¸Ÿç¬”è®°ï¼š<a href="https://www.runoob.com/java/java-string.html">https://www.runoob.com/java/java-string.html</a></li></ul><h2 id="StringBuffer"><a href="#StringBuffer" class="headerlink" title="StringBuffer"></a>StringBuffer</h2><ul><li>èœé¸Ÿç¬”è®°ï¼š<a href="https://www.runoob.com/java/java-stringbuffer.html">https://www.runoob.com/java/java-stringbuffer.html</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŸºäºHyperledger FabricçŸ³æ²¹èƒ½æºäº¤æ˜“ç³»ç»Ÿ</title>
    <link href="/2022/07/03/%E5%9F%BA%E4%BA%8EHyperledger-Fabric%E7%9F%B3%E6%B2%B9%E8%83%BD%E6%BA%90%E4%BA%A4%E6%98%93%E7%B3%BB%E7%BB%9F/"/>
    <url>/2022/07/03/%E5%9F%BA%E4%BA%8EHyperledger-Fabric%E7%9F%B3%E6%B2%B9%E8%83%BD%E6%BA%90%E4%BA%A4%E6%98%93%E7%B3%BB%E7%BB%9F/</url>
    
    <content type="html"><![CDATA[<h1 id="åŸºäºHyperledger-FabricçŸ³æ²¹èƒ½æºäº¤æ˜“ç³»ç»Ÿ"><a href="#åŸºäºHyperledger-FabricçŸ³æ²¹èƒ½æºäº¤æ˜“ç³»ç»Ÿ" class="headerlink" title="åŸºäºHyperledger FabricçŸ³æ²¹èƒ½æºäº¤æ˜“ç³»ç»Ÿ"></a>åŸºäºHyperledger FabricçŸ³æ²¹èƒ½æºäº¤æ˜“ç³»ç»Ÿ</h1><h2 id="é¡¹ç›®è¯´æ˜"><a href="#é¡¹ç›®è¯´æ˜" class="headerlink" title="é¡¹ç›®è¯´æ˜"></a>é¡¹ç›®è¯´æ˜</h2><p>â€‹        é¡¹ç›®ä½¿ç”¨ Hyperledger Fabric æ„å»ºåº•å±‚åŒºå—é“¾ç½‘ç»œ, goè¯­è¨€ç¼–å†™æ™ºèƒ½åˆçº¦ï¼Œåº”ç”¨å±‚ä½¿ç”¨ gin+fabric-sdk-go ï¼Œå‰ç«¯ä½¿ç”¨ vue+element-uiæ¡†æ¶ï¼Œç³»ç»Ÿçš„è®¾è®¡ä¸»è¦æ˜¯åŸºäºåŒºå—é“¾çš„å»ä¸­å¿ƒåŒ–ï¼Œæ•°æ®å…±äº«å’Œä¸å¯ç¯¡æ”¹çš„ç‰¹ç‚¹ã€‚é¡¹ç›®çš„æ ¸å¿ƒæ˜¯åˆ†å¸ƒå¼è´¦æœ¬ï¼Œè®°å½•åŒºå—ä¸Šå‘ç”Ÿçš„æ‰€æœ‰çŸ³æ²¹äº¤æ˜“ã€‚åŒºå—é“¾è´¦æœ¬æ˜¯å»ä¸­å¿ƒåŒ–çš„ï¼Œå®ƒä¼šè¢«å¤åˆ¶åˆ°è®¸å¤šåŒºå—å‚ä¸è€…ä¸­ï¼Œæ¯ä¸ªå‚ä¸è€…éƒ½åœ¨åä½œç»´æŠ¤è´¦æœ¬ï¼›æ•°æ®å…±äº«æ˜¯å½“æŸä¸ªå®¢æˆ·å‘èµ·äº¤æ˜“åï¼Œæ‰€æœ‰ä½äºåŒºå—é“¾ä¸Šçš„å®¢æˆ·éƒ½å¯ä»¥è¿›è¡Œç«ä»·äº¤æ˜“ä¸”äº¤æ˜“ä¿¡æ¯å…±äº«ï¼›ä¸å¯ç¯¡æ”¹æŒ‡å‘èµ·ä¸€ç¬”äº¤æ˜“åä¸èƒ½å•æ–¹é¢æ’¤é”€äº¤æ˜“,å¦‚æœéœ€è¦æ’¤é”€ä¹‹å‰çš„äº¤æ˜“å¿…é¡»å†èŠ±å‡ ç¬”äº¤æ˜“å‘Šè¯‰å…¨åŒºå—æˆ‘éœ€è¦æ’¤é”€ä¹‹å‰çš„äº¤æ˜“ã€‚ç³»ç»Ÿä¸­æœ‰ç®¡ç†å‘˜å’Œäº”ä¸ªå®¢æˆ·ï¼Œç®¡ç†å‘˜ä¸ºå®¢æˆ·åˆ›å»ºçŸ³æ²¹ï¼Œå®¢æˆ·å¯ä»¥æŸ¥çœ‹å’Œäº¤æ˜“çŸ³æ²¹ã€‚å®¢æˆ·äº¤æ˜“ä¿¡æ¯ä»¥é™„åŠ çš„æ–¹å¼è®°å½•åˆ°åŒºå—é“¾ä¸Šï¼Œä½¿ç”¨åŠ å¯†æŠ€æœ¯ä¿è¯ä¸€æ—¦å°†äº¤æ˜“æ·»åŠ åˆ°è´¦æœ¬å°±æ— æ³•ä¿®æ”¹ã€‚</p><p>â€‹        å®¢æˆ·å‘èµ·é”€å”®ï¼Œæ‰€æœ‰çš„å®¢æˆ·éƒ½å¯ä»¥æŸ¥çœ‹é”€å”®åˆ—è¡¨ï¼Œåœ¨æœ‰æ•ˆæœŸæœŸé—´å¯ä»¥éšæ—¶å–æ¶ˆäº¤æ˜“ï¼Œæœ‰æ•ˆæœŸåˆ°æœŸåè‡ªåŠ¨å…³é—­äº¤æ˜“ï¼Œè´­ä¹°è€…è´­ä¹°åè¿›è¡Œæ‰£æ¬¾æ“ä½œï¼Œå¹¶ç­‰å¾…å‘èµ·é”€å”®çš„å®¢æˆ·ç¡®è®¤ï¼Œäº¤æ˜“å®Œæˆåï¼Œæ›´æ–°çŸ³æ²¹æ‹¥æœ‰è€…ã€‚å®¢æˆ·å‘èµ·æèµ ï¼ŒæŒ‡å®šå—èµ äººï¼Œå—èµ äººç¡®è®¤æ¥æ”¶å—èµ å‰ï¼ŒåŒæ–¹å¯å–æ¶ˆæèµ /å—èµ ã€‚</p><h2 id="ä»£ç è¯´æ˜"><a href="#ä»£ç è¯´æ˜" class="headerlink" title="ä»£ç è¯´æ˜"></a>ä»£ç è¯´æ˜</h2><h4 id="åŒºå—é“¾éƒ¨åˆ†"><a href="#åŒºå—é“¾éƒ¨åˆ†" class="headerlink" title="åŒºå—é“¾éƒ¨åˆ†"></a>åŒºå—é“¾éƒ¨åˆ†</h4><ol><li><p>crypto-config.yamlæ–‡ä»¶</p><p>crypto-config.yamlå®šä¹‰äº†ç”Ÿæˆè¯ä¹¦çš„æ•°é‡ï¼Œè¿˜æœ‰ç”¨æˆ·çš„æ•°é‡ï¼Œä½¿ç”¨cryptogenå·¥å…·è¯»å–æ”¹æ–‡ä»¶ç”Ÿæˆç›¸åº”çš„å…¬ç§é’¥å’Œè¯ä¹¦ï¼Œç”Ÿæˆçš„è¯ä¹¦åœ¨crypto-configæ–‡ä»¶å¤¹ä¸­</p></li><li><p>configtx.yamlæ–‡ä»¶</p><p>configtx.yamlä¸­å®šä¹‰äº†ç»„ç»‡ä¸Fabricå…±è¯†ã€åŒºå—å¤§å°ï¼Œè¶…æ—¶æ—¶é—´ç­‰å‚æ•°ï¼Œç”¨äºç”Ÿæˆåˆ›ä¸–åŒºå—</p></li><li><p>docker-composeæ–‡ä»¶</p><p> è¿™ä¸ªæ˜¯docker-composeå¯åŠ¨æ—¶è¯»å–çš„æ–‡ä»¶ï¼Œå°†ä¸€æ¬¡æ€§å¯åŠ¨å¤šä¸ªå®¹å™¨ï¼Œè¿™äº›å®¹å™¨æ˜¯peerèŠ‚ç‚¹å’ŒordererèŠ‚ç‚¹ï¼Œæ–‡ä»¶ä¸­å†™æ˜äº†å…·ä½“çš„é…ç½®ä¿¡æ¯ï¼Œæ¯”å¦‚æŒ‚è½½ä¸€äº›æœ¬åœ°æ–‡ä»¶ï¼Œä½¿ç”¨çš„é•œåƒæ–‡ä»¶ç­‰ï¼Œæ¯”å¦‚ä½¿ç”¨1.4.12ç‰ˆæœ¬çš„fabricé•œåƒ</p></li><li><p>start.sh æ–‡ä»¶</p><p>è¿™ä¸ªæ˜¯å¯åŠ¨åŒºå—é“¾ç½‘ç»œçš„è„šæœ¬</p></li><li><p>hyperledger-fabric-linux-amd64-1.4.12 æ–‡ä»¶å¤¹</p><p>æ–‡ä»¶å¤¹å†…æœ‰ç”Ÿæˆè¯ä¹¦ã€åˆ›ä¸–åŒºå—çš„å·¥å…·</p></li><li><p>exploreræ–‡ä»¶å¤¹</p><p>è¿™ä¸ªæ˜¯åŒºå—é“¾æµè§ˆå™¨çš„æ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶å¤¹ä¸­çš„start.shæ–‡ä»¶ï¼Œæ¯æ¬¡é‡å¯åŒºå—é“¾ç½‘ç»œæ—¶ç§é’¥ä¼šå˜ï¼Œå› æ­¤è¯¥æ–‡ä»¶ä¸­æœ‰æ›¿æ¢å¯†é’¥çš„æ“ä½œã€‚connection-profileä¸­çš„network_temp.jsonæ˜¯é…ç½®æ–‡ä»¶ï¼Œå®šä¹‰äº†è¯»å–åŒºå—é“¾ç½‘ç»œçš„ä¿¡æ¯ä¸ç™»é™†åŒºå—é“¾æµè§ˆå™¨çš„è´¦å·å¯†ç ã€‚</p></li></ol><h4 id="æ™ºèƒ½åˆçº¦éƒ¨åˆ†"><a href="#æ™ºèƒ½åˆçº¦éƒ¨åˆ†" class="headerlink" title="æ™ºèƒ½åˆçº¦éƒ¨åˆ†"></a>æ™ºèƒ½åˆçº¦éƒ¨åˆ†</h4><ol><li><p>go.mod æ–‡ä»¶</p><p>è¿™ä¸ªæ–‡ä»¶æ˜¯å®šä¹‰äº†ä¸€ä¸ªæ¨¡å—ï¼Œä¸€èˆ¬å°±æ˜¯æœ¬ç›®å½•ï¼Œåœ¨æœ¬é¡¹ç›®ä¸­æ˜¯chaincodeï¼Œç„¶åæœ‰goçš„ç‰ˆæœ¬å’Œéœ€è¦çš„ä¾èµ–</p></li><li><p>go.sumæ–‡ä»¶</p><p>è¿™ä¸ªæ˜¯å›ºå®šé¡¹ç›®çš„ä¾èµ–æ–‡ä»¶ç‰ˆæœ¬</p></li><li><p>chaincode.goæ–‡ä»¶</p><p>è¿™ä¸ªé‡Œè¾¹ä¸»è¦å…³æ³¨ä¸¤ä¸ªå‡½æ•°ï¼Œä¸€ä¸ªæ˜¯Initå‡½æ•°ï¼Œå°±æ˜¯åœ¨é“¾ç è¿›è¡Œå®ä¾‹åŒ–æ—¶ä¼šè¿›è¡Œçš„æ“ä½œï¼Œåœ¨è¿™ä¸ªé¡¹ç›®ä¸­æ˜¯å‘åŒºå—é“¾ä¸­å†™å…¥é¢„å…ˆè®¾å®šçš„è´¦æˆ·ï¼›ä¸‹è¾¹æ˜¯Invokeå‡½æ•°ï¼Œé™¤äº†Initæ—¶å¯¹åŒºå—é“¾çš„æ“ä½œéƒ½æ˜¯Invokeï¼Œå¯ä»¥çœ‹åˆ°å½“ä¼ å…¥å‚æ•°æ—¶ï¼Œä¼šè¯»å–apié‡Œç›¸åº”çš„å‡½æ•°ã€‚</p></li><li><p>apiä¸­çš„.goæ–‡ä»¶</p><p>è¿™é‡Œå°±æ˜¯æ™ºèƒ½åˆçº¦ä¸­å‡½æ•°çš„ä½ç½®ï¼Œå½“æ¥æ”¶åˆ°sdkçš„è¯·æ±‚æ—¶ï¼Œè°ƒç”¨è¿™é‡Œçš„å‡½æ•°ï¼Œå®ç°ç›¸åº”çš„æ“ä½œã€‚æ¯”è¾ƒé‡è¦çš„æœ‰QueryAccountList(),CreateRealEstate(),QueryRealEstateList()ï¼Œåˆ†åˆ«å®Œæˆäº†å¯¹è´¦æˆ·çš„æŸ¥è¯¢ã€åˆ›å»ºçŸ³æ²¹ä¸æŸ¥è¯¢çŸ³æ²¹åˆ—è¡¨ã€‚</p></li><li><p>modelæ–‡ä»¶å¤¹ä¸­çš„model.goæ–‡ä»¶</p><p>è¯¥æ–‡ä»¶å®šä¹‰äº†ä¸€äº›ç»“æ„ä½“ï¼ŒåŒ…å«äº†å­—æ®µçš„å±æ€§ï¼Œä¾‹å¦‚å®šä¹‰äº†ä¸€ä¸ªçŸ³æ²¹çš„æ‰€æœ‰å±æ€§</p></li></ol><h4 id="appéƒ¨åˆ†"><a href="#appéƒ¨åˆ†" class="headerlink" title="appéƒ¨åˆ†"></a>appéƒ¨åˆ†</h4><ol><li><p>build.sh</p><p>è¿™ä¸ªæ˜¯æ„å»ºappçš„å®¹å™¨ï¼Œå°†appæ”¾åœ¨å®¹å™¨ä¸­è¿è¡Œï¼Œå…·ä½“åšçš„äº‹æƒ…åœ¨Dockfileæ–‡ä»¶é‡Œ</p></li><li><p>start.shã€docker-compose.ymlå°±æ˜¯å¯åŠ¨appå®¹å™¨</p></li><li><p>serveræ–‡ä»¶å¤¹å°±æ˜¯åç«¯ï¼Œä½¿ç”¨çš„ginæ¡†æ¶</p><p>å½“åç«¯æ¥æ”¶åˆ°webçš„è¯·æ±‚åï¼Œå°±ä¼šæŸ¥çœ‹routersçš„è·¯ç”±ä¿¡æ¯ï¼Œæ‰¾åˆ°å¯¹åº”çš„apiè¿›è¡Œæ“ä½œã€‚åœ¨apiä¸­ï¼Œæ¥æ”¶åˆ°webå‘æ¥çš„è¯·æ±‚åè¿›è¡Œå¤„ç†ï¼Œç„¶åè°ƒç”¨æ™ºèƒ½åˆçº¦å®ç°å¯¹åŒºå—é“¾ç½‘ç»œçš„äº¤äº’</p></li><li><p>blockchain/sdk.go config.yaml</p><p>è¿™é‡Œå®šä¹‰äº† sdkçš„é…ç½®ä¿¡æ¯</p></li><li><p>webæ–‡ä»¶å¤¹æ˜¯å‰ç«¯çš„éƒ¨åˆ† ä½¿ç”¨çš„vue + element ui</p></li><li><p>apiæ–‡ä»¶å¤¹ä¸­çš„jsæ–‡ä»¶å®šä¹‰äº†å‡½æ•°ç›¸å¯¹åº”çš„urlã€methodã€æºå¸¦çš„æ•°æ®ï¼Œå°±æ˜¯ä¸åç«¯è¿›è¡Œäº¤äº’</p></li><li><p>viewsæ–‡ä»¶å¤¹æ˜¯å‰ç«¯</p><p>å½“ç”¨æˆ·åœ¨é¡µé¢å¡«å†™æ•°æ®åï¼Œä½¿ç”¨vueæ–‡ä»¶é‡Œçš„æ–¹æ³•ï¼Œè°ƒç”¨apié‡Œçš„å‡½æ•°ï¼Œä¸åç«¯è¿›è¡Œäº¤äº’</p></li></ol><h2 id="é¡¹ç›®é…ç½®"><a href="#é¡¹ç›®é…ç½®" class="headerlink" title="é¡¹ç›®é…ç½®"></a>é¡¹ç›®é…ç½®</h2><h4 id="1-ç¯å¢ƒæ­å»º"><a href="#1-ç¯å¢ƒæ­å»º" class="headerlink" title="1.ç¯å¢ƒæ­å»º"></a>1.ç¯å¢ƒæ­å»º</h4><p>VMwareè™šæ‹Ÿæœºä¸Šå®‰è£…Ubuntuç¯å¢ƒï¼ŒUbuntuçš„ç‰ˆæœ¬ä¸º20.04ï¼Œä¸€å¼€å§‹å®‰è£…çš„Ubuntu18.04åœ¨é…ç½®ç¯å¢ƒé‡åˆ°äº†å¾ˆå¤šä¸æ˜åŸå› çš„æŠ¥é”™ã€‚</p><h4 id="2-å®‰è£…dockerå’Œdocker-compose"><a href="#2-å®‰è£…dockerå’Œdocker-compose" class="headerlink" title="2.å®‰è£…dockerå’Œdocker-compose"></a>2.å®‰è£…dockerå’Œdocker-compose</h4><p>å®‰è£…docker</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun<br></code></pre></td></tr></table></figure><p>å°†ç”¨æˆ·æ·»åŠ åˆ°dockerç»„</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo usermod -aG docker <span class="hljs-variable">$USER</span><br></code></pre></td></tr></table></figure><p>æ›´æ–°ç”¨æˆ·ç»„</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">newgrp docker<br></code></pre></td></tr></table></figure><p>å®‰è£…docker-compose</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo curl -L <span class="hljs-string">&quot;https://mirror.ghproxy.com/https://github.com/docker/compose/releases/download/v2.2.2/docker-compose-<span class="hljs-subst">$(uname -s)</span>-<span class="hljs-subst">$(uname -m)</span>&quot;</span> -o /usr/local/bin/docker-compose<br></code></pre></td></tr></table></figure><p>å¢åŠ è¿è¡Œæƒé™</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo <span class="hljs-built_in">chmod</span> +x /usr/local/bin/docker-compose<br></code></pre></td></tr></table></figure><p>æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸï¼Œæœ‰è¾“å‡ºå†…å®¹å³å¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker-compose <br></code></pre></td></tr></table></figure><p>ç»™dockeræ¢æº ç¼–è¾‘ /etc/docker/daemon.json å†™å…¥ä»¥ä¸‹å†…å®¹ä¿å­˜</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">&#123;<br>  <span class="hljs-string">&quot;registry-mirrors&quot;</span>: [<span class="hljs-string">&quot;http://hub-mirror.c.163.com&quot;</span>]<br>&#125;<br></code></pre></td></tr></table></figure><p>é‡å¯docker</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo systemctl restart docker<br></code></pre></td></tr></table></figure><h2 id="é¡¹ç›®è¿è¡Œ"><a href="#é¡¹ç›®è¿è¡Œ" class="headerlink" title="é¡¹ç›®è¿è¡Œ"></a>é¡¹ç›®è¿è¡Œ</h2><p>å¯åŠ¨åŒºå—é“¾ç½‘ç»œä»¥åŠéƒ¨ç½²æ™ºèƒ½åˆçº¦ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> /home/admin001/æ¡Œé¢/fabdeal-master/network<br>sudo ./start.sh<br></code></pre></td></tr></table></figure><p>ç¼–è¯‘é•œåƒï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> /home/admin001/æ¡Œé¢/fabdeal-master/application<br>sudo ./build.sh<br></code></pre></td></tr></table></figure><p>å¯åŠ¨åº”ç”¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo ./start.sh<br></code></pre></td></tr></table></figure><p>è™šæ‹Ÿæœºæµè§ˆå™¨è®¿é—®ï¼š<a href="http://localhost:8000/web">http://localhost:8000/web</a><br>ä¸»æœºæµè§ˆå™¨è®¿é—®ï¼š<a href="http://192.168.80.129:8000/web">http://192.168.80.129:8000/web</a></p><p>å¯åŠ¨åŒºå—é“¾æµè§ˆå™¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> /home/admin001/æ¡Œé¢/fabdeal-master/network/explorer<br>sudo ./start.sh<br></code></pre></td></tr></table></figure><p>è™šæ‹Ÿæœºæµè§ˆå™¨è®¿é—®ï¼š<a href="http://localhost:8080/">http://localhost:8080</a>    ç”¨æˆ·å:adminï¼Œå¯†ç :123456</p><p>ä¸»æœºæµè§ˆå™¨è®¿é—®ï¼š<a href="http://192.168.80.129:8080/">http://192.168.80.129:8080</a></p><p>æ¸…ç†ç¯å¢ƒï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> /home/admin001/æ¡Œé¢/fabdeal-master/network<br>sudo ./stop.sh<br><span class="hljs-built_in">cd</span> /home/admin001/æ¡Œé¢/fabdeal-master/application<br>sudo ./stop.sh<br></code></pre></td></tr></table></figure><p>é¡¹ç›®æ¼”ç¤ºè§†é¢‘ï¼š</p><ul><li><a href="https://www.bilibili.com/video/BV1N34y1p7EW?spm_id_from=333.999.list.card_archive.click&amp;vd_source=7ad06c95735c5cae130daf28b94f5d0f">https://www.bilibili.com/video/BV1N34y1p7EW?spm_id_from=333.999.list.card_archive.click&amp;vd_source=7ad06c95735c5cae130daf28b94f5d0f</a></li></ul><p>Noteï¼š</p><ul><li>æœ¬é¡¹ç›®æ”¹è‡ªGithubé¡¹ç›®ï¼šåŸºäºåŒºå—é“¾ï¼ˆHyperledger Fabricï¼‰çš„æˆ¿åœ°äº§äº¤æ˜“ç³»ç»Ÿ</li><li>åŸé¡¹ç›®Githubåœ°å€ï¼š<a href="https://github.com/togettoyou/fabric-realty">https://github.com/togettoyou/fabric-realty</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>åŒºå—é“¾</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŒºå—é“¾</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>windows10ç”µè„‘é‡è£…ç³»ç»Ÿ</title>
    <link href="/2022/06/27/windows10%E7%94%B5%E8%84%91%E9%87%8D%E8%A3%85%E7%B3%BB%E7%BB%9F/"/>
    <url>/2022/06/27/windows10%E7%94%B5%E8%84%91%E9%87%8D%E8%A3%85%E7%B3%BB%E7%BB%9F/</url>
    
    <content type="html"><![CDATA[<h2 id="windows10ç”µè„‘é‡è£…ç³»ç»Ÿ"><a href="#windows10ç”µè„‘é‡è£…ç³»ç»Ÿ" class="headerlink" title="windows10ç”µè„‘é‡è£…ç³»ç»Ÿ"></a>windows10ç”µè„‘é‡è£…ç³»ç»Ÿ</h2><p>å®‰è£…ç³»ç»Ÿä¸»è¦æœ‰ä¸¤ç§æ–¹æ³•ï¼š</p><ul><li>å¾®è½¯å®˜æ–¹IOSé•œåƒæ–‡ä»¶ç›´æ¥å†™å…¥</li><li>ä½¿ç”¨PEä¾¿æºå¼æ“ä½œç³»ç»Ÿè¾…åŠ©å®‰è£…</li></ul><p><strong>è£…ç³»ç»Ÿçš„æœ¬è´¨å°±æ˜¯è¿è¡Œæå‰åœ¨Uç›˜å†…æ”¾å¥½çš„windowså®‰è£…åŒ…</strong></p><h2 id="win10å®˜æ–¹IOSé•œåƒç›´è£…"><a href="#win10å®˜æ–¹IOSé•œåƒç›´è£…" class="headerlink" title="win10å®˜æ–¹IOSé•œåƒç›´è£…"></a>win10å®˜æ–¹IOSé•œåƒç›´è£…</h2><ul><li>å¥½å¤„ï¼šçº¯å‡€ã€æ–¹ä¾¿ã€ç®€å•</li><li>ç¼ºç‚¹ï¼šåŠŸèƒ½ç®€å•åƒµç¡¬</li></ul><p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œæˆ‘é€‰æ‹©å¾®PEè¾…åŠ©å®‰è£…ï¼ğŸ˜‚</p><h2 id="å¾®PEè¾…åŠ©å®‰è£…"><a href="#å¾®PEè¾…åŠ©å®‰è£…" class="headerlink" title="å¾®PEè¾…åŠ©å®‰è£…"></a>å¾®PEè¾…åŠ©å®‰è£…</h2><h3 id="1-ä¸‹è½½å¾®PE"><a href="#1-ä¸‹è½½å¾®PE" class="headerlink" title="1.ä¸‹è½½å¾®PE"></a>1.ä¸‹è½½å¾®PE</h3><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220627184541.png" alt="QQæˆªå›¾20220627184541"></p><h3 id="2-æŠŠPEå®‰è£…è¿›Uç›˜å†…"><a href="#2-æŠŠPEå®‰è£…è¿›Uç›˜å†…" class="headerlink" title="2.æŠŠPEå®‰è£…è¿›Uç›˜å†…"></a>2.æŠŠPEå®‰è£…è¿›Uç›˜å†…</h3><p>æ‰“å¼€ä¸‹è½½å¥½çš„å¾®PEå®‰è£…åŒ…</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220627184959.png" alt="QQæˆªå›¾20220627184959"></p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220627185806.png" alt="QQæˆªå›¾20220627185806"></p><p>ç­‰å¾…3-10åˆ†é’Ÿ</p><h3 id="3-å®Œæˆå®‰è£…ï¼ŒPEæˆåŠŸå®‰è£…è¿›Uç›˜å†…"><a href="#3-å®Œæˆå®‰è£…ï¼ŒPEæˆåŠŸå®‰è£…è¿›Uç›˜å†…" class="headerlink" title="3.å®Œæˆå®‰è£…ï¼ŒPEæˆåŠŸå®‰è£…è¿›Uç›˜å†…"></a>3.å®Œæˆå®‰è£…ï¼ŒPEæˆåŠŸå®‰è£…è¿›Uç›˜å†…</h3><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220627190210.png" alt="QQæˆªå›¾20220627190210"></p><ul><li>ç©ºç™½åˆ†åŒºï¼šæ™®é€šUç›˜</li><li>EFIåˆ†åŒºï¼šPEæœ¬èº«æ‰€åœ¨çš„åˆ†åŒºï¼Œä¸è¦æ›´æ”¹</li></ul><h3 id="4-ä¸‹è½½win10å®‰è£…åŒ…"><a href="#4-ä¸‹è½½win10å®‰è£…åŒ…" class="headerlink" title="4.ä¸‹è½½win10å®‰è£…åŒ…"></a>4.ä¸‹è½½win10å®‰è£…åŒ…</h3><ul><li>ä¸‹è½½ç½‘ç«™ï¼š<a href="https://msdn.itellyou.cn/">https://msdn.itellyou.cn/</a></li></ul><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220627190955.png" alt="QQæˆªå›¾20220627190955"></p><p>å¤åˆ¶è¿æ¥è¿…é›·ä¸‹è½½</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220627191516.png" alt="QQæˆªå›¾20220627191516"></p><p>ä¸‹è½½å®Œæˆä¹‹åæ¯”å¯¹å“ˆå¸Œå€¼ï¼Œç¡®ä¿é•œåƒæ–‡ä»¶å®Œæ•´æ€§</p><h3 id="5-å¯åŠ¨ç›˜åˆ¶ä½œå®Œæˆï¼"><a href="#5-å¯åŠ¨ç›˜åˆ¶ä½œå®Œæˆï¼" class="headerlink" title="5.å¯åŠ¨ç›˜åˆ¶ä½œå®Œæˆï¼"></a>5.å¯åŠ¨ç›˜åˆ¶ä½œå®Œæˆï¼</h3><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220627211853.png" alt="QQæˆªå›¾20220627211853"></p><h3 id="6-è¿›å…¥ä¸»æ¿BIOS"><a href="#6-è¿›å…¥ä¸»æ¿BIOS" class="headerlink" title="6.è¿›å…¥ä¸»æ¿BIOS"></a>6.è¿›å…¥ä¸»æ¿BIOS</h3><p><strong>å°†å¯åŠ¨ç›˜æ’å…¥å¾…é‡è£…ç³»ç»Ÿçš„ç”µè„‘ï¼ˆé‡è£…ç³»ç»Ÿä»è¿™ä¸€æ­¥å¼€å§‹ï¼Œå‰é¢æ“ä½œæ˜¯åœ¨åˆ¶ä½œå¯åŠ¨ç›˜ï¼‰</strong></p><p>ä¸åŒå“ç‰Œä»¥åŠå°å¼å’Œç¬”è®°æœ¬ç”µè„‘è¿›å…¥BIOSé¡µé¢çš„æ–¹å¼ä¸åŒï¼Œå…·ä½“å¯ç™¾åº¦æˆ–è€…æŸ¥é˜…ç¬”è®°æœ¬å®˜ç½‘</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220627200128.png" alt="QQæˆªå›¾20220627200128"></p><h3 id="7-ä¿®æ”¹å¯åŠ¨é¡¹"><a href="#7-ä¿®æ”¹å¯åŠ¨é¡¹" class="headerlink" title="7.ä¿®æ”¹å¯åŠ¨é¡¹"></a>7.ä¿®æ”¹å¯åŠ¨é¡¹</h3><ol><li>å°†UEFIå¼€å¤´çš„Uç›˜è®¾ä¸ºç¬¬ä¸€å¯åŠ¨é¡¹ï¼Œä¿å­˜å¹¶é‡å¯</li><li>æˆ–è€…ç›´æ¥è¿›å…¥ä»¥UEFIå¼€å¤´çš„Uç›˜å¯åŠ¨é¡¹</li></ol><p><img src="https://img.yiqiangshiyia.cn/blog/20211115142040.png" alt="20211115142040"></p><p>ç­‰å¾…å¯åŠ¨è¿›å…¥winPEæ¡Œé¢</p><h3 id="8-è¿›å…¥winPEæ¡Œé¢"><a href="#8-è¿›å…¥winPEæ¡Œé¢" class="headerlink" title="8.è¿›å…¥winPEæ¡Œé¢"></a>8.è¿›å…¥winPEæ¡Œé¢</h3><p>ç”±äºç¬¬ä¸€å¯åŠ¨é¡¹æ›´æ”¹æˆäº†Uç›˜ï¼Œè€ŒUç›˜å†…æœ‰PEä¾¿æºå¼æ“ä½œç³»ç»Ÿï¼Œæ‰€ä»¥ä¼šè‡ªåŠ¨è¿›å…¥winPEçš„æ¡Œé¢</p><p><img src="https://img.yiqiangshiyia.cn/blog/20211115142115.png" alt="20211115142115"></p><h3 id="9-ç£ç›˜åˆ†åŒº"><a href="#9-ç£ç›˜åˆ†åŒº" class="headerlink" title="9.ç£ç›˜åˆ†åŒº"></a>9.ç£ç›˜åˆ†åŒº</h3><p>ä¸ç”¨å¾®è½¯è‡ªå¸¦çš„åˆ†åŒºå·¥å…·ï¼ˆéº»çƒ¦ä¸”ä¸æ–¹ä¾¿ä½¿ç”¨ï¼‰ï¼Œæ”¹ç”¨æ›´é«˜çº§çš„ç¨‹åºã€‚æ‰“å¼€win PEæ¡Œé¢çš„åˆ†åŒºå·¥å…·ï¼ˆä¸€èˆ¬å«åˆ†åŒºç²¾çµï¼‰ï¼Œåˆ†åŒºç²¾çµæ˜¯ä¸€ä¸ªç£ç›˜ç®¡ç†ç¨‹åºï¼Œå®ƒç›¸å½“äºwin10çš„å®‰è£…ç¨‹åºè‡ªå¸¦çš„ç£ç›˜ç®¡ç†ï¼Œä¸ä»…æœ‰å›¾å½¢åŒ–ç•Œé¢ä¸”åŠŸèƒ½å¤š</p><p><strong>åˆ é™¤/ä¿ç•™ç£ç›˜</strong></p><p>å¦‚æœç£ç›˜å­˜åœ¨åˆ†åŒºï¼Œåˆ é™¤æ‰€æœ‰ç£ç›˜åˆ†åŒºå¹¶ä¿å­˜æ›´æ”¹ï¼›æ–°ç£ç›˜åˆ™é»˜è®¤ç©ºé—²çŠ¶æ€</p><p><strong>è½¬æ¢åˆ†åŒºè¡¨ç±»å‹</strong></p><ul><li>UEFIå¯åŠ¨å¯¹åº”åˆ†åŒºç±»å‹ï¼šGUIDï¼ˆä¹Ÿå°±æ˜¯GPTï¼‰</li><li>Legacyå¯åŠ¨å¯¹åº”åˆ†åŒºç±»å‹ï¼šMBR</li></ul><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220627203514.png" alt="QQæˆªå›¾20220627203514"></p><p><strong>å¿«é€Ÿåˆ†åŒº</strong></p><p>ç£ç›˜çš„åˆ†åŒºæ•°ç›®å’Œå¤§å°ä»¥åŠç£ç›˜åç§°éƒ½æ˜¯å¯ä»¥è‡ªå®šä¹‰çš„</p><p>ç³»ç»Ÿç›˜å»ºè®®å¤§å°ï¼š50-100G</p><p><strong>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šå‹¾é€‰å¯¹é½åˆ†åŒºåˆ°æ­¤æ‰‡åŒºçš„æ•´æ•°å€ï¼š2048æ‰‡åŒº</strong>ï¼ˆå›ºæ€ç¡¬ç›˜çš„4Kå¯¹é½ï¼Œä¸å‹¾é€‰ä¼šæŸåç¡¬ç›˜çš„æ€§èƒ½ä»¥åŠé™ä½å›ºæ€ç¡¬ç›˜çš„ä½¿ç”¨å¯¿å‘½ï¼‰</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220627203654.png" alt="QQæˆªå›¾20220627203654"></p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220627204112.png" alt="QQæˆªå›¾20220627204112"></p><p>ç¡®å®šä¹‹åï¼Œç¨ç­‰10sï¼Œç­‰å¾…åˆ†åŒºç²¾çµè¿ä½œ</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220627204559.png" alt="QQæˆªå›¾20220627204559"></p><p>å®Œæˆåˆ†åŒºï¼Œå…³é—­åˆ†åŒºç²¾çµ</p><h3 id="10-é‡è£…ç³»ç»Ÿ"><a href="#10-é‡è£…ç³»ç»Ÿ" class="headerlink" title="10.é‡è£…ç³»ç»Ÿ"></a>10.é‡è£…ç³»ç»Ÿ</h3><p>æ¥ä¸‹æ¥æ‰“å¼€æˆ‘çš„ç”µè„‘ï¼Œæ‰¾åˆ°ä¹‹å‰æ”¾åœ¨Uç›˜çš„win10å®‰è£…åŒ…</p><p><img src="https://img.yiqiangshiyia.cn/blog/20211115142337.png" alt="20211115142337"></p><p>ç„¶åå³é”®è£…è½½æˆ–è€…åŒå‡»ä¹‹åï¼Œæ‰“å¼€setup.exeå®‰è£…ç¨‹åº</p><p><img src="https://img.yiqiangshiyia.cn/blog/20211115142412.png" alt="20211115142412"></p><p><img src="https://img.yiqiangshiyia.cn/blog/20211115142432.png" alt="20211115142432"></p><p>åé¢å°±ä¸€ç›´æ˜¯å‚»ç“œå¼å®‰è£…ï¼</p><p>åˆ°è¿™ä¸€æ­¥ä¹‹åéœ€è¦æ³¨æ„ï¼</p><p><img src="https://img.yiqiangshiyia.cn/blog/20211115142721.png" alt="20211115142721"></p><p>ç”±äºå·²ç»ä½¿ç”¨è¿‡åˆ†åŒºç²¾çµå¯¹ç£ç›˜è¿›è¡Œäº†åˆ†åŒºï¼Œæ‰€æœ‰è¿™é‡Œå°±ä¸ç”¨å†ä½¿ç”¨å¾®è½¯è‡ªå¸¦çš„åˆ†åŒºå·¥å…·è¿›è¡Œåˆ†åŒºäº†</p><p>å› æ­¤ç›´æ¥é€‰æ‹©å°†ç³»ç»Ÿå®‰è£…åˆ°ä¹‹å‰åˆ†å¥½åŒºçš„80Gçš„Cç›˜ä¸Šå°±å¥½äº†</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220627205414.png" alt="QQæˆªå›¾20220627205414"></p><p>ç‚¹å‡»ä¸‹ä¸€æ­¥ï¼Œç­‰å¾…win10å®‰è£…ç¨‹åºè‡ªåŠ¨èµ°å®Œæµç¨‹</p><p><img src="https://img.yiqiangshiyia.cn/blog/20211115142856.png" alt="20211115142856"></p><p>å®‰è£…å®Œæˆåï¼Œ10såç”µè„‘ä¼šè‡ªåŠ¨é‡å¯ï¼æ‹”æ‰Uç›˜</p><p>ä¹‹åä¸è¦åŠ¨ç”µè„‘ï¼ŒæœŸé—´ç”µè„‘è‡ªåŠ¨é‡å¯2-3æ¬¡ï¼Œè€å¿ƒç­‰å¾…å°±å“¦å¯äº†</p><h3 id="11-é‡è£…ç³»ç»Ÿå®Œæˆ"><a href="#11-é‡è£…ç³»ç»Ÿå®Œæˆ" class="headerlink" title="11.é‡è£…ç³»ç»Ÿå®Œæˆ"></a>11.é‡è£…ç³»ç»Ÿå®Œæˆ</h3><p>ä¹‹åè¿›å…¥win10åˆå§‹åŒ–ä¸»ç•Œé¢</p><p>å®Œæˆä¸€ç³»åˆ—è®¾ç½®ä¹‹åï¼Œç„¶åwin10ä¼šèŠ±è´¹å‡ åˆ†é’Ÿçš„æ—¶é—´å®Œæˆæœ€åçš„åˆå§‹åŒ–æ“ä½œï¼Œè€å¿ƒç­‰å¾…å‡ åˆ†é’Ÿï¼Œç³»ç»Ÿå®‰è£…æˆåŠŸï¼Œå¤§åŠŸå‘Šæˆï¼ï¼ï¼</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220627210814.png" alt="QQæˆªå›¾20220627210814"></p><h3 id="12-ååº"><a href="#12-ååº" class="headerlink" title="12.ååº"></a>12.ååº</h3><p>ç³»ç»Ÿé‡è£…åå¯èƒ½ä¼šå‡ºç°ç¼ºå°‘é©±åŠ¨ç¨‹åºçš„æƒ…å†µï¼Œæ¯”å¦‚è¿æ¥wifiçš„é©±åŠ¨ï¼Œå¯ä»¥åˆ©ç”¨Uç›˜å®‰è£…é©±åŠ¨ç²¾çµè½¯ä»¶å®‰è£…é©±åŠ¨</p><p><strong>é©±åŠ¨ç®¡ç†å¯ä»¥æ£€æµ‹ç”µè„‘ç¼ºå°‘çš„é©±åŠ¨</strong></p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220627211128.png" alt="QQæˆªå›¾20220627211128"></p>]]></content>
    
    
    <categories>
      
      <category>è§£å¿§æ‚è´§</category>
      
    </categories>
    
    
    <tags>
      
      <tag>win10</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è¯¾è®¾ï¼šé«˜æ ¡å­¦ç±ç®¡ç†ç³»ç»Ÿ</title>
    <link href="/2022/06/14/%E8%AF%BE%E8%AE%BE%EF%BC%9A%E9%AB%98%E6%A0%A1%E5%AD%A6%E7%B1%8D%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/"/>
    <url>/2022/06/14/%E8%AF%BE%E8%AE%BE%EF%BC%9A%E9%AB%98%E6%A0%A1%E5%AD%A6%E7%B1%8D%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/</url>
    
    <content type="html"><![CDATA[<h2 id="é«˜æ ¡å­¦ç±ç®¡ç†ç³»ç»Ÿ"><a href="#é«˜æ ¡å­¦ç±ç®¡ç†ç³»ç»Ÿ" class="headerlink" title="é«˜æ ¡å­¦ç±ç®¡ç†ç³»ç»Ÿ"></a>é«˜æ ¡å­¦ç±ç®¡ç†ç³»ç»Ÿ</h2><h3 id="ç³»ç»Ÿè¦æ±‚"><a href="#ç³»ç»Ÿè¦æ±‚" class="headerlink" title="ç³»ç»Ÿè¦æ±‚"></a>ç³»ç»Ÿè¦æ±‚</h3><p><strong>é«˜æ ¡å­¦ç±ç®¡ç†ç³»ç»Ÿ</strong></p><p>åŠŸèƒ½è¦æ±‚ï¼š</p><ul><li>å®ç°å­¦ç”Ÿä¿¡æ¯ã€ç­çº§ã€é™¢ç³»ã€ä¸“ä¸šç­‰çš„ç®¡ç†ï¼›</li><li>å®ç°è¯¾ç¨‹ã€å­¦ç”Ÿæˆç»©ä¿¡æ¯ç®¡ç†ï¼›å®ç°å­¦ç”Ÿçš„å¥–æƒ©ä¿¡æ¯ç®¡ç†ï¼›</li><li>åˆ›å»ºè§„åˆ™ç”¨äºé™åˆ¶æ€§åˆ«é¡¹åªèƒ½è¾“å…¥â€œç”·â€æˆ–â€œå¥³â€ï¼›</li><li>åˆ›å»ºè§†å›¾æŸ¥è¯¢å„ä¸ªå­¦ç”Ÿçš„å­¦å·ã€å§“åã€ç­çº§ã€ä¸“ä¸šã€é™¢ç³»ï¼›</li><li>åˆ›å»ºå­˜å‚¨è¿‡ç¨‹æŸ¥è¯¢æŒ‡å®šå­¦ç”Ÿçš„æˆç»©å•ï¼›</li><li>åˆ›å»ºè§¦å‘å™¨å½“å¢åŠ ã€åˆ é™¤å­¦ç”Ÿå’Œä¿®æ”¹å­¦ç”Ÿç­çº§ä¿¡æ¯æ—¶è‡ªåŠ¨ä¿®æ”¹ç›¸åº”ç­çº§å­¦ç”Ÿäººæ•°ï¼›</li><li>å»ºç«‹æ•°æ®åº“ç›¸å…³è¡¨ä¹‹é—´çš„å‚ç…§å®Œæ•´æ€§çº¦æŸã€‚</li></ul><h3 id="é¡¹ç›®èƒŒæ™¯"><a href="#é¡¹ç›®èƒŒæ™¯" class="headerlink" title="é¡¹ç›®èƒŒæ™¯"></a>é¡¹ç›®èƒŒæ™¯</h3><p>æœ¬æ•°æ®åº“è¯¾ç¨‹è®¾è®¡é€‰é¢˜ä¸ºé«˜æ ¡å­¦ç±ç®¡ç†ç³»ç»Ÿï¼Œè¯¾ç¨‹è®¾è®¡çš„ç³»ç»Ÿæ¶æ„ä¸ºC/Sæ¶æ„ï¼Œæ•°æ®åº“é‡‡ç”¨çš„æ˜¯MySQLï¼Œé€‰ç”¨çš„ç¼–ç¨‹è¯­è¨€ä¸ºJavaï¼Œè¿æ¥æ•°æ®åº“çš„æ–¹å¼ä¸ºJDBCã€‚è¯¾ç¨‹è®¾è®¡æŠ¥å‘Šä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼šéœ€æ±‚åˆ†æã€æ¦‚å¿µç»“æ„è®¾è®¡ã€é€»è¾‘ç»“æ„è®¾è®¡ã€æ•°æ®åº“ç‰©ç†è®¾è®¡ä¸å®æ–½ã€æ•°æ®åº“æ“ä½œè¦æ±‚åŠå®ç°ã€æ¦‚å¿µç»“æ„è®¾è®¡ã€é€»è¾‘ç»“æ„è®¾è®¡ã€ç‰©ç†è®¾è®¡ã€æ•°æ®åº“å®æ–½ã€ç³»ç»Ÿè®¾è®¡ç›¸å…³ä»£ç ã€æ„Ÿæƒ³åŠå¿ƒå¾—ä½“ä¼šã€‚</p><h3 id="éƒ¨åˆ†å±•ç¤º"><a href="#éƒ¨åˆ†å±•ç¤º" class="headerlink" title="éƒ¨åˆ†å±•ç¤º"></a>éƒ¨åˆ†å±•ç¤º</h3><p><img src="https://img.yiqiangshiyia.cn/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202022-06-14%20114814.png" alt="å±å¹•æˆªå›¾ 2022-06-14 114814"></p><p><img src="https://img.yiqiangshiyia.cn/blog/%E5%88%9D%E5%A7%8B%E7%99%BB%E5%BD%95%E7%95%8C%E9%9D%A2.jpg" alt="åˆå§‹ç™»å½•ç•Œé¢"></p><p><img src="https://img.yiqiangshiyia.cn/blog/%E8%BF%9B%E5%85%A5%E5%AD%A6%E7%94%9F%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F.jpg" alt="è¿›å…¥å­¦ç”Ÿç®¡ç†ç³»ç»Ÿ"></p><p><img src="https://img.yiqiangshiyia.cn/blog/%E6%9F%A5%E8%AF%A2%E5%AD%A6%E7%94%9F%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF.jpg" alt="æŸ¥è¯¢å­¦ç”ŸåŸºæœ¬ä¿¡æ¯"></p><p><img src="https://img.yiqiangshiyia.cn/blog/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202022-06-14%20115014.png" alt="å±å¹•æˆªå›¾ 2022-06-14 115014"></p><h3 id="æ•°æ®åº“ä»£ç "><a href="#æ•°æ®åº“ä»£ç " class="headerlink" title="æ•°æ®åº“ä»£ç "></a>æ•°æ®åº“ä»£ç </h3><h4 id="åŸºæœ¬è¡¨åˆ›å»º"><a href="#åŸºæœ¬è¡¨åˆ›å»º" class="headerlink" title="åŸºæœ¬è¡¨åˆ›å»º"></a>åŸºæœ¬è¡¨åˆ›å»º</h4><p>1.åˆ›å»ºå­¦ç”Ÿè¡¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs mysql">CREATE TABLE student(<br>snoVARCHAR(20) PRIMARY KEY,<br>sname VARCHAR(20) NOT NULL,<br>sex VARCHAR(6) NOT NULL,<br>birth DATE,<br>telVARCHAR(20),<br>qq VARCHAR(20),<br>sdeptVARCHAR(20)NOT NULL,<br>classVARCHAR(20)NOT NULL,<br>addressVARCHAR(50)<br>);<br></code></pre></td></tr></table></figure><p>2.åˆ›å»ºæ•™å¸ˆè¡¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs mysql">CREATE TABLE teacher(<br>tno VARCHAR(20) PRIMARY KEY,<br>tname VARCHAR(20) NOT NULL,<br>classVARCHAR(20)NOT NULL,<br>cnoVARCHAR(20)NOT NULL,<br>Foreign KEY (cno) REFERENCES Course(cno)<br>);<br></code></pre></td></tr></table></figure><p>3.åˆ›å»ºå­¦ç”Ÿæˆç»©è¡¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs mysql">CREATE TABLE sc(<br>snoVARCHAR(20),<br>cnoVARCHAR(20),<br>gradeFLOAT,<br>point FLOAT,<br>PRIMARY KEY(sno,cno),<br>Foreign KEY (sno) REFERENCES Student(sno),<br>Foreign KEY (cno) REFERENCES Course(cno)<br>);<br></code></pre></td></tr></table></figure><p>4.åˆ›å»ºå­¦ç”Ÿå¥–æƒ©è¡¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs mysql">CREATE TABLE rp(<br>  rpno VARCHAR(20),<br>styleVARCHAR(2),<br>snoVARCHAR(20),<br>snameVARCHAR(20),<br>repunish VARCHAR(50),<br>PRIMARY KEY(sno,rpno),<br>Foreign Key(sno) REFERENCES Student(sno)<br>);<br></code></pre></td></tr></table></figure><p>5.åˆ›å»ºè¯¾ç¨‹è¡¨ </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs mysql">CREATE TABLE course( <br>   cno VARCHAR(20) PRIMARY KEY,<br>   cname VARCHAR(20) NOT NULL,<br>   cpnoVARCHAR(20) ,<br>   creditFLOAT NOT NULL,<br>   tnameVARCHAR(20) NOT NULL<br>);<br></code></pre></td></tr></table></figure><p>6.åˆ›å»ºéƒ¨é—¨ã€ä¸“ä¸šå’Œç­çº§è¡¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs mysql">CREATE TABLE dmc(<br>department VARCHAR(20) NOT NULL,<br>sdeptVARCHAR(20)NOT NULL,<br>classVARCHAR(20) NOT NULL,<br>renshu VARCHAR(20) NOT NULL<br>);<br></code></pre></td></tr></table></figure><p>7.åˆ›å»ºç”¨æˆ·ä¿¡æ¯è¡¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs mysql">CREATE TABLE user( <br>  unameVARCHAR(20) NOT NULL,<br>  upassVARCHAR(30) NOT NULL,<br>  bs INT NOT NULL<br>);<br></code></pre></td></tr></table></figure><h4 id="CHECKçº¦æŸ"><a href="#CHECKçº¦æŸ" class="headerlink" title="CHECKçº¦æŸ"></a>CHECKçº¦æŸ</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mysql">ALTER TABLE student<br>ADD CONSTRAINT C1 CHECK(sex=&#x27;ç”·&#x27; OR sex=&#x27;å¥³&#x27;);<br></code></pre></td></tr></table></figure><h4 id="ç´¢å¼•"><a href="#ç´¢å¼•" class="headerlink" title="ç´¢å¼•"></a>ç´¢å¼•</h4><p>ä¸ºå­¦ç”Ÿè¡¨çš„å­¦å·åˆ›å»ºç´¢å¼•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">CREATE INDEX index_id ON student(sno)<br></code></pre></td></tr></table></figure><h4 id="è§†å›¾"><a href="#è§†å›¾" class="headerlink" title="è§†å›¾"></a>è§†å›¾</h4><p>1.åˆ›å»ºå­¦ç”Ÿ-ç­çº§è§†å›¾</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs mysql">CREATE VIEW Stu_DMC<br>AS<br>SELECT sno,sname,sex,dmc.class,dmc.sdept,department<br>FROM student,dmc<br>WHERE student.class=dmc.class<br></code></pre></td></tr></table></figure><p>2.åˆ›å»ºå­¦ç”Ÿ-è¯¾ç¨‹-æˆç»©è§†å›¾</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs mysql">CREATE VIEW Stu_Cou_SC<br>AS<br>SELECT sc.sno,student.sname,sc.cno,cname,credit,grade,point,tname<br>FROM student,sc,course<br>WHERE student.sno=sc.sno AND sc.cno=course.cno<br></code></pre></td></tr></table></figure><p>3.åˆ›å»ºæ•™å¸ˆ-è¯¾ç¨‹è§†å›¾</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs mysql">CREATE VIEW Tea_Cou<br>AS<br>SELECT tno,teacher.tname,class,teacher.cno,cname<br>FROM teacher,course<br>WHERE teacher.cno=course.cno<br></code></pre></td></tr></table></figure><h4 id="è§¦å‘å™¨"><a href="#è§¦å‘å™¨" class="headerlink" title="è§¦å‘å™¨"></a>è§¦å‘å™¨</h4><p>1.åˆ›å»ºè§¦å‘å™¨å½“å¢åŠ å­¦ç”Ÿç­çº§ä¿¡æ¯æ—¶è‡ªåŠ¨ä¿®æ”¹ç›¸åº”ç­çº§å­¦ç”Ÿäººæ•°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs mysql">CREATE TRIGGER tri_renshu_insert<br>AFTER INSERT ON student<br>FOR EACH ROW<br>BEGIN<br>UPDATE dmc<br>SET  renshu=renshu+1<br>WHERE dmc.class=new.class;<br>END;<br></code></pre></td></tr></table></figure><p>2.åˆ›å»ºè§¦å‘å™¨å½“åˆ é™¤å­¦ç”Ÿç­çº§ä¿¡æ¯æ—¶è‡ªåŠ¨ä¿®æ”¹ç›¸åº”ç­çº§å­¦ç”Ÿäººæ•°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs mysql">CREATE TRIGGER tri_renshu_delete<br>AFTER DELETE ON student<br>FOR EACH ROW<br>BEGIN<br>UPDATE dmc<br>SET  renshu=renshu-1<br>WHERE dmc.class=old.class;<br>END;<br></code></pre></td></tr></table></figure><h4 id="å­˜å‚¨è¿‡ç¨‹"><a href="#å­˜å‚¨è¿‡ç¨‹" class="headerlink" title="å­˜å‚¨è¿‡ç¨‹"></a>å­˜å‚¨è¿‡ç¨‹</h4><p>åˆ›å»ºå­˜å‚¨è¿‡ç¨‹æŸ¥è¯¢æŒ‡å®šå­¦ç”Ÿçš„æˆç»©å•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs mysql">CREATE PROCEDURE show_grade(sno VARCHAR(20))<br>BEGIN<br>SELECT grade<br>FROM sc<br>WHERE sc.sno=sno;<br>END<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®åº“</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è¯¾è®¾</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SSM-MyBatis</title>
    <link href="/2022/06/06/SSM-MyBatis/"/>
    <url>/2022/06/06/SSM-MyBatis/</url>
    
    <content type="html"><![CDATA[<p><strong>Mybatiså®˜æ–¹æ–‡æ¡£ : <a href="http://www.mybatis.org/mybatis-3/zh/index.html">http://www.mybatis.org/mybatis-3/zh/index.html</a></strong></p><h1 id="1-Mybatisç®€ä»‹"><a href="#1-Mybatisç®€ä»‹" class="headerlink" title="1. Mybatisç®€ä»‹"></a>1. Mybatisç®€ä»‹</h1><p>ç¯å¢ƒè¯´æ˜ï¼š</p><ul><li><p>jdk 8 +</p></li><li><p>MySQL 5.7.</p></li><li><p>maven-3.6.</p></li><li><p>IDEA</p></li></ul><p>å­¦ä¹ å‰éœ€è¦æŒæ¡ï¼š</p><ul><li><p>JDBC</p></li><li><p>MySQL</p></li><li><p>Java åŸºç¡€</p></li><li><p>Maven</p></li><li><p>Junit</p></li></ul><h2 id="1-1-ä»€ä¹ˆæ˜¯MyBatis"><a href="#1-1-ä»€ä¹ˆæ˜¯MyBatis" class="headerlink" title="1.1 ä»€ä¹ˆæ˜¯MyBatis"></a>1.1 ä»€ä¹ˆæ˜¯MyBatis</h2><p><img src="https://mybatis.org/images/mybatis-logo.png" alt="MyBatis logo"></p><ul><li><p>MyBatis æ˜¯ä¸€æ¬¾ä¼˜ç§€çš„<strong>æŒä¹…å±‚æ¡†æ¶</strong></p></li><li><p>MyBatis é¿å…äº†å‡ ä¹æ‰€æœ‰çš„ JDBC ä»£ç å’Œæ‰‹åŠ¨è®¾ç½®å‚æ•°ä»¥åŠè·å–ç»“æœé›†çš„è¿‡ç¨‹</p></li><li><p>MyBatis å¯ä»¥ä½¿ç”¨ç®€å•çš„ XML æˆ–æ³¨è§£æ¥é…ç½®å’Œæ˜ å°„åŸç”Ÿä¿¡æ¯ï¼Œå°†æ¥å£å’Œ Java çš„ å®ä½“ç±» ã€Plain Old Java Objects,æ™®é€šçš„ Javaå¯¹è±¡ã€‘æ˜ å°„æˆæ•°æ®åº“ä¸­çš„è®°å½•ã€‚</p></li><li><p>MyBatis æœ¬æ˜¯apacheçš„ä¸€ä¸ªå¼€æºé¡¹ç›®ibatis, 2010å¹´è¿™ä¸ªé¡¹ç›®ç”±apache è¿ç§»åˆ°äº†google codeï¼Œå¹¶ä¸”æ”¹åä¸ºMyBatis ã€‚</p></li><li><p>2013 å¹´ 11 æœˆè¿ç§»åˆ° <strong>Github</strong>.</p></li><li><p>Mybatiså®˜æ–¹æ–‡æ¡£ : <a href="http://www.mybatis.org/mybatis-3/zh/index.html">http://www.mybatis.org/mybatis-3/zh/index.html</a></p></li><li><p>GitHub : <a href="https://github.com/mybatis/mybatis-">https://github.com/mybatis/mybatis-</a></p></li></ul><h2 id="1-2-æŒä¹…åŒ–"><a href="#1-2-æŒä¹…åŒ–" class="headerlink" title="1.2 æŒä¹…åŒ–"></a>1.2 æŒä¹…åŒ–</h2><ul><li><p><strong>æŒä¹…åŒ–æ˜¯å°†ç¨‹åºæ•°æ®åœ¨æŒä¹…çŠ¶æ€å’Œç¬æ—¶çŠ¶æ€é—´è½¬æ¢çš„æœºåˆ¶ã€‚</strong></p><ul><li><p>å³æŠŠæ•°æ®ï¼ˆå¦‚å†…å­˜ä¸­çš„å¯¹è±¡ï¼‰ä¿å­˜åˆ°å¯æ°¸ä¹…ä¿å­˜çš„å­˜å‚¨è®¾å¤‡ä¸­ï¼ˆå¦‚ç£ç›˜ï¼‰ã€‚æŒä¹…åŒ–çš„ä¸»è¦åº”ç”¨æ˜¯å°†å†…å­˜ä¸­çš„å¯¹è±¡å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ï¼Œæˆ–è€…å­˜å‚¨åœ¨ç£ç›˜æ–‡ä»¶ä¸­ã€XMLæ•°æ®æ–‡ä»¶ä¸­ç­‰ç­‰ã€‚</p></li><li><p>JDBCå°±æ˜¯ä¸€ç§æŒä¹…åŒ–æœºåˆ¶ã€‚æ–‡ä»¶IOä¹Ÿæ˜¯ä¸€ç§æŒä¹…åŒ–æœºåˆ¶ã€‚</p></li><li><p>åœ¨ç”Ÿæ´»ä¸­ : å°†é²œè‚‰å†·è—ï¼Œåƒçš„æ—¶å€™å†è§£å†»çš„æ–¹æ³•ä¹Ÿæ˜¯ã€‚å°†æ°´æœåšæˆç½å¤´çš„æ–¹æ³•ä¹Ÿæ˜¯ã€‚</p></li></ul></li><li><h5 id="ä¸ºä»€ä¹ˆéœ€è¦æŒä¹…åŒ–æœåŠ¡å‘¢ï¼Ÿé‚£æ˜¯ç”±äºå†…å­˜æœ¬èº«çš„ç¼ºé™·å¼•èµ·çš„"><a href="#ä¸ºä»€ä¹ˆéœ€è¦æŒä¹…åŒ–æœåŠ¡å‘¢ï¼Ÿé‚£æ˜¯ç”±äºå†…å­˜æœ¬èº«çš„ç¼ºé™·å¼•èµ·çš„" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦æŒä¹…åŒ–æœåŠ¡å‘¢ï¼Ÿé‚£æ˜¯ç”±äºå†…å­˜æœ¬èº«çš„ç¼ºé™·å¼•èµ·çš„"></a>ä¸ºä»€ä¹ˆéœ€è¦æŒä¹…åŒ–æœåŠ¡å‘¢ï¼Ÿé‚£æ˜¯ç”±äºå†…å­˜æœ¬èº«çš„ç¼ºé™·å¼•èµ·çš„</h5><ul><li><p>å†…å­˜æ–­ç”µåæ•°æ®ä¼šä¸¢å¤±ï¼Œä½†æœ‰ä¸€äº›å¯¹è±¡æ˜¯æ— è®ºå¦‚ä½•éƒ½ä¸èƒ½ä¸¢å¤±çš„ï¼Œæ¯”å¦‚é“¶è¡Œè´¦å·ç­‰ï¼Œé—æ†¾çš„æ˜¯ï¼Œäººä»¬è¿˜æ— æ³•ä¿è¯å†…å­˜æ°¸ä¸æ‰ç”µã€‚</p></li><li><p>å†…å­˜è¿‡äºæ˜‚è´µï¼Œä¸ç¡¬ç›˜ã€å…‰ç›˜ç­‰å¤–å­˜ç›¸æ¯”ï¼Œå†…å­˜çš„ä»·æ ¼è¦é«˜2~3ä¸ªæ•°é‡çº§ï¼Œè€Œä¸”ç»´æŒæˆæœ¬ä¹Ÿé«˜ï¼Œè‡³å°‘éœ€è¦ä¸€ç›´ä¾›ç”µå§ã€‚æ‰€ä»¥å³ä½¿å¯¹è±¡ä¸éœ€è¦æ°¸ä¹…ä¿å­˜ï¼Œä¹Ÿä¼šå› ä¸ºå†…å­˜çš„å®¹é‡é™åˆ¶ä¸èƒ½ä¸€ç›´å‘†åœ¨å†…å­˜ä¸­ï¼Œéœ€è¦æŒä¹…åŒ–æ¥ç¼“å­˜åˆ°å¤–å­˜ã€‚</p></li></ul></li></ul><h2 id="1-3-æŒä¹…å±‚"><a href="#1-3-æŒä¹…å±‚" class="headerlink" title="1.3 æŒä¹…å±‚"></a>1.3 æŒä¹…å±‚</h2><ul><li><p>ä»€ä¹ˆæ˜¯æŒä¹…å±‚ï¼Ÿ</p><ul><li><p>å®ŒæˆæŒä¹…åŒ–å·¥ä½œçš„ä»£ç å—. â€”-&gt; daoå±‚ ã€DAO (Data Access Object) æ•°æ®è®¿é—®å¯¹è±¡ã€‘</p></li><li><p>å¤§å¤šæ•°æƒ…å†µä¸‹ç‰¹åˆ«æ˜¯ä¼ä¸šçº§åº”ç”¨ï¼Œæ•°æ®æŒä¹…åŒ–å¾€å¾€ä¹Ÿå°±æ„å‘³ç€å°†å†…å­˜ä¸­çš„æ•°æ®ä¿å­˜åˆ°ç£ç›˜ä¸ŠåŠ ä»¥å›ºåŒ–ï¼Œè€ŒæŒä¹…åŒ–çš„å®ç°è¿‡ç¨‹åˆ™å¤§å¤šé€šè¿‡å„ç§<strong>å…³ç³»æ•°æ®åº“</strong>æ¥å®Œæˆã€‚</p></li><li><p>ä¸è¿‡è¿™é‡Œæœ‰ä¸€ä¸ªå­—éœ€è¦ç‰¹åˆ«å¼ºè°ƒï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„â€œå±‚â€ã€‚å¯¹äºåº”ç”¨ç³»ç»Ÿè€Œè¨€ï¼Œæ•°æ®æŒä¹…åŠŸèƒ½å¤§å¤šæ˜¯å¿…ä¸å¯å°‘çš„ç»„æˆéƒ¨åˆ†ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬çš„ç³»ç»Ÿä¸­ï¼Œå·²ç»å¤©ç„¶çš„å…·å¤‡äº†â€œæŒä¹…å±‚â€æ¦‚å¿µï¼Ÿä¹Ÿè®¸æ˜¯ï¼Œä½†ä¹Ÿè®¸å®é™…æƒ…å†µå¹¶éå¦‚æ­¤ã€‚ä¹‹æ‰€ä»¥è¦ç‹¬ç«‹å‡ºä¸€ä¸ªâ€œæŒä¹…å±‚â€çš„æ¦‚å¿µ,è€Œä¸æ˜¯â€œæŒä¹…æ¨¡å—â€ï¼Œâ€œæŒä¹…å•å…ƒâ€ï¼Œä¹Ÿå°±æ„å‘³ç€ï¼Œæˆ‘ä»¬çš„ç³»ç»Ÿæ¶æ„ä¸­ï¼Œåº”è¯¥æœ‰ä¸€ä¸ªç›¸å¯¹ç‹¬ç«‹çš„é€»è¾‘å±‚é¢ï¼Œä¸“è‘—äºæ•°æ®æŒä¹…åŒ–é€»è¾‘çš„å®ç°.</p></li><li><p>ä¸ç³»ç»Ÿå…¶ä»–éƒ¨åˆ†ç›¸å¯¹è€Œè¨€ï¼Œè¿™ä¸ªå±‚é¢åº”è¯¥å…·æœ‰ä¸€ä¸ªè¾ƒä¸ºæ¸…æ™°å’Œä¸¥æ ¼çš„é€»è¾‘è¾¹ç•Œã€‚ ã€è¯´ç™½äº†å°±æ˜¯ç”¨æ¥æ“ä½œæ•°æ®åº“å­˜åœ¨çš„ï¼ã€‘</p></li></ul></li></ul><h2 id="1-4-ä¸ºä»€ä¹ˆéœ€è¦Mybatis"><a href="#1-4-ä¸ºä»€ä¹ˆéœ€è¦Mybatis" class="headerlink" title="1.4 ä¸ºä»€ä¹ˆéœ€è¦Mybatis"></a>1.4 ä¸ºä»€ä¹ˆéœ€è¦Mybatis</h2><ul><li><p>Mybatiså°±æ˜¯å¸®åŠ©ç¨‹åºçŒ¿å°†æ•°æ®å­˜å…¥æ•°æ®åº“ä¸­ , å’Œä»æ•°æ®åº“ä¸­å–æ•°æ®.</p></li><li><p>ä¼ ç»Ÿçš„jdbcæ“ä½œ , æœ‰å¾ˆå¤šé‡å¤ä»£ç å— .æ¯”å¦‚ : æ•°æ®å–å‡ºæ—¶çš„å°è£… , æ•°æ®åº“çš„å»ºç«‹è¿æ¥ç­‰ç­‰â€¦ , é€šè¿‡æ¡†æ¶å¯ä»¥å‡å°‘é‡å¤ä»£ç ,æé«˜å¼€å‘æ•ˆç‡.</p></li><li><p>MyBatis æ˜¯ä¸€ä¸ªåŠè‡ªåŠ¨åŒ–çš„ <strong>ORMæ¡†æ¶ (Object Relationship Mapping) â€“&gt;å¯¹è±¡å…³ç³»æ˜ å°„</strong></p></li><li><p>æ‰€æœ‰çš„äº‹æƒ…ï¼Œä¸ç”¨Mybatisä¾æ—§å¯ä»¥åšåˆ°ï¼Œåªæ˜¯ç”¨äº†å®ƒï¼Œæ‰€æœ‰å®ç°ä¼šæ›´åŠ ç®€å•ï¼ æŠ€æœ¯æ²¡æœ‰é«˜ä½ä¹‹åˆ†ï¼Œåªæœ‰ä½¿ç”¨è¿™ä¸ªæŠ€æœ¯çš„äººæœ‰é«˜ä½ä¹‹åˆ«</p></li><li><p>MyBatisçš„ä¼˜ç‚¹</p><ul><li>ç®€å•æ˜“å­¦ï¼šæœ¬èº«å°±å¾ˆå°ä¸”ç®€å•ã€‚æ²¡æœ‰ä»»ä½•ç¬¬ä¸‰æ–¹ä¾èµ–ï¼Œæœ€ç®€å•å®‰è£…åªè¦ä¸¤ä¸ªjaræ–‡ä»¶+é…ç½®å‡ ä¸ªsqlæ˜ å°„æ–‡ä»¶å°±å¯ä»¥äº†ï¼Œæ˜“äºå­¦ä¹ ï¼Œæ˜“äºä½¿ç”¨ï¼Œé€šè¿‡æ–‡æ¡£å’Œæºä»£ç ï¼Œå¯ä»¥æ¯”è¾ƒå®Œå…¨çš„æŒæ¡å®ƒçš„è®¾è®¡æ€è·¯å’Œå®ç°ã€‚</li><li>çµæ´»ï¼šmybatisä¸ä¼šå¯¹åº”ç”¨ç¨‹åºæˆ–è€…æ•°æ®åº“çš„ç°æœ‰è®¾è®¡å¼ºåŠ ä»»ä½•å½±å“ã€‚ sqlå†™åœ¨xmlé‡Œï¼Œä¾¿äºç»Ÿä¸€ç®¡ç†å’Œä¼˜åŒ–ã€‚é€šè¿‡sqlè¯­å¥å¯ä»¥æ»¡è¶³æ“ä½œæ•°æ®åº“çš„æ‰€æœ‰éœ€æ±‚ã€‚</li><li>è§£é™¤sqlä¸ç¨‹åºä»£ç çš„è€¦åˆï¼šé€šè¿‡æä¾›DAOå±‚ï¼Œå°†ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®è®¿é—®é€»è¾‘åˆ†ç¦»ï¼Œä½¿ç³»ç»Ÿçš„è®¾è®¡æ›´æ¸…æ™°ï¼Œæ›´æ˜“ç»´æŠ¤ï¼Œæ›´æ˜“å•å…ƒæµ‹è¯•ã€‚sqlå’Œä»£ç çš„åˆ†ç¦»ï¼Œæé«˜äº†å¯ç»´æŠ¤æ€§ã€‚</li><li>æä¾›xmlæ ‡ç­¾ï¼Œæ”¯æŒç¼–å†™åŠ¨æ€sqlã€‚</li><li>â€¦â€¦.</li></ul></li></ul><h1 id="2-ç¬¬ä¸€ä¸ªMyBatisç¨‹åº"><a href="#2-ç¬¬ä¸€ä¸ªMyBatisç¨‹åº" class="headerlink" title="2. ç¬¬ä¸€ä¸ªMyBatisç¨‹åº"></a>2. ç¬¬ä¸€ä¸ªMyBatisç¨‹åº</h1><p>æ€è·¯æµç¨‹ï¼šæ­å»ºç¯å¢ƒâ€“&gt;å¯¼å…¥Mybatisâ€”&gt;ç¼–å†™ä»£ç â€”&gt;æµ‹è¯•</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220609172441.png" alt="QQæˆªå›¾20220609172441"></p><p>æµ‹è¯•ç»“æœ</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220609172503.png" alt="QQæˆªå›¾20220609172503"></p><h2 id="2-1-ä»£ç æ¼”ç¤º"><a href="#2-1-ä»£ç æ¼”ç¤º" class="headerlink" title="2.1 ä»£ç æ¼”ç¤º"></a>2.1 ä»£ç æ¼”ç¤º</h2><ol><li><p><strong>æ­å»ºå®éªŒæ•°æ®åº“</strong></p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220609172323.png" alt="QQæˆªå›¾20220609172323"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs mysql">CREATE DATABASE `mybatis`;<br><br>CREATE TABLE `user` (<br>`id` int(20) PRIMARY KEY,<br>`name` varchar(20) NOT NULL,<br>`pwd` varchar(20) NOT NULL<br>);<br></code></pre></td></tr></table></figure></li><li><p><strong>å¯¼å…¥MyBatisç›¸å…³ jar åŒ…ï¼ˆpom.xmlï¼‰</strong></p><ul><li>GitHubä¸Šæ‰¾</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">modelVersion</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--çˆ¶å·¥ç¨‹--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.example<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>Mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">packaging</span>&gt;</span>pom<span class="hljs-tag">&lt;/<span class="hljs-name">packaging</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--å­æ¨¡å—--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">modules</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">module</span>&gt;</span>mybatis-01<span class="hljs-tag">&lt;/<span class="hljs-name">module</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">modules</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--å¯¼å…¥ä¾èµ–--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--mysqlé©±åŠ¨--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>8.0.27<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--mybatis--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.5.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--junit--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.12<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--åœ¨buildä¸­é…ç½®resources,æ¥é˜²æ­¢æˆ‘ä»¬èµ„æºå¯¼å‡ºå¤±è´¥çš„é—®é¢˜--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/java<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/resources<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p><strong>ç¼–å†™MyBatisæ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼ˆmybatis-config.xmlï¼‰</strong></p><ul><li>æŸ¥çœ‹å¸®åŠ©æ–‡æ¡£</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span> ?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">configuration</span></span><br><span class="hljs-meta">        <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span><br><span class="hljs-meta">        <span class="hljs-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span><br><span class="hljs-comment">&lt;!--configurationæ ¸å¿ƒé…ç½®æ–‡ä»¶--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">environments</span> <span class="hljs-attr">default</span>=<span class="hljs-string">&quot;development&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">environment</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;development&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">transactionManager</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;JDBC&quot;</span>/&gt;</span>  <span class="hljs-comment">&lt;!--äº‹ç‰©ç®¡ç†--&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">dataSource</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;POOLED&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;driver&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>/&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;url&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;jdbc:mysql://localhost:3306/mybatis?useSSL=true<span class="hljs-symbol">&amp;amp;</span>useUnicode=true<span class="hljs-symbol">&amp;amp;</span>characterEncoding=utf8&quot;</span>/&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;root&quot;</span>/&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;123456&quot;</span>/&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">dataSource</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">environment</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">environments</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--æ¯ä¸€ä¸ªMapper.xmléƒ½éœ€è¦åœ¨mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æ³¨å†Œ--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;ssm/study/dao/userMapper.xml&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p><strong>ç¼–å†™MyBatiså·¥å…·ç±»ï¼ˆMybatisUtils.javaï¼‰</strong></p><ul><li>æŸ¥çœ‹å¸®åŠ©æ–‡æ¡£</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/*</span><br><span class="hljs-comment">    å·¥å…·ç±»</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">package</span> ssm.study.utils;<br><br><span class="hljs-keyword">import</span> org.apache.ibatis.io.Resources;<br><span class="hljs-keyword">import</span> org.apache.ibatis.session.SqlSession;<br><span class="hljs-keyword">import</span> org.apache.ibatis.session.SqlSessionFactory;<br><span class="hljs-keyword">import</span> org.apache.ibatis.session.SqlSessionFactoryBuilder;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.InputStream;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MybatisUtils</span> &#123;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> SqlSessionFactory sqlSessionFactory;<br><br>    <span class="hljs-keyword">static</span> &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-comment">//è·å–SqlSessionFactoryå¯¹è±¡</span><br>            <span class="hljs-type">String</span> <span class="hljs-variable">resource</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;mybatis-config.xml&quot;</span>;<br>            <span class="hljs-type">InputStream</span> <span class="hljs-variable">inputStream</span> <span class="hljs-operator">=</span> Resources.getResourceAsStream(resource);<br>            sqlSessionFactory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>().build(inputStream);<br>        &#125; <span class="hljs-keyword">catch</span> (IOException e) &#123;<br>            e.printStackTrace();<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">//è·å–SqlSessionè¿æ¥</span><br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">        æ—¢ç„¶æœ‰äº†SqlSessionFactoryï¼Œæˆ‘ä»¬å°±å¯ä»¥ä»ä¸­è·å–SqlSessionå®ä¾‹äº†</span><br><span class="hljs-comment">        SqlSessionå®Œå…¨åŒ…å«äº†é¢å‘æ•°æ®åº“æ‰§è¡Œsqlæ‰€éœ€è¦çš„æ–¹æ³•</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SqlSession <span class="hljs-title function_">getSession</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">return</span> sqlSessionFactory.openSession();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p><strong>åˆ›å»ºå®ä½“ç±»ï¼ˆUser.javaï¼‰</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> ssm.study.pojo;<br><br><span class="hljs-comment">//å®ä½“ç±»</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> &#123;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> id; <span class="hljs-comment">//id</span><br>    <span class="hljs-keyword">private</span> String name; <span class="hljs-comment">//å§“å</span><br>    <span class="hljs-keyword">private</span> String pwd; <span class="hljs-comment">//å¯†ç </span><br><br>    <span class="hljs-comment">//æ„é€ ,æœ‰å‚,æ— å‚</span><br>    <span class="hljs-comment">//set/get</span><br>    <span class="hljs-comment">//toString()</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">User</span><span class="hljs-params">()</span>&#123;<br><br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">User</span><span class="hljs-params">(<span class="hljs-type">int</span> id, String name, String pwd)</span> &#123;<br>        <span class="hljs-built_in">this</span>.id = id;<br>        <span class="hljs-built_in">this</span>.name = name;<br>        <span class="hljs-built_in">this</span>.pwd = pwd;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> id;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(<span class="hljs-type">int</span> id)</span> &#123;<br>        <span class="hljs-built_in">this</span>.id = id;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getPwd</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> pwd;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setPwd</span><span class="hljs-params">(String pwd)</span> &#123;<br>        <span class="hljs-built_in">this</span>.pwd = pwd;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;User&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;id=&quot;</span> + id +<br>                <span class="hljs-string">&quot;, name=&#x27;&quot;</span> + name + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&quot;, pwd=&#x27;&quot;</span> + pwd + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p><strong>ç¼–å†™Mapperæ¥å£ç±»ï¼ˆUserMapper.javaï¼‰</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> ssm.study.dao;<br><br><span class="hljs-keyword">import</span> ssm.study.pojo.User;<br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserMapper</span> &#123;<br>    List&lt;User&gt; <span class="hljs-title function_">selectUser</span><span class="hljs-params">()</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p><strong>ç¼–å†™Mapper.xmlé…ç½®æ–‡ä»¶ï¼ˆUserMapper.xmlï¼‰</strong></p><ul><li>namespace ååˆ†é‡è¦ï¼Œä¸èƒ½å†™é”™ï¼</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span> ?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">mapper</span></span><br><span class="hljs-meta">        <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span><br><span class="hljs-meta">        <span class="hljs-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span><br><span class="hljs-comment">&lt;!--namespaceç»‘å®šä¸€ä¸ªå¯¹åº”çš„Mapper/Daoæ¥å£--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">&quot;ssm.study.dao.UserMapper&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;selectUser&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;ssm.study.pojo.User&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--sqlè¯­å¥--&gt;</span><br>        select * from user<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p><strong>ç¼–å†™æµ‹è¯•ç±»ï¼ˆUserMapperTest.javaï¼‰</strong></p><ul><li>Junit åŒ…æµ‹è¯•</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> ssm.study.dao;<br><br><span class="hljs-keyword">import</span> ssm.study.pojo.User;<br><span class="hljs-keyword">import</span> ssm.study.utils.MybatisUtils;<br><span class="hljs-keyword">import</span> org.apache.ibatis.session.SqlSession;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserMapperTest</span> &#123;<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">selectUser</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">//ç¬¬ä¸€æ­¥ ï¼šè·å¾—sqlSessionå¯¹è±¡</span><br>        <span class="hljs-type">SqlSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> MybatisUtils.getSession();<br><br>        <span class="hljs-comment">//æ–¹å¼ä¸€ï¼šgetMapper</span><br>        <span class="hljs-type">UserMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> session.getMapper(UserMapper.class);<br>        List&lt;User&gt; userList = mapper.selectUser();<br><br>        <span class="hljs-keyword">for</span> (User user: userList)&#123;<br>            System.out.println(user);<br>        &#125;<br><br>        <span class="hljs-comment">//å…³é—­SqlSession</span><br>        session.close();<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure></li><li><p><strong>è¿è¡Œæµ‹è¯•</strong></p></li></ol><h2 id="2-2-é—®é¢˜è¯´æ˜"><a href="#2-2-é—®é¢˜è¯´æ˜" class="headerlink" title="2.2 é—®é¢˜è¯´æ˜"></a>2.2 é—®é¢˜è¯´æ˜</h2><p><strong>å¯èƒ½å‡ºç°é—®é¢˜è¯´æ˜ï¼šMavené™æ€èµ„æºè¿‡æ»¤é—®é¢˜</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/java<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/resources<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>é‡åˆ°çš„é—®é¢˜</strong></p><ul><li>éƒ½æ˜¯ä¸€äº›å°é—®é¢˜ï¼Œç™¾åº¦éƒ½å¯ä»¥è§£å†³</li></ul><h1 id="3-CRUDæ“ä½œ"><a href="#3-CRUDæ“ä½œ" class="headerlink" title="3. CRUDæ“ä½œ"></a>3. CRUDæ“ä½œ</h1><h2 id="3-1-namespace"><a href="#3-1-namespace" class="headerlink" title="3.1 namespace"></a>3.1 namespace</h2><p><strong>Noteï¼š</strong></p><p>é…ç½®æ–‡ä»¶UserMapper.xmlä¸­namespaceä¸­åŒ…åè¦å’ŒDao/Mapperæ¥å£çš„åŒ…åä¸€è‡´ï¼</p><h2 id="3-2-select"><a href="#3-2-select" class="headerlink" title="3.2 select"></a>3.2 select</h2><ul><li><p>selectæ ‡ç­¾æ˜¯mybatisä¸­æœ€å¸¸ç”¨çš„æ ‡ç­¾ä¹‹ä¸€</p></li><li><p>selectè¯­å¥æœ‰å¾ˆå¤šå±æ€§å¯ä»¥è¯¦ç»†é…ç½®æ¯ä¸€æ¡SQLè¯­å¥</p><ul><li><strong>id</strong>ï¼šå¯¹åº”namespaceä¸­çš„æ–¹æ³•å<ul><li><p>å‘½åç©ºé—´ä¸­å”¯ä¸€çš„æ ‡è¯†ç¬¦</p></li><li><p>æ¥å£ä¸­çš„æ–¹æ³•åä¸æ˜ å°„æ–‡ä»¶ä¸­çš„SQLè¯­å¥ID ä¸€ä¸€å¯¹åº”</p></li></ul></li><li><strong>parameterType</strong>ï¼šä¼ å…¥SQLè¯­å¥çš„å‚æ•°ç±»å‹</li><li><strong>resultType</strong>ï¼šSQLè¯­å¥æ‰§è¡Œçš„è¿”å›å€¼ç±»å‹</li></ul></li></ul><p><strong>ä¾‹1ï¼šæ ¹æ®idæŸ¥è¯¢ç”¨æˆ·</strong></p><ol><li><p>åœ¨UserMapperä¸­æ·»åŠ å¯¹åº”æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserMapper</span> &#123;<br>    <span class="hljs-comment">//æŸ¥è¯¢å…¨éƒ¨ç”¨æˆ·</span><br>    List&lt;User&gt; <span class="hljs-title function_">selectUser</span><span class="hljs-params">()</span>;<br><br>    <span class="hljs-comment">//æ ¹æ®idæŸ¥è¯¢ç”¨æˆ·</span><br>    User <span class="hljs-title function_">getUserById</span><span class="hljs-params">(<span class="hljs-type">int</span> id)</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>åœ¨UserMapper.xmlä¸­æ·»åŠ selectè¯­å¥</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--namespaceç»‘å®šä¸€ä¸ªå¯¹åº”çš„Mapper/Daoæ¥å£--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">&quot;ssm.study.dao.UserMapper&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getUserById&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;int&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;ssm.study.pojo.User&quot;</span>&gt;</span><br>        select * from user where id = #&#123;id&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•ç±»ä¸­æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">getUserById</span><span class="hljs-params">()</span>&#123;<br>    <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> MybatisUtils.getSession();<br>    <span class="hljs-type">UserMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> sqlSession.getMapper(UserMapper.class);<br>    <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> mapper.getUserById(<span class="hljs-number">1</span>);<br>    System.out.println(<span class="hljs-string">&quot;æŸ¥è¯¢åˆ°çš„ç”¨æˆ·ä¸ºï¼š&quot;</span>+user);<br>    sqlSession.close();<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>è¾“å‡ºç»“æœ</p><blockquote><p>æŸ¥è¯¢åˆ°çš„ç”¨æˆ·ä¸ºï¼šUser{id=1, name=â€™adminâ€™, pwd=â€™123456â€™}</p></blockquote></li></ol><p><strong>ä¾‹2ï¼šæ ¹æ®å¯†ç å’Œåå­—æŸ¥è¯¢ç”¨æˆ·</strong></p><p><strong>æ–¹æ³•1ï¼šç›´æ¥åœ¨æ–¹æ³•ä¸­ä¼ é€’å‚æ•°</strong></p><ol><li><p>åœ¨æ¥å£æ–¹æ³•çš„å‚æ•°å‰åŠ  @Paramå±æ€§</p></li><li><p>Sqlè¯­å¥ç¼–å†™çš„æ—¶å€™ï¼Œç›´æ¥å–@Paramä¸­è®¾ç½®çš„å€¼å³å¯ï¼Œä¸éœ€è¦å•ç‹¬è®¾ç½®å‚æ•°ç±»å‹</p></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//é€šè¿‡å¯†ç å’Œåå­—æŸ¥è¯¢ç”¨æˆ·</span><br>User <span class="hljs-title function_">selectUserByNP</span><span class="hljs-params">(<span class="hljs-meta">@Param(&quot;username&quot;)</span> String username,<span class="hljs-meta">@Param(&quot;pwd&quot;)</span> String pwd)</span>;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">&lt;select id=&quot;selectUserByNP&quot; resultType=&quot;com.kuang.pojo.User&quot;&gt;</span><br><span class="hljs-comment">select * from user where name = #&#123;username&#125; and pwd = #&#123;pwd&#125;</span><br><span class="hljs-comment">&lt;/select&gt;</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure><p><strong>æ–¹æ³•2ï¼šä½¿ç”¨ä¸‡èƒ½çš„Map</strong></p><p><strong>ä¾‹3ï¼šæ¨¡ç³ŠæŸ¥è¯¢</strong></p><p>æ¨¡ç³ŠæŸ¥è¯¢likeè¯­å¥ï¼š</p><p>æ–¹æ³•1ï¼šåœ¨Javaä»£ç ä¸­æ·»åŠ sqlé€šé…ç¬¦</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml">string wildcardname = â€œ%smi%â€;<br>list<span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span> names = mapper.selectlike(wildcardname);<br><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;selectlike&quot;</span>&gt;</span><br>select * from foo where bar like #&#123;value&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æ–¹æ³•2ï¼šåœ¨sqlè¯­å¥ä¸­æ‹¼æ¥é€šé…ç¬¦ï¼Œä¼šå¼•èµ·sqlæ³¨å…¥</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml">string wildcardname = â€œsmiâ€;<br>list<span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span> names = mapper.selectlike(wildcardname);<br>    <br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;selectlike&quot;</span>&gt;</span><br>select * from foo where bar like &quot;%&quot;#&#123;value&#125;&quot;%&quot;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="3-3-insert"><a href="#3-3-insert" class="headerlink" title="3.3 insert"></a>3.3 insert</h2><p>æˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨insertæ ‡ç­¾è¿›è¡Œæ’å…¥æ“ä½œï¼Œå®ƒçš„é…ç½®å’Œselectæ ‡ç­¾å·®ä¸å¤šï¼</p><p><strong>ä¾‹ï¼šç»™æ•°æ®åº“å¢åŠ ä¸€ä¸ªç”¨æˆ·</strong></p><ol><li><p>åœ¨UserMapperæ¥å£ä¸­æ·»åŠ å¯¹åº”çš„æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//insertä¸€ä¸ªç”¨æˆ·</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">addUser</span><span class="hljs-params">(User user)</span>;<br></code></pre></td></tr></table></figure></li><li><p>åœ¨UserMapper.xmlä¸­æ·»åŠ insertè¯­å¥</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--å¯¹è±¡ä¸­çš„å±æ€§ï¼Œå¯ä»¥ç›´æ¥å–å‡ºæ¥--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">insert</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;addUser&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;ssm.study.pojo.User&quot;</span>&gt;</span><br>    insert into user(id,name,pwd) values(#&#123;id&#125;,#&#123;name&#125;,#&#123;pwd&#125;)<br><span class="hljs-tag">&lt;/<span class="hljs-name">insert</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addUser</span><span class="hljs-params">()</span>&#123;<br>    <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> MybatisUtils.getSession();<br>    <span class="hljs-type">UserMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> sqlSession.getMapper(UserMapper.class);<br>    <span class="hljs-type">int</span> <span class="hljs-variable">res</span> <span class="hljs-operator">=</span> mapper.addUser(<span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-number">4</span>,<span class="hljs-string">&quot;user3&quot;</span>,<span class="hljs-string">&quot;123456&quot;</span>));<br>    <span class="hljs-keyword">if</span>(res&gt;<span class="hljs-number">0</span>)&#123;<br>        System.out.println(<span class="hljs-string">&quot;æ’å…¥æˆåŠŸï¼&quot;</span>);<br>    &#125;<br>    sqlSession.commit(); <span class="hljs-comment">//æäº¤äº‹åŠ¡,é‡ç‚¹!ä¸å†™çš„è¯ä¸ä¼šæäº¤åˆ°æ•°æ®åº“</span><br>    sqlSession.close();<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><p><strong>Noteï¼šå¢ã€åˆ ã€æ”¹æ“ä½œéœ€è¦æäº¤äº‹åŠ¡ï¼</strong></p><h2 id="3-4-update"><a href="#3-4-update" class="headerlink" title="3.4 update"></a>3.4 update</h2><p>æˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨updateæ ‡ç­¾è¿›è¡Œæ›´æ–°æ“ä½œï¼Œå®ƒçš„é…ç½®å’Œselectæ ‡ç­¾å·®ä¸å¤šï¼</p><p><strong>éœ€æ±‚ï¼šä¿®æ”¹ç”¨æˆ·çš„ä¿¡æ¯</strong></p><ol><li><p>ç¼–å†™æ¥å£æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//ä¿®æ”¹ç”¨æˆ·</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">updateUser</span><span class="hljs-params">(User user)</span>;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™å¯¹åº”çš„é…ç½®æ–‡ä»¶SQL</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">update</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;updateUser&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;ssm.study.pojo.User&quot;</span>&gt;</span><br>    update user set name=#&#123;name&#125;,pwd=#&#123;pwd&#125; where id=#&#123;id&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">update</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updateUser</span><span class="hljs-params">()</span>&#123;<br>    <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> MybatisUtils.getSession();<br>    <span class="hljs-type">UserMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> sqlSession.getMapper(UserMapper.class);<br>    mapper.updateUser(<span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-number">3</span>,<span class="hljs-string">&quot;user2pro&quot;</span>,<span class="hljs-string">&quot;12345678&quot;</span>));<br>    sqlSession.commit();<br>    sqlSession.close();<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h2 id="3-5-delete"><a href="#3-5-delete" class="headerlink" title="3.5 delete"></a>3.5 delete</h2><p>æˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨deleteæ ‡ç­¾è¿›è¡Œåˆ é™¤æ“ä½œï¼Œå®ƒçš„é…ç½®å’Œselectæ ‡ç­¾å·®ä¸å¤šï¼</p><p><strong>éœ€æ±‚ï¼šæ ¹æ®idåˆ é™¤ä¸€ä¸ªç”¨æˆ·</strong></p><ol><li><p>ç¼–å†™æ¥å£æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//æ ¹æ®idåˆ é™¤ç”¨æˆ·</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">deleteUser</span><span class="hljs-params">(<span class="hljs-type">int</span> id)</span>;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™å¯¹åº”çš„é…ç½®æ–‡ä»¶SQL</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">delete</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;deleteUser&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;int&quot;</span>&gt;</span><br>    delete from user where id=#&#123;id&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">delete</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deleteUser</span><span class="hljs-params">()</span>&#123;<br>    <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> MybatisUtils.getSession();<br>    <span class="hljs-type">UserMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> sqlSession.getMapper(UserMapper.class);<br>    mapper.deleteUser(<span class="hljs-number">4</span>);<br>    sqlSession.commit();  <span class="hljs-comment">////æäº¤äº‹åŠ¡,é‡ç‚¹!ä¸å†™çš„è¯ä¸ä¼šæäº¤åˆ°æ•°æ®åº“</span><br>    sqlSession.close();<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h2 id="3-6-ä¸‡èƒ½çš„map"><a href="#3-6-ä¸‡èƒ½çš„map" class="headerlink" title="3.6 ä¸‡èƒ½çš„map"></a>3.6 ä¸‡èƒ½çš„map</h2><p><strong>ä¸‡èƒ½çš„mapï¼šinsertæ’å…¥ç”¨æˆ·</strong></p><p>å‡è®¾æˆ‘ä»¬çš„å®ä½“ç±»ï¼Œæˆ–è€…æ•°æ®åº“ä¸­çš„è¡¨ï¼Œå­—æ®µæˆ–è€…å‚æ•°è¿‡å¤šï¼Œæˆ‘ä»¬åº”å½“è€ƒè™‘ä½¿ç”¨Mapï¼</p><ol><li><p>åœ¨æ¥å£æ–¹æ³•ä¸­ï¼Œå‚æ•°ç›´æ¥ä¼ é€’Map</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//ä¸‡èƒ½çš„map</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">addUser2</span><span class="hljs-params">(Map&lt;String,Object&gt; map)</span>;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™sqlè¯­å¥çš„æ—¶å€™ï¼Œéœ€è¦ä¼ é€’å‚æ•°ç±»å‹ï¼Œå‚æ•°ç±»å‹ä¸ºmap</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--å¯¹è±¡ä¸­çš„å±æ€§å¯ä»¥ç›´æ¥å–å‡ºæ¥ï¼Œä¼ é€’mapä¸­çš„key--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">insert</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;addUser2&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;map&quot;</span>&gt;</span><br>insert into user(id,pwd) values(#&#123;userid&#125;,#&#123;password&#125;)<br><span class="hljs-tag">&lt;/<span class="hljs-name">insert</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>åœ¨ä½¿ç”¨æ–¹æ³•çš„æ—¶å€™ï¼ŒMapçš„ key ä¸º sqlä¸­å–çš„å€¼å³å¯ï¼Œæ²¡æœ‰é¡ºåºè¦æ±‚ï¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addUser2</span><span class="hljs-params">()</span>&#123;<br>    <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> MybatisUtils.getSqqlSession();<br>    <span class="hljs-type">UserMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> selSession.getMapper(UserMapper.class);<br>    Map&lt;String,Object&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;String,Object&gt;();<br>    map.put(<span class="hljs-string">&quot;userid&quot;</span>,<span class="hljs-number">5</span>);<br>    map.put(<span class="hljs-string">&quot;password&quot;</span>,<span class="hljs-string">&quot;123456&quot;</span>);<br>    mapper.addUser(map);<br>    sqlSession.close();<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><p><strong>ä¸‡èƒ½çš„mapï¼šselectæŸ¥è¯¢ç”¨æˆ·</strong></p><ol><li><p>åœ¨æ¥å£æ–¹æ³•ä¸­ï¼Œå‚æ•°ç›´æ¥ä¼ é€’Map</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//ä¸‡èƒ½çš„map</span><br>User <span class="hljs-title function_">getUserById2</span><span class="hljs-params">(Map&lt;String,Object&gt; map)</span>;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™sqlè¯­å¥çš„æ—¶å€™ï¼Œéœ€è¦ä¼ é€’å‚æ•°ç±»å‹ï¼Œå‚æ•°ç±»å‹ä¸ºmap</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--å¯¹è±¡ä¸­çš„å±æ€§å¯ä»¥ç›´æ¥å–å‡ºæ¥ï¼Œä¼ é€’mapä¸­çš„key--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">selsect</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getUserById2&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;map&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;ssm.study.pojo.User&quot;</span>&gt;</span><br>select* from user where id=#&#123;idpro&#125; and name=#&#123;name&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">selsect</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>åœ¨ä½¿ç”¨æ–¹æ³•çš„æ—¶å€™ï¼ŒMapçš„keyä¸ºsqlä¸­å–çš„å€¼å³å¯ï¼Œæ²¡æœ‰é¡ºåºè¦æ±‚ï¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">getUserById2</span><span class="hljs-params">()</span>&#123;<br>    <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> MybatisUtils.getSqlSession();<br>    <span class="hljs-type">UserMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> sqlSession.getMapper(UserMapper.class);<br>    Map&lt;String,Object&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;String,Object&gt;();<br>    map.put(<span class="hljs-string">&quot;idpro&quot;</span>,<span class="hljs-number">1</span>);<br>    map.put(<span class="hljs-string">&quot;name&quot;</span>,<span class="hljs-string">&quot;admin&quot;</span>);<br>    mapper.getUserById(map);<br>    sqlSession.close();<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><p><strong>æ€»ç»“ï¼š</strong></p><ul><li><p>parameterType=â€mapâ€ï¼šMapä¼ é€’å‚æ•°æ—¶ï¼Œç›´æ¥åœ¨sqlä¸­å–å‡ºkeyå³å¯ï¼</p></li><li><p>parameterType=â€Objectâ€ï¼šå¯¹è±¡ä¼ é€’å‚æ•°æ—¶ï¼Œç›´æ¥åœ¨å¯¹è±¡ä¸­å–sqlçš„å±æ€§å³å¯ï¼</p></li><li><p>åªæœ‰ä¸€ä¸ªåŸºæœ¬ç±»å‹å‚æ•°çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ç›´æ¥åœ¨sqlä¸­å–åˆ°</p></li></ul><p>å¦‚æœå‚æ•°è¿‡å¤šï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘ç›´æ¥ä½¿ç”¨Mapæˆ–è€…æ³¨è§£å®ç°ï¼Œå¦‚æœå‚æ•°æ¯”è¾ƒå°‘ï¼Œç›´æ¥ä¼ é€’å‚æ•°å³å¯</p><h2 id="3-7-Note"><a href="#3-7-Note" class="headerlink" title="3.7 Note"></a>3.7 Note</h2><p><strong>å°ç»“ï¼š</strong></p><ul><li><p>æ‰€æœ‰çš„å¢åˆ æ”¹æ“ä½œéƒ½éœ€è¦æäº¤äº‹åŠ¡ï¼</p></li><li><p>æ¥å£æ‰€æœ‰çš„æ™®é€šå‚æ•°ï¼Œå°½é‡éƒ½å†™ä¸Š@Paramå‚æ•°ï¼Œå°¤å…¶æ˜¯å¤šä¸ªå‚æ•°æ—¶ï¼Œå¿…é¡»å†™ä¸Šï¼</p></li><li><p>æœ‰æ—¶å€™æ ¹æ®ä¸šåŠ¡çš„éœ€æ±‚ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨mapä¼ é€’å‚æ•°ï¼</p></li><li><p>ä¸ºäº†è§„èŒƒæ“ä½œï¼Œåœ¨SQLçš„é…ç½®æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å°½é‡å°†Parameterå‚æ•°å’ŒresultTypeéƒ½å†™ä¸Šï¼</p></li></ul><h1 id="4-é…ç½®è§£æ"><a href="#4-é…ç½®è§£æ" class="headerlink" title="4. é…ç½®è§£æ"></a>4. é…ç½®è§£æ</h1><h2 id="4-1-æ ¸å¿ƒé…ç½®æ–‡ä»¶"><a href="#4-1-æ ¸å¿ƒé…ç½®æ–‡ä»¶" class="headerlink" title="4.1 æ ¸å¿ƒé…ç½®æ–‡ä»¶"></a>4.1 æ ¸å¿ƒé…ç½®æ–‡ä»¶</h2><ul><li><p>mybatis-config.xml ç³»ç»Ÿæ ¸å¿ƒé…ç½®æ–‡ä»¶</p></li><li><p>MyBatis çš„é…ç½®æ–‡ä»¶åŒ…å«äº†ä¼šæ·±æ·±å½±å“ MyBatis è¡Œä¸ºçš„è®¾ç½®å’Œå±æ€§ä¿¡æ¯ã€‚</p></li><li><p>èƒ½é…ç½®çš„å†…å®¹å¦‚ä¸‹ï¼š</p></li></ul><blockquote><ul><li><p>configurationï¼ˆé…ç½®ï¼‰</p><ul><li><p>propertiesï¼ˆå±æ€§ï¼‰</p></li><li><p>settingsï¼ˆè®¾ç½®ï¼‰</p></li><li><p>typeAliasesï¼ˆç±»å‹åˆ«åï¼‰</p></li><li><p>typeHandlersï¼ˆç±»å‹å¤„ç†å™¨ï¼‰</p></li><li><p>objectFactoryï¼ˆå¯¹è±¡å·¥å‚ï¼‰</p></li><li><p>pluginsï¼ˆæ’ä»¶ï¼‰</p></li><li><p>environmentsï¼ˆç¯å¢ƒé…ç½®ï¼‰</p><ul><li><p>environmentï¼ˆç¯å¢ƒå˜é‡ï¼‰</p><ul><li><p>transactionManagerï¼ˆäº‹åŠ¡ç®¡ç†å™¨ï¼‰</p></li><li><p>dataSourceï¼ˆæ•°æ®æºï¼‰</p></li></ul></li></ul></li><li><p>databaseIdProviderï¼ˆæ•°æ®åº“å‚å•†æ ‡è¯†ï¼‰</p></li><li><p>mappersï¼ˆæ˜ å°„å™¨ï¼‰</p></li></ul></li></ul><!-- æ³¨æ„å…ƒç´ èŠ‚ç‚¹çš„é¡ºåºï¼é¡ºåºä¸å¯¹ä¼šæŠ¥é”™ --></blockquote><p><strong>ä¾‹ï¼š</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span> ?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">configuration</span></span><br><span class="hljs-meta">        <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span><br><span class="hljs-meta">        <span class="hljs-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span><br><span class="hljs-comment">&lt;!--configurationæ ¸å¿ƒé…ç½®æ–‡ä»¶--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--å¼•å…¥å¤–éƒ¨é…ç½®æ–‡ä»¶--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">properties</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;dp.properties&quot;</span> /&gt;</span><br><br>    <span class="hljs-comment">&lt;!--ç±»å‹åˆ«å--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">typeAliases</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">typeAlias</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;ssm.study.pojo.User&quot;</span> <span class="hljs-attr">alias</span>=<span class="hljs-string">&quot;User&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">typeAliases</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">environments</span> <span class="hljs-attr">default</span>=<span class="hljs-string">&quot;development&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">environment</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;development&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">transactionManager</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;JDBC&quot;</span>/&gt;</span>  <span class="hljs-comment">&lt;!--äº‹ç‰©ç®¡ç†--&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">dataSource</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;POOLED&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;driver&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>/&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;url&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;jdbc:mysql://localhost:3306/mybatis?useSSL=true<span class="hljs-symbol">&amp;amp;</span>useUnicode=true<span class="hljs-symbol">&amp;amp;</span>characterEncoding=utf8&quot;</span>/&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;root&quot;</span>/&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;123456&quot;</span>/&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">dataSource</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">environment</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">environments</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--æ¯ä¸€ä¸ªMapper.xmléƒ½éœ€è¦åœ¨mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æ³¨å†Œ--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;ssm/study/dao/userMapper.xml&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="4-2-environmentså…ƒç´ "><a href="#4-2-environmentså…ƒç´ " class="headerlink" title="4.2 environmentså…ƒç´ "></a>4.2 environmentså…ƒç´ </h2><blockquote><p>MyBatis å¯ä»¥é…ç½®æˆé€‚åº”å¤šç§ç¯å¢ƒï¼Œè¿™ç§æœºåˆ¶æœ‰åŠ©äºå°† SQL æ˜ å°„åº”ç”¨äºå¤šç§æ•°æ®åº“ä¹‹ä¸­ï¼Œ ç°å®æƒ…å†µä¸‹æœ‰å¤šç§ç†ç”±éœ€è¦è¿™ä¹ˆåšã€‚ä¾‹å¦‚ï¼Œå¼€å‘ã€æµ‹è¯•å’Œç”Ÿäº§ç¯å¢ƒéœ€è¦æœ‰ä¸åŒçš„é…ç½®ï¼›æˆ–è€…æƒ³åœ¨å…·æœ‰ç›¸åŒ Schema çš„å¤šä¸ªç”Ÿäº§æ•°æ®åº“ä¸­ä½¿ç”¨ç›¸åŒçš„ SQL æ˜ å°„ã€‚è¿˜æœ‰è®¸å¤šç±»ä¼¼çš„ä½¿ç”¨åœºæ™¯ã€‚</p><p><strong>ä¸è¿‡è¦è®°ä½ï¼šå°½ç®¡å¯ä»¥é…ç½®å¤šä¸ªç¯å¢ƒï¼Œä½†æ¯ä¸ª SqlSessionFactory å®ä¾‹åªèƒ½é€‰æ‹©ä¸€ç§ç¯å¢ƒã€‚</strong></p></blockquote><ul><li><p>é…ç½®MyBatisçš„å¤šå¥—è¿è¡Œç¯å¢ƒï¼Œå°†SQLæ˜ å°„åˆ°å¤šä¸ªä¸åŒçš„æ•°æ®åº“ä¸Šï¼Œå¿…é¡»æŒ‡å®šå…¶ä¸­ä¸€ä¸ªä¸ºé»˜è®¤è¿è¡Œç¯å¢ƒï¼ˆ<strong>é€šè¿‡defaultæŒ‡å®š</strong>ï¼‰</p></li><li><p>å…·ä½“çš„ä¸€å¥—ç¯å¢ƒï¼Œé€šè¿‡è®¾ç½®idè¿›è¡ŒåŒºåˆ«ï¼Œidä¿è¯å”¯ä¸€ï¼</p></li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">environments</span> <span class="hljs-attr">default</span>=<span class="hljs-string">&quot;development&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--ç¯å¢ƒ1--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">environment</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;development&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">transactionManager</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;JDBC&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;...&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;...&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">transactionManager</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dataSource</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;POOLED&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;driver&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;driver&#125;&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;url&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;url&#125;&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;username&#125;&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;password&#125;&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dataSource</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">environment</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--ç¯å¢ƒ2--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">environment</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;development2&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">transactionManager</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;JDBC&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;...&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;...&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">transactionManager</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dataSource</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;POOLED&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;driver&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;driver&#125;&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;url&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;url&#125;&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;username&#125;&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;password&#125;&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dataSource</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">environment</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">environments</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>å­å…ƒç´ èŠ‚ç‚¹ï¼š environment</strong></p><ul><li><p>å­å…ƒç´ èŠ‚ç‚¹ï¼š äº‹åŠ¡ç®¡ç†å™¨ï¼ˆtransactionManagerï¼‰</p><p>åœ¨ MyBatis ä¸­æœ‰ä¸¤ç§ç±»å‹çš„äº‹åŠ¡ç®¡ç†å™¨ï¼ˆä¹Ÿå°±æ˜¯ type=â€[JDBC|MANAGED]â€ï¼‰</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- è¯­æ³• --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">transactionManager</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;[ JDBC | MANAGED ]&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure><ul><li><p>è¯¦æƒ…ï¼š[ç‚¹å‡»æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£](<a href="https://mybatis.org/mybatis-3/zh/configuration.html#environments">mybatis â€“ MyBatis 3 | é…ç½®</a>)</p></li><li><p>è¿™ä¸¤ç§äº‹åŠ¡ç®¡ç†å™¨ç±»å‹éƒ½ä¸éœ€è¦è®¾ç½®ä»»ä½•å±æ€§ã€‚</p></li></ul></li><li><p>å­å…ƒç´ èŠ‚ç‚¹ï¼š <strong>æ•°æ®æºï¼ˆdataSourceï¼‰</strong></p><p>dataSource å…ƒç´ ä½¿ç”¨æ ‡å‡†çš„ JDBC æ•°æ®æºæ¥å£æ¥é…ç½® JDBC è¿æ¥å¯¹è±¡çš„èµ„æºã€‚</p><ul><li><p>æ•°æ®æºæ˜¯å¿…é¡»é…ç½®çš„ã€‚</p></li><li><p>æœ‰ä¸‰ç§å†…å»ºçš„æ•°æ®æºç±»å‹ï¼ˆä¹Ÿå°±æ˜¯ type=â€[UNPOOLED|POOLED|JNDI]â€ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">type=<span class="hljs-string">&quot;[UNPOOLED|POOLED|JNDI]&quot;</span>ï¼‰<br></code></pre></td></tr></table></figure></li><li><p>unpooledï¼š è¿™ä¸ªæ•°æ®æºçš„å®ç°åªæ˜¯æ¯æ¬¡è¢«è¯·æ±‚æ—¶æ‰“å¼€å’Œå…³é—­è¿æ¥ã€‚</p></li><li><p><strong>pooled</strong> ï¼š è¿™ç§æ•°æ®æºçš„å®ç°åˆ©ç”¨â€œæ± â€çš„æ¦‚å¿µå°† JDBC è¿æ¥å¯¹è±¡ç»„ç»‡èµ·æ¥ , è¿™æ˜¯ä¸€ç§ä½¿å¾—å¹¶å‘ Web åº”ç”¨å¿«é€Ÿå“åº”è¯·æ±‚çš„æµè¡Œå¤„ç†æ–¹å¼ã€‚</p></li><li><p>jndiï¼šè¿™ä¸ªæ•°æ®æºçš„å®ç°æ˜¯ä¸ºäº†èƒ½åœ¨å¦‚ Spring æˆ–åº”ç”¨æœåŠ¡å™¨è¿™ç±»å®¹å™¨ä¸­ä½¿ç”¨ï¼Œå®¹å™¨å¯ä»¥é›†ä¸­æˆ–åœ¨å¤–éƒ¨é…ç½®æ•°æ®æºï¼Œç„¶åæ”¾ç½®ä¸€ä¸ª JNDI ä¸Šä¸‹æ–‡çš„å¼•ç”¨ã€‚</p></li><li><p>æ•°æ®æºä¹Ÿæœ‰å¾ˆå¤šç¬¬ä¸‰æ–¹çš„å®ç°ï¼Œæ¯”å¦‚dbcpï¼Œc3p0ï¼Œdruidç­‰ç­‰â€¦.</p></li></ul></li></ul><p>Mybatisé»˜è®¤çš„äº‹åŠ¡ç®¡ç†å™¨å°±æ˜¯JDBCï¼Œè¿æ¥æ± ï¼šPOOLED</p><h2 id="4-3-mapperså…ƒç´ "><a href="#4-3-mapperså…ƒç´ " class="headerlink" title="4.3 mapperså…ƒç´ "></a>4.3 mapperså…ƒç´ </h2><h3 id="4-3-1-mappers"><a href="#4-3-1-mappers" class="headerlink" title="4.3.1 mappers"></a>4.3.1 mappers</h3><p>MapperRegistryï¼šæ³¨å†Œç»‘å®šæˆ‘ä»¬çš„Mapperæ–‡ä»¶</p><blockquote><p>æ—¢ç„¶ MyBatis çš„è¡Œä¸ºå·²ç»ç”±ä¸Šè¿°å…ƒç´ é…ç½®å®Œäº†ï¼Œæˆ‘ä»¬ç°åœ¨å°±è¦æ¥å®šä¹‰ SQL æ˜ å°„è¯­å¥äº†ã€‚ ä½†é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å‘Šè¯‰ MyBatis åˆ°å“ªé‡Œå»æ‰¾åˆ°è¿™äº›è¯­å¥ã€‚ åœ¨è‡ªåŠ¨æŸ¥æ‰¾èµ„æºæ–¹é¢ï¼ŒJava å¹¶æ²¡æœ‰æä¾›ä¸€ä¸ªå¾ˆå¥½çš„è§£å†³æ–¹æ¡ˆï¼Œæ‰€ä»¥æœ€å¥½çš„åŠæ³•æ˜¯ç›´æ¥å‘Šè¯‰ MyBatis åˆ°å“ªé‡Œå»æ‰¾æ˜ å°„æ–‡ä»¶ã€‚ ä½ å¯ä»¥ä½¿ç”¨ç›¸å¯¹äºç±»è·¯å¾„çš„èµ„æºå¼•ç”¨ï¼Œæˆ–å®Œå…¨é™å®šèµ„æºå®šä½ç¬¦ï¼ˆåŒ…æ‹¬ file:/// å½¢å¼çš„ URLï¼‰ï¼Œæˆ–ç±»åå’ŒåŒ…åç­‰ã€‚</p></blockquote><h3 id="4-3-2-å¼•å…¥èµ„æºæ–¹å¼"><a href="#4-3-2-å¼•å…¥èµ„æºæ–¹å¼" class="headerlink" title="4.3.2 å¼•å…¥èµ„æºæ–¹å¼"></a>4.3.2 å¼•å…¥èµ„æºæ–¹å¼</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- ä½¿ç”¨ç›¸å¯¹äºç±»è·¯å¾„çš„èµ„æºå¼•ç”¨ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;org/mybatis/builder/AuthorMapper.xml&quot;</span>/&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;org/mybatis/builder/BlogMapper.xml&quot;</span>/&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;org/mybatis/builder/PostMapper.xml&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- ä½¿ç”¨å®Œå…¨é™å®šèµ„æºå®šä½ç¬¦ï¼ˆURLï¼‰ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">url</span>=<span class="hljs-string">&quot;file:///var/mappers/AuthorMapper.xml&quot;</span>/&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">url</span>=<span class="hljs-string">&quot;file:///var/mappers/BlogMapper.xml&quot;</span>/&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">url</span>=<span class="hljs-string">&quot;file:///var/mappers/PostMapper.xml&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- ä½¿ç”¨æ˜ å°„å™¨æ¥å£å®ç°ç±»çš„å®Œå…¨é™å®šç±»å</span><br><span class="hljs-comment">éœ€è¦é…ç½®æ–‡ä»¶åç§°å’Œæ¥å£åç§°ä¸€è‡´ï¼Œå¹¶ä¸”ä½äºåŒä¸€ç›®å½•ä¸‹ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.mybatis.builder.AuthorMapper&quot;</span>/&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.mybatis.builder.BlogMapper&quot;</span>/&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.mybatis.builder.PostMapper&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- å°†åŒ…å†…çš„æ˜ å°„å™¨æ¥å£å®ç°å…¨éƒ¨æ³¨å†Œä¸ºæ˜ å°„å™¨</span><br><span class="hljs-comment">ä½†æ˜¯éœ€è¦é…ç½®æ–‡ä»¶åç§°å’Œæ¥å£åç§°ä¸€è‡´ï¼Œå¹¶ä¸”ä½äºåŒä¸€ç›®å½•ä¸‹--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">package</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;org.mybatis.builder&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="4-4-Propertiesä¼˜åŒ–"><a href="#4-4-Propertiesä¼˜åŒ–" class="headerlink" title="4.4 Propertiesä¼˜åŒ–"></a>4.4 Propertiesä¼˜åŒ–</h2><p>æ•°æ®åº“è¿™äº›å±æ€§éƒ½æ˜¯å¯å¤–éƒ¨é…ç½®ä¸”å¯åŠ¨æ€æ›¿æ¢çš„ï¼Œæ—¢å¯ä»¥åœ¨å…¸å‹çš„ Java å±æ€§æ–‡ä»¶ä¸­é…ç½®ï¼Œäº¦å¯é€šè¿‡properties å…ƒç´ çš„å­å…ƒç´ æ¥ä¼ é€’ã€‚å…·ä½“çš„[å®˜æ–¹æ–‡æ¡£](<a href="https://mybatis.org/mybatis-3/zh/configuration.html#properties">mybatis â€“ MyBatis 3 | é…ç½®</a>)</p><p><strong>æˆ‘ä»¬æ¥ä¼˜åŒ–æˆ‘ä»¬çš„é…ç½®æ–‡ä»¶</strong></p><p>ç¬¬ä¸€æ­¥ï¼šåœ¨èµ„æºç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶db.properties</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java">drive = com.mysql.cj.jdbc.<span class="hljs-type">Driver</span><br><span class="hljs-variable">url</span> <span class="hljs-operator">=</span> jdbc:mysql:<span class="hljs-comment">//localhost:3306/mybatis?useSSL=true&amp;amp;useUnicode=true&amp;amp;characterEncoding=utf8</span><br>username = <span class="hljs-type">root</span><br><span class="hljs-variable">password</span> <span class="hljs-operator">=</span> <span class="hljs-number">123456</span><br></code></pre></td></tr></table></figure><p>ç¬¬äºŒæ­¥ï¼šåœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­å¼•å…¥é…ç½®æ–‡ä»¶db.properties</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br><span class="hljs-comment">&lt;!--æ³¨æ„é¡ºåºï¼špropertieså…ƒç´ å¿…é¡»æ”¾åœ¨ç¬¬ä¸€ä¸ªï¼å¯¼å…¥propertiesæ–‡ä»¶--&gt;</span><br>    <span class="hljs-comment">&lt;!--å¼•å…¥é…ç½®æ–‡ä»¶--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">properties</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;db.properties&quot;</span>/&gt;</span><br>    <br><span class="hljs-tag">&lt;<span class="hljs-name">environments</span> <span class="hljs-attr">default</span>=<span class="hljs-string">&quot;development&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">environment</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;development&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">transactionManager</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;JDBC&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dataSource</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;POOLED&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;driver&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;driver&#125;&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;url&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;url&#125;&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;username&#125;&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;password&#125;&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dataSource</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">environment</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">environments</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;mapper/UserMapper.xml&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>noteï¼š</strong></p><ul><li><p>å¯ä»¥ç›´æ¥å¼•å…¥ å¤–éƒ¨æ–‡ä»¶</p></li><li><p>å¯ä»¥åœ¨å…¶ä¸­å¢åŠ ä¸€äº›å±æ€§é…ç½®</p></li><li><p>å¦‚æœä¸¤ä¸ªæ–‡ä»¶æœ‰åŒä¸€ä¸ªå­—æ®µï¼Œä¼˜å…ˆä½¿ç”¨å¤–éƒ¨é…ç½®æ–‡ä»¶çš„</p></li></ul><h2 id="4-5-typeAliasesä¼˜åŒ–"><a href="#4-5-typeAliasesä¼˜åŒ–" class="headerlink" title="4.5 typeAliasesä¼˜åŒ–"></a>4.5 typeAliasesä¼˜åŒ–</h2><p>ç±»å‹åˆ«åå¯ä¸º Java ç±»å‹è®¾ç½®ä¸€ä¸ªç¼©å†™åå­—ã€‚ å®ƒä»…ç”¨äº XML é…ç½®ï¼Œæ„åœ¨é™ä½å†—ä½™çš„å…¨é™å®šç±»åä¹¦å†™ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--ç±»å‹åˆ«å--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">typeAliases</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">typeAlias</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;ssm.study.pojo.User&quot;</span> <span class="hljs-attr">alias</span>=<span class="hljs-string">&quot;User&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">typeAliases</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å½“è¿™æ ·é…ç½®æ—¶ï¼Œ User å¯ä»¥ç”¨åœ¨ä»»ä½•ä½¿ç”¨ ssm.study.pojo.User çš„åœ°æ–¹ã€‚</p><p>ä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªåŒ…åï¼ŒMyBatis ä¼šåœ¨åŒ…åä¸‹é¢æœç´¢éœ€è¦çš„ Java Beanï¼Œæ¯”å¦‚:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">typeAliases</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">package</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;ssm.study.pojo&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">typeAliases</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æ¯ä¸€ä¸ªåœ¨åŒ… ssm.study.pojo ä¸­çš„ Java Beanï¼Œåœ¨æ²¡æœ‰æ³¨è§£çš„æƒ…å†µä¸‹ï¼Œä¼šä½¿ç”¨ Bean çš„é¦–å­—æ¯å°å†™çš„éé™å®šç±»åæ¥ä½œä¸ºå®ƒçš„åˆ«åã€‚</p><p>è‹¥æœ‰æ³¨è§£ï¼Œåˆ™åˆ«åä¸ºå…¶æ³¨è§£å€¼ã€‚è§ä¸‹é¢çš„ä¾‹å­ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Alias(&quot;user&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> &#123;<br>...<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>noteï¼š</strong></p><ul><li>åœ¨å®ä½“ç±»æ¯”è¾ƒå°‘çš„æ—¶å€™ï¼Œä½¿ç”¨ç¬¬ä¸€ç§æ–¹å¼</li><li>å¦‚æœå®ä½“ç±»ååˆ†å¤šï¼Œå»ºè®®ä½¿ç”¨ç¬¬äºŒç§</li><li>ç¬¬ä¸€ç§å¯ä»¥è‡ªå®šä¹‰åˆ«åï¼Œç¬¬äºŒç§ä¸è¡Œï¼›å¦‚æœéè¦è¯¥ï¼Œéœ€è¦åœ¨å®ä½“ä¸Šå¢åŠ æ³¨è§£</li></ul><h2 id="4-6-å…¶ä»–é…ç½®æµè§ˆ"><a href="#4-6-å…¶ä»–é…ç½®æµè§ˆ" class="headerlink" title="4.6 å…¶ä»–é…ç½®æµè§ˆ"></a>4.6 å…¶ä»–é…ç½®æµè§ˆ</h2><h3 id="4-6-1-è®¾ç½®"><a href="#4-6-1-è®¾ç½®" class="headerlink" title="4.6.1 è®¾ç½®"></a>4.6.1 è®¾ç½®</h3><p>è¿™æ˜¯ MyBatis ä¸­æä¸ºé‡è¦çš„è°ƒæ•´è®¾ç½®ï¼Œå®ƒä»¬ä¼šæ”¹å˜ MyBatis çš„è¿è¡Œæ—¶è¡Œä¸ºã€‚</p><ul><li>[è®¾ç½®ï¼ˆsettingsï¼‰](<a href="https://mybatis.org/mybatis-3/zh/configuration.html#settings">mybatis â€“ MyBatis 3 | é…ç½®</a>) ç›¸å…³ =&gt; æŸ¥çœ‹å¸®åŠ©æ–‡æ¡£<ul><li><p>æ‡’åŠ è½½</p></li><li><p>æ—¥å¿—å®ç°</p></li><li><p>ç¼“å­˜å¼€å¯å…³é—­</p></li></ul></li><li>ä¸€ä¸ªé…ç½®å®Œæ•´çš„ settings å…ƒç´ çš„ç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">settings</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">setting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;cacheEnabled&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;true&quot;</span>/&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">setting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;lazyLoadingEnabled&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;true&quot;</span>/&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">setting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;multipleResultSetsEnabled&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;true&quot;</span>/&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">setting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;useColumnLabel&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;true&quot;</span>/&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">setting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;useGeneratedKeys&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;false&quot;</span>/&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">setting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;autoMappingBehavior&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;PARTIAL&quot;</span>/&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">setting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;autoMappingUnknownColumnBehavior&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;WARNING&quot;</span>/&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">setting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;defaultExecutorType&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;SIMPLE&quot;</span>/&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">setting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;defaultStatementTimeout&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;25&quot;</span>/&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">setting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;defaultFetchSize&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;100&quot;</span>/&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">setting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;safeRowBoundsEnabled&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;false&quot;</span>/&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">setting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;mapUnderscoreToCamelCase&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;false&quot;</span>/&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">setting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;localCacheScope&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;SESSION&quot;</span>/&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">setting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;jdbcTypeForNull&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;OTHER&quot;</span>/&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">setting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;lazyLoadTriggerMethods&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;equals,clone,hashCode,toString&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">settings</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="4-6-2-ç±»å‹å¤„ç†å™¨"><a href="#4-6-2-ç±»å‹å¤„ç†å™¨" class="headerlink" title="4.6.2 ç±»å‹å¤„ç†å™¨"></a>4.6.2 ç±»å‹å¤„ç†å™¨</h3><p>[å®˜æ–¹æ–‡æ¡£](<a href="https://mybatis.org/mybatis-3/zh/configuration.html#typeHandlers">mybatis â€“ MyBatis 3 | é…ç½®</a>)</p><ul><li><p>æ— è®ºæ˜¯ MyBatis åœ¨é¢„å¤„ç†è¯­å¥ï¼ˆPreparedStatementï¼‰ä¸­è®¾ç½®ä¸€ä¸ªå‚æ•°æ—¶ï¼Œè¿˜æ˜¯ä»ç»“æœé›†ä¸­å–å‡ºä¸€ä¸ªå€¼æ—¶ï¼Œ éƒ½ä¼šç”¨ç±»å‹å¤„ç†å™¨å°†è·å–çš„å€¼ä»¥åˆé€‚çš„æ–¹å¼è½¬æ¢æˆ Java ç±»å‹ã€‚</p></li><li><p>ä½ å¯ä»¥é‡å†™ç±»å‹å¤„ç†å™¨æˆ–åˆ›å»ºä½ è‡ªå·±çš„ç±»å‹å¤„ç†å™¨æ¥å¤„ç†ä¸æ”¯æŒçš„æˆ–éæ ‡å‡†çš„ç±»å‹ã€‚ã€äº†è§£å³å¯ã€‘</p></li></ul><h3 id="4-6-3-å¯¹è±¡å·¥å‚"><a href="#4-6-3-å¯¹è±¡å·¥å‚" class="headerlink" title="4.6.3 å¯¹è±¡å·¥å‚"></a>4.6.3 å¯¹è±¡å·¥å‚</h3><p>[å®˜æ–¹æ–‡æ¡£](<a href="https://mybatis.org/mybatis-3/zh/configuration.html#objectFactory">mybatis â€“ MyBatis 3 | é…ç½®</a>)</p><ul><li><p>MyBatis æ¯æ¬¡åˆ›å»ºç»“æœå¯¹è±¡çš„æ–°å®ä¾‹æ—¶ï¼Œå®ƒéƒ½ä¼šä½¿ç”¨ä¸€ä¸ªå¯¹è±¡å·¥å‚ï¼ˆObjectFactoryï¼‰å®ä¾‹æ¥å®Œæˆã€‚</p></li><li><p>é»˜è®¤çš„å¯¹è±¡å·¥å‚éœ€è¦åšçš„ä»…ä»…æ˜¯å®ä¾‹åŒ–ç›®æ ‡ç±»ï¼Œè¦ä¹ˆé€šè¿‡é»˜è®¤æ„é€ æ–¹æ³•ï¼Œè¦ä¹ˆåœ¨å‚æ•°æ˜ å°„å­˜åœ¨çš„æ—¶å€™é€šè¿‡æœ‰å‚æ„é€ æ–¹æ³•æ¥å®ä¾‹åŒ–ã€‚</p></li><li><p>å¦‚æœæƒ³è¦†ç›–å¯¹è±¡å·¥å‚çš„é»˜è®¤è¡Œä¸ºï¼Œåˆ™å¯ä»¥é€šè¿‡åˆ›å»ºè‡ªå·±çš„å¯¹è±¡å·¥å‚æ¥å®ç°ã€‚ã€äº†è§£å³å¯ã€‘</p></li></ul><h2 id="4-7-ç”Ÿå‘½å‘¨æœŸå’Œä½œç”¨åŸŸ"><a href="#4-7-ç”Ÿå‘½å‘¨æœŸå’Œä½œç”¨åŸŸ" class="headerlink" title="4.7 ç”Ÿå‘½å‘¨æœŸå’Œä½œç”¨åŸŸ"></a>4.7 ç”Ÿå‘½å‘¨æœŸå’Œä½œç”¨åŸŸ</h2><p><strong>ä½œç”¨åŸŸï¼ˆScopeï¼‰å’Œç”Ÿå‘½å‘¨æœŸ</strong></p><p>ç†è§£æˆ‘ä»¬ç›®å‰å·²ç»è®¨è®ºè¿‡çš„ä¸åŒä½œç”¨åŸŸå’Œç”Ÿå‘½å‘¨æœŸç±»æ˜¯è‡³å…³é‡è¦çš„ï¼Œå› ä¸ºé”™è¯¯çš„ä½¿ç”¨ä¼šå¯¼è‡´éå¸¸ä¸¥é‡çš„<strong>å¹¶å‘é—®é¢˜</strong>ã€‚</p><p>æˆ‘ä»¬å¯ä»¥å…ˆç”»ä¸€ä¸ªæµç¨‹å›¾ï¼Œåˆ†æä¸€ä¸‹<strong>Mybatisçš„æ‰§è¡Œè¿‡ç¨‹</strong>ï¼</p><p><img src="https://img.yiqiangshiyia.cn/blog/image-20220606201346911.png" alt="image-20220606201346911"></p><p><strong>ä½œç”¨åŸŸç†è§£</strong></p><p><strong>SqlSessionFactoryBuilder</strong></p><blockquote><p>è¿™ä¸ªç±»å¯ä»¥è¢«å®ä¾‹åŒ–ã€ä½¿ç”¨å’Œä¸¢å¼ƒï¼Œä¸€æ—¦åˆ›å»ºäº† SqlSessionFactoryï¼Œå°±ä¸å†éœ€è¦å®ƒäº†ã€‚ å› æ­¤ SqlSessionFactoryBuilder å®ä¾‹çš„æœ€ä½³ä½œç”¨åŸŸæ˜¯æ–¹æ³•ä½œç”¨åŸŸï¼ˆä¹Ÿå°±æ˜¯å±€éƒ¨æ–¹æ³•å˜é‡ï¼‰ã€‚ ä½ å¯ä»¥é‡ç”¨ SqlSessionFactoryBuilder æ¥åˆ›å»ºå¤šä¸ª SqlSessionFactory å®ä¾‹ï¼Œä½†æœ€å¥½è¿˜æ˜¯ä¸è¦ä¸€ç›´ä¿ç•™ç€å®ƒï¼Œä»¥ä¿è¯æ‰€æœ‰çš„ XML è§£æèµ„æºå¯ä»¥è¢«é‡Šæ”¾ç»™æ›´é‡è¦çš„äº‹æƒ…ã€‚</p></blockquote><ul><li>ä¸€æ—¦åˆ›å»ºäº†SqlSessionFactoryï¼Œå°±ä¸å†éœ€è¦å®ƒäº†</li><li>å±€éƒ¨å˜é‡</li></ul><p><strong>SqlSessionFactory</strong></p><blockquote><p>SqlSessionFactory ä¸€æ—¦è¢«åˆ›å»ºå°±åº”è¯¥åœ¨åº”ç”¨çš„è¿è¡ŒæœŸé—´ä¸€ç›´å­˜åœ¨ï¼Œæ²¡æœ‰ä»»ä½•ç†ç”±ä¸¢å¼ƒå®ƒæˆ–é‡æ–°åˆ›å»ºå¦ä¸€ä¸ªå®ä¾‹ã€‚ ä½¿ç”¨ SqlSessionFactory çš„æœ€ä½³å®è·µæ˜¯åœ¨åº”ç”¨è¿è¡ŒæœŸé—´ä¸è¦é‡å¤åˆ›å»ºå¤šæ¬¡ï¼Œå¤šæ¬¡é‡å»º SqlSessionFactory è¢«è§†ä¸ºä¸€ç§ä»£ç â€œåä¹ æƒ¯â€ã€‚å› æ­¤ SqlSessionFactory çš„æœ€ä½³ä½œç”¨åŸŸæ˜¯åº”ç”¨ä½œç”¨åŸŸã€‚ æœ‰å¾ˆå¤šæ–¹æ³•å¯ä»¥åšåˆ°ï¼Œæœ€ç®€å•çš„å°±æ˜¯ä½¿ç”¨å•ä¾‹æ¨¡å¼æˆ–è€…é™æ€å•ä¾‹æ¨¡å¼ã€‚</p></blockquote><ul><li>è¯´ç™½äº†å°±æ˜¯å¯ä»¥æƒ³è±¡ä¸ºï¼šæ•°æ®åº“è¿æ¥æ± </li><li>SqlSessionFactoryä¸€æ—¦è¢«åˆ›å»ºå°±åº”è¯¥åœ¨åº”ç”¨çš„è¿è¡ŒæœŸé—´ä¸€ç›´å­˜åœ¨ï¼Œ<strong>æ²¡æœ‰ä»»ä½•ç†ç”±ä¸¢å¼ƒå®ƒæˆ–è€…é‡æ–°åˆ›å»ºå¦ä¸€ä¸ªå®ä¾‹</strong></li><li>å› æ­¤SqlSessionFactoryçš„æœ€ä½³ä½œç”¨åŸŸæ˜¯åº”ç”¨ä½œç”¨åŸŸ</li><li>æœ€ç®€å•çš„å°±æ˜¯ä½¿ç”¨<strong>å•ä¾‹æ¨¡å¼</strong>æˆ–è€…é™æ€å•ä¾‹æ¨¡å¼</li></ul><p><strong>SqlSession</strong></p><blockquote><p>æ¯ä¸ªçº¿ç¨‹éƒ½åº”è¯¥æœ‰å®ƒè‡ªå·±çš„ SqlSession å®ä¾‹ã€‚SqlSession çš„å®ä¾‹ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå› æ­¤æ˜¯ä¸èƒ½è¢«å…±äº«çš„ï¼Œæ‰€ä»¥å®ƒçš„æœ€ä½³çš„ä½œç”¨åŸŸæ˜¯è¯·æ±‚æˆ–æ–¹æ³•ä½œç”¨åŸŸã€‚ ç»å¯¹ä¸èƒ½å°† SqlSession å®ä¾‹çš„å¼•ç”¨æ”¾åœ¨ä¸€ä¸ªç±»çš„é™æ€åŸŸï¼Œç”šè‡³ä¸€ä¸ªç±»çš„å®ä¾‹å˜é‡ä¹Ÿä¸è¡Œã€‚ ä¹Ÿç»ä¸èƒ½å°† SqlSession å®ä¾‹çš„å¼•ç”¨æ”¾åœ¨ä»»ä½•ç±»å‹çš„æ‰˜ç®¡ä½œç”¨åŸŸä¸­ï¼Œæ¯”å¦‚ Servlet æ¡†æ¶ä¸­çš„ HttpSessionã€‚ å¦‚æœä½ ç°åœ¨æ­£åœ¨ä½¿ç”¨ä¸€ç§ Web æ¡†æ¶ï¼Œè€ƒè™‘å°† SqlSession æ”¾åœ¨ä¸€ä¸ªå’Œ HTTP è¯·æ±‚ç›¸ä¼¼çš„ä½œç”¨åŸŸä¸­ã€‚ æ¢å¥è¯è¯´ï¼Œæ¯æ¬¡æ”¶åˆ° HTTP è¯·æ±‚ï¼Œå°±å¯ä»¥æ‰“å¼€ä¸€ä¸ª SqlSessionï¼Œè¿”å›ä¸€ä¸ªå“åº”åï¼Œå°±å…³é—­å®ƒã€‚ è¿™ä¸ªå…³é—­æ“ä½œå¾ˆé‡è¦ï¼Œä¸ºäº†ç¡®ä¿æ¯æ¬¡éƒ½èƒ½æ‰§è¡Œå…³é—­æ“ä½œï¼Œä½ åº”è¯¥æŠŠè¿™ä¸ªå…³é—­æ“ä½œæ”¾åˆ° finally å—ä¸­ã€‚ ä¸‹é¢çš„ç¤ºä¾‹å°±æ˜¯ä¸€ä¸ªç¡®ä¿ SqlSession å…³é—­çš„æ ‡å‡†æ¨¡å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">try</span> (<span class="hljs-type">SqlSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sqlSessionFactory.openSession()) &#123;<br>  <span class="hljs-comment">// ä½ çš„åº”ç”¨é€»è¾‘ä»£ç </span><br>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨æ‰€æœ‰ä»£ç ä¸­éƒ½éµå¾ªè¿™ç§ä½¿ç”¨æ¨¡å¼ï¼Œå¯ä»¥ä¿è¯æ‰€æœ‰æ•°æ®åº“èµ„æºéƒ½èƒ½è¢«æ­£ç¡®åœ°å…³é—­ã€‚</p></blockquote><ul><li>è¿æ¥åˆ°è¿æ¥æ± çš„ä¸€ä¸ªè¯·æ±‚</li><li>SqlSessionçš„å®ä¾‹ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå› æ­¤æ˜¯ä¸èƒ½è¢«å…±äº«çš„ï¼Œæ‰€ä»¥ SqlSession çš„æœ€ä½³çš„ä½œç”¨åŸŸæ˜¯è¯·æ±‚æˆ–æ–¹æ³•ä½œç”¨åŸŸ</li><li>ç”¨å®Œä¹‹åéœ€è¦èµ¶ç´§å…³é—­ï¼Œå¦åˆ™èµ„æºè¢«å ç”¨</li></ul><p><img src="https://img.yiqiangshiyia.cn/blog/image-20220606201920246.png" alt="image-20220606201920246"></p><h1 id="5-ResultMap"><a href="#5-ResultMap" class="headerlink" title="5. ResultMap"></a>5. ResultMap</h1><p><strong>è¦è§£å†³çš„é—®é¢˜ï¼šå±æ€§åå’Œå­—æ®µåä¸ä¸€è‡´</strong></p><p>ç¯å¢ƒï¼šæ–°å»ºä¸€ä¸ªé¡¹ç›®ï¼Œå°†ä¹‹å‰çš„é¡¹ç›®æ‹·è´è¿‡æ¥</p><h2 id="5-1-æŸ¥è¯¢ä¸ºnullé—®é¢˜"><a href="#5-1-æŸ¥è¯¢ä¸ºnullé—®é¢˜" class="headerlink" title="5.1 æŸ¥è¯¢ä¸ºnullé—®é¢˜"></a>5.1 æŸ¥è¯¢ä¸ºnullé—®é¢˜</h2><ol><li><p>æŸ¥çœ‹ä¹‹å‰çš„æ•°æ®åº“çš„å­—æ®µå</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220801161834.png" alt="QQæˆªå›¾20220801161834"></p></li><li><p>Javaä¸­çš„å®ä½“ç±»è®¾è®¡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> &#123;<br>    <br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> id;  <span class="hljs-comment">//id</span><br><span class="hljs-keyword">private</span> String name; <span class="hljs-comment">//å§“å</span><br><span class="hljs-keyword">private</span> String password; <span class="hljs-comment">//å¯†ç å’Œæ•°æ®åº“ä¸ä¸€æ ·ï¼</span><br>    <br>    <span class="hljs-comment">//æ„é€ </span><br><span class="hljs-comment">//set/get</span><br><span class="hljs-comment">//toString()</span><br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//æ ¹æ®idæŸ¥è¯¢ç”¨æˆ·</span><br>User <span class="hljs-title function_">selectUserById</span><span class="hljs-params">(<span class="hljs-type">int</span> id)</span>;<br></code></pre></td></tr></table></figure></li><li><p>mapperæ˜ å°„æ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;selectUserById&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;user&quot;</span>&gt;</span><br>select * from user where id = #&#123;id&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testSelectUserById</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">SqlSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> MybatisUtils.getSession();  <span class="hljs-comment">//è·å–SqlSessionè¿æ¥</span><br><span class="hljs-type">UserMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> session.getMapper(UserMapper.class);<br><span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> mapper.selectUserById( <span class="hljs-number">1</span> );<br>System.out.println(user);<br>session.close();<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><p><strong>ç»“æœ:</strong></p><ul><li><p>User{id=1, name=â€™adminâ€™, password=â€™nullâ€™}</p></li><li><p>æŸ¥è¯¢å‡ºæ¥å‘ç° password ä¸ºç©º. è¯´æ˜å‡ºç°äº†é—®é¢˜ï¼</p></li></ul><p><strong>åˆ†æï¼š</strong></p><ul><li><p>select * from user where id = #{id} å¯ä»¥çœ‹åš select id,name,pwd from user where id = #{id}</p></li><li><p>mybatisä¼šæ ¹æ®è¿™äº›æŸ¥è¯¢çš„åˆ—å(ä¼šå°†åˆ—åè½¬åŒ–ä¸ºå°å†™ï¼Œæ•°æ®åº“ä¸åŒºåˆ†å¤§å°å†™) ï¼Œå»å¯¹åº”çš„å®ä½“ç±»ä¸­æŸ¥æ‰¾ç›¸åº”åˆ—åçš„setæ–¹æ³•è®¾å€¼ , ç”±äºæ‰¾ä¸åˆ°setPwd() , æ‰€ä»¥passwordè¿”å›null ; ã€è‡ªåŠ¨æ˜ å°„ã€‘</p></li></ul><h2 id="5-2-è§£å†³æ–¹æ¡ˆ"><a href="#5-2-è§£å†³æ–¹æ¡ˆ" class="headerlink" title="5.2 è§£å†³æ–¹æ¡ˆ"></a>5.2 è§£å†³æ–¹æ¡ˆ</h2><p>æ–¹æ¡ˆä¸€ï¼šä¸ºåˆ—åæŒ‡å®šåˆ«å , åˆ«åå’Œjavaå®ä½“ç±»çš„å±æ€§åä¸€è‡´.</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;selectUserById&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;User&quot;</span>&gt;</span><br>select id , name , pwd as password from user where id = #&#123;id&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>æ–¹æ¡ˆäºŒï¼šä½¿ç”¨ç»“æœé›†æ˜ å°„-&gt;ResultMap ã€æ¨èã€‘</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--ç»“æœé›†æ˜ å°„--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;UserMap&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;User&quot;</span>&gt;</span><br><span class="hljs-comment">&lt;!-- idä¸ºä¸»é”® --&gt;</span><br>    <span class="hljs-comment">&lt;!-- columnæ˜¯æ•°æ®åº“è¡¨çš„åˆ—å , propertyæ˜¯å¯¹åº”å®ä½“ç±»çš„å±æ€§å --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;name&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;pwd&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;password&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;selectUserById&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;UserMap&quot;</span>&gt;</span><br>select id , name , pwd from user where id = #&#123;id&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="5-3-ResultMap"><a href="#5-3-ResultMap" class="headerlink" title="5.3 ResultMap"></a>5.3 ResultMap</h2><h3 id="5-3-1-è‡ªåŠ¨æ˜ å°„"><a href="#5-3-1-è‡ªåŠ¨æ˜ å°„" class="headerlink" title="5.3.1 è‡ªåŠ¨æ˜ å°„"></a>5.3.1 è‡ªåŠ¨æ˜ å°„</h3><ul><li><p>resultMap å…ƒç´ æ˜¯ MyBatis ä¸­æœ€é‡è¦æœ€å¼ºå¤§çš„å…ƒç´ ã€‚å®ƒå¯ä»¥è®©ä½ ä» 90% çš„ JDBC ResultSets æ•°æ®æå–ä»£ç ä¸­è§£æ”¾å‡ºæ¥ã€‚</p></li><li><p>å®é™…ä¸Šï¼Œåœ¨ä¸ºä¸€äº›æ¯”å¦‚è¿æ¥çš„å¤æ‚è¯­å¥ç¼–å†™æ˜ å°„ä»£ç çš„æ—¶å€™ï¼Œä¸€ä»½ resultMap èƒ½å¤Ÿä»£æ›¿å®ç°åŒç­‰åŠŸèƒ½çš„é•¿è¾¾æ•°åƒè¡Œçš„ä»£ç ã€‚</p></li><li><p>ResultMap çš„è®¾è®¡æ€æƒ³æ˜¯ï¼Œå¯¹äºç®€å•çš„è¯­å¥æ ¹æœ¬ä¸éœ€è¦é…ç½®æ˜¾å¼çš„ç»“æœæ˜ å°„ï¼Œè€Œå¯¹äºå¤æ‚ä¸€ç‚¹çš„è¯­å¥åªéœ€è¦æè¿°å®ƒä»¬çš„å…³ç³»å°±è¡Œäº†ã€‚</p></li></ul><p>ä½ å·²ç»è§è¿‡ç®€å•æ˜ å°„è¯­å¥çš„ç¤ºä¾‹äº†ï¼Œä½†å¹¶æ²¡æœ‰æ˜¾å¼æŒ‡å®š resultMap ã€‚æ¯”å¦‚ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;selectUserById&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;map&quot;</span>&gt;</span><br>select id , name , pwd<br>from user<br>where id = #&#123;id&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ä¸Šè¿°è¯­å¥åªæ˜¯ç®€å•åœ°å°†æ‰€æœ‰çš„åˆ—æ˜ å°„åˆ° HashMap çš„é”®ä¸Šï¼Œè¿™ç”± resultType å±æ€§æŒ‡å®šã€‚è™½ç„¶åœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹éƒ½å¤Ÿç”¨ï¼Œä½†æ˜¯ HashMap ä¸æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ¨¡å‹ã€‚ä½ çš„ç¨‹åºæ›´å¯èƒ½ä¼šä½¿ç”¨ JavaBean æˆ–POJOï¼ˆPlain Old Java Objectsï¼Œæ™®é€šè€å¼ Java å¯¹è±¡ï¼‰ä½œä¸ºæ¨¡å‹ã€‚</p><p>ResultMap æœ€ä¼˜ç§€çš„åœ°æ–¹åœ¨äºï¼Œè™½ç„¶ä½ å·²ç»å¯¹å®ƒç›¸å½“äº†è§£äº†ï¼Œä½†æ˜¯æ ¹æœ¬å°±ä¸éœ€è¦æ˜¾å¼åœ°ç”¨åˆ°ä»–ä»¬ã€‚</p><h3 id="5-3-2-æ‰‹åŠ¨æ˜ å°„"><a href="#5-3-2-æ‰‹åŠ¨æ˜ å°„" class="headerlink" title="5.3.2 æ‰‹åŠ¨æ˜ å°„"></a>5.3.2 æ‰‹åŠ¨æ˜ å°„</h3><ol><li><p>è¿”å›å€¼ç±»å‹ä¸ºresultMap</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;selectUserById&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;UserMap&quot;</span>&gt;</span><br>select id , name , pwd from user where id = #&#123;id&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™resultMapï¼Œå®ç°æ‰‹åŠ¨æ˜ å°„ï¼</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;UserMap&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;User&quot;</span>&gt;</span><br><span class="hljs-comment">&lt;!-- idä¸ºä¸»é”® --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span>/&gt;</span><br><span class="hljs-comment">&lt;!-- columnæ˜¯æ•°æ®åº“è¡¨çš„åˆ—å , propertyæ˜¯å¯¹åº”å®ä½“ç±»çš„å±æ€§å --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;name&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;pwd&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;password&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span><br></code></pre></td></tr></table></figure></li></ol><p>å¦‚æœä¸–ç•Œæ€»æ˜¯è¿™ä¹ˆç®€å•å°±å¥½äº†ã€‚ä½†æ˜¯è‚¯å®šä¸æ˜¯çš„ï¼Œæ•°æ®åº“ä¸­ï¼Œå­˜åœ¨ä¸€å¯¹å¤šï¼Œå¤šå¯¹ä¸€çš„æƒ…å†µï¼Œæˆ‘ä»¬ä¹‹åä¼šä½¿ç”¨åˆ°ä¸€äº›é«˜çº§çš„ç»“æœé›†æ˜ å°„ï¼Œassociationï¼Œcollectionè¿™äº›</p><h1 id="6-æ—¥å¿—å·¥å‚"><a href="#6-æ—¥å¿—å·¥å‚" class="headerlink" title="6. æ—¥å¿—å·¥å‚"></a>6. æ—¥å¿—å·¥å‚</h1><h2 id="6-1-æ—¥å¿—å·¥å‚"><a href="#6-1-æ—¥å¿—å·¥å‚" class="headerlink" title="6.1 æ—¥å¿—å·¥å‚"></a>6.1 æ—¥å¿—å·¥å‚</h2><p>æ€è€ƒï¼šæˆ‘ä»¬åœ¨æµ‹è¯•SQLçš„æ—¶å€™ï¼Œè¦æ˜¯èƒ½å¤Ÿåœ¨æ§åˆ¶å°è¾“å‡º SQL çš„è¯ï¼Œæ˜¯ä¸æ˜¯å°±èƒ½å¤Ÿæœ‰æ›´å¿«çš„æ’é”™æ•ˆç‡ï¼Ÿ</p><p>å¦‚æœä¸€ä¸ª æ•°æ®åº“ç›¸å…³çš„æ“ä½œå‡ºç°äº†é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®è¾“å‡ºçš„SQLè¯­å¥å¿«é€Ÿæ’æŸ¥é—®é¢˜ã€‚</p><p>å¯¹äºä»¥å¾€çš„å¼€å‘è¿‡ç¨‹ï¼Œæˆ‘ä»¬ä¼šç»å¸¸ä½¿ç”¨åˆ°debugæ¨¡å¼æ¥è°ƒèŠ‚ï¼Œè·Ÿè¸ªæˆ‘ä»¬çš„ä»£ç æ‰§è¡Œè¿‡ç¨‹ã€‚ä½†æ˜¯ç°åœ¨ä½¿ç”¨Mybatisæ˜¯åŸºäºæ¥å£ï¼Œé…ç½®æ–‡ä»¶çš„æºä»£ç æ‰§è¡Œè¿‡ç¨‹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¿…é¡»é€‰æ‹©æ—¥å¿—å·¥å…·æ¥ä½œä¸ºæˆ‘ä»¬å¼€å‘ï¼Œè°ƒèŠ‚ç¨‹åºçš„å·¥å…·ã€‚</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220801165830.png" alt="QQæˆªå›¾20220801165830"></p><p>Mybatiså†…ç½®çš„æ—¥å¿—å·¥å‚æä¾›æ—¥å¿—åŠŸèƒ½ï¼Œå…·ä½“çš„æ—¥å¿—å®ç°æœ‰ä»¥ä¸‹å‡ ç§å·¥å…·ï¼š</p><ul><li>SLF4J</li><li>LOG4Jï¼ˆ3.5.9 èµ·åºŸå¼ƒï¼‰</li><li>LOG4J2</li><li>JDK_LOGGING</li><li> COMMONS_LOGGING</li><li>STDOUT_LOGGING</li><li>NO_LOGGING</li></ul><p>å…·ä½“é€‰æ‹©å“ªä¸ªæ—¥å¿—å®ç°å·¥å…·ç”±MyBatisçš„å†…ç½®æ—¥å¿—å·¥å‚ç¡®å®šã€‚å®ƒä¼šä½¿ç”¨æœ€å…ˆæ‰¾åˆ°çš„ï¼ˆæŒ‰ä¸Šæ–‡åˆ—ä¸¾çš„é¡ºåºæŸ¥æ‰¾ï¼‰ã€‚ å¦‚æœä¸€ä¸ªéƒ½æœªæ‰¾åˆ°ï¼Œæ—¥å¿—åŠŸèƒ½å°±ä¼šè¢«ç¦ç”¨ã€‚</p><p><strong>æ ‡å‡†æ—¥å¿—å®ç°</strong></p><p>æŒ‡å®š MyBatis åº”è¯¥ä½¿ç”¨å“ªä¸ªæ—¥å¿—è®°å½•å®ç°ã€‚å¦‚æœæ­¤è®¾ç½®ä¸å­˜åœ¨ï¼Œåˆ™ä¼šè‡ªåŠ¨å‘ç°æ—¥å¿—è®°å½•å®ç°ã€‚</p><p><strong>åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶mybatis-config.xmlä¸­é…ç½®æ—¥å¿—ï¼š</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">settings</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--æ ‡å‡†çš„æ—¥å¿—å·¥å‚å®ç°--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">setting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;logImpl&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;STDOUT_LOGGING&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">settings</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æ§åˆ¶å°è¾“å‡ºï¼š</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220801170730.png" alt="QQæˆªå›¾20220801170730"></p><p>æµ‹è¯•ï¼Œå¯ä»¥çœ‹åˆ°æ§åˆ¶å°æœ‰å¤§é‡çš„è¾“å‡ºï¼æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™äº›è¾“å‡ºæ¥åˆ¤æ–­ç¨‹åºåˆ°åº•å“ªé‡Œå‡ºäº†Bug</p><h2 id="6-2-Log4j"><a href="#6-2-Log4j" class="headerlink" title="6.2 Log4j"></a>6.2 Log4j</h2><p><strong>ç®€ä»‹ï¼š</strong></p><blockquote><p>Log4jæ˜¯<a href="https://baike.baidu.com/item/Apache/8512995">Apache</a>çš„ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œé€šè¿‡ä½¿ç”¨Log4jï¼Œæˆ‘ä»¬å¯ä»¥æ§åˆ¶æ—¥å¿—ä¿¡æ¯è¾“é€çš„ç›®çš„åœ°æ˜¯<a href="https://baike.baidu.com/item/%E6%8E%A7%E5%88%B6%E5%8F%B0/2438626">æ§åˆ¶å°</a>ã€æ–‡ä»¶ã€<a href="https://baike.baidu.com/item/GUI">GUI</a>ç»„ä»¶ï¼Œç”šè‡³æ˜¯å¥—æ¥å£æœåŠ¡å™¨ã€<a href="https://baike.baidu.com/item/NT/3443842">NT</a>çš„äº‹ä»¶è®°å½•å™¨ã€<a href="https://baike.baidu.com/item/UNIX">UNIX</a> <a href="https://baike.baidu.com/item/Syslog">Syslog</a><a href="https://baike.baidu.com/item/%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B/966835">å®ˆæŠ¤è¿›ç¨‹</a>ç­‰ï¼›æˆ‘ä»¬ä¹Ÿå¯ä»¥æ§åˆ¶æ¯ä¸€æ¡æ—¥å¿—çš„è¾“å‡ºæ ¼å¼ï¼›é€šè¿‡å®šä¹‰æ¯ä¸€æ¡æ—¥å¿—ä¿¡æ¯çš„çº§åˆ«ï¼Œæˆ‘ä»¬èƒ½å¤Ÿæ›´åŠ ç»†è‡´åœ°æ§åˆ¶æ—¥å¿—çš„ç”Ÿæˆè¿‡ç¨‹ã€‚æœ€ä»¤äººæ„Ÿå…´è¶£çš„å°±æ˜¯ï¼Œè¿™äº›å¯ä»¥é€šè¿‡ä¸€ä¸ª<a href="https://baike.baidu.com/item/%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/286550">é…ç½®æ–‡ä»¶</a>æ¥çµæ´»åœ°è¿›è¡Œé…ç½®ï¼Œè€Œä¸éœ€è¦ä¿®æ”¹åº”ç”¨çš„ä»£ç ã€‚</p></blockquote><p><strong>ä½¿ç”¨æ­¥éª¤ï¼š</strong></p><ol><li><p>å¯¼å…¥log4jçš„åŒ…ï¼ˆpom.xmlæ–‡ä»¶ä¸­å¯¼å…¥ä¾èµ–ï¼‰</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--https://mvnrepository.com/artifact/log4j/log4j--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>log4j<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>log4j<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2.17<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>é…ç½®æ–‡ä»¶ç¼–å†™ï¼ˆresourcesç›®å½•ä¸‹åˆ›å»º log4j.properties æ–‡ä»¶ï¼‰</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-comment">#å°†ç­‰çº§ä¸ºDEBUGçš„æ—¥å¿—ä¿¡æ¯è¾“å‡ºåˆ°consoleå’Œfileè¿™ä¸¤ä¸ªç›®çš„åœ°ï¼Œconsoleå’Œfileçš„å®šä¹‰åœ¨ä¸‹é¢çš„ä»£ç </span><br><span class="hljs-attr">log4j.rootLogger</span>=<span class="hljs-string">DEBUG,console,file</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">#æ§åˆ¶å°è¾“å‡ºçš„ç›¸å…³è®¾ç½®</span><br><span class="hljs-attr">log4j.appender.console</span> = <span class="hljs-string">org.apache.log4j.ConsoleAppender</span><br><span class="hljs-attr">log4j.appender.console.Target</span> = <span class="hljs-string">System.out</span><br><span class="hljs-attr">log4j.appender.console.Threshold</span>=<span class="hljs-string">DEBUG</span><br><span class="hljs-attr">log4j.appender.console.layout</span> = <span class="hljs-string">org.apache.log4j.PatternLayout</span><br><span class="hljs-attr">log4j.appender.console.layout.ConversionPattern</span>=<span class="hljs-string">[%c]-%m%n</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">#æ–‡ä»¶è¾“å‡ºçš„ç›¸å…³è®¾ç½®</span><br><span class="hljs-attr">log4j.appender.file</span> = <span class="hljs-string">org.apache.log4j.RollingFileAppender</span><br><span class="hljs-attr">log4j.appender.file.File</span>=<span class="hljs-string">./log/study.log</span><br><span class="hljs-attr">log4j.appender.file.MaxFileSize</span>=<span class="hljs-string">10mb</span><br><span class="hljs-attr">log4j.appender.file.Threshold</span>=<span class="hljs-string">DEBUG</span><br><span class="hljs-attr">log4j.appender.file.layout</span>=<span class="hljs-string">org.apache.log4j.PatternLayout</span><br><span class="hljs-attr">log4j.appender.file.layout.ConversionPattern</span>=<span class="hljs-string">[%p][%d&#123;yy-MM-dd&#125;][%c]%m%n</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">#æ—¥å¿—è¾“å‡ºçº§åˆ«</span><br><span class="hljs-attr">log4j.logger.org.mybatis</span>=<span class="hljs-string">DEBUG</span><br><span class="hljs-attr">log4j.logger.java.sql</span>=<span class="hljs-string">DEBUG</span><br><span class="hljs-attr">log4j.logger.java.sql.Statement</span>=<span class="hljs-string">DEBUG</span><br><span class="hljs-attr">log4j.logger.java.sql.ResultSet</span>=<span class="hljs-string">DEBUG</span><br><span class="hljs-attr">log4j.logger.java.sql.PreparedStatement</span>=<span class="hljs-string">DEBUG</span><br></code></pre></td></tr></table></figure></li><li><p>settingè®¾ç½®æ—¥å¿—å®ç°</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">settings</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">setting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;logImpl&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;LOG4J&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">settings</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>åœ¨ç¨‹åºä¸­ä½¿ç”¨Log4jè¿›è¡Œè¾“å‡º</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//æ³¨æ„å¯¼åŒ…ï¼šorg.apache.log4j.Logger</span><br><span class="hljs-keyword">import</span> org.apache.log4j.Logger<br><br><span class="hljs-comment">//æ—¥å¿—å¯¹è±¡ï¼Œå‚æ•°ä¸ºå½“å‰æ—¥å¿—çš„class</span><br><span class="hljs-keyword">static</span> <span class="hljs-type">Logger</span> <span class="hljs-variable">logger</span> <span class="hljs-operator">=</span> Logger.getLogger(UserMapperTest.class);<br><br><span class="hljs-comment">//log4jæµ‹è¯•</span><br><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">selectUser</span><span class="hljs-params">()</span> &#123;<br>logger.info(<span class="hljs-string">&quot;infoï¼šè¿›å…¥selectUseræ–¹æ³•&quot;</span>);<br>logger.debug(<span class="hljs-string">&quot;debugï¼šè¿›å…¥selectUseræ–¹æ³•&quot;</span>);<br>logger.error(<span class="hljs-string">&quot;error: è¿›å…¥selectUseræ–¹æ³•&quot;</span>);<br><span class="hljs-type">SqlSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> MybatisUtils.getSession();<br>    <span class="hljs-type">UserMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> session.getMapper(UserMapper.class);<br>List&lt;User&gt; users = mapper.selectUser();<br><span class="hljs-keyword">for</span> (User user: users)&#123;<br>System.out.println(user);<br>&#125;<br>session.close();<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><p>æ§åˆ¶å°è¾“å‡º</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220802161115.png" alt="QQæˆªå›¾20220802161115"></p><p>æ—¥å¿—æ–‡ä»¶ study.log ç”Ÿæˆ</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220802161012.png" alt="QQæˆªå›¾20220802161012"></p></li></ol><h1 id="7-åˆ†é¡µçš„å®ç°"><a href="#7-åˆ†é¡µçš„å®ç°" class="headerlink" title="7. åˆ†é¡µçš„å®ç°"></a>7. åˆ†é¡µçš„å®ç°</h1><p><strong>æ€è€ƒï¼šä¸ºä»€ä¹ˆéœ€è¦åˆ†é¡µï¼Ÿ</strong></p><p>åœ¨å­¦ä¹ mybatisç­‰æŒä¹…å±‚æ¡†æ¶çš„æ—¶å€™ï¼Œä¼šç»å¸¸å¯¹æ•°æ®è¿›è¡Œå¢åˆ æ”¹æŸ¥æ“ä½œï¼Œä½¿ç”¨æœ€å¤šçš„æ˜¯å¯¹æ•°æ®åº“è¿›è¡ŒæŸ¥è¯¢æ“ä½œï¼Œå¦‚æœæŸ¥è¯¢å¤§é‡æ•°æ®çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¾€å¾€ä½¿ç”¨åˆ†é¡µè¿›è¡ŒæŸ¥è¯¢ï¼Œä¹Ÿå°±æ˜¯æ¯æ¬¡å¤„ç†å°éƒ¨åˆ†æ•°æ®ï¼Œè¿™æ ·å¯¹æ•°æ®åº“å‹åŠ›å°±åœ¨å¯æ§èŒƒå›´å†…ã€‚</p><h2 id="7-1-limitå®ç°åˆ†é¡µ"><a href="#7-1-limitå®ç°åˆ†é¡µ" class="headerlink" title="7.1 limitå®ç°åˆ†é¡µ"></a>7.1 limitå®ç°åˆ†é¡µ</h2><p><strong>ä½¿ç”¨Limitå®ç°åˆ†é¡µ</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs mysql">#è¯­æ³•<br>SELECT * FROM table LIMIT stratIndexï¼ŒpageSize<br><br>SELECT * FROM table LIMIT 5 , 10 ; // æ£€ç´¢è®°å½•è¡Œ 6 - 15<br><br>#ä¸ºäº†æ£€ç´¢ä»æŸä¸€ä¸ªåç§»é‡åˆ°è®°å½•é›†çš„ç»“æŸæ‰€æœ‰çš„è®°å½•è¡Œï¼Œå¯ä»¥æŒ‡å®šç¬¬äºŒä¸ªå‚æ•°ä¸º - 1 ï¼š<br>SELECT * FROM table LIMIT 95 ,- 1 ; // æ£€ç´¢è®°å½•è¡Œ 96 -last.<br><br>#å¦‚æœåªç»™å®šä¸€ä¸ªå‚æ•°ï¼Œå®ƒè¡¨ç¤ºè¿”å›æœ€å¤§çš„è®°å½•è¡Œæ•°ç›®ï¼š<br>SELECT * FROM table LIMIT 5 ; //æ£€ç´¢å‰ 5 ä¸ªè®°å½•è¡Œ<br><br>#æ¢å¥è¯è¯´ï¼ŒLIMIT n ç­‰ä»·äº LIMIT 0 ,n<br></code></pre></td></tr></table></figure><p><strong>å®ç°æ­¥éª¤ï¼š</strong></p><ol><li><p>ä¿®æ”¹Mapperæ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;selectUser&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;map&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;user&quot;</span>&gt;</span><br>select * from user limit #&#123;startIndex&#125;,#&#123;pageSize&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>Mapperæ¥å£ï¼Œå‚æ•°ä¸ºmap</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//é€‰æ‹©å…¨éƒ¨ç”¨æˆ·å®ç°åˆ†é¡µ</span><br>List&lt;User&gt; <span class="hljs-title function_">selectUser</span><span class="hljs-params">(Map&lt;String,Integer&gt; map)</span>;<br></code></pre></td></tr></table></figure></li><li><p>åœ¨æµ‹è¯•ç±»ä¸­ä¼ å…¥å‚æ•°æµ‹è¯•</p><ul><li>æ¨æ–­ï¼šèµ·å§‹ä½ç½® = ï¼ˆå½“å‰é¡µé¢ - 1 ï¼‰ * é¡µé¢å¤§å°</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//åˆ†é¡µæŸ¥è¯¢ , ä¸¤ä¸ªå‚æ•°startIndex , pageSize</span><br><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testSelectUser</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">SqlSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> MybatisUtils.getSession();<br>    <br>    <span class="hljs-type">UserMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> session.getMapper(UserMapper.class);<br>    <br>    <span class="hljs-type">int</span> <span class="hljs-variable">currentPage</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span> ;  <span class="hljs-comment">//ç¬¬å‡ é¡µ</span><br><span class="hljs-type">int</span> <span class="hljs-variable">pageSize</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span> ;  <span class="hljs-comment">//æ¯é¡µæ˜¾ç¤ºå‡ ä¸ª</span><br>Map&lt;String,Integer&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;String,Integer&gt;();<br>map.put(<span class="hljs-string">&quot;startIndex&quot;</span>,(currentPage- <span class="hljs-number">1</span> )*pageSize);<br>map.put(<span class="hljs-string">&quot;pageSize&quot;</span>,pageSize);<br>    <br>    List&lt;User&gt; users = mapper.selectUser(map);<br>    <br>    <span class="hljs-keyword">for</span> (User user: users)&#123;<br>System.out.println(user);<br>&#125;<br>    <br>   session.close();<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h2 id="7-2-RowBoundsåˆ†é¡µ"><a href="#7-2-RowBoundsåˆ†é¡µ" class="headerlink" title="7.2 RowBoundsåˆ†é¡µ"></a>7.2 RowBoundsåˆ†é¡µ</h2><p>æˆ‘ä»¬é™¤äº†ä½¿ç”¨Limitåœ¨SQLå±‚é¢å®ç°åˆ†é¡µï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨RowBoundsåœ¨Javaä»£ç å±‚é¢å®ç°åˆ†é¡µï¼Œå½“ç„¶æ­¤ç§æ–¹å¼ä½œä¸ºäº†è§£å³å¯ã€‚</p><p><strong>å®ç°æ­¥éª¤ï¼š</strong></p><ol><li><p>mapperæ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//é€‰æ‹©å…¨éƒ¨ç”¨æˆ·RowBoundså®ç°åˆ†é¡µ</span><br>List&lt;User&gt; <span class="hljs-title function_">getUserByRowBounds</span><span class="hljs-params">()</span>;<br></code></pre></td></tr></table></figure></li><li><p>mapperæ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getUserByRowBounds&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;user&quot;</span>&gt;</span><br>select * from user<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•ç±»</p><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨RowBoundsç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testUserByRowBounds</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">SqlSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> MybatisUtils.getSession();<br>    <br>    <span class="hljs-comment">//RowBoundså®ç°</span><br>    <span class="hljs-type">int</span> <span class="hljs-variable">currentPage</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span> ;  <span class="hljs-comment">//ç¬¬å‡ é¡µ</span><br>    <span class="hljs-type">int</span> <span class="hljs-variable">pageSize</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span> ;  <span class="hljs-comment">//æ¯é¡µæ˜¾ç¤ºå‡ ä¸ª</span><br>    <span class="hljs-type">RowBounds</span> <span class="hljs-variable">rowBounds</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RowBounds</span>((currentPage-<span class="hljs-number">1</span> )*pageSize,pageSize);<br><br>    <span class="hljs-comment">//é€šè¿‡Javaä»£ç å±‚å®ç°åˆ†é¡µ</span><br>    List&lt;User&gt; users session.selectList(<span class="hljs-string">&quot;ssm.study.mapper.UserMapper.getUserByRowBounds&quot;</span>,<br><span class="hljs-literal">null</span>, rowBounds);<br><br>    <span class="hljs-keyword">for</span> (User user: users)&#123;<br>        System.out.println(user);<br>    &#125;<br><br>    session.close();<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h2 id="7-3-PageHelperï¼ˆäº†è§£ï¼‰"><a href="#7-3-PageHelperï¼ˆäº†è§£ï¼‰" class="headerlink" title="7.3 PageHelperï¼ˆäº†è§£ï¼‰"></a>7.3 PageHelperï¼ˆäº†è§£ï¼‰</h2><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://pagehelper.github.io/">https://pagehelper.github.io/</a></p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220802164352.png" alt="QQæˆªå›¾20220802164352"></p><h1 id="8-ä½¿ç”¨æ³¨è§£å¼€å‘"><a href="#8-ä½¿ç”¨æ³¨è§£å¼€å‘" class="headerlink" title="8. ä½¿ç”¨æ³¨è§£å¼€å‘"></a>8. ä½¿ç”¨æ³¨è§£å¼€å‘</h1><h2 id="8-1-é¢å‘æ¥å£ç¼–ç¨‹"><a href="#8-1-é¢å‘æ¥å£ç¼–ç¨‹" class="headerlink" title="8.1 é¢å‘æ¥å£ç¼–ç¨‹"></a>8.1 é¢å‘æ¥å£ç¼–ç¨‹</h2><ul><li><p>å¤§å®¶ä¹‹å‰éƒ½å­¦è¿‡é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œä¹Ÿå­¦ä¹ è¿‡æ¥å£ï¼Œä½†åœ¨çœŸæ­£çš„å¼€å‘ä¸­ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬ä¼šé€‰æ‹©é¢å‘æ¥å£ç¼–ç¨‹</p></li><li><p><strong>æ ¹æœ¬åŸå›  : è§£è€¦ , å¯æ‹“å±• , æé«˜å¤ç”¨ , åˆ†å±‚å¼€å‘ä¸­ , ä¸Šå±‚ä¸ç”¨ç®¡å…·ä½“çš„å®ç° , å¤§å®¶éƒ½éµå®ˆå…±åŒçš„æ ‡å‡†, ä½¿å¾—å¼€å‘å˜å¾—å®¹æ˜“ , è§„èŒƒæ€§æ›´å¥½</strong></p></li><li><p>åœ¨ä¸€ä¸ªé¢å‘å¯¹è±¡çš„ç³»ç»Ÿä¸­ï¼Œç³»ç»Ÿçš„å„ç§åŠŸèƒ½æ˜¯ç”±è®¸è®¸å¤šå¤šçš„ä¸åŒå¯¹è±¡åä½œå®Œæˆçš„ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå„ä¸ªå¯¹è±¡å†…éƒ¨æ˜¯å¦‚ä½•å®ç°è‡ªå·±çš„,å¯¹ç³»ç»Ÿè®¾è®¡äººå‘˜æ¥è®²å°±ä¸é‚£ä¹ˆé‡è¦äº†</p></li><li><p>è€Œå„ä¸ªå¯¹è±¡ä¹‹é—´çš„åä½œå…³ç³»åˆ™æˆä¸ºç³»ç»Ÿè®¾è®¡çš„å…³é”®ã€‚å°åˆ°ä¸åŒç±»ä¹‹é—´çš„é€šä¿¡ï¼Œå¤§åˆ°å„æ¨¡å—ä¹‹é—´çš„äº¤äº’ï¼Œåœ¨ç³»ç»Ÿè®¾è®¡ä¹‹åˆéƒ½æ˜¯è¦ç€é‡è€ƒè™‘çš„ï¼Œè¿™ä¹Ÿæ˜¯ç³»ç»Ÿè®¾è®¡çš„ä¸»è¦å·¥ä½œå†…å®¹ã€‚é¢å‘æ¥å£ç¼–ç¨‹å°±æ˜¯æŒ‡æŒ‰ç…§è¿™ç§æ€æƒ³æ¥ç¼–ç¨‹ã€‚</p></li></ul><p><strong>å…³äºæ¥å£çš„ç†è§£</strong></p><ul><li><p>æ¥å£ä»æ›´æ·±å±‚æ¬¡çš„ç†è§£ï¼Œåº”æ˜¯å®šä¹‰ï¼ˆè§„èŒƒï¼Œçº¦æŸï¼‰ä¸å®ç°ï¼ˆåå®åˆ†ç¦»çš„åŸåˆ™ï¼‰çš„åˆ†ç¦»ã€‚</p></li><li><p>æ¥å£çš„æœ¬èº«åæ˜ äº†ç³»ç»Ÿè®¾è®¡äººå‘˜å¯¹ç³»ç»Ÿçš„æŠ½è±¡ç†è§£ã€‚</p></li><li><p>æ¥å£åº”æœ‰ä¸¤ç±»ï¼š</p><ul><li><p>ç¬¬ä¸€ç±»æ˜¯å¯¹ä¸€ä¸ªä¸ªä½“çš„æŠ½è±¡ï¼Œå®ƒå¯å¯¹åº”ä¸ºä¸€ä¸ªæŠ½è±¡ä½“(abstract class)</p></li><li><p>ç¬¬äºŒç±»æ˜¯å¯¹ä¸€ä¸ªä¸ªä½“æŸä¸€æ–¹é¢çš„æŠ½è±¡ï¼Œå³å½¢æˆä¸€ä¸ªæŠ½è±¡é¢ï¼ˆinterfaceï¼‰</p></li></ul></li><li><p>ä¸€ä¸ªä½“æœ‰å¯èƒ½æœ‰å¤šä¸ªæŠ½è±¡é¢ã€‚æŠ½è±¡ä½“ä¸æŠ½è±¡é¢æ˜¯æœ‰åŒºåˆ«çš„ã€‚</p></li></ul><p><strong>ä¸‰ä¸ªé¢å‘åŒºåˆ«</strong></p><ul><li><p>é¢å‘å¯¹è±¡æ˜¯æŒ‡ï¼Œæˆ‘ä»¬è€ƒè™‘é—®é¢˜æ—¶ï¼Œä»¥å¯¹è±¡ä¸ºå•ä½ï¼Œè€ƒè™‘å®ƒçš„å±æ€§åŠæ–¹æ³•.</p></li><li><p>é¢å‘è¿‡ç¨‹æ˜¯æŒ‡ï¼Œæˆ‘ä»¬è€ƒè™‘é—®é¢˜æ—¶ï¼Œä»¥ä¸€ä¸ªå…·ä½“çš„æµç¨‹ï¼ˆäº‹åŠ¡è¿‡ç¨‹ï¼‰ä¸ºå•ä½ï¼Œè€ƒè™‘å®ƒçš„å®ç°.</p></li><li><p>æ¥å£è®¾è®¡ä¸éæ¥å£è®¾è®¡æ˜¯é’ˆå¯¹å¤ç”¨æŠ€æœ¯è€Œè¨€çš„ï¼Œä¸é¢å‘å¯¹è±¡ï¼ˆè¿‡ç¨‹ï¼‰ä¸æ˜¯ä¸€ä¸ªé—®é¢˜.æ›´å¤šçš„ä½“ç°å°±æ˜¯å¯¹ç³»ç»Ÿæ•´ä½“çš„æ¶æ„</p></li></ul><h2 id="8-2-ä½¿ç”¨æ³¨è§£å¼€å‘"><a href="#8-2-ä½¿ç”¨æ³¨è§£å¼€å‘" class="headerlink" title="8.2 ä½¿ç”¨æ³¨è§£å¼€å‘"></a>8.2 ä½¿ç”¨æ³¨è§£å¼€å‘</h2><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220802170945.png" alt="QQæˆªå›¾20220802170945"></p><ul><li><p><strong>mybatisæœ€åˆé…ç½®ä¿¡æ¯æ˜¯åŸºäº XML ,æ˜ å°„è¯­å¥(SQL)ä¹Ÿæ˜¯å®šä¹‰åœ¨ XML ä¸­çš„ã€‚è€Œåˆ°MyBatis 3æä¾›äº†æ–°çš„åŸºäºæ³¨è§£çš„é…ç½®ã€‚ä¸å¹¸çš„æ˜¯ï¼ŒJava æ³¨è§£çš„çš„è¡¨è¾¾åŠ›å’Œçµæ´»æ€§ååˆ†æœ‰é™ã€‚æœ€å¼ºå¤§çš„ MyBatis æ˜ å°„å¹¶ä¸èƒ½ç”¨æ³¨è§£æ¥æ„å»º</strong></p></li><li><p>ä½¿ç”¨æ³¨è§£å¼€å‘ï¼Œ<strong>æœ¬è´¨ï¼šåå°„æœºåˆ¶å®ç°  åº•å±‚ï¼šåŠ¨æ€ä»£ç†</strong></p></li><li><p>sql ç±»å‹ä¸»è¦åˆ†æˆ :</p><ul><li><p>@select ()</p></li><li><p>@update ()</p></li><li><p>@Insert ()</p></li><li><p>@delete ()</p></li></ul></li></ul><p><strong>Noteï¼š</strong>åˆ©ç”¨æ³¨è§£å¼€å‘å°±ä¸éœ€è¦mapper.xmlæ˜ å°„æ–‡ä»¶äº†</p><ol><li><p>åœ¨æ¥å£ä¸­æ·»åŠ æ³¨è§£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//æŸ¥è¯¢å…¨éƒ¨ç”¨æˆ·</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserMapper</span> &#123;<br>    <span class="hljs-meta">@Select(&quot;select * from user&quot;)</span><br>    List&lt;User&gt; <span class="hljs-title function_">getUsers</span><span class="hljs-params">()</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>åœ¨mybatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æ³¨å…¥</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--ä½¿ç”¨classç»‘å®šæ¥å£--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.dao.UserMapper&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">()</span>&#123;<br>    <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> MybatisUtils.getSession();<br>    <span class="hljs-comment">//æœ¬è´¨ä¸Šåˆ©ç”¨äº†jvmçš„åŠ¨æ€ä»£ç†æœºåˆ¶</span><br>    <span class="hljs-comment">//åº•å±‚ä¸»è¦åº”ç”¨åå°„</span><br>    <span class="hljs-type">UserMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> sqlSession.getMapper(UserMapper.class);<br>    List&lt;User&gt; users = mapper.getUsers();<br>    <span class="hljs-keyword">for</span>(User user : users)&#123;<br>        System.out.println(user);<br>    &#125;<br>    sqlSession.close();<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>åˆ©ç”¨DebugæŸ¥çœ‹æœ¬è´¨</p></li></ol><p><img src="https://img.yiqiangshiyia.cn/blog/image-20220606205608273.png" alt="image-20220606205608273"></p><ol start="5"><li><p>æœ¬è´¨ä¸Šåˆ©ç”¨äº†jvmçš„åŠ¨æ€ä»£ç†æœºåˆ¶</p><p><img src="https://img.yiqiangshiyia.cn/blog/image-20220606205657776.png" alt="image-20220606205657776"></p></li><li><p><strong>Mybatisè¯¦ç»†çš„æ‰§è¡Œæµç¨‹</strong></p></li></ol><p><img src="https://img.yiqiangshiyia.cn/blog/image-20220606205813597.png" alt="image-20220606205813597"></p><h2 id="8-3-æ³¨è§£å¢åˆ æ”¹"><a href="#8-3-æ³¨è§£å¢åˆ æ”¹" class="headerlink" title="8.3 æ³¨è§£å¢åˆ æ”¹"></a>8.3 æ³¨è§£å¢åˆ æ”¹</h2><p>æ”¹é€ MybatisUtilså·¥å…·ç±»çš„getSession( ) æ–¹æ³•ï¼Œé‡è½½å®ç°ã€‚æˆ‘ä»¬å¯ä»¥åœ¨å·¥å…·ç±»åˆ›å»ºçš„æ—¶å€™å®ç°è‡ªåŠ¨æäº¤äº‹ç‰©</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//è·å–SqlSessionè¿æ¥</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SqlSession <span class="hljs-title function_">getSession</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-keyword">return</span> getSession(<span class="hljs-literal">true</span>); <span class="hljs-comment">//äº‹åŠ¡è‡ªåŠ¨æäº¤</span><br>&#125;<br></code></pre></td></tr></table></figure><p><strong>Noteï¼š</strong>ç¡®ä¿å®ä½“ç±»å’Œæ•°æ®åº“å­—æ®µå¯¹åº”</p><p><strong>æŸ¥è¯¢ï¼š</strong></p><ol><li><p>ç¼–å†™æ¥å£æ–¹æ³•æ³¨è§£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//æ ¹æ®idæŸ¥è¯¢ç”¨æˆ·</span><br><span class="hljs-meta">@Select(&quot;select * from user where id = #&#123;id&#125;&quot;)</span><br>User <span class="hljs-title function_">selectUserById</span><span class="hljs-params">(<span class="hljs-meta">@Param(&quot;id&quot;)</span> <span class="hljs-type">int</span> id)</span>;<br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testSelectUserById</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">SqlSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> MybatisUtils.getSession();<br><span class="hljs-type">UserMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> session.getMapper(UserMapper.class);<br>    <br>    <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> mapper.selectUserById( <span class="hljs-number">1</span> );<br>System.out.println(user);<br>    <br>    session.close();<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><p><strong>æ–°å¢ï¼š</strong></p><ol><li><p>ç¼–å†™æ¥å£æ–¹æ³•æ³¨è§£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//æ·»åŠ ä¸€ä¸ªç”¨æˆ·</span><br><span class="hljs-meta">@Insert(&quot;insert into user (id,name,pwd) values (#&#123;id&#125;,#&#123;name&#125;,#&#123;pwd&#125;)&quot;)</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">addUser</span><span class="hljs-params">(User user)</span>;<br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testAddUser</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">SqlSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> MybatisUtils.getSession();<br><span class="hljs-type">UserMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> session.getMapper(UserMapper.class);<br>    <br>    <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>( <span class="hljs-number">4</span> , <span class="hljs-string">&quot;user3&quot;</span>, <span class="hljs-string">&quot;123456&quot;</span>);<br>mapper.addUser(user);<br>    <br>    session.close();<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><p><strong>ä¿®æ”¹ï¼š</strong></p><ol><li><p>ç¼–å†™æ¥å£æ–¹æ³•æ³¨è§£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//ä¿®æ”¹ä¸€ä¸ªç”¨æˆ·</span><br><span class="hljs-meta">@Update(&quot;update user set name=#&#123;name&#125;,pwd=#&#123;pwd&#125; where id = #&#123;id&#125;&quot;)</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">updateUser</span><span class="hljs-params">(User user)</span>;<br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testUpdateUser</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">SqlSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> MybatisUtils.getSession();<br><span class="hljs-type">UserMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> session.getMapper(UserMapper.class);<br>    <br>    <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>( <span class="hljs-number">4</span> , <span class="hljs-string">&quot;user3&quot;</span>, <span class="hljs-string">&quot;123456789&quot;</span>);<br>mapper.updateUser(user);<br>    <br>    session.close();<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><p><strong>åˆ é™¤ï¼š</strong></p><ol><li><p>ç¼–å†™æ¥å£æ–¹æ³•æ³¨è§£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//æ ¹æ®idåˆ é™¤ç”¨</span><br><span class="hljs-meta">@Delete(&quot;delete from user where id = #&#123;id&#125;&quot;)</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">deleteUser</span><span class="hljs-params">(<span class="hljs-meta">@Param(&quot;id&quot;)</span><span class="hljs-type">int</span> id)</span>;<br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testDeleteUser</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">SqlSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> MybatisUtils.getSession();<br><span class="hljs-type">UserMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> session.getMapper(UserMapper.class);<br>    <br>mapper.deleteUser( <span class="hljs-number">4</span> );<br>    <br>    session.close();<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><p><strong>Noteï¼š</strong>å¢åˆ æ”¹ä¸€å®šè®°å¾—å¯¹äº‹åŠ¡çš„å¤„ç†</p><h2 id="8-4-å…³äº-Param"><a href="#8-4-å…³äº-Param" class="headerlink" title="8.4 å…³äº@Param"></a>8.4 å…³äº@Param</h2><p>@Paramæ³¨è§£ç”¨äºç»™æ–¹æ³•å‚æ•°èµ·ä¸€ä¸ªåå­—ã€‚ä»¥ä¸‹æ˜¯æ€»ç»“çš„ä½¿ç”¨åŸåˆ™ï¼š</p><ul><li><p>åœ¨æ–¹æ³•åªæ¥å—ä¸€ä¸ªå‚æ•°çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ä¸ä½¿ç”¨@Paramã€‚</p></li><li><p>åœ¨æ–¹æ³•æ¥å—å¤šä¸ªå‚æ•°çš„æƒ…å†µä¸‹ï¼Œå»ºè®®ä¸€å®šè¦ä½¿ç”¨@Paramæ³¨è§£ç»™å‚æ•°å‘½åã€‚</p></li><li><p>å¦‚æœå‚æ•°æ˜¯ JavaBean ï¼Œ åˆ™ä¸èƒ½ä½¿ç”¨@Paramã€‚</p></li><li><p>ä¸ä½¿ç”¨@Paramæ³¨è§£æ—¶ï¼Œå‚æ•°åªèƒ½æœ‰ä¸€ä¸ªï¼Œå¹¶ä¸”æ˜¯Javabeanã€‚</p></li></ul><h2 id="8-5-ä¸-çš„åŒºåˆ«"><a href="#8-5-ä¸-çš„åŒºåˆ«" class="headerlink" title="8.5 #ä¸$çš„åŒºåˆ«"></a>8.5 #ä¸$çš„åŒºåˆ«</h2><p>#æ›´åŠ å®‰å…¨ï¼Œå¯ä»¥é˜²æ­¢sqlæ³¨å…¥</p><ul><li><p>#{} çš„ä½œç”¨ä¸»è¦æ˜¯æ›¿æ¢é¢„ç¼–è¯‘è¯­å¥(PrepareStatement)ä¸­çš„å ä½ç¬¦? ã€æ¨èä½¿ç”¨ã€‘</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">INSERT INTO <span class="hljs-title function_">user</span> <span class="hljs-params">(name)</span> VALUES (#&#123;name&#125;);<br>INSERT INTO <span class="hljs-title function_">user</span> <span class="hljs-params">(name)</span> VALUES (?);<br></code></pre></td></tr></table></figure></li><li><p>${} çš„ä½œç”¨æ˜¯ç›´æ¥è¿›è¡Œå­—ç¬¦ä¸²æ›¿æ¢</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">INSERT INTO <span class="hljs-title function_">user</span> <span class="hljs-params">(name)</span> VALUES (<span class="hljs-string">&#x27;$&#123;name&#125;&#x27;</span>);<br>INSERT INTO <span class="hljs-title function_">user</span> <span class="hljs-params">(name)</span> VALUES (<span class="hljs-string">&#x27;kuangshen&#x27;</span>);<br></code></pre></td></tr></table></figure></li></ul><h1 id="9-å¤šå¯¹ä¸€çš„å¤„ç†"><a href="#9-å¤šå¯¹ä¸€çš„å¤„ç†" class="headerlink" title="9. å¤šå¯¹ä¸€çš„å¤„ç†"></a>9. å¤šå¯¹ä¸€çš„å¤„ç†</h1><p>å¤šå¯¹ä¸€çš„ç†è§£ï¼š</p><ul><li><p>å¤šä¸ªå­¦ç”Ÿå¯¹åº”ä¸€ä¸ªè€å¸ˆ</p></li><li><p>å¦‚æœå¯¹äºå­¦ç”Ÿè¿™è¾¹ï¼Œå°±æ˜¯ä¸€ä¸ªå¤šå¯¹ä¸€çš„ç°è±¡ï¼Œå³ä»å­¦ç”Ÿè¿™è¾¹å…³è”ä¸€ä¸ªè€å¸ˆï¼</p></li></ul><h2 id="9-1-æ•°æ®åº“è®¾è®¡"><a href="#9-1-æ•°æ®åº“è®¾è®¡" class="headerlink" title="9.1 æ•°æ®åº“è®¾è®¡"></a>9.1 æ•°æ®åº“è®¾è®¡</h2><p><img src="https://img.yiqiangshiyia.cn/blog/image-20220606211459972.png" alt="image-20220606211459972"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs mysql">CREATE TABLE `teacher` (<br>`id` INT( 10 ) NOT NULL,<br>`name` VARCHAR( 30 ) DEFAULT NULL,<br>PRIMARY KEY (`id`)<br>) ENGINE=INNODB DEFAULT CHARSET=utf8<br><br>INSERT INTO teacher(`id`, `name`) VALUES ( 1 , &#x27;ç§¦è€å¸ˆ&#x27;);<br><br>CREATE TABLE `student` (<br>`id` INT( 10 ) NOT NULL,<br>`name` VARCHAR( 30 ) DEFAULT NULL,<br>`tid` INT( 10 ) DEFAULT NULL,<br>PRIMARY KEY (`id`),<br>KEY `fktid` (`tid`),<br>CONSTRAINT `fktid` FOREIGN KEY (`tid`) REFERENCES `teacher` (`id`)<br>) ENGINE=INNODB DEFAULT CHARSET=utf8<br><br>INSERT INTO `student` (`id`, `name`, `tid`) VALUES (&#x27;1&#x27;, &#x27;å°æ˜&#x27;, &#x27;1&#x27;);<br>INSERT INTO `student` (`id`, `name`, `tid`) VALUES (&#x27;2&#x27;, &#x27;å°çº¢&#x27;, &#x27;1&#x27;);<br>INSERT INTO `student` (`id`, `name`, `tid`) VALUES (&#x27;3&#x27;, &#x27;å°å¼ &#x27;, &#x27;1&#x27;);<br>INSERT INTO `student` (`id`, `name`, `tid`) VALUES (&#x27;4&#x27;, &#x27;å°æ&#x27;, &#x27;1&#x27;);<br>INSERT INTO `student` (`id`, `name`, `tid`) VALUES (&#x27;5&#x27;, &#x27;å°ç‹&#x27;, &#x27;1&#x27;);<br></code></pre></td></tr></table></figure><h2 id="9-2-æ­å»ºæµ‹è¯•ç¯å¢ƒ"><a href="#9-2-æ­å»ºæµ‹è¯•ç¯å¢ƒ" class="headerlink" title="9.2 æ­å»ºæµ‹è¯•ç¯å¢ƒ"></a>9.2 æ­å»ºæµ‹è¯•ç¯å¢ƒ</h2><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220817101143.png" alt="QQæˆªå›¾20220817101143"></p><ol><li><p>æ–°å»ºå®ä½“ç±»Teacherï¼ŒStudent</p><p>Teacher.class</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> ssm.study.pojo;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Teacher</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> id;<br>    <span class="hljs-keyword">private</span> String name;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Teacher</span><span class="hljs-params">()</span> &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Teacher</span><span class="hljs-params">(<span class="hljs-type">int</span> id, String name)</span> &#123;<br>        <span class="hljs-built_in">this</span>.id = id;<br>        <span class="hljs-built_in">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> id;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(<span class="hljs-type">int</span> id)</span> &#123;<br>        <span class="hljs-built_in">this</span>.id = id;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Teacher&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;id=&quot;</span> + id +<br>                <span class="hljs-string">&quot;, name=&#x27;&quot;</span> + name + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>Student.class</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> ssm.study.pojo;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> id;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-comment">//å­¦ç”Ÿå…³è”ä¸€ä¸ªè€å¸ˆ</span><br>    <span class="hljs-keyword">private</span> Teacher teacher;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">()</span> &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">(<span class="hljs-type">int</span> id, String name, Teacher teacher)</span> &#123;<br>        <span class="hljs-built_in">this</span>.id = id;<br>        <span class="hljs-built_in">this</span>.name = name;<br>        <span class="hljs-built_in">this</span>.teacher = teacher;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> id;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(<span class="hljs-type">int</span> id)</span> &#123;<br>        <span class="hljs-built_in">this</span>.id = id;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> Teacher <span class="hljs-title function_">getTeacher</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> teacher;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setTeacher</span><span class="hljs-params">(Teacher teacher)</span> &#123;<br>        <span class="hljs-built_in">this</span>.teacher = teacher;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Student&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;id=&quot;</span> + id +<br>                <span class="hljs-string">&quot;, name=&#x27;&quot;</span> + name + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&quot;, teacher=&quot;</span> + teacher +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>å»ºç«‹Mapperæ¥å£</p><p>StudentMapper.class</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> ssm.study.dao;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">StudentMapper</span> &#123;<br>&#125;<br></code></pre></td></tr></table></figure><p>TeacherMapper.class</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> ssm.study.dao;<br><br><span class="hljs-keyword">import</span> org.apache.ibatis.annotations.Param;<br><span class="hljs-keyword">import</span> org.apache.ibatis.annotations.Select;<br><span class="hljs-keyword">import</span> ssm.study.pojo.Teacher;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">TeacherMapper</span> &#123;<br>    <span class="hljs-meta">@Select(&quot;select * from Teacher where id = #&#123;tid&#125;&quot;)</span><br>    Teacher <span class="hljs-title function_">getTeacher</span><span class="hljs-params">(<span class="hljs-meta">@Param(&quot;tid&quot;)</span> <span class="hljs-type">int</span> id)</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>å»ºç«‹Mapper.xmlæ–‡ä»¶</p><p>TeacherMapper.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span> ?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">mapper</span></span><br><span class="hljs-meta">        <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span><br><span class="hljs-meta">        <span class="hljs-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">&quot;ssm.study.dao.TeacherMapper&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span><br></code></pre></td></tr></table></figure><p>StudentMapper.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span> ?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">mapper</span></span><br><span class="hljs-meta">        <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span><br><span class="hljs-meta">        <span class="hljs-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">&quot;ssm.study.dao.StudentMapper&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­ç»‘å®šæ³¨å†Œæˆ‘ä»¬çš„Mapperæ¥å£æˆ–è€…æ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--ç»‘å®šæ¥å£--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.dao.StudentMapper&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ssm.study.dao.TeacherMapper&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> ssm.study.dao;<br><br><span class="hljs-keyword">import</span> org.apache.ibatis.session.SqlSession;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><span class="hljs-keyword">import</span> ssm.study.pojo.Teacher;<br><span class="hljs-keyword">import</span> ssm.study.utils.MybatisUtils;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TeacherMapperTest</span> &#123;<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">getTeacher</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> MybatisUtils.getSession();<br>        <span class="hljs-type">TeacherMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> sqlSession.getMapper(TeacherMapper.class);<br>        <span class="hljs-type">Teacher</span> <span class="hljs-variable">teacher</span> <span class="hljs-operator">=</span> mapper.getTeacher(<span class="hljs-number">1</span>);<br>        System.out.println(teacher);<br>        sqlSession.close();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h2 id="9-3-æŒ‰æŸ¥è¯¢åµŒå¥—å¤„ç†"><a href="#9-3-æŒ‰æŸ¥è¯¢åµŒå¥—å¤„ç†" class="headerlink" title="9.3 æŒ‰æŸ¥è¯¢åµŒå¥—å¤„ç†"></a>9.3 æŒ‰æŸ¥è¯¢åµŒå¥—å¤„ç†</h2><blockquote><p>é—®é¢˜ï¼šæŸ¥è¯¢æ‰€æœ‰çš„å­¦ç”Ÿä¿¡æ¯ï¼Œä»¥åŠå¯¹åº”çš„è€å¸ˆçš„ä¿¡æ¯ï¼ˆè¿è¡¨æŸ¥è¯¢ï¼‰</p><p>æ–¹æ³•1ï¼šæŒ‰ç…§æŸ¥è¯¢åµŒå¥—å¤„ç†</p><p>æ–¹æ³•2ï¼šæŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†</p></blockquote><ol><li><p>ç»™StudentMapperæ¥å£å¢åŠ æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//è·å–æ‰€æœ‰å­¦ç”ŸåŠå¯¹åº”è€å¸ˆçš„ä¿¡æ¯</span><br><span class="hljs-keyword">public</span> List&lt;Student&gt; <span class="hljs-title function_">getStudents</span><span class="hljs-params">()</span>;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™å¯¹åº”çš„Mapperæ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span> ?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">mapper</span></span><br><span class="hljs-meta"><span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span><br><span class="hljs-meta"><span class="hljs-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">&quot;ssm.study.mapper.StudentMapper&quot;</span>&gt;</span><br>    <br><span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">éœ€æ±‚ï¼šè·å–æ‰€æœ‰å­¦ç”ŸåŠå¯¹åº”è€å¸ˆçš„ä¿¡æ¯</span><br><span class="hljs-comment">æ€è·¯ï¼š</span><br><span class="hljs-comment">1. è·å–æ‰€æœ‰å­¦ç”Ÿçš„ä¿¡æ¯</span><br><span class="hljs-comment">2. æ ¹æ®è·å–çš„å­¦ç”Ÿä¿¡æ¯çš„è€å¸ˆID-&gt;è·å–è¯¥è€å¸ˆçš„ä¿¡æ¯</span><br><span class="hljs-comment">3. æ€è€ƒé—®é¢˜ï¼Œè¿™æ ·å­¦ç”Ÿçš„ç»“æœé›†ä¸­åº”è¯¥åŒ…å«è€å¸ˆï¼Œè¯¥å¦‚ä½•å¤„ç†å‘¢ï¼Œæ•°æ®åº“ä¸­æˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨å…³è”æŸ¥è¯¢ï¼Ÿ</span><br><span class="hljs-comment">1. åšä¸€ä¸ªç»“æœé›†æ˜ å°„ï¼šStudentTeacher</span><br><span class="hljs-comment">2. StudentTeacherç»“æœé›†çš„ç±»å‹ä¸º Student</span><br><span class="hljs-comment">3. å­¦ç”Ÿä¸­è€å¸ˆçš„å±æ€§ä¸ºteacherï¼Œå¯¹åº”æ•°æ®åº“ä¸­ä¸ºtidã€‚å¤šä¸ª [1,...ï¼‰å­¦ç”Ÿå…³è”ä¸€ä¸ªè€å¸ˆ=&gt; ä¸€å¯¹ä¸€ï¼Œä¸€å¯¹å¤š</span><br><span class="hljs-comment">4. æŸ¥çœ‹å®˜ç½‘æ‰¾åˆ°ï¼šassociation â€“ ä¸€ä¸ªå¤æ‚ç±»å‹çš„å…³è”ï¼›ä½¿ç”¨å®ƒæ¥å¤„ç†å…³è”æŸ¥</span><br><span class="hljs-comment">è¯¢</span><br><span class="hljs-comment">--&gt;</span><br>    <br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getStudents&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;StudentTeacher&quot;</span>&gt;</span><br>select * from student<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;StudentTeacher&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;Student&quot;</span>&gt;</span><br><span class="hljs-comment">&lt;!--associationå…³è”å±æ€§ propertyå±æ€§å javaTypeå±æ€§ç±»å‹ columnåœ¨å¤šçš„ä¸€æ–¹çš„è¡¨ä¸­çš„åˆ—å--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">association</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;teacher&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;tid&quot;</span> <span class="hljs-attr">javaType</span>=<span class="hljs-string">&quot;Teacher&quot;</span><span class="hljs-attr">select</span>=<span class="hljs-string">&quot;getTeacher&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span><br>    <br><span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">è¿™é‡Œä¼ é€’è¿‡æ¥çš„idï¼Œåªæœ‰ä¸€ä¸ªå±æ€§çš„æ—¶å€™ï¼Œä¸‹é¢å¯ä»¥å†™ä»»ä½•å€¼</span><br><span class="hljs-comment">associationä¸­columnå¤šå‚æ•°é…ç½®ï¼šcolumn=&quot;&#123;key=value,key=value&#125;&quot;</span><br><span class="hljs-comment">å…¶å®å°±æ˜¯é”®å€¼å¯¹çš„å½¢å¼ï¼Œkeyæ˜¯ä¼ ç»™ä¸‹ä¸ªsqlçš„å–å€¼åç§°ï¼Œvalueæ˜¯ç‰‡æ®µä¸€ä¸­sqlæŸ¥è¯¢çš„å­—æ®µåã€‚</span><br><span class="hljs-comment">--&gt;</span><br>    <br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getTeacher&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;teacher&quot;</span>&gt;</span><br>select * from teacher where id = #&#123;id&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br>    <br><span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>Mybatisé…ç½®æ–‡ä»¶ä¸­æ³¨å†ŒMapper</p></li><li><p>æ³¨æ„ç‚¹è¯´æ˜ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;StudentTeacher&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;Student&quot;</span>&gt;</span><br><span class="hljs-comment">&lt;!--associationå…³è”å±æ€§ propertyå±æ€§å javaTypeå±æ€§ç±»å‹ columnåœ¨å¤šçš„ä¸€æ–¹çš„è¡¨ä¸­çš„åˆ—å--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">association</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;teacher&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;&#123;id=tid,name=tid&#125;&quot;</span> <span class="hljs-attr">javaType</span>=<span class="hljs-string">&quot;Teacher&quot;</span> <span class="hljs-attr">select</span>=<span class="hljs-string">&quot;getTeacher&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span><br><span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">è¿™é‡Œä¼ é€’è¿‡æ¥çš„idï¼Œåªæœ‰ä¸€ä¸ªå±æ€§çš„æ—¶å€™ï¼Œä¸‹é¢å¯ä»¥å†™ä»»ä½•å€¼</span><br><span class="hljs-comment">associationä¸­columnå¤šå‚æ•°é…ç½®ï¼š</span><br><span class="hljs-comment">column=&quot;&#123;key=value,key=value&#125;&quot;</span><br><span class="hljs-comment">å…¶å®å°±æ˜¯é”®å€¼å¯¹çš„å½¢å¼ï¼Œkeyæ˜¯ä¼ ç»™ä¸‹ä¸ªsqlçš„å–å€¼åç§°ï¼Œvalueæ˜¯ç‰‡æ®µä¸€ä¸­sqlæŸ¥è¯¢çš„å­—æ®µ</span><br><span class="hljs-comment">åã€‚</span><br><span class="hljs-comment">--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getTeacher&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;teacher&quot;</span>&gt;</span><br>select * from teacher where id = #&#123;id&#125; and name = #&#123;name&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testGetStudents</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-type">SqlSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> MybatisUtils.getSession();<br><span class="hljs-type">StudentMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> session.getMapper(StudentMapper.class);<br>    <br>    List&lt;Student&gt; students = mapper.getStudents();<br>    <br>    <span class="hljs-keyword">for</span> (Student student : students)&#123;<br>System.out.println(<br><span class="hljs-string">&quot;å­¦ç”Ÿå:&quot;</span>+ student.getName()+<span class="hljs-string">&quot;\tè€å¸ˆ:&quot;</span>+student.getTeacher().getName());<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h2 id="9-4-æŒ‰ç»“æœåµŒå¥—å¤„ç†"><a href="#9-4-æŒ‰ç»“æœåµŒå¥—å¤„ç†" class="headerlink" title="9.4 æŒ‰ç»“æœåµŒå¥—å¤„ç†"></a>9.4 æŒ‰ç»“æœåµŒå¥—å¤„ç†</h2><p>é™¤äº†ä¸Šé¢è¿™ç§æ–¹å¼ï¼Œè¿˜æœ‰å…¶ä»–æ€è·¯å—ï¼Ÿ</p><p>æˆ‘ä»¬è¿˜å¯ä»¥æŒ‰ç…§ç»“æœè¿›è¡ŒåµŒå¥—å¤„ç†ï¼›</p><ol><li><p>æ¥å£æ–¹æ³•ç¼–å†™</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> List&lt;Student&gt; <span class="hljs-title function_">getStudents2</span><span class="hljs-params">()</span>;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™å¯¹åº”çš„mapperæ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">æŒ‰æŸ¥è¯¢ç»“æœåµŒå¥—å¤„ç†</span><br><span class="hljs-comment">æ€è·¯ï¼š</span><br><span class="hljs-comment">1. ç›´æ¥æŸ¥è¯¢å‡ºç»“æœï¼Œè¿›è¡Œç»“æœé›†çš„æ˜ å°„</span><br><span class="hljs-comment">--&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getStudents2&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;StudentTeacher2&quot;</span> &gt;</span><br>select s.id sid, s.name sname , t.name tname<br>from student s,teacher t<br>where s.tid = t.id<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;StudentTeacher2&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;Student&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;sid&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;sname&quot;</span>/&gt;</span><br><span class="hljs-comment">&lt;!--å…³è”å¯¹è±¡property å…³è”å¯¹è±¡åœ¨Studentå®ä½“ç±»ä¸­çš„å±æ€§--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">association</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;teacher&quot;</span> <span class="hljs-attr">javaType</span>=<span class="hljs-string">&quot;Teacher&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;tname&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">association</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>Mybatisé…ç½®æ–‡ä»¶ä¸­æ³¨å†ŒMapper</p></li><li><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testGetStudents2</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-type">SqlSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> MybatisUtils.getSession();<br><span class="hljs-type">StudentMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> session.getMapper(StudentMapper.class);<br>    <br>    List&lt;Student&gt; students = mapper.getStudents2();<br>    <br>    <span class="hljs-keyword">for</span> (Student student : students)&#123;<br>System.out.println(<br><span class="hljs-string">&quot;å­¦ç”Ÿå:&quot;</span>+ student.getName()+<span class="hljs-string">&quot;\tè€å¸ˆ:&quot;</span>+student.getTeacher().getName());<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h2 id="9-5-å°ç»“"><a href="#9-5-å°ç»“" class="headerlink" title="9.5 å°ç»“"></a>9.5 å°ç»“</h2><ul><li><p>æŒ‰ç…§æŸ¥è¯¢è¿›è¡ŒåµŒå¥—å¤„ç†å°±åƒSQLä¸­çš„å­æŸ¥è¯¢</p></li><li><p>æŒ‰ç…§ç»“æœè¿›è¡ŒåµŒå¥—å¤„ç†å°±åƒSQLä¸­çš„è”è¡¨æŸ¥è¯¢</p></li></ul><h1 id="10-ä¸€å¯¹å¤šçš„å¤„ç†"><a href="#10-ä¸€å¯¹å¤šçš„å¤„ç†" class="headerlink" title="10. ä¸€å¯¹å¤šçš„å¤„ç†"></a>10. ä¸€å¯¹å¤šçš„å¤„ç†</h1><p>ä¸€å¯¹å¤šçš„ç†è§£ï¼š</p><ul><li><p>ä¸€ä¸ªè€å¸ˆæ‹¥æœ‰å¤šä¸ªå­¦ç”Ÿ</p></li><li><p>å¦‚æœå¯¹äºè€å¸ˆè¿™è¾¹ï¼Œå°±æ˜¯ä¸€ä¸ªä¸€å¯¹å¤šçš„ç°è±¡ï¼Œå³ä»ä¸€ä¸ªè€å¸ˆä¸‹é¢æ‹¥æœ‰ä¸€ç¾¤å­¦ç”Ÿï¼ˆé›†åˆï¼‰ï¼</p></li></ul><h2 id="10-1-å®ä½“ç±»ç¼–å†™"><a href="#10-1-å®ä½“ç±»ç¼–å†™" class="headerlink" title="10.1 å®ä½“ç±»ç¼–å†™"></a>10.1 å®ä½“ç±»ç¼–å†™</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Data</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> &#123;<br><span class="hljs-keyword">private</span> <span class="hljs-type">int</span> id;<br><span class="hljs-keyword">private</span> String name;<br><span class="hljs-keyword">private</span> <span class="hljs-type">int</span> tid;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Data</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Teacher</span> &#123;<br><span class="hljs-keyword">private</span> <span class="hljs-type">int</span> id;<br><span class="hljs-keyword">private</span> String name;<br><span class="hljs-comment">//ä¸€ä¸ªè€å¸ˆå¤šä¸ªå­¦ç”Ÿ</span><br><span class="hljs-keyword">private</span> List&lt;Student&gt; students;<br>&#125;<br></code></pre></td></tr></table></figure><p>â€¦.. å’Œä¹‹å‰ä¸€æ ·ï¼Œæ­å»ºæµ‹è¯•çš„ç¯å¢ƒï¼</p><h2 id="10-2-æŒ‰ç»“æœåµŒå¥—å¤„ç†"><a href="#10-2-æŒ‰ç»“æœåµŒå¥—å¤„ç†" class="headerlink" title="10.2 æŒ‰ç»“æœåµŒå¥—å¤„ç†"></a>10.2 æŒ‰ç»“æœåµŒå¥—å¤„ç†</h2><ol><li><p>TeacherMapperæ¥å£ç¼–å†™æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//è·å–æŒ‡å®šè€å¸ˆï¼ŒåŠè€å¸ˆä¸‹çš„æ‰€æœ‰å­¦ç”Ÿ</span><br><span class="hljs-keyword">public</span> Teacher <span class="hljs-title function_">getTeacher</span><span class="hljs-params">(<span class="hljs-type">int</span> id)</span>;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™æ¥å£å¯¹åº”çš„Mapperé…ç½®æ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">&quot;com.kuang.mapper.TeacherMapper&quot;</span>&gt;</span><br>    <br><span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">æ€è·¯:</span><br><span class="hljs-comment">1. ä»å­¦ç”Ÿè¡¨å’Œè€å¸ˆè¡¨ä¸­æŸ¥å‡ºå­¦ç”Ÿidï¼Œå­¦ç”Ÿå§“åï¼Œè€å¸ˆå§“å</span><br><span class="hljs-comment">2. å¯¹æŸ¥è¯¢å‡ºæ¥çš„æ“ä½œåšç»“æœé›†æ˜ å°„</span><br><span class="hljs-comment">1. é›†åˆçš„è¯ï¼Œä½¿ç”¨collectionï¼</span><br><span class="hljs-comment">JavaTypeå’ŒofTypeéƒ½æ˜¯ç”¨æ¥æŒ‡å®šå¯¹è±¡ç±»å‹çš„</span><br><span class="hljs-comment">JavaTypeæ˜¯ç”¨æ¥æŒ‡å®špojoä¸­å±æ€§çš„ç±»å‹</span><br><span class="hljs-comment">ofTypeæŒ‡å®šçš„æ˜¯æ˜ å°„åˆ°listé›†åˆå±æ€§ä¸­pojoçš„ç±»å‹ã€‚</span><br><span class="hljs-comment">--&gt;</span><br>    <br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getTeacher&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;TeacherStudent&quot;</span>&gt;</span><br>select s.id sid, s.name sname , t.name tname, t.id tid<br>from student s,teacher t<br>where s.tid = t.id and t.id=#&#123;id&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br>    <br><span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;TeacherStudent&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;Teacher&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;tname&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">collection</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;students&quot;</span> <span class="hljs-attr">ofType</span>=<span class="hljs-string">&quot;Student&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;sid&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;sname&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;tid&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;tid&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">collection</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>å°†Mapperæ–‡ä»¶æ³¨å†Œåˆ°MyBatis-configæ–‡ä»¶ä¸­</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;mapper/TeacherMapper.xml&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testGetTeacher</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-type">SqlSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> MybatisUtils.getSession();<br><span class="hljs-type">TeacherMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> session.getMapper(TeacherMapper.class);<br><span class="hljs-type">Teacher</span> <span class="hljs-variable">teacher</span> <span class="hljs-operator">=</span> mapper.getTeacher( <span class="hljs-number">1</span> );<br>System.out.println(teacher.getName());<br>System.out.println(teacher.getStudents());<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h2 id="10-3-æŒ‰æŸ¥è¯¢åµŒå¥—å¤„ç†"><a href="#10-3-æŒ‰æŸ¥è¯¢åµŒå¥—å¤„ç†" class="headerlink" title="10.3 æŒ‰æŸ¥è¯¢åµŒå¥—å¤„ç†"></a>10.3 æŒ‰æŸ¥è¯¢åµŒå¥—å¤„ç†</h2><ol><li><p>TeacherMapperæ¥å£ç¼–å†™æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> Teacher <span class="hljs-title function_">getTeacher2</span><span class="hljs-params">(<span class="hljs-type">int</span> id)</span>;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™æ¥å£å¯¹åº”çš„Mapperé…ç½®æ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getTeacher2&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;TeacherStudent2&quot;</span>&gt;</span><br>select * from teacher where id = #&#123;id&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;TeacherStudent2&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;Teacher&quot;</span>&gt;</span><br><span class="hljs-comment">&lt;!--columnæ˜¯ä¸€å¯¹å¤šçš„å¤–é”® , å†™çš„æ˜¯ä¸€çš„ä¸»é”®çš„åˆ—å--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">collection</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;students&quot;</span> <span class="hljs-attr">javaType</span>=<span class="hljs-string">&quot;ArrayList&quot;</span> <span class="hljs-attr">ofType</span>=<span class="hljs-string">&quot;Student&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">select</span>=<span class="hljs-string">&quot;getStudentByTeacherId&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getStudentByTeacherId&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;Student&quot;</span>&gt;</span><br>select * from student where tid = #&#123;id&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>å°†Mapperæ–‡ä»¶æ³¨å†Œåˆ°MyBatis-configæ–‡ä»¶ä¸­</p></li><li><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testGetTeacher2</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-type">SqlSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> MybatisUtils.getSession();<br><span class="hljs-type">TeacherMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> session.getMapper(TeacherMapper.class);<br><span class="hljs-type">Teacher</span> <span class="hljs-variable">teacher</span> <span class="hljs-operator">=</span> mapper.getTeacher2( <span class="hljs-number">1</span> );<br>System.out.println(teacher.getName());<br>System.out.println(teacher.getStudents());<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h2 id="10-4-å°ç»“"><a href="#10-4-å°ç»“" class="headerlink" title="10.4 å°ç»“"></a>10.4 å°ç»“</h2><ol><li><p>å…³è”-association</p></li><li><p>é›†åˆ-collection</p></li><li><p>æ‰€ä»¥associationæ˜¯ç”¨äºä¸€å¯¹ä¸€å’Œå¤šå¯¹ä¸€ï¼Œè€Œcollectionæ˜¯ç”¨äºä¸€å¯¹å¤šçš„å…³ç³»</p></li><li><p>JavaTypeå’ŒofTypeéƒ½æ˜¯ç”¨æ¥æŒ‡å®šå¯¹è±¡ç±»å‹çš„</p><ul><li><p>JavaTypeæ˜¯ç”¨æ¥æŒ‡å®špojoä¸­å±æ€§çš„ç±»å‹</p></li><li><p>ofTypeæŒ‡å®šçš„æ˜¯æ˜ å°„åˆ°listé›†åˆå±æ€§ä¸­pojoçš„ç±»å‹ã€‚</p></li></ul></li></ol><p><strong>æ³¨æ„è¯´æ˜ï¼š</strong></p><ol><li><p>ä¿è¯SQLçš„å¯è¯»æ€§ï¼Œå°½é‡é€šä¿—æ˜“æ‡‚</p></li><li><p>æ ¹æ®å®é™…è¦æ±‚ï¼Œå°½é‡ç¼–å†™æ€§èƒ½æ›´é«˜çš„SQLè¯­å¥</p></li><li><p>æ³¨æ„å±æ€§åå’Œå­—æ®µä¸ä¸€è‡´çš„é—®é¢˜</p></li><li><p>æ³¨æ„ä¸€å¯¹å¤šå’Œå¤šå¯¹ä¸€ ä¸­ï¼šå­—æ®µå’Œå±æ€§å¯¹åº”çš„é—®é¢˜</p></li><li><p>å°½é‡ä½¿ç”¨Log4jï¼Œé€šè¿‡æ—¥å¿—æ¥æŸ¥çœ‹è‡ªå·±çš„é”™è¯¯</p></li></ol><h1 id="11-åŠ¨æ€SQL"><a href="#11-åŠ¨æ€SQL" class="headerlink" title="11. åŠ¨æ€SQL"></a>11. åŠ¨æ€SQL</h1><p><strong>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://mybatis.org/mybatis-3/zh/dynamic-sql.html">https://mybatis.org/mybatis-3/zh/dynamic-sql.html</a></strong></p><h2 id="11-1-ä»‹ç»"><a href="#11-1-ä»‹ç»" class="headerlink" title="11.1 ä»‹ç»"></a>11.1 ä»‹ç»</h2><p>ä»€ä¹ˆæ˜¯åŠ¨æ€SQLï¼š <strong>åŠ¨æ€SQLæŒ‡çš„æ˜¯æ ¹æ®ä¸åŒçš„æŸ¥è¯¢æ¡ä»¶ , ç”Ÿæˆä¸åŒçš„Sqlè¯­å¥.</strong></p><blockquote><p>å®˜ç½‘æè¿°ï¼š</p><p>â€‹        MyBatis çš„å¼ºå¤§ç‰¹æ€§ä¹‹ä¸€ä¾¿æ˜¯å®ƒçš„åŠ¨æ€ SQLã€‚å¦‚æœä½ æœ‰ä½¿ç”¨ JDBC æˆ–å…¶å®ƒç±»ä¼¼æ¡†æ¶çš„ç»éªŒï¼Œä½ å°±èƒ½ä½“ä¼šåˆ°æ ¹æ®ä¸åŒæ¡ä»¶æ‹¼æ¥ SQL è¯­å¥çš„ç—›è‹¦ã€‚ä¾‹å¦‚æ‹¼æ¥æ—¶è¦ç¡®ä¿ä¸èƒ½å¿˜è®°æ·»åŠ å¿…è¦çš„ç©ºæ ¼ï¼Œè¿˜è¦æ³¨æ„å»æ‰åˆ—è¡¨æœ€åä¸€ä¸ªåˆ—åçš„é€—å·ã€‚åˆ©ç”¨åŠ¨æ€ SQL è¿™ä¸€ç‰¹æ€§å¯ä»¥å½»åº•æ‘†è„±è¿™ç§ç—›è‹¦ã€‚<br>â€‹        è™½ç„¶åœ¨ä»¥å‰ä½¿ç”¨åŠ¨æ€ SQL å¹¶éä¸€ä»¶æ˜“äº‹ï¼Œä½†æ­£æ˜¯ MyBatis æä¾›äº†å¯ä»¥è¢«ç”¨åœ¨ä»»æ„ SQL æ˜ å°„è¯­å¥ä¸­çš„å¼ºå¤§çš„åŠ¨æ€ SQL è¯­è¨€å¾—ä»¥æ”¹è¿›è¿™ç§æƒ…å½¢ã€‚<br>â€‹        åŠ¨æ€ SQL å…ƒç´ å’Œ JSTL æˆ–åŸºäºç±»ä¼¼ XML çš„æ–‡æœ¬å¤„ç†å™¨ç›¸ä¼¼ã€‚åœ¨ MyBatis ä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼Œæœ‰å¾ˆå¤šå…ƒç´ éœ€è¦èŠ±æ—¶é—´äº†è§£ã€‚MyBatis 3 å¤§å¤§ç²¾ç®€äº†å…ƒç´ ç§ç±»ï¼Œç°åœ¨åªéœ€å­¦ä¹ åŸæ¥ä¸€åŠçš„å…ƒç´ ä¾¿å¯ã€‚MyBatis é‡‡ç”¨åŠŸèƒ½å¼ºå¤§çš„åŸºäº OGNL çš„è¡¨è¾¾å¼æ¥æ·˜æ±°å…¶å®ƒå¤§éƒ¨åˆ†å…ƒç´ ã€‚</p><ul><li>if</li><li>choose (when, otherwise)</li><li>trim (where, set)</li><li>foreach</li></ul></blockquote><p>æˆ‘ä»¬ä¹‹å‰å†™çš„ SQL è¯­å¥éƒ½æ¯”è¾ƒç®€å•ï¼Œå¦‚æœæœ‰æ¯”è¾ƒå¤æ‚çš„ä¸šåŠ¡ï¼Œæˆ‘ä»¬éœ€è¦å†™å¤æ‚çš„ SQL è¯­å¥ï¼Œå¾€å¾€éœ€è¦æ‹¼æ¥ï¼Œè€Œæ‹¼æ¥ SQL ï¼Œç¨å¾®ä¸æ³¨æ„ï¼Œç”±äºå¼•å·ï¼Œç©ºæ ¼ç­‰ç¼ºå¤±å¯èƒ½éƒ½ä¼šå¯¼è‡´é”™è¯¯ã€‚</p><p>é‚£ä¹ˆæ€ä¹ˆå»è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿè¿™å°±è¦ä½¿ç”¨ mybatis åŠ¨æ€SQLï¼Œé€šè¿‡ if, choose, when, otherwise,trim, where, set, foreachç­‰æ ‡ç­¾ï¼Œå¯ç»„åˆæˆéå¸¸çµæ´»çš„SQLè¯­å¥ï¼Œä»è€Œåœ¨æé«˜ SQL è¯­å¥çš„å‡†ç¡®æ€§çš„åŒæ—¶ï¼Œä¹Ÿå¤§å¤§æé«˜äº†å¼€å‘äººå‘˜çš„æ•ˆç‡ã€‚</p><h2 id="11-2-æ­å»ºç¯å¢ƒ"><a href="#11-2-æ­å»ºç¯å¢ƒ" class="headerlink" title="11.2 æ­å»ºç¯å¢ƒ"></a>11.2 æ­å»ºç¯å¢ƒ</h2><p><strong>æ–°å»ºä¸€ä¸ªæ•°æ®åº“è¡¨ï¼šblog</strong></p><p>å­—æ®µï¼šidï¼Œtitleï¼Œauthorï¼Œcreate_timeï¼Œviews</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs mysql">CREATE TABLE `blog` (<br>`id` varchar( 50 ) NOT NULL COMMENT &#x27;åšå®¢id&#x27;,<br>`title` varchar( 100 ) NOT NULL COMMENT &#x27;åšå®¢æ ‡é¢˜&#x27;,<br>`author` varchar( 30 ) NOT NULL COMMENT &#x27;åšå®¢ä½œè€…&#x27;,<br>`create_time` datetime NOT NULL COMMENT &#x27;åˆ›å»ºæ—¶é—´&#x27;,<br>`views` int( 30 ) NOT NULL COMMENT &#x27;æµè§ˆé‡&#x27;<br>) ENGINE=InnoDB DEFAULT CHARSET=utf8<br></code></pre></td></tr></table></figure><ol><li><p>åˆ›å»ºMybatisåŸºç¡€å·¥ç¨‹</p></li><li><p>IDutilå·¥å…·ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">IDUtil</span> &#123;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">genId</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-keyword">return</span> UUID.randomUUID().toString().replaceAll(<span class="hljs-string">&quot;-&quot;</span>,<span class="hljs-string">&quot;&quot;</span>);<br>&#125;<br>    <br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>å®ä½“ç±»ç¼–å†™ ã€æ³¨æ„setæ–¹æ³•ä½œç”¨ã€‘</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.Date;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Blog</span> &#123;<br>    <br>    <span class="hljs-keyword">private</span> String id;<br><span class="hljs-keyword">private</span> String title;<br><span class="hljs-keyword">private</span> String author;<br><span class="hljs-keyword">private</span> Date createTime;<br><span class="hljs-keyword">private</span> <span class="hljs-type">int</span> views;<br><span class="hljs-comment">//setï¼Œget....</span><br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™Mapperæ¥å£åŠxmlæ–‡ä»¶</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">BlogMapper</span> &#123;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span> ?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">mapper</span></span><br><span class="hljs-meta"><span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span><br><span class="hljs-meta"><span class="hljs-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">&quot;com.kuang.mapper.BlogMapper&quot;</span>&gt;</span><br>    <br><span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span> <br></code></pre></td></tr></table></figure></li><li><p>mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œä¸‹åˆ’çº¿é©¼å³°è‡ªåŠ¨è½¬æ¢</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">settings</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">setting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;mapUnderscoreToCamelCase&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;true&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">setting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;logImpl&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;STDOUT_LOGGING&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">settings</span>&gt;</span><br><span class="hljs-comment">&lt;!--æ³¨å†ŒMapper.xml--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;mapper/BlogMapper.xml&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æ’å…¥åˆå§‹æ•°æ®</p><p>ç¼–å†™æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//æ–°å¢ä¸€ä¸ªåšå®¢</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">addBlog</span><span class="hljs-params">(Blog blog)</span>;<br></code></pre></td></tr></table></figure><p>sqlé…ç½®æ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">insert</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;addBlog&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;blog&quot;</span>&gt;</span><br>insert into blog (id, title, author, create_time, views)<br>values (#&#123;id&#125;,#&#123;title&#125;,#&#123;author&#125;,#&#123;createTime&#125;,#&#123;views&#125;);<br><span class="hljs-tag">&lt;/<span class="hljs-name">insert</span>&gt;</span><br></code></pre></td></tr></table></figure><p>åˆå§‹åŒ–åšå®¢æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addInitBlog</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-type">SqlSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> MybatisUtils.getSession();<br><span class="hljs-type">BlogMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> session.getMapper(BlogMapper.class);<br>    <br>    <span class="hljs-type">Blog</span> <span class="hljs-variable">blog</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Blog</span>();<br>blog.setId(IDUtil.genId());<br>blog.setTitle(<span class="hljs-string">&quot;Mybatiså¦‚æ­¤ç®€å•&quot;</span>);<br>blog.setAuthor(<span class="hljs-string">&quot;ç‹‚ç¥è¯´&quot;</span>);<br>blog.setCreateTime(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>());<br>blog.setViews( <span class="hljs-number">9999</span> );<br>    <br>    mapper.addBlog(blog);<br>    <br>    blog.setId(IDUtil.genId());<br>blog.setTitle(<span class="hljs-string">&quot;Javaå¦‚æ­¤ç®€å•&quot;</span>);<br>mapper.addBlog(blog);<br>    <br>    blog.setId(IDUtil.genId());<br>blog.setTitle(<span class="hljs-string">&quot;Springå¦‚æ­¤ç®€å•&quot;</span>);<br>mapper.addBlog(blog);<br>    <br>    blog.setId(IDUtil.genId());<br>    blog.setTitle(<span class="hljs-string">&quot;å¾®æœåŠ¡å¦‚æ­¤ç®€å•&quot;</span>);<br>mapper.addBlog(blog);<br>    <br>    session.close();<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h2 id="11-3-if-è¯­å¥"><a href="#11-3-if-è¯­å¥" class="headerlink" title="11.3 if è¯­å¥"></a>11.3 if è¯­å¥</h2><p><strong>éœ€æ±‚ï¼šæ ¹æ®ä½œè€…åå­—å’Œåšå®¢åå­—æ¥æŸ¥è¯¢åšå®¢ï¼å¦‚æœä½œè€…åå­—ä¸ºç©ºï¼Œé‚£ä¹ˆåªæ ¹æ®åšå®¢åå­—æŸ¥è¯¢ï¼Œåä¹‹ï¼Œåˆ™æ ¹æ®ä½œè€…åæ¥æŸ¥è¯¢</strong></p><ol><li><p>ç¼–å†™æ¥å£ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//éœ€æ±‚ 1</span><br>List&lt;Blog&gt; <span class="hljs-title function_">queryBlogIf</span><span class="hljs-params">(Map map)</span>;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™SQLè¯­å¥</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--éœ€æ±‚1ï¼š</span><br><span class="hljs-comment">æ ¹æ®ä½œè€…åå­—å’Œåšå®¢åå­—æ¥æŸ¥è¯¢åšå®¢ï¼</span><br><span class="hljs-comment">å¦‚æœä½œè€…åå­—ä¸ºç©ºï¼Œé‚£ä¹ˆåªæ ¹æ®åšå®¢åå­—æŸ¥è¯¢ï¼Œåä¹‹ï¼Œåˆ™æ ¹æ®ä½œè€…åæ¥æŸ¥è¯¢</span><br><span class="hljs-comment">select * from blog where title = #&#123;title&#125; and author = #&#123;author&#125;</span><br><span class="hljs-comment">--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;queryBlogIf&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;map&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;blog&quot;</span>&gt;</span><br>select * from blog where<br><span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;title != null&quot;</span>&gt;</span><br>title = #&#123;title&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;author != null&quot;</span>&gt;</span><br>and author = #&#123;author&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testQueryBlogIf</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-type">SqlSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> MybatisUtils.getSession();<br><span class="hljs-type">BlogMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> session.getMapper(BlogMapper.class);<br>    <br>    HashMap&lt;String, String&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;String, String&gt;();<br>map.put(<span class="hljs-string">&quot;title&quot;</span>,<span class="hljs-string">&quot;Mybatiså¦‚æ­¤ç®€å•&quot;</span>);<br>map.put(<span class="hljs-string">&quot;author&quot;</span>,<span class="hljs-string">&quot;ç‹‚ç¥è¯´&quot;</span>);<br>List&lt;Blog&gt; blogs = mapper.queryBlogIf(map);<br>    <br>    System.out.println(blogs);<br>    <br>    session.close();<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><p>è¿™æ ·å†™æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœ author ç­‰äº nullï¼Œé‚£ä¹ˆæŸ¥è¯¢è¯­å¥ä¸º select * from user where title=#{title},ä½†æ˜¯å¦‚æœtitleä¸ºç©ºå‘¢ï¼Ÿé‚£ä¹ˆæŸ¥è¯¢è¯­å¥ä¸º select * from user where and author=#{author}ï¼Œè¿™æ˜¯é”™è¯¯çš„SQL è¯­å¥ï¼Œå¦‚ä½•è§£å†³å‘¢ï¼Ÿè¯·çœ‹ä¸‹é¢çš„ where è¯­å¥ï¼</p><h2 id="11-4-Where"><a href="#11-4-Where" class="headerlink" title="11.4 Where"></a>11.4 Where</h2><p>ä¿®æ”¹ä¸Šé¢çš„SQLè¯­å¥ï¼›</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;queryBlogIf&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;map&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;blog&quot;</span>&gt;</span><br>select * from blog<br><span class="hljs-tag">&lt;<span class="hljs-name">where</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;title != null&quot;</span>&gt;</span><br>title = #&#123;title&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;author != null&quot;</span>&gt;</span><br>and author = #&#123;author&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">where</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><p>è¿™ä¸ªâ€œwhereâ€æ ‡ç­¾ä¼šçŸ¥é“å¦‚æœå®ƒåŒ…å«çš„æ ‡ç­¾ä¸­æœ‰è¿”å›å€¼çš„è¯ï¼Œå®ƒå°±æ’å…¥ä¸€ä¸ªâ€˜whereâ€™ã€‚æ­¤å¤–ï¼Œå¦‚æœæ ‡ç­¾è¿”å›çš„å†…å®¹æ˜¯ä»¥AND æˆ–OR å¼€å¤´çš„ï¼Œåˆ™å®ƒä¼šå‰”é™¤æ‰ã€‚</p><h2 id="11-5-Set"><a href="#11-5-Set" class="headerlink" title="11.5 Set"></a>11.5 Set</h2><p>åŒç†ï¼Œä¸Šé¢çš„å¯¹äºæŸ¥è¯¢ SQL è¯­å¥åŒ…å« where å…³é”®å­—ï¼Œå¦‚æœåœ¨è¿›è¡Œæ›´æ–°æ“ä½œçš„æ—¶å€™ï¼Œå«æœ‰ set å…³é”®è¯ï¼Œæˆ‘ä»¬æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ</p><ol><li><p>ç¼–å†™æ¥å£æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span> <span class="hljs-title function_">updateBlog</span><span class="hljs-params">(Map map)</span>;<br></code></pre></td></tr></table></figure></li><li><p>sqlé…ç½®æ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--æ³¨æ„setæ˜¯ç”¨çš„é€—å·éš”å¼€--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">update</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;updateBlog&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;map&quot;</span>&gt;</span><br>update blog<br><span class="hljs-tag">&lt;<span class="hljs-name">set</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;title != null&quot;</span>&gt;</span><br>title = #&#123;title&#125;,<br><span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;author != null&quot;</span>&gt;</span><br>author = #&#123;author&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">set</span>&gt;</span><br>where id = #&#123;id&#125;;<br><span class="hljs-tag">&lt;/<span class="hljs-name">update</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testUpdateBlog</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-type">SqlSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> MybatisUtils.getSession();<br><span class="hljs-type">BlogMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> session.getMapper(BlogMapper.class);<br>    <br>    HashMap&lt;String, String&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;String, String&gt;();<br>map.put(<span class="hljs-string">&quot;title&quot;</span>,<span class="hljs-string">&quot;åŠ¨æ€SQL&quot;</span>);<br>map.put(<span class="hljs-string">&quot;author&quot;</span>,<span class="hljs-string">&quot;ç§¦ç–†&quot;</span>);<br>map.put(<span class="hljs-string">&quot;id&quot;</span>,<span class="hljs-string">&quot;9d6a763f5e1347cebda43e2a32687a77&quot;</span>);<br>    <br>    mapper.updateBlog(map);<br>    <br>    session.close();<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h2 id="11-6-chooseè¯­å¥"><a href="#11-6-chooseè¯­å¥" class="headerlink" title="11.6 chooseè¯­å¥"></a>11.6 chooseè¯­å¥</h2><p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬ä¸æƒ³ç”¨åˆ°æ‰€æœ‰çš„æŸ¥è¯¢æ¡ä»¶ï¼Œåªæƒ³é€‰æ‹©å…¶ä¸­çš„ä¸€ä¸ªï¼ŒæŸ¥è¯¢æ¡ä»¶æœ‰ä¸€ä¸ªæ»¡è¶³å³å¯ï¼Œä½¿ç”¨ chooseæ ‡ç­¾å¯ä»¥è§£å†³æ­¤ç±»é—®é¢˜ï¼Œç±»ä¼¼äº Java çš„ switch è¯­å¥</p><ol><li><p>ç¼–å†™æ¥å£æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">List&lt;Blog&gt; <span class="hljs-title function_">queryBlogChoose</span><span class="hljs-params">(Map map)</span>;<br></code></pre></td></tr></table></figure></li><li><p>sqlé…ç½®æ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;queryBlogChoose&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;map&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;blog&quot;</span>&gt;</span><br>select * from blog<br><span class="hljs-tag">&lt;<span class="hljs-name">where</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">choose</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">when</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;title != null&quot;</span>&gt;</span><br>title = #&#123;title&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">when</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">when</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;author != null&quot;</span>&gt;</span><br>and author = #&#123;author&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">when</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">otherwise</span>&gt;</span><br>and views = #&#123;views&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">otherwise</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">choose</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">where</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testQueryBlogChoose</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-type">SqlSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> MybatisUtils.getSession();<br><span class="hljs-type">BlogMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> session.getMapper(BlogMapper.class);<br>    <br>    HashMap&lt;String, Object&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;String, Object&gt;();<br>map.put(<span class="hljs-string">&quot;title&quot;</span>,<span class="hljs-string">&quot;Javaå¦‚æ­¤ç®€å•&quot;</span>);<br>map.put(<span class="hljs-string">&quot;author&quot;</span>,<span class="hljs-string">&quot;ç‹‚ç¥è¯´&quot;</span>);<br>map.put(<span class="hljs-string">&quot;views&quot;</span>, <span class="hljs-number">9999</span> );<br>List&lt;Blog&gt; blogs = mapper.queryBlogChoose(map);<br>    <br>    System.out.println(blogs);<br>    <br>    session.close();<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h2 id="11-7-SQLç‰‡æ®µ"><a href="#11-7-SQLç‰‡æ®µ" class="headerlink" title="11.7 SQLç‰‡æ®µ"></a>11.7 SQLç‰‡æ®µ</h2><p>æœ‰æ—¶å€™å¯èƒ½æŸä¸ª sql è¯­å¥æˆ‘ä»¬ç”¨çš„ç‰¹åˆ«å¤šï¼Œä¸ºäº†å¢åŠ ä»£ç çš„é‡ç”¨æ€§ï¼Œç®€åŒ–ä»£ç ï¼Œæˆ‘ä»¬éœ€è¦å°†è¿™äº›ä»£ç æŠ½å–å‡ºæ¥ï¼Œç„¶åä½¿ç”¨æ—¶ç›´æ¥è°ƒç”¨ã€‚</p><p><strong>æå–SQLç‰‡æ®µï¼š</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">sql</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;if-title-author&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;title != null&quot;</span>&gt;</span><br>title = #&#123;title&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;author != null&quot;</span>&gt;</span><br>and author = #&#123;author&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">sql</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>å¼•ç”¨SQLç‰‡æ®µï¼š</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;queryBlogIf&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;map&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;blog&quot;</span>&gt;</span><br>select * from blog<br><span class="hljs-tag">&lt;<span class="hljs-name">where</span>&gt;</span><br><span class="hljs-comment">&lt;!-- å¼•ç”¨ sql ç‰‡æ®µï¼Œå¦‚æœrefid æŒ‡å®šçš„ä¸åœ¨æœ¬æ–‡ä»¶ä¸­ï¼Œé‚£ä¹ˆéœ€è¦åœ¨å‰é¢åŠ ä¸Š namespace --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">include</span> <span class="hljs-attr">refid</span>=<span class="hljs-string">&quot;if-title-author&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br><span class="hljs-comment">&lt;!-- åœ¨è¿™é‡Œè¿˜å¯ä»¥å¼•ç”¨å…¶ä»–çš„ sql ç‰‡æ®µ --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">where</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼šâ‘ ã€æœ€å¥½åŸºäº å•è¡¨æ¥å®šä¹‰ sql ç‰‡æ®µï¼Œæé«˜ç‰‡æ®µçš„å¯é‡ç”¨æ€§</p><p>â€‹            â‘¡ã€åœ¨ sql ç‰‡æ®µä¸­ä¸è¦åŒ…æ‹¬ where</p><h2 id="11-8-Foreach"><a href="#11-8-Foreach" class="headerlink" title="11.8 Foreach"></a>11.8 Foreach</h2><p>å°†æ•°æ®åº“ä¸­å‰ä¸‰ä¸ªæ•°æ®çš„idä¿®æ”¹ä¸º1,2,3ï¼›</p><p>éœ€æ±‚ï¼šæˆ‘ä»¬éœ€è¦æŸ¥è¯¢ blog è¡¨ä¸­ id åˆ†åˆ«ä¸º1,2,3çš„åšå®¢ä¿¡æ¯</p><ol><li><p>ç¼–å†™æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-number">1</span> List&lt;Blog&gt; <span class="hljs-title function_">queryBlogForeach</span><span class="hljs-params">(Map map)</span>;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™SQLè¯­å¥</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;queryBlogForeach&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;map&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;blog&quot;</span>&gt;</span><br>select * from blog<br><span class="hljs-tag">&lt;<span class="hljs-name">where</span>&gt;</span><br><span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">collection:æŒ‡å®šè¾“å…¥å¯¹è±¡ä¸­çš„é›†åˆå±æ€§</span><br><span class="hljs-comment">item:æ¯æ¬¡éå†ç”Ÿæˆçš„å¯¹è±¡</span><br><span class="hljs-comment">open:å¼€å§‹éå†æ—¶çš„æ‹¼æ¥å­—ç¬¦ä¸²</span><br><span class="hljs-comment">close:ç»“æŸæ—¶æ‹¼æ¥çš„å­—ç¬¦ä¸²</span><br><span class="hljs-comment">separator:éå†å¯¹è±¡ä¹‹é—´éœ€è¦æ‹¼æ¥çš„å­—ç¬¦ä¸²</span><br><span class="hljs-comment">select * from blog where 1=1 and (id=1 or id=2 or id=3)</span><br><span class="hljs-comment">--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">foreach</span> <span class="hljs-attr">collection</span>=<span class="hljs-string">&quot;ids&quot;</span> <span class="hljs-attr">item</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">open</span>=<span class="hljs-string">&quot;and (&quot;</span> <span class="hljs-attr">close</span>=<span class="hljs-string">&quot;)&quot;</span> <span class="hljs-attr">separator</span>=<span class="hljs-string">&quot;or&quot;</span>&gt;</span><br>id=#&#123;id&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">foreach</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">where</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testQueryBlogForeach</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-type">SqlSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> MybatisUtils.getSession();<br><span class="hljs-type">BlogMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> session.getMapper(BlogMapper.class);<br>    <br>    <span class="hljs-type">HashMap</span> <span class="hljs-variable">map</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>();<br>List&lt;Integer&gt; ids = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;Integer&gt;();<br>ids.add( <span class="hljs-number">1</span> );<br>ids.add( <span class="hljs-number">2</span> );<br>ids.add( <span class="hljs-number">3</span> );<br>map.put(<span class="hljs-string">&quot;ids&quot;</span>,ids);<br>    <br>    List&lt;Blog&gt; blogs = mapper.queryBlogForeach(map);<br>    <br>    System.out.println(blogs);<br>    <br>    session.close();<br>&#125;<br></code></pre></td></tr></table></figure><p>å°ç»“ï¼šå…¶å®åŠ¨æ€ sql è¯­å¥çš„ç¼–å†™å¾€å¾€å°±æ˜¯ä¸€ä¸ªæ‹¼æ¥çš„é—®é¢˜ï¼Œä¸ºäº†ä¿è¯æ‹¼æ¥å‡†ç¡®ï¼Œæˆ‘ä»¬æœ€å¥½é¦–å…ˆè¦å†™åŸç”Ÿçš„ sql è¯­å¥å‡ºæ¥ï¼Œç„¶ååœ¨é€šè¿‡ mybatis åŠ¨æ€sql å¯¹ç…§ç€æ”¹ï¼Œé˜²æ­¢å‡ºé”™ã€‚å¤šåœ¨å®è·µä¸­ä½¿ç”¨æ‰æ˜¯ç†Ÿç»ƒæŒæ¡å®ƒçš„æŠ€å·§</p><h1 id="12-ç¼“å­˜"><a href="#12-ç¼“å­˜" class="headerlink" title="12. ç¼“å­˜"></a>12. ç¼“å­˜</h1><h2 id="12-1-ç®€ä»‹"><a href="#12-1-ç®€ä»‹" class="headerlink" title="12.1 ç®€ä»‹"></a>12.1 ç®€ä»‹</h2><ol><li><p>ä»€ä¹ˆæ˜¯ç¼“å­˜ [ Cache ]ï¼Ÿ</p><ul><li><p>å­˜åœ¨å†…å­˜ä¸­çš„ä¸´æ—¶æ•°æ®ã€‚</p></li><li><p>å°†ç”¨æˆ·ç»å¸¸æŸ¥è¯¢çš„æ•°æ®æ”¾åœ¨ç¼“å­˜ï¼ˆå†…å­˜ï¼‰ä¸­ï¼Œç”¨æˆ·å»æŸ¥è¯¢æ•°æ®å°±ä¸ç”¨ä»ç£ç›˜ä¸Š(å…³ç³»å‹æ•°æ®åº“æ•°æ®æ–‡ä»¶)æŸ¥è¯¢ï¼Œä»ç¼“å­˜ä¸­æŸ¥è¯¢ï¼Œä»è€Œæé«˜æŸ¥è¯¢æ•ˆç‡ï¼Œè§£å†³äº†é«˜å¹¶å‘ç³»ç»Ÿçš„æ€§èƒ½é—®é¢˜ã€‚</p></li></ul></li><li><p>ä¸ºä»€ä¹ˆä½¿ç”¨ç¼“å­˜ï¼Ÿ</p><ul><li>å‡å°‘å’Œæ•°æ®åº“çš„äº¤äº’æ¬¡æ•°ï¼Œå‡å°‘ç³»ç»Ÿå¼€é”€ï¼Œæé«˜ç³»ç»Ÿæ•ˆç‡ã€‚</li></ul></li><li><p>ä»€ä¹ˆæ ·çš„æ•°æ®èƒ½ä½¿ç”¨ç¼“å­˜ï¼Ÿ</p><ul><li>ç»å¸¸æŸ¥è¯¢å¹¶ä¸”ä¸ç»å¸¸æ”¹å˜çš„æ•°æ®ã€‚</li></ul></li></ol><h2 id="12-2-Mybatisç¼“å­˜"><a href="#12-2-Mybatisç¼“å­˜" class="headerlink" title="12.2 Mybatisç¼“å­˜"></a>12.2 Mybatisç¼“å­˜</h2><ul><li><p>MyBatisåŒ…å«ä¸€ä¸ªéå¸¸å¼ºå¤§çš„æŸ¥è¯¢ç¼“å­˜ç‰¹æ€§ï¼Œå®ƒå¯ä»¥éå¸¸æ–¹ä¾¿åœ°å®šåˆ¶å’Œé…ç½®ç¼“å­˜ã€‚ç¼“å­˜å¯ä»¥æå¤§çš„æå‡æŸ¥è¯¢æ•ˆç‡ã€‚</p></li><li><p>MyBatisç³»ç»Ÿä¸­é»˜è®¤å®šä¹‰äº†ä¸¤çº§ç¼“å­˜ï¼š ä¸€çº§ç¼“å­˜ å’Œ äºŒçº§ç¼“å­˜</p><ul><li><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œåªæœ‰ä¸€çº§ç¼“å­˜å¼€å¯ã€‚ï¼ˆSqlSessionçº§åˆ«çš„ç¼“å­˜ï¼Œä¹Ÿç§°ä¸ºæœ¬åœ°ç¼“å­˜ï¼‰</p></li><li><p>äºŒçº§ç¼“å­˜éœ€è¦æ‰‹åŠ¨å¼€å¯å’Œé…ç½®ï¼Œä»–æ˜¯åŸºäºnamespaceçº§åˆ«çš„ç¼“å­˜ã€‚</p></li><li><p>ä¸ºäº†æé«˜æ‰©å±•æ€§ï¼ŒMyBatiså®šä¹‰äº†ç¼“å­˜æ¥å£Cacheã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å®ç°Cacheæ¥å£æ¥è‡ªå®šä¹‰äºŒçº§ç¼“å­˜</p></li></ul></li></ul><h2 id="12-3-ä¸€çº§ç¼“å­˜"><a href="#12-3-ä¸€çº§ç¼“å­˜" class="headerlink" title="12.3 ä¸€çº§ç¼“å­˜"></a>12.3 ä¸€çº§ç¼“å­˜</h2><ul><li><p>ä¸€çº§ç¼“å­˜ä¹Ÿå«æœ¬åœ°ç¼“å­˜ï¼š</p><ul><li><p>ä¸æ•°æ®åº“åŒä¸€æ¬¡ä¼šè¯æœŸé—´æŸ¥è¯¢åˆ°çš„æ•°æ®ä¼šæ”¾åœ¨æœ¬åœ°ç¼“å­˜ä¸­ã€‚</p></li><li><p>ä»¥åå¦‚æœéœ€è¦è·å–ç›¸åŒçš„æ•°æ®ï¼Œç›´æ¥ä»ç¼“å­˜ä¸­æ‹¿ï¼Œæ²¡å¿…é¡»å†å»æŸ¥è¯¢æ•°æ®åº“ï¼›</p></li></ul></li></ul><h3 id="12-3-1-åˆä½“éªŒæµ‹è¯•"><a href="#12-3-1-åˆä½“éªŒæµ‹è¯•" class="headerlink" title="12.3.1 åˆä½“éªŒæµ‹è¯•"></a>12.3.1 åˆä½“éªŒæµ‹è¯•</h3><ol><li><p>åœ¨mybatisä¸­åŠ å…¥æ—¥å¿—ï¼Œæ–¹ä¾¿æµ‹è¯•ç»“æœ</p></li><li><p>ç¼–å†™æ¥å£æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//æ ¹æ®idæŸ¥è¯¢ç”¨æˆ·</span><br>User <span class="hljs-title function_">queryUserById</span><span class="hljs-params">(<span class="hljs-meta">@Param(&quot;id&quot;)</span> <span class="hljs-type">int</span> id)</span>;<br></code></pre></td></tr></table></figure></li><li><p>æ¥å£å¯¹åº”çš„Mapperæ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;queryUserById&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;user&quot;</span>&gt;</span><br>select * from user where id = #&#123;id&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testQueryUserById</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-type">SqlSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> MybatisUtils.getSession();<br><span class="hljs-type">UserMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> session.getMapper(UserMapper.class);<br>    <br>    <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> mapper.queryUserById( <span class="hljs-number">1</span> );<br>System.out.println(user);<br><span class="hljs-type">User</span> <span class="hljs-variable">user2</span> <span class="hljs-operator">=</span> mapper.queryUserById( <span class="hljs-number">1</span> );<br>System.out.println(user2);<br>System.out.println(user==user2);<br>    <br>    session.close();<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>ç»“æœåˆ†æ</p><p><img src="https://img.yiqiangshiyia.cn/blog/image-20220606221215646.png" alt="image-20220606221215646"></p></li></ol><h3 id="12-3-2-ä¸€çº§ç¼“å­˜å¤±æ•ˆçš„å››ç§æƒ…å†µ"><a href="#12-3-2-ä¸€çº§ç¼“å­˜å¤±æ•ˆçš„å››ç§æƒ…å†µ" class="headerlink" title="12.3.2 ä¸€çº§ç¼“å­˜å¤±æ•ˆçš„å››ç§æƒ…å†µ"></a>12.3.2 ä¸€çº§ç¼“å­˜å¤±æ•ˆçš„å››ç§æƒ…å†µ</h3><ul><li><p>ä¸€çº§ç¼“å­˜æ˜¯SqlSessionçº§åˆ«çš„ç¼“å­˜ï¼Œæ˜¯ä¸€ç›´å¼€å¯çš„ï¼Œæˆ‘ä»¬å…³é—­ä¸äº†å®ƒï¼›</p></li><li><p>ä¸€çº§ç¼“å­˜å¤±æ•ˆæƒ…å†µï¼šæ²¡æœ‰ä½¿ç”¨åˆ°å½“å‰çš„ä¸€çº§ç¼“å­˜ï¼Œæ•ˆæœå°±æ˜¯ï¼Œè¿˜éœ€è¦å†å‘æ•°æ®åº“ä¸­å‘èµ·ä¸€æ¬¡æŸ¥è¯¢è¯·æ±‚ï¼</p></li></ul><ol><li><p>sqlSessionä¸åŒ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testQueryUserById</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-type">SqlSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> MybatisUtils.getSession();<br><span class="hljs-type">SqlSession</span> <span class="hljs-variable">session2</span> <span class="hljs-operator">=</span> MybatisUtils.getSession();<br><span class="hljs-type">UserMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> session.getMapper(UserMapper.class);<br><span class="hljs-type">UserMapper</span> <span class="hljs-variable">mapper2</span> <span class="hljs-operator">=</span> session2.getMapper(UserMapper.class);<br>    <br>    <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> mapper.queryUserById( <span class="hljs-number">1</span> );<br>System.out.println(user);<br><span class="hljs-type">User</span> <span class="hljs-variable">user2</span> <span class="hljs-operator">=</span> mapper2.queryUserById( <span class="hljs-number">1</span> );<br>System.out.println(user2);<br>System.out.println(user==user2);<br>    <br>    session.close();<br>session2.close();<br>&#125;<br></code></pre></td></tr></table></figure><p>è§‚å¯Ÿç»“æœï¼šå‘ç°å‘é€äº†ä¸¤æ¡SQLè¯­å¥ï¼</p><p>ç»“è®ºï¼š <strong>æ¯ä¸ªsqlSessionä¸­çš„ç¼“å­˜ç›¸äº’ç‹¬ç«‹</strong></p></li><li><p>sqlSessionç›¸åŒï¼ŒæŸ¥è¯¢æ¡ä»¶ä¸åŒ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testQueryUserById</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-type">SqlSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> MybatisUtils.getSession();<br><span class="hljs-type">UserMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> session.getMapper(UserMapper.class);<br><span class="hljs-type">UserMapper</span> <span class="hljs-variable">mapper2</span> <span class="hljs-operator">=</span> session.getMapper(UserMapper.class);<br>    <br>    <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> mapper.queryUserById( <span class="hljs-number">1</span> );<br>System.out.println(user);<br><span class="hljs-type">User</span> <span class="hljs-variable">user2</span> <span class="hljs-operator">=</span> mapper2.queryUserById( <span class="hljs-number">2</span> );<br>System.out.println(user2);<br>System.out.println(user==user2);<br>    <br>    session.close();<br>&#125;<br></code></pre></td></tr></table></figure><p>è§‚å¯Ÿç»“æœï¼šå‘ç°å‘é€äº†ä¸¤æ¡SQLè¯­å¥ï¼å¾ˆæ­£å¸¸çš„ç†è§£</p><p>ç»“è®ºï¼š <strong>å½“å‰ç¼“å­˜ä¸­ï¼Œä¸å­˜åœ¨è¿™ä¸ªæ•°æ®</strong></p></li><li><p>sqlSessionç›¸åŒï¼Œä¸¤æ¬¡æŸ¥è¯¢ä¹‹é—´æ‰§è¡Œäº†å¢åˆ æ”¹æ“ä½œï¼</p><ul><li><p>å¢åŠ æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//ä¿®æ”¹ç”¨æˆ·</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">updateUser</span><span class="hljs-params">(Map map)</span>;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™SQL</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">update</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;updateUser&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;map&quot;</span>&gt;</span><br>update user set name = #&#123;name&#125; where id = #&#123;id&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">update</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testQueryUserById</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-type">SqlSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> MybatisUtils.getSession();<br>    <br>    <span class="hljs-type">UserMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> session.getMapper(UserMapper.class);<br>    <br>    <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> mapper.queryUserById( <span class="hljs-number">1</span> );<br>System.out.println(user);<br>    <br>    <span class="hljs-type">HashMap</span> <span class="hljs-variable">map</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>();<br>map.put(<span class="hljs-string">&quot;name&quot;</span>,<span class="hljs-string">&quot;kuangshen&quot;</span>);<br>map.put(<span class="hljs-string">&quot;id&quot;</span>, <span class="hljs-number">4</span> );<br>mapper.updateUser(map);<br>    <br>    <span class="hljs-type">User</span> <span class="hljs-variable">user2</span> <span class="hljs-operator">=</span> mapper.queryUserById( <span class="hljs-number">1</span> );<br>System.out.println(user2);<br>    <br>    System.out.println(user==user2);<br>    <br>    session.close();<br>&#125;<br></code></pre></td></tr></table></figure><p>è§‚å¯Ÿç»“æœï¼šæŸ¥è¯¢åœ¨ä¸­é—´æ‰§è¡Œäº†å¢åˆ æ”¹æ“ä½œåï¼Œé‡æ–°æ‰§è¡Œäº†</p><p>ç»“è®ºï¼š <strong>å› ä¸ºå¢åˆ æ”¹æ“ä½œå¯èƒ½ä¼šå¯¹å½“å‰æ•°æ®äº§ç”Ÿå½±å“</strong></p></li></ul></li><li><p>sqlSessionç›¸åŒï¼Œæ‰‹åŠ¨æ¸…é™¤ä¸€çº§ç¼“å­˜</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testQueryUserById</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-type">SqlSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> MybatisUtils.getSession();<br><span class="hljs-type">UserMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> session.getMapper(UserMapper.class);<br>    <br>    <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> mapper.queryUserById( <span class="hljs-number">1</span> );<br>System.out.println(user);<br>    <br>    session.clearCache();<span class="hljs-comment">//æ‰‹åŠ¨æ¸…é™¤ç¼“å­˜</span><br>    <br>    <span class="hljs-type">User</span> <span class="hljs-variable">user2</span> <span class="hljs-operator">=</span> mapper.queryUserById( <span class="hljs-number">1</span> );<br>System.out.println(user2);<br>    <br>    System.out.println(user==user2);<br>    <br>    session.close();<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><p>ä¸€çº§ç¼“å­˜å°±æ˜¯ä¸€ä¸ªmap</p><h2 id="12-4-äºŒçº§ç¼“å­˜"><a href="#12-4-äºŒçº§ç¼“å­˜" class="headerlink" title="12.4 äºŒçº§ç¼“å­˜"></a>12.4 äºŒçº§ç¼“å­˜</h2><ul><li><p>äºŒçº§ç¼“å­˜ä¹Ÿå«å…¨å±€ç¼“å­˜ï¼Œä¸€çº§ç¼“å­˜ä½œç”¨åŸŸå¤ªä½äº†ï¼Œæ‰€ä»¥è¯ç”Ÿäº†äºŒçº§ç¼“å­˜</p></li><li><p>åŸºäºnamespaceçº§åˆ«çš„ç¼“å­˜ï¼Œä¸€ä¸ªåç§°ç©ºé—´ï¼Œå¯¹åº”ä¸€ä¸ªäºŒçº§ç¼“å­˜ï¼›</p></li><li><p>å·¥ä½œæœºåˆ¶</p><ul><li><p>ä¸€ä¸ªä¼šè¯æŸ¥è¯¢ä¸€æ¡æ•°æ®ï¼Œè¿™ä¸ªæ•°æ®å°±ä¼šè¢«æ”¾åœ¨å½“å‰ä¼šè¯çš„ä¸€çº§ç¼“å­˜ä¸­ï¼›</p></li><li><p>å¦‚æœå½“å‰ä¼šè¯å…³é—­äº†ï¼Œè¿™ä¸ªä¼šè¯å¯¹åº”çš„ä¸€çº§ç¼“å­˜å°±æ²¡äº†ï¼›ä½†æ˜¯æˆ‘ä»¬æƒ³è¦çš„æ˜¯ï¼Œä¼šè¯å…³é—­äº†ï¼Œä¸€çº§ç¼“å­˜ä¸­çš„æ•°æ®è¢«ä¿å­˜åˆ°äºŒçº§ç¼“å­˜ä¸­ï¼›</p></li><li><p>æ–°çš„ä¼šè¯æŸ¥è¯¢ä¿¡æ¯ï¼Œå°±å¯ä»¥ä»äºŒçº§ç¼“å­˜ä¸­è·å–å†…å®¹ï¼›</p></li><li><p>ä¸åŒçš„mapperæŸ¥å‡ºçš„æ•°æ®ä¼šæ”¾åœ¨è‡ªå·±å¯¹åº”çš„ç¼“å­˜ï¼ˆmapï¼‰ä¸­ï¼›</p></li></ul></li></ul><h3 id="12-4-1-ä½¿ç”¨æ­¥éª¤"><a href="#12-4-1-ä½¿ç”¨æ­¥éª¤" class="headerlink" title="12.4.1 ä½¿ç”¨æ­¥éª¤"></a>12.4.1 ä½¿ç”¨æ­¥éª¤</h3><p><strong>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://mybatis.org/mybatis-3/zh/sqlmap-xml.html#cache">https://mybatis.org/mybatis-3/zh/sqlmap-xml.html#cache</a></strong></p><ol><li><p>å¼€å¯å…¨å±€ç¼“å­˜ ã€mybatis-config.xmlã€‘</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">setting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;cacheEnabled&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;true&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>å»æ¯ä¸ªmapper.xmlä¸­é…ç½®ä½¿ç”¨äºŒçº§ç¼“å­˜ï¼Œè¿™ä¸ªé…ç½®éå¸¸ç®€å•ï¼›ã€xxxMapper.xmlã€‘</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">cache</span>/&gt;</span><br><br>å®˜æ–¹ç¤ºä¾‹=====&gt;æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£<br><span class="hljs-tag">&lt;<span class="hljs-name">cache</span></span><br><span class="hljs-tag"><span class="hljs-attr">eviction</span>=<span class="hljs-string">&quot;FIFO&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">flushInterval</span>=<span class="hljs-string">&quot;60000&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">size</span>=<span class="hljs-string">&quot;512&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">readOnly</span>=<span class="hljs-string">&quot;true&quot;</span>/&gt;</span><br>è¿™ä¸ªæ›´é«˜çº§çš„é…ç½®åˆ›å»ºäº†ä¸€ä¸ª FIFO ç¼“å­˜ï¼Œæ¯éš” 60 ç§’åˆ·æ–°ï¼Œæœ€å¤šå¯ä»¥å­˜å‚¨ç»“æœå¯¹è±¡æˆ–åˆ—è¡¨çš„<br>512 ä¸ªå¼•ç”¨ï¼Œè€Œä¸”è¿”å›çš„å¯¹è±¡è¢«è®¤ä¸ºæ˜¯åªè¯»çš„ï¼Œå› æ­¤å¯¹å®ƒä»¬è¿›è¡Œä¿®æ”¹å¯èƒ½ä¼šåœ¨ä¸åŒçº¿ç¨‹ä¸­çš„è°ƒç”¨è€…<br>äº§ç”Ÿå†²çªã€‚<br></code></pre></td></tr></table></figure></li><li><p>ä»£ç æµ‹è¯•</p><ul><li><p>æ‰€æœ‰çš„å®ä½“ç±»å…ˆå®ç°åºåˆ—åŒ–æ¥å£</p></li><li><p>æµ‹è¯•ä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testQueryUserById</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-type">SqlSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> MybatisUtils.getSession();<br><span class="hljs-type">SqlSession</span> <span class="hljs-variable">session2</span> <span class="hljs-operator">=</span> MybatisUtils.getSession();<br>    <br>    <span class="hljs-type">UserMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> session.getMapper(UserMapper.class);<br><span class="hljs-type">UserMapper</span> <span class="hljs-variable">mapper2</span> <span class="hljs-operator">=</span> session2.getMapper(UserMapper.class);<br>    <br>    <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> mapper.queryUserById( <span class="hljs-number">1</span> );<br>System.out.println(user);<br>session.close();<br>    <br>    <span class="hljs-type">User</span> <span class="hljs-variable">user2</span> <span class="hljs-operator">=</span> mapper2.queryUserById( <span class="hljs-number">1</span> );<br>System.out.println(user2);<br>System.out.println(user==user2);<br>    <br>    session2.close();<br>&#125;<br></code></pre></td></tr></table></figure></li></ul></li></ol><h3 id="12-4-2-ç»“è®º"><a href="#12-4-2-ç»“è®º" class="headerlink" title="12.4.2 ç»“è®º"></a>12.4.2 ç»“è®º</h3><ul><li><p>åªè¦å¼€å¯äº†äºŒçº§ç¼“å­˜ï¼Œæˆ‘ä»¬åœ¨åŒä¸€ä¸ªMapperä¸­çš„æŸ¥è¯¢ï¼Œå¯ä»¥åœ¨äºŒçº§ç¼“å­˜ä¸­æ‹¿åˆ°æ•°æ®</p></li><li><p>æŸ¥å‡ºçš„æ•°æ®éƒ½ä¼šè¢«é»˜è®¤å…ˆæ”¾åœ¨ä¸€çº§ç¼“å­˜ä¸­</p></li><li><p>åªæœ‰ä¼šè¯æäº¤æˆ–è€…å…³é—­ä»¥åï¼Œä¸€çº§ç¼“å­˜ä¸­çš„æ•°æ®æ‰ä¼šè½¬åˆ°äºŒçº§ç¼“å­˜ä¸­</p></li></ul><h2 id="12-5-ç¼“å­˜åŸç†"><a href="#12-5-ç¼“å­˜åŸç†" class="headerlink" title="12.5 ç¼“å­˜åŸç†"></a>12.5 ç¼“å­˜åŸç†</h2><p><img src="https://img.yiqiangshiyia.cn/blog/image-20220606222550369.png" alt="image-20220606222550369"></p><h2 id="12-6-EhCache"><a href="#12-6-EhCache" class="headerlink" title="12.6 EhCache"></a>12.6 EhCache</h2><p>ç¬¬ä¸‰æ–¹ç¼“å­˜å®ç°â€“EhCache: æŸ¥çœ‹ç™¾åº¦ç™¾ç§‘</p><ul><li><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="http://mybatis.org/ehcache-cache/">http://mybatis.org/ehcache-cache/</a></p></li><li><p>Ehcacheæ˜¯ä¸€ç§å¹¿æ³›ä½¿ç”¨çš„javaåˆ†å¸ƒå¼ç¼“å­˜ï¼Œç”¨äºé€šç”¨ç¼“å­˜ï¼›</p></li><li><p>è¦åœ¨åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨Ehcacheï¼Œéœ€è¦å¼•å…¥ä¾èµ–çš„jaråŒ…</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/org.mybatis.caches/mybatis-</span><br><span class="hljs-comment">ehcache --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis.caches<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-ehcache<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.1.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>åœ¨mapper.xmlä¸­ä½¿ç”¨å¯¹åº”çš„ç¼“å­˜å³å¯</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span> = <span class="hljs-string">â€œorg.acme.FooMapperâ€</span> &gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">cache</span> <span class="hljs-attr">type</span> = <span class="hljs-string">â€œorg.mybatis.caches.ehcache.EhcacheCacheâ€</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™ehcache.xmlæ–‡ä»¶ï¼Œå¦‚æœåœ¨ åŠ è½½æ—¶ æœªæ‰¾åˆ° /ehcache.xml èµ„æºæˆ–å‡ºç°é—®é¢˜ï¼Œåˆ™å°†ä½¿ç”¨é»˜è®¤é…ç½®ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">ehcache</span> <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">xsi:noNamespaceSchemaLocation</span>=<span class="hljs-string">&quot;http://ehcache.org/ehcache.xsd&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">updateCheck</span>=<span class="hljs-string">&quot;false&quot;</span>&gt;</span><br><span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">diskStoreï¼šä¸ºç¼“å­˜è·¯å¾„ï¼Œehcacheåˆ†ä¸ºå†…å­˜å’Œç£ç›˜ä¸¤çº§ï¼Œæ­¤å±æ€§å®šä¹‰ç£ç›˜çš„ç¼“å­˜ä½ç½®ã€‚å‚æ•°è§£é‡Šå¦‚ä¸‹ï¼š</span><br><span class="hljs-comment">user.home â€“ ç”¨æˆ·ä¸»ç›®å½•</span><br><span class="hljs-comment">user.dir â€“ ç”¨æˆ·å½“å‰å·¥ä½œç›®å½•</span><br><span class="hljs-comment">java.io.tmpdir â€“ é»˜è®¤ä¸´æ—¶æ–‡ä»¶è·¯å¾„</span><br><span class="hljs-comment">--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">diskStore</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;./tmpdir/Tmp_EhCache&quot;</span>/&gt;</span><br>    <br>    <span class="hljs-tag">&lt;<span class="hljs-name">defaultCache</span></span><br><span class="hljs-tag"><span class="hljs-attr">eternal</span>=<span class="hljs-string">&quot;false&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">maxElementsInMemory</span>=<span class="hljs-string">&quot;10000&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">overflowToDisk</span>=<span class="hljs-string">&quot;false&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">diskPersistent</span>=<span class="hljs-string">&quot;false&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">timeToIdleSeconds</span>=<span class="hljs-string">&quot;1800&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">timeToLiveSeconds</span>=<span class="hljs-string">&quot;259200&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">memoryStoreEvictionPolicy</span>=<span class="hljs-string">&quot;LRU&quot;</span>/&gt;</span><br>    <br>    <span class="hljs-tag">&lt;<span class="hljs-name">cache</span></span><br><span class="hljs-tag"><span class="hljs-attr">name</span>=<span class="hljs-string">&quot;cloud_user&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">eternal</span>=<span class="hljs-string">&quot;false&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">maxElementsInMemory</span>=<span class="hljs-string">&quot;5000&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">overflowToDisk</span>=<span class="hljs-string">&quot;false&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">diskPersistent</span>=<span class="hljs-string">&quot;false&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">timeToIdleSeconds</span>=<span class="hljs-string">&quot;1800&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">timeToLiveSeconds</span>=<span class="hljs-string">&quot;1800&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">memoryStoreEvictionPolicy</span>=<span class="hljs-string">&quot;LRU&quot;</span>/&gt;</span><br><span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">defaultCacheï¼šé»˜è®¤ç¼“å­˜ç­–ç•¥ï¼Œå½“ehcacheæ‰¾ä¸åˆ°å®šä¹‰çš„ç¼“å­˜æ—¶ï¼Œåˆ™ä½¿ç”¨è¿™ä¸ªç¼“å­˜ç­–ç•¥ã€‚åªèƒ½å®šä¹‰ä¸€ä¸ªã€‚</span><br><span class="hljs-comment">--&gt;</span><br><span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">name:ç¼“å­˜åç§°ã€‚</span><br><span class="hljs-comment">maxElementsInMemory:ç¼“å­˜æœ€å¤§æ•°ç›®</span><br><span class="hljs-comment">maxElementsOnDiskï¼šç¡¬ç›˜æœ€å¤§ç¼“å­˜ä¸ªæ•°ã€‚</span><br><span class="hljs-comment">eternal:å¯¹è±¡æ˜¯å¦æ°¸ä¹…æœ‰æ•ˆï¼Œä¸€ä½†è®¾ç½®äº†ï¼Œtimeoutå°†ä¸èµ·ä½œç”¨ã€‚</span><br><span class="hljs-comment">overflowToDisk:æ˜¯å¦ä¿å­˜åˆ°ç£ç›˜ï¼Œå½“ç³»ç»Ÿå½“æœºæ—¶</span><br><span class="hljs-comment">timeToIdleSeconds:è®¾ç½®å¯¹è±¡åœ¨å¤±æ•ˆå‰çš„å…è®¸é—²ç½®æ—¶é—´ï¼ˆå•ä½ï¼šç§’ï¼‰ã€‚ä»…å½“</span><br><span class="hljs-comment">eternal=falseå¯¹è±¡ä¸æ˜¯æ°¸ä¹…æœ‰æ•ˆæ—¶ä½¿ç”¨ï¼Œå¯é€‰å±æ€§ï¼Œé»˜è®¤å€¼æ˜¯ 0 ï¼Œä¹Ÿå°±æ˜¯å¯é—²ç½®æ—¶é—´æ— ç©·å¤§ã€‚</span><br><span class="hljs-comment">timeToLiveSeconds:è®¾ç½®å¯¹è±¡åœ¨å¤±æ•ˆå‰å…è®¸å­˜æ´»æ—¶é—´ï¼ˆå•ä½ï¼šç§’ï¼‰ã€‚æœ€å¤§æ—¶é—´ä»‹äºåˆ›å»ºæ—¶é—´å’Œå¤±æ•ˆæ—¶é—´ä¹‹é—´ã€‚ä»…å½“eternal=falseå¯¹è±¡ä¸æ˜¯æ°¸ä¹…æœ‰æ•ˆæ—¶ä½¿ç”¨ï¼Œé»˜è®¤æ˜¯0.ï¼Œä¹Ÿå°±æ˜¯å¯¹è±¡å­˜æ´»æ—¶é—´æ— ç©·å¤§ã€‚</span><br><span class="hljs-comment">diskPersistentï¼šæ˜¯å¦ç¼“å­˜è™šæ‹Ÿæœºé‡å¯æœŸæ•°æ® Whether the disk store persists between restarts of the Virtual Machine. The default value is false.</span><br><span class="hljs-comment">diskSpoolBufferSizeMBï¼šè¿™ä¸ªå‚æ•°è®¾ç½®DiskStoreï¼ˆç£ç›˜ç¼“å­˜ï¼‰çš„ç¼“å­˜åŒºå¤§å°ã€‚é»˜è®¤æ˜¯30MBã€‚æ¯ä¸ªCacheéƒ½åº”è¯¥æœ‰è‡ªå·±çš„ä¸€ä¸ªç¼“å†²åŒºã€‚</span><br><span class="hljs-comment">diskExpiryThreadIntervalSecondsï¼šç£ç›˜å¤±æ•ˆçº¿ç¨‹è¿è¡Œæ—¶é—´é—´éš”ï¼Œé»˜è®¤æ˜¯ 120 ç§’ã€‚</span><br><span class="hljs-comment">memoryStoreEvictionPolicyï¼šå½“è¾¾åˆ°maxElementsInMemoryé™åˆ¶æ—¶ï¼ŒEhcacheå°†ä¼šæ ¹æ®æŒ‡å®šçš„ç­–ç•¥å»æ¸…ç†å†…å­˜ã€‚é»˜è®¤ç­–ç•¥æ˜¯LRUï¼ˆæœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼‰ã€‚ä½ å¯ä»¥è®¾ç½®ä¸ºFIFOï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰æˆ–æ˜¯LFUï¼ˆè¾ƒå°‘ä½¿ç”¨ï¼‰ã€‚</span><br><span class="hljs-comment">clearOnFlushï¼šå†…å­˜æ•°é‡æœ€å¤§æ—¶æ˜¯å¦æ¸…é™¤ã€‚</span><br><span class="hljs-comment">memoryStoreEvictionPolicy:å¯é€‰ç­–ç•¥æœ‰ï¼šLRUï¼ˆæœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼Œé»˜è®¤ç­–ç•¥ï¼‰ã€FIFOï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰ã€LFUï¼ˆæœ€å°‘è®¿é—®æ¬¡æ•°ï¼‰ã€‚FIFOï¼Œfirst in first outï¼Œè¿™ä¸ªæ˜¯å¤§å®¶æœ€ç†Ÿçš„ï¼Œå…ˆè¿›å…ˆå‡ºã€‚LFUï¼Œ Less Frequently Usedï¼Œå°±æ˜¯ä¸Šé¢ä¾‹å­ä¸­ä½¿ç”¨çš„ç­–ç•¥ï¼Œç›´ç™½ä¸€ç‚¹å°±æ˜¯è®²ä¸€ç›´ä»¥æ¥æœ€å°‘è¢«ä½¿ç”¨çš„ã€‚å¦‚ä¸Šé¢æ‰€è®²ï¼Œç¼“å­˜çš„å…ƒç´ æœ‰ä¸€ä¸ªhitå±æ€§ï¼Œhitå€¼æœ€å°çš„å°†ä¼šè¢«æ¸…å‡ºç¼“å­˜ã€‚LRUï¼ŒLeast Recently Usedï¼Œæœ€è¿‘æœ€å°‘ä½¿ç”¨çš„ï¼Œç¼“å­˜çš„å…ƒç´ æœ‰ä¸€ä¸ªæ—¶é—´æˆ³ï¼Œå½“ç¼“å­˜å®¹é‡æ»¡äº†ï¼Œè€Œåˆéœ€è¦è…¾å‡ºåœ°æ–¹æ¥ç¼“å­˜æ–°çš„å…ƒç´ çš„æ—¶å€™ï¼Œé‚£ä¹ˆç°æœ‰ç¼“å­˜å…ƒç´ ä¸­æ—¶é—´æˆ³ç¦»å½“å‰æ—¶é—´æœ€è¿œçš„å…ƒç´ å°†è¢«æ¸…å‡ºç¼“å­˜ã€‚</span><br><span class="hljs-comment">--&gt;</span><br>    <br><span class="hljs-tag">&lt;/<span class="hljs-name">ehcache</span>&gt;</span><br></code></pre></td></tr></table></figure></li></ul>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>SSM</tag>
      
      <tag>MyBatis</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¤œçˆ¬æ³°å±±Vlog</title>
    <link href="/2022/06/05/%E5%A4%9C%E7%88%AC%E6%B3%B0%E5%B1%B1Vlog/"/>
    <url>/2022/06/05/%E5%A4%9C%E7%88%AC%E6%B3%B0%E5%B1%B1Vlog/</url>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="4a67bf616dfd68f3c3a14942c14baa07bb55c273befde0ac64fa513bc98e9f28">4630436162ade97ba2718b7d0c4b3b6351ade09e539dfebeb5402828e29e64b02408658124aeb7b249d58f2fe97aeac0b8d661e408705e07939af53a6f4b82999f35b66c90b6ac4479946e9d49642a8ee310356b183ec1b4d6f480977ec0060a24b9559d6fcd38eeb45c2d015df11e0fd982052879c830c5f8a50916ce5fbf7abe0b98739e183ef476f501a2b66adee206a1e0621f6546dfb955b38341876466aaa7db0583a438350d5f7aa828ee70672a758e079847d2ac0e465c203fce0490bac3ee3540a0bf3d9336e8df18ce4677d347074893937161cbaa4b7537b28b14a963c4b7751f2d70769c64f58169334b7f6d926bd78800538730b53ca9c6062ca4976bf7bcfae31430a1f77c420a696b47180d6a18b4eb499dc751489a3c639380312c476732da956383c7bb67088fe3b19a7c68ab10c12b912e605420fe96b70cd7c53e7eab1c8d2eccc06b14db66e2fc590e92a8d2265645fcae9e24893f82925ba8421834ee2a2f7274b06fe37b36872bd7af68640ee388cbe9c98b21249c1a7ff8c83ecf38719f6415ac36a92238d19daa972dfc4561e99e7bdeebfa29bb6cfa1e9d4ca655f06aa3c9d984b1970c319892200fd9cab0ef78118d2fc91a7d2a9798ba48b9b934124e08e5357a3b2de0ea9e90ee492fdacaadcf066622e5922da44141bb9f411bfe55315e0732318f1faf27b1dcf5d3d7cd914bb147e71826b406fa8d0437aadd018023dc1e7c1800fac588a21913ceefe51feadbe4e50d0b13dc8118f95e5157325cb5f65ab2336c38a4817a7eebb6b5781b26eb1373d28afd656f41935d77b780838780d78089c1348968fbe4c7a5c9811a8082b717b5ca0f18067d7189f4338c48b5d1ca1e486506b35f6e638cd0298c6f4f1d2aae4cf036c4e7e039591ee1febce34fb6e158e55ea2647db534cd936cc7f7a6c8086b1fb10fc44945db2e2910ca22d33bb0ea71694af63418556f87ada916a230c702686c834820c50d94da04346cefb33af8ac7af7b4c6f420b3488dc23cc3265421b041acacc7efb8ad2e3e9c7d1889e93fe4c009552918ceb51df54cc61b4ff7a59cf3f43a9774a2cb9ff775a3325c9b04a7db80ef2d7c3991fce83c7c33060b6db1913fa5355d9ba47db19e3612c5f92a75229364de22632207d338dc10f6dc5eefc32c91395d9610dc7d6d167e15ca6fb25fb809d4aaff30f50dfe5e7fcec76341eab45f8d091cd7496439f927766f74fcb46026ea76b66d058dc299f5e1e600d1b3ff65bb7c670a2d3655bf71e54e2ff454ce97301a7ce377ea8182745f80de346a33852c2d2dbd9708e02a534b74d4699e64bfa04beff332fabdeee7a8ce73cab427a5b824784a53eb6fe9e442c9ebe7ef1bd4b70dd947505d2b83bf5210247eaade3ca751f4c053395cefad74afbd2d14fae61b92c55f2ad742eaaf443c032f7f9beef43675a696e88881e00f4ac5f351f7139a1627038d52971cf371b0a2da8436fbf485c7b304d82372f9a30572c2efede01446d7326807cfb9990a877e8728dfe7f185d5f67ffe9211b1b23a6d87e7551406890f5c04e0644affe6c8b2e79deeaf661da2ba2d892acdb088ee89ac9341ab16a9f20227832aefebd8bce6bd9c824ce66ce547c3c8195761594c6559119dba13c8a3211b3e05c5ab04ad07bdeb93fee812afbc4885ebbd151c35c49de237e95e3ed9f3aa2641d735c550920754c8de1143013a3fa78f9c7f08be384b74e716eb67a975bad6fb0b4dacdafee782a033ac42181a9c5954d726ec11536978088b067e4a3c1b58154c8165c7a6ff70fcd56b06f49d9677ddc612d3f131218ab859c010e74f722cc2f1b316dda588e6cd1df41f91c01f3b74af7f0a1aa85fe7b27af331ff6574852615e300302afe9bb108b61a73a45251038cfbf746a894e402d94ff35dec0205ba4b8a1018886d5490a7894ad72b22f33b5cdfc81e0e3c090bbb45e8954263a5e60a443d2fb0cf0c4d99d1cd3911ef8e87f1cbe635f8909b19204e1ad0f4a412640bd6ba4d670805f9a59eb9c04eaeedcaab7ad305cfca9e9050c3f4a6514c61165e8a0a2fd10410d71717856ebdfb8d7df119828016d62c21f7f0ea97cfa842a6a6cae0f8d74f8e88ccd23f32986c27f98149c08438cb7d363a6b0f52f6ffde0b4f29a1b69156f452cdcd9957c3a0dfb1422ad3532edc22b03a077ad334fa3cf7e64f035cd41010842537ef9ec7e09d7d534f4c88b02f00fef172d1f0f97fd1784f6dc51111f59ed4fd1e60b0de5f65419200db7bede5a176e87eed32c62aaafeda02c7da56405e19edf5aa325acbaea238f0e70e2262b78785ac46269357645f40a08a1c055c4507ade58e5aff8866e86477fbf1c451c92ce4f1fbf3fd39e573f86bab6cc56ab294f35a35bf8139fb847b423a253806b02956cb2d32c65abe96c2820bb7381ccb7d99e0bd647a58e124dcd4b9626159ef1fc5fa7304bc208ec07dcdb25acd4888bbe03515a039b773aeb6edfa4da219f5e10f40a7df22fd8aa5420518a67183fc25012142221dfeb5304ce5390800705b5d6f1c7adc0d9ea7a716940534600760c866cf8f0a4c410d3b48db43e98d52f272db48f0aec0a87a616673835d113bf3a65911db2d2bbb78a8dd75699795927e15ec56f45cdc8e586a2e2019e6df78ac43a71508517a78f975c4faba6ec6788078dd6607a70270cdb14de64461f91ba99f48620d8f817ac4b0e1fa3745bc9d4636f89fc0174bd54cb86dfd2256e5b8e094a0dd3738a2b0fae0f83ac80b180e39aed50dfb52a05fc2f49d9599d60a4d9a092953e453f3ccd7a28cb12a80cf3ce1477c21793f768e9e2340608e915fe1bffd026aa2af38d0d90e7c68f888b82b0b714a67fb2281cbb66878a4ec2b67f2a178edcf1bfb834b821e39ecb1cfc0923247dec65c163f5380e75f1c0ceadf3d6ab2242162ddfeb08dc5f6eef38df4ef03c7c7a0a1df3655878ec669698e1af40213c903432c461ae1db791eaa417c8d892a2647688979649d4187f5d3f4ef0bb60b26c7a13006a264c7aa10861f0f6461dc3484abb557f439f83d1f77ca07ef12af76e9e8df9e024b6c56158dd575c08f16c4ec9f8caec91e7ffbb54417fe4115af80111b79bf59ebabd85f3da200fa7c6a10c5cbdafc39a4c607ab904a75443fa2f59d98036d3a5fe9e2abcb7575d028a14bf7c3e837819bcee8918a48e18d053c6e3cb7fbc3427258847e3841884a6c385908c2fb40f62e37616b7706c2c9ec4d3e7ab8faafa0d3f73c792c1da40f134c72575481704355029585c933960f713064e05fda4194073bff5a040b4b552d2e635c522a3e2748c10bf2993ad9a7ce8108a1be1829bc4cf844fadc9fa2b1395779f4d71f580bef3fdad0e03e08afe2097d75059f1f975ae708502bd5e2cda00c2065068edb5e875a4f89f43a594c8680c844468a828eebad3d42cef1582c195faac2a956ef7258241404f5fa86fe98a1c5d936827067d9161b61de971181c948e556db369baf346124a3b95120ed7603ed6f5e528be54c6bea05292fec15767b12f4c9e675ad32c4f1521c6760de15d7a64ffa40a5a5fc708376b3415756a933527de7420a478266ad75dda06f3fc8505aaec4cc3209909acf2b3a234f7f6bc1f5192c5c3b95b099c6467ac34b40b82bc1c78b29682c925aed418d88e5ec37c66afc572c476bfec5584269b64a429efd02c5fcea6bb2bda58ebf3f6eb70b132d32c5dafb58fed8c43beff60e394411fc725affc6128d82c08128eba92ee80abe601d390ca00880c88ba0c7d31418956c1da38980bf4c36f0af1b1b03d7eeeb82199a06f5648fe7a6b551c18a9a944e3ca41bbe05b6d85f1ca066ff662782e6420253943c5a565d478ab1c46bed6eeae2d8cde82ffe6f09113faf9bde5a634d0420e5579dd7f81668f5f55c913f2bde01eace64a2a14f1d6c7076f1ae77b134b160fe8f620358946382eb4257e6195955dabd965b191832a261e4fa44f549217f78e62707f61c18bac8e16ed36af57aea7e610ad333e7b9f1e818c80942e1318f210c169e50d4cf2c51ea1083dc269ac397a6409cda6ff8a5677549cc69147f9cf842c4cfcfba6068769f09f7b8c2b1c46bac19a75cd1f256c7c5101a4e94b5cda972102b7879e94632782e5b609c01407697e48dfd0310e5d6ce169897418c561ec2d8a6334de72906443a1ed0f6baff208368b92d26f32ad793da95dea842e5dff5cfe46afca73eb3301726fd3590417b7b33fa1ae15484eca4eec87c39ee86fafad9b1353d9725e0ab6510caf3e59d668ffd345406df1169cc03740927bbfbd83d70f53b099219cb3c817af03c180ab428533aa09aec7cd790776abb3a7b6f2767dad2616896b390d34cb858a40433be796c3ae97d2c2c9dd4030a115970487243882bb352f812a19672f9b75bf0ff9144a230a05a01f189ce40db9d428bdc27fe54d46a495884162963a2767e6a4fe120f770642e9f8b89fcd5ca57ef577dfc38ca11c8d58519fc8b847ae61a485e701a4abd400c9aa9d387c82bda93552a1ea95f3071a25650b7bb3b10bb6f0358181aa116741c2270ab250836702fddc0b3ba8547be9ffbd9b98b1403a19f0b0bdcb747b2fa7a9244767b1eca34f8b8ad50228c7b83248a58fba05bac30566cd3b2e03f93ce8120d6760f07eeeef6180afd12c8ad57bea999524040ee58045933f29ab375ac47d7f4aa58cdb5bce339f7dc6b056634be865118ed8e40d89f0beec2ba013fb78bcc72495c748b8c5b3ce523f994f4b7dbbac367b6df50ca94cfa3299d13d4ada5f767ae34f6d84bd13d470ab92b1274028f2462d2dd6b1f66d9a5744de3a5130a4fcbb0863318e7ef04e6df6a64d06e9ae0a86836f2283590c966dc5c171de1d455ab463b1ba997bf360f623f1a0671d2b60a120cb012e64de27f718997176c44a1716fec6cf597ce0d1413dd687bfef5f78adaf5fed0cd0e43b2e2c01081b6ac6114a594ee680f9a17a76fd4657babfa363fd9c03ddc08e3478fd9a9615857ece3b5dc156d8f64d06b3846410b45aa6bf13d408550bfcf5f58fda8ecdeeed4ee815569709f28491c427b932250105b629ab97cc8a0e1449b16401d84197f1e7a270bedc06886f525e650ec746ed287473592c16ca1a2aa441c7145cc34cb64745a72db10845fe70a15269e0d2729e3674a88e0f001e48604cad555ac49904fe423afef703b37c79cb3ad8399422a751e5b9b1dd49955c2ef4ff6e9e036f14362b617e9bc2d085247ba9b13922df66bf2c466e93c4522e4b7c1a684a42eb421af8b393a7890e124bc098d140d83d97087c20ae3bb38e81c044abb059a6dcb507534c2132ca4d642c8edc25703b0aec49a69d3c7d2444cf3d0cd6f9f1eccefaf4f861c89c0ddbc322dfcc1d4974f9544fed1bcd92f5733937f228b550bf90f1448adc8f2c727a733aac11cbbe94695035f1c66e1ab182eef1bac4af317b58291e67b9e0a779929e50bb23b0999b92e1e2ccc4715a0ecdf3925b2c7635560afdc15d164c23d37242342160ecc758d8bc75d546b08c4ebc047af7b404bcc9f6daeba1640c213b4dbd645d8cf97c7773652967e3bbe97e9694c1e3846e9854c8866bcd323d087a8efe7403d36438d3e64e4850a615eea9081b25f60a922805a7de6bd063c95bcc0f361c82ad4ff9b2633a606dc0d9a8b2ff2af173d5a0363bb76c42b1080d95c9ec3aa4c1dc443c5ee0dc2fa7ff6e2f2dab0a06db20a1ea4c743da9c96aca124658e90d217e045e4a6d740723a3ba9435695a28e930ce3d40fd224a367765143b60c3b5b8681d2e11777aaf59fd0964df58bc483f9230f522c88a83e8c98e36c5f14feacf2425c12974a7ec01fc0a4f148bedb93ee5d364478d010013a76f3293e4b4af27217d55eadb303bf74aa7ef74f74505e5b7bb4e2905c32ea674195d8bb17d78d35acf3994006e3c7f5af84f5ba78b7b3ee2e510afcd5d3a441c3efc0d9bc2b720d82898477135b2cf74c7ac575791a2b20ff37b1e769086826e69143ec005111f0411fadcc003072b34dd1541918cd03bdd90b57f5e92cbf9be6537abd0b3ec925edc9958c5eec23f6c9c4a3cd6e5870b928ee9bf4480bd5503170d01bdd5b2bb42b354a498579e91c8a6e71d3e452953d4c640e1327fd7ac741ebde6b52046e68b28d9b3415f459a47dc1086613b7a80546c11f275439d06042b988e0c53337fbff52e8deb8aa478070d93a20efc49564531db0a0f1a9d10ab585e6448ed4e23d09e01314d7baede2fc2f93233e01796dd9261c9611b9dbcbd874d4019c1cb01e0ffcee730ac9a65b3b21310c28ee8c6eb14a71f28eda2c5ab24cd5a5e0fa6491adf35b8f3ce5710278f7b65bdb64b8732fbeea51e3206f444198355577a35e2199913cfb0bdc929d45762f20b3515eded623cf05c7abfbf3bde5bfa9bf71ae644560cb9b7138ce0c716dd5d52ca167bb155a9292baa22e34f15dbfc76885bf445fe95579b2cf019c6ce1c07ef1e17907b4e75aae65a0d15a102ccebdcb83ac827c5d4739983d59a840628ebd2044a1b2b31bd3d1d03dcf1bf9295582f45d56db2e39dcefcb4889748b111c53bc7364832752d2d45afca907c670aaa4b40493452fbc3840e3a3fc1a4a8a5108608d187c749724cfb6ab32b7bf4ffa839f4f62ce1d117ac4fa223fab1cc9753a41b08f24edd4208a70c1d5e9e91517fa52a400086897a6a11a5d628332c0fdc94f618575c6987827c7d158e1fb553e072f6f3739f77f470a7a2dda8f02d39e17e4220cfde4b16428b30f2496301ad1629991aeb43dd389b780ed6148ca9b16f50c8e618b1205d341f363680bc58b5cdbdbf56930ae529f9cf31bcf149e790c43b73f2f384c3b7970f758cbb7ba0c451fc45649c73f64f00cad166230db3e221e546c365352ce3d919ea978df2d55db1f33bdb49c566d62855ed22104ec2f0f608dc4844bca5113b756b561ecf79f9c0a782ab459552dad3c17b1d0c053fcba718d27ea7da61e3976f7f452502e2705aa7e794b593bf60ac2d0fa163220654048a629cde662a98afcee3a5204e313546ac39a021b1ae97f7ba58bd652106112ec84ce12031275d59709e7877bc2c06d29d1ed29ea3024f2842bd0d792f296f2c4f9087def6e7e28bdfaa9047fff286f728e379c23c5dd88e6cf2a0deb5a21f664993bdf410a24b1e95ecccb8174c829b28154f8b40fbef220ca46dd1bbf96d850ad4432191a3ce2f8ceb5d5848352ea9b464baa11e3544ac721c639cc2c66d3a73f595aaf96c75d4ef910b3fb61eed0393c184c5c73b00f158b5ce9f97c5e9d9fe9afa16b9f0d3f0658c0d4a902c73852891e1684213efa975d1f1d4b55ca2e1a89150820dc5a3b193a78bc2ac736017131c06a59f95420c89bd69694e8b2b3e53e85af6a926551d268ad3f89342fcd3315ddc16b3230b10c28b278f2967b819f692c47aed6e0be7f7cfc552c3ef3d448dd202dea592202eea194205de77a3f8010edfe9aff9b02da8fa14b576e04a2472addf0858d42fd43cf3acb87034a4ba6dc05ab7a1478762d86f8288cead535db441a27307eec76e8e414ad42d178f748bb41bb0d948cd346b8b61e1dece8c33e9dd7d3de36f098bce97f7ca481d500ae982a12c255f71b832b4b76f858bec82e008ad1390e4183eeb36c7eb3d596d813139530475d0fa20827cbcaaa92330b176f7836e1901800735ff54f0c78e6934e2b1c13f7cbe20e9b1ef728071cd3abf8782af4fd479526aa801f1087744840f077ad44d317a03cee813e9ff05cdaa823893a7c18164f8f82173e71155954e96070fcfc4c1c5e2fde763909a20303701b402e9cac1d6e3e813f0f50d972ab89a9e90e521fdb9bc8e4d6fb0839fa5aff92c9c9084631b6ad5eb6a98f656b827d37c0f1ac26c9664ae54cda2bf2806f0a9e48868929da847d9c86bb8b14ea204f3c8d898c2d1e7607f39a36558c19d40453a96d83</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <categories>
      
      <category>Vlog</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Vlog</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode 2022å…­æœˆåˆ·é¢˜æ—¥è®°</title>
    <link href="/2022/06/01/LeetCode%202022%E5%85%AD%E6%9C%88%E5%88%B7%E9%A2%98%E6%97%A5%E8%AE%B0/"/>
    <url>/2022/06/01/LeetCode%202022%E5%85%AD%E6%9C%88%E5%88%B7%E9%A2%98%E6%97%A5%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h2 id="LC-473-ç«æŸ´æ‹¼æ­£æ–¹å½¢"><a href="#LC-473-ç«æŸ´æ‹¼æ­£æ–¹å½¢" class="headerlink" title="LC 473.ç«æŸ´æ‹¼æ­£æ–¹å½¢"></a>LC 473.ç«æŸ´æ‹¼æ­£æ–¹å½¢</h2><h3 id="é¢˜ç›®å¤§æ„"><a href="#é¢˜ç›®å¤§æ„" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>ä½ å°†å¾—åˆ°ä¸€ä¸ªæ•´æ•°æ•°ç»„ matchsticks ï¼Œå…¶ä¸­ matchsticks[i] æ˜¯ç¬¬ i ä¸ªç«æŸ´æ£’çš„é•¿åº¦ã€‚ä½ è¦ç”¨ æ‰€æœ‰çš„ç«æŸ´æ£ æ‹¼æˆä¸€ä¸ªæ­£æ–¹å½¢ã€‚ä½  ä¸èƒ½æŠ˜æ–­ ä»»ä½•ä¸€æ ¹ç«æŸ´æ£’ï¼Œä½†ä½ å¯ä»¥æŠŠå®ƒä»¬è¿åœ¨ä¸€èµ·ï¼Œè€Œä¸”æ¯æ ¹ç«æŸ´æ£’å¿…é¡» ä½¿ç”¨ä¸€æ¬¡ ã€‚</p><p>å¦‚æœä½ èƒ½ä½¿è¿™ä¸ªæ­£æ–¹å½¢ï¼Œåˆ™è¿”å› true ï¼Œå¦åˆ™è¿”å› false ã€‚</p><h3 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><blockquote><p>LCåˆ·äº†ä¸€ç™¾å¤šé“é¢˜ç¬¬ä¸€æ¬¡åšå›æº¯ç®—æ³•çš„é¢˜ï¼Œå½“ç„¶è¦å¥½å¥½ç ”ç©¶ä¸€ä¸‹äº†ğŸ§</p><p>ä»å¤§åˆ°å°sortæ’åºå‡½æ•°ï¼šsort(matchsticks.rbegin(),matchsticks.rend());  //ä»å¤§åˆ°å°æ’åº</p></blockquote><p><strong>å›æº¯ç®—æ³•</strong></p><p>å›æº¯ç®—æ³•å®é™…ä¸Šä¸€ä¸ªç±»ä¼¼æšä¸¾çš„æœç´¢å°è¯•è¿‡ç¨‹ï¼Œä¸»è¦æ˜¯åœ¨æœç´¢å°è¯•è¿‡ç¨‹ä¸­å¯»æ‰¾é—®é¢˜çš„è§£ï¼Œå½“å‘ç°å·²ä¸æ»¡è¶³æ±‚è§£æ¡ä»¶æ—¶ï¼Œå°±â€œå›æº¯â€è¿”å›ï¼Œå°è¯•åˆ«çš„è·¯å¾„ã€‚å›æº¯æ³•æ˜¯ä¸€ç§é€‰ä¼˜æœç´¢æ³•ï¼ŒæŒ‰é€‰ä¼˜æ¡ä»¶å‘å‰æœç´¢ï¼Œä»¥è¾¾åˆ°ç›®æ ‡ã€‚ä½†å½“æ¢ç´¢åˆ°æŸä¸€æ­¥æ—¶ï¼Œå‘ç°åŸå…ˆé€‰æ‹©å¹¶ä¸ä¼˜æˆ–è¾¾ä¸åˆ°ç›®æ ‡ï¼Œå°±é€€å›ä¸€æ­¥é‡æ–°é€‰æ‹©ï¼Œè¿™ç§èµ°ä¸é€šå°±é€€å›å†èµ°çš„æŠ€æœ¯ä¸ºå›æº¯æ³•ï¼Œè€Œæ»¡è¶³å›æº¯æ¡ä»¶çš„æŸä¸ªçŠ¶æ€çš„ç‚¹ç§°ä¸ºâ€œå›æº¯ç‚¹â€ã€‚è®¸å¤šå¤æ‚çš„ï¼Œè§„æ¨¡è¾ƒå¤§çš„é—®é¢˜éƒ½å¯ä»¥ä½¿ç”¨å›æº¯æ³•ï¼Œæœ‰â€œé€šç”¨è§£é¢˜æ–¹æ³•â€çš„ç¾ç§°ã€‚</p><p>bilibiliå›æº¯ç®—æ³•ç¬”è®°æ€»ç»“</p><ul><li>å›æº¯ç®—æ³•å’Œé€’å½’ç®—æ³•ç›¸è¾…ç›¸æˆï¼Œæœ‰é€’å½’å°±ä¼šæœ‰å›æº¯ï¼Œä¸€èˆ¬é€’å½’ä¸‹é¢å°±æ˜¯å›æº¯</li><li>å›æº¯ç®—æ³•æ˜¯ä¸€ç§çº¯æš´åŠ›æœç´¢ç®—æ³•ï¼Œæ—¶é—´å¤æ‚åº¦ä¸€èˆ¬æ¯”è¾ƒé«˜ï¼Œå¯ä»¥é€šè¿‡å‰ªæç­‰ä¼˜åŒ–ç®—æ³•</li><li>å›æº¯ç®—æ³•è™½ç„¶æ˜¯ä¸€ç§çº¯æš´åŠ›æœç´¢ç®—æ³•ï¼Œä½†æ˜¯å¯ä»¥è§£å†³å¤šå±‚forå¾ªç¯åµŒå¥—æ— æ³•è§£å†³çš„é—®é¢˜</li><li>å›æº¯ç®—æ³•ä½¿ç”¨é¢˜ç›®ç±»å‹ï¼šç»„åˆé—®é¢˜ã€åˆ‡å‰²é—®é¢˜ã€å­é›†é—®é¢˜ã€æ’åˆ—é—®é¢˜ã€æ£‹ç›˜é—®é¢˜ï¼ˆNçš‡åé—®é¢˜ã€è§£æ•°ç‹¬é—®é¢˜ï¼‰</li><li>å›æº¯éƒ½å¯ä»¥æŠ½è±¡æˆæ ‘å½¢ç»“æ„ï¼Œé€’å½’éƒ½æœ‰ç»ˆæ­¢æ¡ä»¶</li><li>å›æº¯ä¸€èˆ¬å‚æ•°æ¯”è¾ƒå¤š</li></ul><p>å¾…ç»­â€¦â€¦</p><p><strong>æ–¹æ³•1ï¼šå›æº¯æ³•</strong></p><p>å°†æ­£æ–¹å½¢çš„å››æ¡è¾¹çœ‹åšæ˜¯å››ä¸ªé«˜ä¸º1/4ç«æŸ´æ€»å‘¨é•¿çš„æ¡¶ï¼Œå›æº¯çš„æ‰¾å‡ºå°†ç«æŸ´å…¨éƒ¨æ”¾å…¥æ¡¶ä¸­ï¼Œå¹¶ä¸”å°†å››ä¸ªæ¡¶éƒ½è£…æ»¡çš„æ–¹æ³•å°±å¯ä»¥äº†ï¼Œåˆ©ç”¨å›æº¯æœç´¢ï¼Œé€’å½’çš„å°†æ‰€æœ‰ç«æŸ´æ”¾å…¥æ¡¶ä¸­</p><p>æš´åŠ›å›æº¯æœç´¢æ³•è¶…æ—¶</p><p>éœ€è¦å¯¹å›æº¯æœç´¢è¿›è¡Œå‰ªæä¼˜åŒ–</p><p>ç®—æ³•ä¼˜åŒ– </p><ul><li>å°†ç«æŸ´æ•°é‡å°äº4 ç«æŸ´æ€»é•¿åº¦æ— æ³•è¢«4æ•´é™¤çš„æƒ…å†µæ’é™¤æ‰</li><li>é‡è¦ä¼˜åŒ–ï¼šå°†ç«æŸ´æŒ‰ç…§ä»é•¿åˆ°çŸ­çš„é¡ºåºæ’åº</li></ul><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">makesquare</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; matchsticks)</span> </span>&#123;<br>        <span class="hljs-type">int</span> n = matchsticks.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-keyword">if</span>(n &lt; <span class="hljs-number">4</span>)  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-type">int</span> sum = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;n; i++)&#123;<br>            sum = sum+matchsticks[i];<br>        &#125;<br>        <span class="hljs-keyword">if</span>(sum % <span class="hljs-number">4</span>)  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-built_in">sort</span>(matchsticks.<span class="hljs-built_in">rbegin</span>(),matchsticks.<span class="hljs-built_in">rend</span>());  <span class="hljs-comment">//ä»å¤§åˆ°å°æ’åº</span><br>        <span class="hljs-type">int</span> bucket[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">0</span>&#125;; <span class="hljs-comment">//è®¾ç½®æ¡¶çš„æ•°ç»„</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">backtrack</span>(<span class="hljs-number">0</span>,matchsticks,sum/<span class="hljs-number">4</span>,bucket);  <span class="hljs-comment">//å›æº¯çš„å°è¯•ç«æŸ´çš„æ”¾ç½®</span><br>    &#125;<br>    <span class="hljs-comment">//iä»£è¡¨æ­£åœ¨æ”¾ç½®çš„ç«æŸ´ä¸‹æ ‡ï¼Œnumså­˜å‚¨ç«æŸ´çš„é•¿åº¦</span><br>    <span class="hljs-comment">//edgeä¸ºè®¡ç®—å¥½çš„æ­£æ–¹å½¢è¾¹é•¿ï¼Œbucketå­˜å‚¨å››ä¸ªæ¡¶çš„é«˜åº¦</span><br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">backtrack</span><span class="hljs-params">(<span class="hljs-type">int</span> i,vector&lt;<span class="hljs-type">int</span>&gt;&amp; matchsticks,<span class="hljs-type">int</span> edge,<span class="hljs-type">int</span> bucket[<span class="hljs-number">4</span>])</span></span>&#123;<br>        <span class="hljs-keyword">if</span>(i &gt;= matchsticks.<span class="hljs-built_in">size</span>())&#123;  <span class="hljs-comment">//é€’å½’ç»ˆæ­¢æ¡ä»¶ å…¨éƒ¨çš„ç«æŸ´éƒ½æ”¾åˆ°äº†æ¡¶ä¸­</span><br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">//æˆåŠŸçš„æ‹¼æˆäº†æ­£æ–¹å½¢ è¿”å›true</span><br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">0</span>; j&lt;<span class="hljs-number">4</span>; j++)&#123;  <span class="hljs-comment">//éå†å››ä¸ªæ¡¶</span><br>            <span class="hljs-keyword">if</span>(bucket[j]+matchsticks[i] &gt; edge)&#123;  <span class="hljs-comment">//è¿™æ ¹ç«æŸ´æ— æ³•æ”¾å…¥ç¬¬jä¸ªæ¡¶ä¸­</span><br>                <span class="hljs-keyword">continue</span>;  <span class="hljs-comment">//å°è¯•ä¸‹ä¸€ä¸ªæ¡¶</span><br>            &#125;<br>            bucket[j] = bucket[j]+matchsticks[i];  <span class="hljs-comment">//nums[i]æ”¾å…¥æ¡¶j</span><br>            <span class="hljs-keyword">if</span>(<span class="hljs-built_in">backtrack</span>(i+<span class="hljs-number">1</span>,matchsticks,edge,bucket))&#123;  <span class="hljs-comment">//é€’å½’çš„æ”¾ç½®ä¸‹ä¸€æ ¹ç«æŸ´</span><br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">//ä¸‹ä¸€æ ¹ç«æŸ´æ”¾ç½®æˆåŠŸåˆ™ç›´æ¥è¿”å›true</span><br>            &#125;<br>            bucket[j] = bucket[j]-matchsticks[i];  <span class="hljs-comment">//å°†nums[i]ä»æ¡¶jä¸­æ‹¿å‡º</span><br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">//nums[i]æ— æ³•æ”¾å…¥ä»»ä½•ä¸€ä¸ªæ¡¶ å‡½æ•°è¿”å›false</span><br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>bilibiliè§†é¢‘è®²è§£ï¼š<a href="https://www.bilibili.com/video/BV1D5411j7UE?spm_id_from=333.337.search-card.all.click">https://www.bilibili.com/video/BV1D5411j7UE?spm_id_from=333.337.search-card.all.click</a></p><p><strong>æ–¹æ³•2ï¼šçŠ¶æ€å‹ç¼©+åŠ¨æ€è§„åˆ’</strong></p><p>å¥½åƒå¾ˆéš¾çš„æ ·å­ åº”è¯¥ä¸æ˜¯æˆ‘ç›®å‰èƒ½ç†è§£çš„ å…ˆææ‡‚æ¯”è¾ƒåŸºç¡€çš„å›æº¯ç®—æ³•å§</p><h2 id="LC-450-åˆ é™¤äºŒå‰æœç´¢æ ‘ä¸­çš„èŠ‚ç‚¹"><a href="#LC-450-åˆ é™¤äºŒå‰æœç´¢æ ‘ä¸­çš„èŠ‚ç‚¹" class="headerlink" title="LC 450.åˆ é™¤äºŒå‰æœç´¢æ ‘ä¸­çš„èŠ‚ç‚¹"></a>LC 450.åˆ é™¤äºŒå‰æœç´¢æ ‘ä¸­çš„èŠ‚ç‚¹</h2><h3 id="é¢˜ç›®å¤§æ„-1"><a href="#é¢˜ç›®å¤§æ„-1" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>ç»™å®šä¸€ä¸ªäºŒå‰æœç´¢æ ‘çš„æ ¹èŠ‚ç‚¹ root å’Œä¸€ä¸ªå€¼ keyï¼Œåˆ é™¤äºŒå‰æœç´¢æ ‘ä¸­çš„ key å¯¹åº”çš„èŠ‚ç‚¹ï¼Œå¹¶ä¿è¯äºŒå‰æœç´¢æ ‘çš„æ€§è´¨ä¸å˜ã€‚è¿”å›äºŒå‰æœç´¢æ ‘ï¼ˆæœ‰å¯èƒ½è¢«æ›´æ–°ï¼‰çš„æ ¹èŠ‚ç‚¹çš„å¼•ç”¨ã€‚</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œåˆ é™¤èŠ‚ç‚¹å¯åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼š</p><ol><li>é¦–å…ˆæ‰¾åˆ°éœ€è¦åˆ é™¤çš„èŠ‚ç‚¹ï¼›</li><li>å¦‚æœæ‰¾åˆ°äº†ï¼Œåˆ é™¤å®ƒã€‚</li></ol><p><img src="https://img.yiqiangshiyia.cn/blog/del_node_1.jpg" alt="del_node_1"></p><blockquote><p>è¾“å…¥ï¼šroot = [5,3,6,2,4,null,7], key = 3<br>è¾“å‡ºï¼š[5,4,6,2,null,null,7]<br>è§£é‡Šï¼šç»™å®šéœ€è¦åˆ é™¤çš„èŠ‚ç‚¹å€¼æ˜¯ 3ï¼Œæ‰€ä»¥æˆ‘ä»¬é¦–å…ˆæ‰¾åˆ° 3 è¿™ä¸ªèŠ‚ç‚¹ï¼Œç„¶ååˆ é™¤å®ƒã€‚<br>ä¸€ä¸ªæ­£ç¡®çš„ç­”æ¡ˆæ˜¯ [5,4,6,2,null,null,7], å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚<br>å¦ä¸€ä¸ªæ­£ç¡®ç­”æ¡ˆæ˜¯ [5,2,6,null,4,null,7]ã€‚</p></blockquote><h3 id="é¢˜è§£-1"><a href="#é¢˜è§£-1" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><blockquote><p>äºŒå‰æœç´¢æ ‘æœ‰ä»¥ä¸‹æ€§è´¨ï¼š</p><ul><li>å·¦å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹ï¼ˆå¦‚æœæœ‰ï¼‰çš„å€¼å‡å°äºå½“å‰èŠ‚ç‚¹çš„å€¼</li><li>å³å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹ï¼ˆå¦‚æœæœ‰ï¼‰çš„å€¼å‡å¤§äºå½“å‰èŠ‚ç‚¹çš„å€¼</li><li>å·¦å­æ ‘å’Œå³å­æ ‘å‡ä¸ºäºŒå‰æœç´¢æ ‘</li><li>äºŒå‰æœç´¢æ ‘çš„ä¸­åºéå†æœ‰åº</li></ul><p>äºŒå‰æœç´¢æ ‘çš„é¢˜ç›®å¾€å¾€å¯ä»¥ç”¨é€’å½’æ¥è§£å†³ï¼Œæœ¬é¢˜ LCéš¾åº¦ï¼šä¸­ç­‰ï¼Œæ ¸å¿ƒæ€æƒ³ï¼šåˆ†ç±»è®¨è®ºåˆ é™¤ä¸åŒä½ç½®å¤„çš„èŠ‚ç‚¹å¦‚ä½•ä¿æŒäºŒå‰æ ‘çš„æ€§è´¨</p></blockquote><p>æ ¸å¿ƒæ€æƒ³ï¼šåˆ†ç±»è®¨è®ºåˆ é™¤ä¸åŒä½ç½®å¤„çš„èŠ‚ç‚¹å¦‚ä½•ä¿æŒäºŒå‰æ ‘çš„æ€§è´¨ï¼Œæ€è·¯å¾ˆç®€å•ï¼Œä¸¤å¼ å›¾å°±èƒ½æ˜ç™½äº†</p><p>åˆ é™¤èŠ‚ç‚¹åï¼Œè‹¥åˆ é™¤èŠ‚ç‚¹çš„å·¦å³å­æ ‘å‡ä¸ä¸ºç©ºï¼Œåˆ™è¦ä¿æŒäºŒå‰æœç´¢æ ‘çš„æ€§è´¨æœ‰ä¸¤ç§ç­”æ¡ˆ</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220607205952.png" alt="æ–¹å¼1"></p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220607202437.png" alt="æ–¹å¼2"></p><p><strong>æ–¹æ³•1ï¼šé€’å½’</strong></p><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">TreeNode* <span class="hljs-title">deleteNode</span><span class="hljs-params">(TreeNode* root, <span class="hljs-type">int</span> key)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">nullptr</span>)  <span class="hljs-keyword">return</span> root;<br>        <span class="hljs-keyword">if</span>(root-&gt;val &gt; key)&#123;<br>            root-&gt;left = <span class="hljs-built_in">deleteNode</span>(root-&gt;left,key);<br>            <span class="hljs-keyword">return</span> root;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(root-&gt;val &lt; key)&#123;<br>            root-&gt;right = <span class="hljs-built_in">deleteNode</span>(root-&gt;right,key);<br>            <span class="hljs-keyword">return</span> root;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(root-&gt;val == key)&#123;<br>            <span class="hljs-keyword">if</span>(root-&gt;left == <span class="hljs-literal">nullptr</span> &amp;&amp; root-&gt;right == <span class="hljs-literal">nullptr</span>)&#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;<br>            &#125;<br>            <span class="hljs-keyword">if</span>(root-&gt;left == <span class="hljs-literal">nullptr</span>)&#123;<br>                <span class="hljs-keyword">return</span> root-&gt;right;<br>            &#125;<br>            <span class="hljs-keyword">if</span>(root-&gt;right == <span class="hljs-literal">nullptr</span>)&#123;<br>                <span class="hljs-keyword">return</span> root-&gt;left;<br>            &#125;<br>            <span class="hljs-keyword">if</span>(root-&gt;left &amp;&amp; root-&gt;right)&#123;<br>                TreeNode* node = root-&gt;right;<br>                <span class="hljs-keyword">while</span>(node-&gt;left)&#123;<br>                    node = node-&gt;left;<br>                &#125;<br>                root-&gt;right = <span class="hljs-built_in">deleteNode</span>(root-&gt;right,node-&gt;val);<br>                node-&gt;left = root-&gt;left;<br>                node-&gt;right = root-&gt;right;<br>                <span class="hljs-keyword">return</span> node;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> root;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p><strong>æ–¹æ³•2ï¼šè¿­ä»£</strong></p><blockquote><p>è¿­ä»£æ³•æˆ‘æ²¡çœ‹æ‡‚åœ¨å¹²ä»€ä¹ˆğŸ˜…</p></blockquote><p>å®˜è§£æ€è·¯ï¼šæ–¹æ³•ä¸€çš„é€’å½’æ·±åº¦æœ€å¤šä¸º nï¼Œè€Œå¤§éƒ¨åˆ†æ˜¯ç”±å¯»æ‰¾å€¼ä¸º key çš„èŠ‚ç‚¹è´¡çŒ®çš„ï¼Œè€Œå¯»æ‰¾èŠ‚ç‚¹è¿™ä¸€éƒ¨åˆ†å¯ä»¥ç”¨è¿­ä»£æ¥ä¼˜åŒ–ã€‚å¯»æ‰¾å¹¶åˆ é™¤ successor æ—¶ï¼Œä¹Ÿå¯ä»¥ç”¨ä¸€ä¸ªå˜é‡ä¿å­˜å®ƒçš„çˆ¶èŠ‚ç‚¹ï¼Œä»è€Œå¯ä»¥èŠ‚çœä¸€æ­¥é€’å½’æ“ä½œã€‚</p><p>å®˜è§£ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">TreeNode* <span class="hljs-title">deleteNode</span><span class="hljs-params">(TreeNode* root, <span class="hljs-type">int</span> key)</span> </span>&#123;<br>        TreeNode *cur = root, *curParent = <span class="hljs-literal">nullptr</span>;<br>        <span class="hljs-keyword">while</span> (cur &amp;&amp; cur-&gt;val != key) &#123;<br>            curParent = cur;<br>            <span class="hljs-keyword">if</span> (cur-&gt;val &gt; key) &#123;<br>                cur = cur-&gt;left;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                cur = cur-&gt;right;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (!cur) &#123;<br>            <span class="hljs-keyword">return</span> root;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (!cur-&gt;left &amp;&amp; !cur-&gt;right) &#123;<br>            cur = <span class="hljs-literal">nullptr</span>;<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!cur-&gt;right) &#123;<br>            cur = cur-&gt;left;<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!cur-&gt;left) &#123;<br>            cur = cur-&gt;right;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            TreeNode *successor = cur-&gt;right, *successorParent = cur;<br>            <span class="hljs-keyword">while</span> (successor-&gt;left) &#123;<br>                successorParent = successor;<br>                successor = successor-&gt;left;<br>            &#125;<br>            <span class="hljs-keyword">if</span> (successorParent-&gt;val == cur-&gt;val) &#123;<br>                successorParent-&gt;right = successor-&gt;right;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                successorParent-&gt;left = successor-&gt;right;<br>            &#125;<br>            successor-&gt;right = cur-&gt;right;<br>            successor-&gt;left = cur-&gt;left;<br>            cur = successor;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (!curParent) &#123;<br>            <span class="hljs-keyword">return</span> cur;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">if</span> (curParent-&gt;left &amp;&amp; curParent-&gt;left-&gt;val == key) &#123;<br>                curParent-&gt;left = cur;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                curParent-&gt;right = cur;<br>            &#125;<br>            <span class="hljs-keyword">return</span> root;<br>        &#125;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="å‰‘æŒ‡OfferII-091-ç²‰åˆ·æˆ¿å­"><a href="#å‰‘æŒ‡OfferII-091-ç²‰åˆ·æˆ¿å­" class="headerlink" title="å‰‘æŒ‡OfferII 091.ç²‰åˆ·æˆ¿å­"></a>å‰‘æŒ‡OfferII 091.ç²‰åˆ·æˆ¿å­</h2><h3 id="é¢˜ç›®å¤§æ„-2"><a href="#é¢˜ç›®å¤§æ„-2" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>å‡å¦‚æœ‰ä¸€æ’æˆ¿å­ï¼Œå…± n ä¸ªï¼Œæ¯ä¸ªæˆ¿å­å¯ä»¥è¢«ç²‰åˆ·æˆçº¢è‰²ã€è“è‰²æˆ–è€…ç»¿è‰²è¿™ä¸‰ç§é¢œè‰²ä¸­çš„ä¸€ç§ï¼Œä½ éœ€è¦ç²‰åˆ·æ‰€æœ‰çš„æˆ¿å­å¹¶ä¸”ä½¿å…¶ç›¸é‚»çš„ä¸¤ä¸ªæˆ¿å­é¢œè‰²ä¸èƒ½ç›¸åŒã€‚</p><p>å½“ç„¶ï¼Œå› ä¸ºå¸‚åœºä¸Šä¸åŒé¢œè‰²æ²¹æ¼†çš„ä»·æ ¼ä¸åŒï¼Œæ‰€ä»¥æˆ¿å­ç²‰åˆ·æˆä¸åŒé¢œè‰²çš„èŠ±è´¹æˆæœ¬ä¹Ÿæ˜¯ä¸åŒçš„ã€‚æ¯ä¸ªæˆ¿å­ç²‰åˆ·æˆä¸åŒé¢œè‰²çš„èŠ±è´¹æ˜¯ä»¥ä¸€ä¸ª n x 3 çš„æ­£æ•´æ•°çŸ©é˜µ costs æ¥è¡¨ç¤ºçš„ã€‚</p><p>ä¾‹å¦‚ï¼Œcosts[0][0] è¡¨ç¤ºç¬¬ 0 å·æˆ¿å­ç²‰åˆ·æˆçº¢è‰²çš„æˆæœ¬èŠ±è´¹ï¼›costs[1][2] è¡¨ç¤ºç¬¬ 1 å·æˆ¿å­ç²‰åˆ·æˆç»¿è‰²çš„èŠ±è´¹ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p><p>è¯·è®¡ç®—å‡ºç²‰åˆ·å®Œæ‰€æœ‰æˆ¿å­æœ€å°‘çš„èŠ±è´¹æˆæœ¬ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><blockquote><p>è¾“å…¥: costs = [[17,2,17],[16,16,5],[14,3,19]]<br>è¾“å‡º: 10<br>è§£é‡Š: å°† 0 å·æˆ¿å­ç²‰åˆ·æˆè“è‰²ï¼Œ1 å·æˆ¿å­ç²‰åˆ·æˆç»¿è‰²ï¼Œ2 å·æˆ¿å­ç²‰åˆ·æˆè“è‰²ã€‚<br>  æœ€å°‘èŠ±è´¹: 2 + 5 + 3 = 10ã€‚</p></blockquote><h3 id="é¢˜è§£-2"><a href="#é¢˜è§£-2" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>å¾ˆç»å…¸çš„ä¸€é“åŠ¨æ€è§„åˆ’é¢˜ç›®</p><p><strong>æ–¹æ³•1ï¼šåŠ¨æ€è§„åˆ’</strong></p><p>æ¯ä¸ªæˆ¿å­å¯ä»¥è¢«ç²‰åˆ·æˆä¸‰ç§é¢œè‰²ä¸­çš„ä¸€ç§ï¼Œéœ€è¦è®¡ç®—åœ¨æ»¡è¶³ç›¸é‚»æˆ¿å­çš„é¢œè‰²ä¸åŒçš„æƒ…å†µä¸‹ç²‰åˆ·æ‰€æœ‰æˆ¿å­çš„æœ€å°èŠ±è´¹æˆæœ¬ã€‚ç”±äºå½“å·²çŸ¥ç²‰åˆ·å‰ i ä¸ªæˆ¿å­çš„æœ€å°èŠ±è´¹æˆæœ¬æ—¶ï¼Œæ ¹æ®ç²‰åˆ·ç¬¬ i + 1 å·æˆ¿å­çš„èŠ±è´¹æˆæœ¬å¯ä»¥è®¡ç®—ç²‰åˆ·å‰ i+1 ä¸ªæˆ¿å­çš„æœ€å°èŠ±è´¹æˆæœ¬ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åˆ’è®¡ç®—æœ€å°èŠ±è´¹æˆæœ¬ã€‚</p><p>ç”±äºæ¯ä¸ªæˆ¿å­å¯ä»¥è¢«ç²‰åˆ·æˆä¸‰ç§é¢œè‰²ä¸­çš„ä¸€ç§ï¼Œå› æ­¤éœ€è¦åˆ†åˆ«è€ƒè™‘ç²‰åˆ·æˆä¸‰ç§é¢œè‰²æ—¶çš„æœ€å°èŠ±è´¹æˆæœ¬ã€‚</p><p>ç”¨ dp[i][j] è¡¨ç¤ºç²‰åˆ·ç¬¬ 0 å·æˆ¿å­åˆ°ç¬¬ i å·æˆ¿å­ä¸”ç¬¬ i å·æˆ¿å­è¢«ç²‰åˆ·æˆç¬¬ j ç§é¢œè‰²æ—¶çš„æœ€å°èŠ±è´¹æˆæœ¬ã€‚ç”±äºä¸€å…±æœ‰ n ä¸ªæˆ¿å­å’Œ 3 ç§é¢œè‰²ï¼Œå› æ­¤ 0â‰¤i&lt;nï¼Œ0â‰¤j&lt;3ã€‚</p><p><strong>è¾¹ç•Œæ¡ä»¶æ˜¯ï¼šå¯¹äºä»»æ„ 0â‰¤j&lt;3ï¼Œdp[0][j]=costs[0][j]ã€‚</strong></p><p><strong>çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š</strong></p><p>dp[i][0] = min(dp[i-1][1],dp[i-1][2]) + costs[i][0]</p><p>dp[i][1] = min(dp[i-1][0],dp[i-1][2]) + costs[i][1]</p><p>dp[i][2] = min(dp[i-1][0],dp[i-1][1]) + costs[i][2]</p><p><strong>åˆå¹¶åçš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š</strong></p><p>dp[i][j] = min(dp[i-1][(j+1)%3],dp[i-1][(j+2)%3]) + costs[i][j];</p><p>dp[nâˆ’1] ä¸­çš„æœ€å°å€¼å³ä¸ºç²‰åˆ·æ‰€æœ‰æˆ¿å­çš„æœ€å°èŠ±è´¹æˆæœ¬ã€‚</p><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">minCost</span><span class="hljs-params">(vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;&amp; costs)</span> </span>&#123;<br>        <span class="hljs-type">int</span> n = costs.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-type">int</span> dp[n][<span class="hljs-number">3</span>];<br>        dp[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = costs[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>];<br>        dp[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>] = costs[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>];<br>        dp[<span class="hljs-number">0</span>][<span class="hljs-number">2</span>] = costs[<span class="hljs-number">0</span>][<span class="hljs-number">2</span>];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>; i&lt;n; i++)&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">0</span>; j&lt;<span class="hljs-number">3</span>; j++)&#123;<br>                dp[i][j] = <span class="hljs-built_in">min</span>(dp[i<span class="hljs-number">-1</span>][(j+<span class="hljs-number">1</span>)%<span class="hljs-number">3</span>],dp[i<span class="hljs-number">-1</span>][(j+<span class="hljs-number">2</span>)%<span class="hljs-number">3</span>]) + costs[i][j];<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">min</span>(<span class="hljs-built_in">min</span>(dp[n<span class="hljs-number">-1</span>][<span class="hljs-number">0</span>],dp[n<span class="hljs-number">-1</span>][<span class="hljs-number">1</span>]),dp[n<span class="hljs-number">-1</span>][<span class="hljs-number">2</span>]);<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŠ¨æ€è§„åˆ’</tag>
      
      <tag>äºŒå‰æ ‘</tag>
      
      <tag>äºŒå‰æœç´¢æ ‘</tag>
      
      <tag>å›æº¯</tag>
      
      <tag>å‰‘æŒ‡OfferII</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>10åˆ†é’Ÿå½»åº•ææ‡‚åŠ¨æ€è§„åˆ’ç®—æ³•</title>
    <link href="/2022/05/26/10%E5%88%86%E9%92%9F%E5%BD%BB%E5%BA%95%E6%90%9E%E6%87%82%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%AE%97%E6%B3%95/"/>
    <url>/2022/05/26/10%E5%88%86%E9%92%9F%E5%BD%BB%E5%BA%95%E6%90%9E%E6%87%82%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%AE%97%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h3 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h3><blockquote><p>ä»Šå¤©æ— æ„ä¸­åœ¨Bilibiliä¸Šçœ‹åˆ°äº†ä¸€ä¸ªupä¸»è®²åŠ¨æ€è§„åˆ’ç®—æ³•çš„è§†é¢‘ï¼ŒåŠ¨æ€è§„åˆ’çš„ç®—æ³•çš„é¢˜ä¸€èˆ¬éƒ½æ¯”è¾ƒéš¾ç†è§£åšçš„ä¹Ÿæ¯”è¾ƒå°‘ï¼Œæ‰€ä»¥å°±çœ‹äº†ä¸€ä¸‹è¿™ä¸ªè§†é¢‘ï¼Œçœ‹å®Œä¹‹åè®²çš„ä¹Ÿå¤ªå¦™äº†å§ï¼æ·±å…¥æµ…å‡ºäº†å±äºæ˜¯ï¼Œè®©æˆ‘æ›´å¥½çš„ç†è§£äº†åŠ¨æ€è§„åˆ’ç®—æ³•ï¼Œæˆ‘ç›´æ¥æŠ•å¸+ä¸‰è¿å¥½å§ğŸ˜‚ã€‚è§†é¢‘ä¸­ä¸¾äº†ä¸€ä¸ªæ¯”è¾ƒç»å…¸çš„åŠ¨æ€è§„åˆ’é—®é¢˜ï¼Œæœ€é•¿å­åºåˆ—é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯LCä¸Šçš„ç¬¬300é¢˜ï¼š<a href="https://leetcode.cn/problems/longest-increasing-subsequence/">æœ€é•¿é€’å¢å­åºåˆ—</a>ï¼ŒLCéš¾åº¦ä¸ºä¸­ç­‰ï¼Œå­¦åˆ°äº†å¾ˆå¤šä¸œè¥¿è®°å½•ä¸€ä¸‹é¢˜è§£å§ã€‚</p></blockquote><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220526165818.png" alt="QQæˆªå›¾20220526165818"></p><p>é™„ä¸Šé“¾æ¥ï¼š<a href="https://www.bilibili.com/video/BV1AB4y1w7eT/?spm_id_from=333.788.recommend_more_video.1">https://www.bilibili.com/video/BV1AB4y1w7eT/?spm_id_from=333.788.recommend_more_video.1</a></p><h2 id="LeetCode-300ï¼šæœ€é•¿é€’å¢å­åºåˆ—"><a href="#LeetCode-300ï¼šæœ€é•¿é€’å¢å­åºåˆ—" class="headerlink" title="LeetCode 300ï¼šæœ€é•¿é€’å¢å­åºåˆ—"></a>LeetCode 300ï¼šæœ€é•¿é€’å¢å­åºåˆ—</h2><h3 id="Note-1"><a href="#Note-1" class="headerlink" title="Note"></a>Note</h3><p>åŠ¨æ€è§„åˆ’æ­£æ˜¯é€šè¿‡é¿å…äº†é‡å¤èŠ‚ç‚¹çš„è®¡ç®—ï¼Œæ¥åŠ é€Ÿæ•´ä¸ªè®¡ç®—çš„è¿‡ç¨‹</p><h3 id="é¢˜ç›®å¤§æ„"><a href="#é¢˜ç›®å¤§æ„" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œæ‰¾åˆ°å…¶ä¸­æœ€é•¿ä¸¥æ ¼é€’å¢å­åºåˆ—çš„é•¿åº¦ã€‚</p><p>å­åºåˆ— æ˜¯ç”±æ•°ç»„æ´¾ç”Ÿè€Œæ¥çš„åºåˆ—ï¼Œåˆ é™¤ï¼ˆæˆ–ä¸åˆ é™¤ï¼‰æ•°ç»„ä¸­çš„å…ƒç´ è€Œä¸æ”¹å˜å…¶ä½™å…ƒç´ çš„é¡ºåºã€‚ä¾‹å¦‚ï¼Œ[3,6,2,7] æ˜¯æ•°ç»„ [0,3,1,6,2,2,7] çš„å­åºåˆ—ã€‚</p><h3 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p><strong>æ–¹æ³•1ï¼šç©·ä¸¾æ³•/æš´åŠ›æœç´¢</strong></p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220526193003.png" alt="QQæˆªå›¾20220526193003"></p><p>è¿™ä¸ªç®—æ³•è™½ç„¶å¯ä»¥ç®—å‡ºç­”æ¡ˆï¼Œä½†æ˜¯æœ€å¤§çš„é—®é¢˜åœ¨äºæ—¶é—´å¤æ‚åº¦ï¼ŒæŒ‡æ•°çº§åˆ«çš„ç®—æ³•ï¼Œæœ€æ…¢çš„ç®—æ³•ä¹‹ä¸€ã€‚ä¹‹æ‰€ä»¥æ—¶é—´å¤æ‚åº¦é«˜ä»£ç è¶…æ—¶æ˜¯å› ä¸ºåœ¨é€’å½’çš„æ—¶å€™å­˜åœ¨å¤§é‡é‡å¤è®¡ç®—ï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦ç‰¹åˆ«é«˜ã€‚</p><p>è¶…æ—¶ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">L</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt; nums,<span class="hljs-type">int</span> i)</span>  <span class="hljs-comment">//å®šä¹‰Lå‡½æ•°ï¼Œè¡¨ç¤ºä»numsçš„ç¬¬iä¸ªæ•°å¼€å§‹éå†çš„æœ€é•¿é€’å¢å­åºåˆ—</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">if</span>(i == nums.<span class="hljs-built_in">size</span>()<span class="hljs-number">-1</span>)  <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>        <span class="hljs-type">int</span> maxlen = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=i+<span class="hljs-number">1</span>; j&lt;nums.<span class="hljs-built_in">size</span>(); j++)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(nums[j] &gt; nums[i])<br>            &#123;<br>                maxlen = <span class="hljs-built_in">max</span>(maxlen,<span class="hljs-built_in">L</span>(nums,j)+<span class="hljs-number">1</span>);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> maxlen;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">lengthOfLIS</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums)</span> </span>&#123;<br>        <span class="hljs-type">int</span> ans = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;nums.<span class="hljs-built_in">size</span>(); i++)<br>        &#123;<br>            ans = <span class="hljs-built_in">max</span>(ans,<span class="hljs-built_in">L</span>(nums,i));<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p><strong>æ–¹æ³•2ï¼šè®°å¿†åŒ–æœç´¢/å‰ªæ</strong></p><p>ä¸ºäº†é¿å…é‡å¤è®¡ç®—ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç¬¬ä¸€æ¬¡è®¡ç®—çš„æ—¶å€™å°†ç»“æœä¿å­˜ä¸‹æ¥ï¼Œä¹‹åéå†åˆ°ç›¸åŒçš„èŠ‚ç‚¹å°±ä¸å†éœ€è¦é‡å¤è®¡ç®—äº†ï¼Œç›´æ¥å°†ä¹‹å‰çš„ç»“æœè¿”å›ã€‚</p><p>å¯¹æš´åŠ›æ±‚è§£çš„ä»£ç è¿›è¡Œæ”¹è¿›ï¼Œç”¨å“ˆå¸Œè¡¨ä¿å­˜è®¡ç®—è¿‡çš„èŠ‚ç‚¹ï¼Œä½†æ˜¯æˆ‘ä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆæ”¹è¿›ä¹‹åä»£ç è¿˜æ˜¯è¶…æ—¶ğŸ¤£</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    unordered_map&lt;<span class="hljs-type">int</span>,<span class="hljs-type">int</span>&gt; mp;<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">L</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt; nums,<span class="hljs-type">int</span> i)</span>  <span class="hljs-comment">//å®šä¹‰Lå‡½æ•°ï¼Œè¡¨ç¤ºä»numsçš„ç¬¬iä¸ªæ•°å¼€å§‹éå†çš„æœ€é•¿é€’å¢å­åºåˆ—</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">if</span>(mp.<span class="hljs-built_in">count</span>(i))<br>        &#123;<br>            <span class="hljs-keyword">return</span> mp[i];<br>        &#125;<br>        <span class="hljs-keyword">if</span>(i == nums.<span class="hljs-built_in">size</span>()<span class="hljs-number">-1</span>)  <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>        <span class="hljs-type">int</span> maxlen = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=i+<span class="hljs-number">1</span>; j&lt;nums.<span class="hljs-built_in">size</span>(); j++)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(nums[j] &gt; nums[i])<br>            &#123;<br>                maxlen = <span class="hljs-built_in">max</span>(maxlen,<span class="hljs-built_in">L</span>(nums,j)+<span class="hljs-number">1</span>);<br>            &#125;<br>        &#125;<br>        mp[i] = maxlen;<br>        <span class="hljs-keyword">return</span> maxlen;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">lengthOfLIS</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums)</span> </span>&#123;<br>        <span class="hljs-type">int</span> ans = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;nums.<span class="hljs-built_in">size</span>(); i++)<br>        &#123;<br>            ans = <span class="hljs-built_in">max</span>(ans,<span class="hljs-built_in">L</span>(nums,i));<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>åŠ¨æ€è§„åˆ’æ­£æ˜¯é€šè¿‡é¿å…äº†é‡å¤èŠ‚ç‚¹çš„è®¡ç®—ï¼Œæ¥åŠ é€Ÿæ•´ä¸ªè®¡ç®—çš„è¿‡ç¨‹ï¼Œç”±äºç”¨åˆ°äº†å­—å…¸/å“ˆå¸Œè¡¨ä¿å­˜äº†è®¡ç®—çš„ä¸­é—´ç»“æœï¼Œå› æ­¤æˆ‘ä»¬ä¹Ÿç§°ä¹‹ä¸ºè®°å¿†åŒ–æœç´¢ï¼Œå› æ­¤åŠ¨æ€è§„åˆ’æ˜¯ç©ºé—´æ¢æ—¶é—´çš„ä¸€ç§ç®—æ³•ï¼ŒåŠ¨æ€è§„åˆ’ä¹Ÿå¯ä»¥å«å¸¦å¤‡å¿˜å½•çš„é€’å½’æˆ–è€…é€’å½’æ ‘çš„å‰ªæã€‚</p><p><strong>LCå®˜æ–¹é¢˜è§£çš„é€’å½’ç®—æ³•</strong></p><p>å¾…ç»­â€¦â€¦</p><p><strong>æ–¹æ³•3ï¼šæ”¹å†™æˆè¿­ä»£å½¢å¼</strong></p><p>æœ‰äº†é€’å½’çš„ç®—æ³•è¿˜å¯ä»¥å°†å…¶æ”¹å†™æˆéé€’å½’çš„ç®—æ³•æˆ–è€…è¿­ä»£ï¼Œæ”¹å†™æˆè¿­ä»£å¯ä»¥æ›´åŠ ç›´è§‚çš„åˆ†æç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å¹¶ä¸”é¿å…äº†é€’å½’æ—¶çš„å‡½æ•°è°ƒç”¨å¼€é”€ã€‚</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220526202358.png" alt="QQæˆªå›¾20220526202358"></p><p>ä»å…¬å¼ä¸­å¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬åªè¦ä»åå¾€å‰ä¾æ¬¡è®¡ç®—å°±å¯ä»¥æŠŠç­”æ¡ˆæ¨ç®—å‡ºæ¥ï¼Œè¿­ä»£çš„æ–¹æ³•å¾ˆåƒæ•°å­¦å½’çº³æ³•ï¼Œæ ¹æ®åˆ—å‡ºçš„å¼å­å®ç°è¿­ä»£ç®—æ³•ã€‚</p><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">lengthOfLIS</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums)</span> </span>&#123;<br>        <span class="hljs-type">int</span> n = nums.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">ans</span><span class="hljs-params">(n,<span class="hljs-number">1</span>)</span></span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=n<span class="hljs-number">-1</span>; i&gt;=<span class="hljs-number">0</span>; i--)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=i+<span class="hljs-number">1</span>; j&lt;n; j++)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(nums[j] &gt; nums[i])<br>                &#123;<br>                    ans[i] = <span class="hljs-built_in">max</span>(ans[i],ans[j]+<span class="hljs-number">1</span>);<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-type">int</span> max_ans = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;ans.<span class="hljs-built_in">size</span>(); i++)<br>        &#123;<br>            max_ans = <span class="hljs-built_in">max</span>(max_ans,ans[i]);<br>        &#125;<br>        <span class="hljs-keyword">return</span> max_ans;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŠ¨æ€è§„åˆ’</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é“¾è¡¨å½’çº³æ€»ç»“</title>
    <link href="/2022/05/22/%E9%93%BE%E8%A1%A8%E5%BD%92%E7%BA%B3%E6%80%BB%E7%BB%93/"/>
    <url>/2022/05/22/%E9%93%BE%E8%A1%A8%E5%BD%92%E7%BA%B3%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<h2 id="é“¾è¡¨"><a href="#é“¾è¡¨" class="headerlink" title="é“¾è¡¨"></a>é“¾è¡¨</h2><h3 id="é“¾è¡¨-1"><a href="#é“¾è¡¨-1" class="headerlink" title="é“¾è¡¨"></a>é“¾è¡¨</h3><p> é“¾è¡¨æ˜¯ä¸€ç§ç‰©ç†å­˜å‚¨ç»“æ„ä¸Šéè¿ç»­ã€éé¡ºåºçš„å­˜å‚¨ç»“æ„ï¼Œæ•°æ®å…ƒç´ çš„é€»è¾‘é¡ºåºæ˜¯é€šè¿‡é“¾è¡¨ä¸­çš„æŒ‡é’ˆé“¾æ¥æ¬¡åºå®ç°çš„ã€‚</p><p><img src="https://img.yiqiangshiyia.cn/blog/1774269-20191111002101989-1257105196.jpg" alt="img"></p><h3 id="é“¾è¡¨çš„ä¼˜ç¼ºç‚¹"><a href="#é“¾è¡¨çš„ä¼˜ç¼ºç‚¹" class="headerlink" title="é“¾è¡¨çš„ä¼˜ç¼ºç‚¹"></a>é“¾è¡¨çš„ä¼˜ç¼ºç‚¹</h3><p>ä½¿ç”¨é“¾è¡¨ç»“æ„å¯ä»¥å…‹æœæ•°ç»„é“¾è¡¨éœ€è¦é¢„å…ˆçŸ¥é“æ•°æ®å¤§å°çš„ç¼ºç‚¹ï¼Œé“¾è¡¨ç»“æ„å¯ä»¥å……åˆ†åˆ©ç”¨è®¡ç®—æœºå†…å­˜ç©ºé—´ï¼Œå®ç°çµæ´»çš„å†…å­˜åŠ¨æ€ç®¡ç†ã€‚ä½†æ˜¯é“¾è¡¨å¤±å»äº†æ•°ç»„éšæœºè¯»å–çš„ä¼˜ç‚¹ï¼ŒåŒæ—¶é“¾è¡¨ç”±äºå¢åŠ äº†ç»“ç‚¹çš„æŒ‡é’ˆåŸŸï¼Œç©ºé—´å¼€é”€æ¯”è¾ƒå¤§ã€‚</p><p>é“¾è¡¨æ˜¯ä¸€ç§æ’å…¥å’Œåˆ é™¤éƒ½æ¯”è¾ƒå¿«çš„æ•°æ®ç»“æ„ï¼Œç¼ºç‚¹æ˜¯æŸ¥æ‰¾æ¯”è¾ƒæ…¢ã€‚é™¤ééœ€è¦é¢‘ç¹çš„é€šè¿‡ä¸‹æ ‡æ¥éšæœºè®¿é—®æ•°æ®ï¼Œå¦åˆ™åœ¨å¾ˆå¤šä½¿ç”¨æ•°ç»„çš„åœ°æ–¹éƒ½å¯ä»¥ç”¨é“¾è¡¨ä»£æ›¿ã€‚</p><h2 id="LC-206-åè½¬é“¾è¡¨"><a href="#LC-206-åè½¬é“¾è¡¨" class="headerlink" title="LC 206.åè½¬é“¾è¡¨"></a>LC 206.åè½¬é“¾è¡¨</h2><h3 id="é¢˜ç›®å¤§æ„"><a href="#é¢˜ç›®å¤§æ„" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>ç»™ä½ å•é“¾è¡¨çš„å¤´èŠ‚ç‚¹ head ï¼Œè¯·ä½ åè½¬é“¾è¡¨ï¼Œå¹¶è¿”å›åè½¬åçš„é“¾è¡¨ã€‚ Â </p><h3 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">Solution</span>Â &#123;<br><span class="hljs-keyword">public</span>:<br>Â Â Â Â <span class="hljs-function">ListNode*Â <span class="hljs-title">reverseList</span><span class="hljs-params">(ListNode*Â head)</span>Â </span>&#123;<br>Â Â Â Â Â Â Â Â ListNode*Â preÂ =Â <span class="hljs-literal">nullptr</span>;Â Â <span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªå½“å‰èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹Â åˆå§‹åŒ–ä¸ºç©º</span><br>Â Â Â Â Â Â Â Â ListNode*Â curÂ =Â head;Â Â <span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªå½“å‰èŠ‚ç‚¹Â åˆå§‹åŒ–ä¸ºå¤´ç»“ç‚¹</span><br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">while</span>(curÂ !=Â <span class="hljs-literal">nullptr</span>)Â Â <span class="hljs-comment">//å½“å‰èŠ‚ç‚¹ä¸ä¸ºç©º</span><br>Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â ListNode*Â tmpÂ =Â cur-&gt;next;Â Â <span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªtmpç»“ç‚¹Â ç”¨äºä¿å­˜å½“å‰èŠ‚ç‚¹çš„ååºèŠ‚ç‚¹</span><br>Â Â Â Â Â Â Â Â Â Â Â Â cur-&gt;nextÂ =Â pre;Â Â <span class="hljs-comment">//åè½¬é“¾è¡¨Â è®©curèŠ‚ç‚¹æŒ‡å‘preèŠ‚ç‚¹</span><br>Â Â Â Â Â Â Â Â Â Â Â Â preÂ =Â cur;Â Â <span class="hljs-comment">//å‰åºèŠ‚ç‚¹åç§»ä¸€ä½</span><br>Â Â Â Â Â Â Â Â Â Â Â Â curÂ =Â tmp;Â Â <span class="hljs-comment">//å½“å‰èŠ‚ç‚¹åç§»ä¸€ä½</span><br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â pre;Â Â <span class="hljs-comment">//è¿”å›æ–°é“¾è¡¨æŒ‡å‘çš„å¤´ç»“ç‚¹</span><br>Â Â Â Â &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>Bç«™åè½¬é“¾è¡¨è®²è§£ï¼š<a href="https://www.bilibili.com/video/BV1KZ4y157Up/?spm_id_from=333.788">https://www.bilibili.com/video/BV1KZ4y157Up/?spm_id_from=333.788</a></p><p>Â </p><h2 id="LC-21-åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨"><a href="#LC-21-åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨" class="headerlink" title="LC 21.åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨"></a>LC 21.åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨</h2><h3 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h3><p>åªä¼šè¿­ä»£æ³• é€’å½’æ³•æœ‰ç‚¹å¤æ‚ Â </p><h3 id="é¢˜ç›®å¤§æ„-1"><a href="#é¢˜ç›®å¤§æ„-1" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>å°†ä¸¤ä¸ªå‡åºé“¾è¡¨åˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„å‡åºé“¾è¡¨å¹¶è¿”å›ã€‚æ–°é“¾è¡¨æ˜¯é€šè¿‡æ‹¼æ¥ç»™å®šçš„ä¸¤ä¸ªé“¾è¡¨çš„æ‰€æœ‰èŠ‚ç‚¹ç»„æˆçš„ã€‚ Â </p><h3 id="é¢˜è§£-1"><a href="#é¢˜è§£-1" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">Solution</span>Â &#123;<br><span class="hljs-keyword">public</span>:<br>Â Â Â Â <span class="hljs-function">ListNode*Â <span class="hljs-title">mergeTwoLists</span><span class="hljs-params">(ListNode*Â l1,Â ListNode*Â l2)</span>Â </span>&#123;<br>Â Â Â Â Â Â Â Â ListNode* preHead = <span class="hljs-keyword">new</span> <span class="hljs-built_in">ListNode</span>(<span class="hljs-number">-1</span>);Â  <span class="hljs-comment">//å®šä¹‰å“¨å…µèŠ‚ç‚¹preHead</span><br>Â Â Â Â Â Â Â Â ListNode*Â prevÂ =Â preHead;<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">while</span>Â (l1Â !=Â <span class="hljs-literal">nullptr</span>Â &amp;&amp;Â l2Â !=Â <span class="hljs-literal">nullptr</span>)Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (l1-&gt;valÂ &lt;Â l2-&gt;val)Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â prev-&gt;nextÂ =Â l1;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â l1Â =Â l1-&gt;next;<br>Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â <span class="hljs-keyword">else</span>Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â prev-&gt;nextÂ =Â l2;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â l2Â =Â l2-&gt;next;<br>Â Â Â Â Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â Â Â Â Â prevÂ =Â prev-&gt;next;<br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â åˆå¹¶åÂ l1Â å’ŒÂ l2Â æœ€å¤šåªæœ‰ä¸€ä¸ªè¿˜æœªè¢«åˆå¹¶å®Œï¼Œæˆ‘ä»¬ç›´æ¥å°†é“¾è¡¨æœ«å°¾æŒ‡å‘æœªåˆå¹¶å®Œçš„é“¾è¡¨å³å¯</span><br>Â Â Â Â Â Â Â Â prev-&gt;nextÂ =Â l1Â ==Â <span class="hljs-literal">nullptr</span>Â ?Â l2Â :Â l1;<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â preHead-&gt;next;<br>Â Â Â Â &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>LeetCodeé¢˜è§£åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨åŠ¨ç”»æ¼”ç¤ºéå¸¸niceï¼ </p><p>LeetCodeé¢˜è§£ï¼š<a href="https://leetcode-cn.com/problems/merge-two-sorted-lists/solution/he-bing-liang-ge-you-xu-lian-biao-by-leetcode-solu/">https://leetcode-cn.com/problems/merge-two-sorted-lists/solution/he-bing-liang-ge-you-xu-lian-biao-by-leetcode-solu/</a> Â </p><h2 id="LC-203-ç§»é™¤é“¾è¡¨å…ƒç´ "><a href="#LC-203-ç§»é™¤é“¾è¡¨å…ƒç´ " class="headerlink" title="LC 203.ç§»é™¤é“¾è¡¨å…ƒç´ "></a>LC 203.ç§»é™¤é“¾è¡¨å…ƒç´ </h2><h3 id="é¢˜ç›®å¤§æ„-2"><a href="#é¢˜ç›®å¤§æ„-2" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>ç»™ä½ ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ head å’Œä¸€ä¸ªæ•´æ•° val ï¼Œè¯·ä½ åˆ é™¤é“¾è¡¨ä¸­æ‰€æœ‰æ»¡è¶³ Node.val == val Â çš„èŠ‚ç‚¹,å¹¶è¿”å›æ–°çš„å¤´ç»“ç‚¹ã€‚ Â </p><h3 id="é¢˜è§£-2"><a href="#é¢˜è§£-2" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p><strong>æ–¹æ³•1ï¼šè¿­ä»£æ³•</strong> </p><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">Solution</span>Â &#123;<br><span class="hljs-keyword">public</span>:<br>Â Â Â Â <span class="hljs-function">ListNode*Â <span class="hljs-title">removeElements</span><span class="hljs-params">(ListNode*Â head,Â <span class="hljs-type">int</span>Â val)</span>Â </span>&#123;<br>Â  Â  Â  Â  <span class="hljs-comment">//ç”±äºé“¾è¡¨å¤´ç»“ç‚¹Headå¯èƒ½éœ€è¦è¢«åˆ é™¤ åˆ›å»ºå“‘ç»“ç‚¹preHead ä»¤pre-&gt;next = head</span><br>Â  Â  Â  Â  ListNode* preHead = <span class="hljs-keyword">new</span> <span class="hljs-built_in">ListNode</span>(<span class="hljs-number">0</span>,head);<br>Â Â Â Â Â Â Â Â ListNode* tmp = preHead;Â  <span class="hljs-comment">//å®šä¹‰å½“å‰èŠ‚ç‚¹ åˆå§‹åŒ–ä¸ºpreHead</span><br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">while</span>(tmp-&gt;nextÂ !=Â <span class="hljs-literal">nullptr</span>)<br>Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>(tmp-&gt;next-&gt;valÂ ==Â val)<br>Â Â Â Â Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â tmp-&gt;nextÂ =Â tmp-&gt;next-&gt;next;<br>Â Â Â Â Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">else</span><br>Â Â Â Â Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â tmpÂ =Â tmp-&gt;next;<br>Â Â Â Â Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span> preHead-&gt;next;Â  <span class="hljs-comment">//è¿”å›åˆ é™¤æ“ä½œåçš„å¤´ç»“ç‚¹</span><br>Â Â Â Â &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="LC-82-åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´ -II"><a href="#LC-82-åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´ -II" class="headerlink" title="LC 82.åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´  II"></a>LC 82.åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´  II</h2><h3 id="Note-1"><a href="#Note-1" class="headerlink" title="Note"></a>Note</h3><p>ç»å…¸é¢è¯•é¢˜ï¼ŒåŠ›æ‰£éš¾åº¦ï¼šä¸­ç­‰</p><h3 id="é¢˜ç›®å¤§æ„-3"><a href="#é¢˜ç›®å¤§æ„-3" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>ç»™å®šä¸€ä¸ªå·²æ’åºçš„é“¾è¡¨çš„å¤´ head ï¼Œ åˆ é™¤åŸå§‹é“¾è¡¨ä¸­æ‰€æœ‰é‡å¤æ•°å­—çš„èŠ‚ç‚¹ï¼Œåªç•™ä¸‹ä¸åŒçš„æ•°å­— ã€‚è¿”å› å·²æ’åºçš„é“¾è¡¨ ã€‚</p><h3 id="é¢˜è§£-3"><a href="#é¢˜è§£-3" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">ListNode* <span class="hljs-title">deleteDuplicates</span><span class="hljs-params">(ListNode* head)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(head == <span class="hljs-literal">nullptr</span>)  <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;<br>        ListNode* dummy = <span class="hljs-keyword">new</span> <span class="hljs-built_in">ListNode</span>(<span class="hljs-number">0</span>,head);  <span class="hljs-comment">//å®šä¹‰å“‘ç»“ç‚¹ï¼Œå› ä¸ºå¤´ç»“ç‚¹å¯èƒ½ä¼šè¢«åˆ é™¤</span><br>        ListNode* cur = dummy;<br>        <span class="hljs-keyword">while</span>(cur-&gt;next &amp;&amp; cur-&gt;next-&gt;next)&#123;<br>            <span class="hljs-keyword">if</span>(cur-&gt;next-&gt;val == cur-&gt;next-&gt;next-&gt;val)&#123;<br>                <span class="hljs-type">int</span> x = cur-&gt;next-&gt;val;<br>                <span class="hljs-keyword">while</span>(cur-&gt;next &amp;&amp; cur-&gt;next-&gt;val == x)&#123;<br>                    cur-&gt;next = cur-&gt;next-&gt;next;<br>                &#125;<br>            &#125;<span class="hljs-keyword">else</span>&#123;<br>                cur = cur-&gt;next;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> dummy-&gt;next;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="LC-2-ä¸¤æ•°ç›¸åŠ "><a href="#LC-2-ä¸¤æ•°ç›¸åŠ " class="headerlink" title="LC 2.ä¸¤æ•°ç›¸åŠ "></a>LC 2.ä¸¤æ•°ç›¸åŠ </h2><h3 id="é¢˜ç›®å¤§æ„-4"><a href="#é¢˜ç›®å¤§æ„-4" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>ç»™ä½ ä¸¤ä¸ª éç©º çš„é“¾è¡¨ï¼Œè¡¨ç¤ºä¸¤ä¸ªéè´Ÿçš„æ•´æ•°ã€‚å®ƒä»¬æ¯ä½æ•°å­—éƒ½æ˜¯æŒ‰ç…§ é€†åº çš„æ–¹å¼å­˜å‚¨çš„ï¼Œå¹¶ä¸”æ¯ä¸ªèŠ‚ç‚¹åªèƒ½å­˜å‚¨ ä¸€ä½ æ•°å­—ã€‚</p><p>è¯·ä½ å°†ä¸¤ä¸ªæ•°ç›¸åŠ ï¼Œå¹¶ä»¥ç›¸åŒå½¢å¼è¿”å›ä¸€ä¸ªè¡¨ç¤ºå’Œçš„é“¾è¡¨ã€‚</p><p>ä½ å¯ä»¥å‡è®¾é™¤äº†æ•°å­— 0 ä¹‹å¤–ï¼Œè¿™ä¸¤ä¸ªæ•°éƒ½ä¸ä¼šä»¥ 0 å¼€å¤´ã€‚</p><p><img src="https://img.yiqiangshiyia.cn/blog/addtwonumber1.jpg" alt="img"></p><blockquote><p>è¾“å…¥ï¼šl1 = [2,4,3], l2 = [5,6,4]<br>è¾“å‡ºï¼š[7,0,8]<br>è§£é‡Šï¼š342 + 465 = 807.</p></blockquote><h3 id="é¢˜è§£-4"><a href="#é¢˜è§£-4" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>åŠ›æ‰£éš¾åº¦ï¼šä¸­ç­‰ é¢˜ç›®å¤§è‡´æ€è·¯ï¼šæ¨¡æ‹Ÿé“¾è¡¨ æ³¨æ„è¿›ä½å³å¯</p><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">ListNode* <span class="hljs-title">addTwoNumbers</span><span class="hljs-params">(ListNode* l1, ListNode* l2)</span> </span>&#123;<br>        ListNode* head = <span class="hljs-keyword">new</span> <span class="hljs-built_in">ListNode</span>(<span class="hljs-number">-1</span>);  <span class="hljs-comment">//å®šä¹‰é“¾è¡¨å¤´ç»“ç‚¹</span><br>        ListNode* cur = head;  <span class="hljs-comment">//å®šä¹‰èŠ‚ç‚¹curæŒ‡å‘é“¾è¡¨å¤´ç»“ç‚¹head</span><br>        <span class="hljs-type">int</span> add = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">while</span>(l1 != <span class="hljs-literal">nullptr</span> || l2 != <span class="hljs-literal">nullptr</span>)<br>        &#123;<br>            <span class="hljs-type">int</span> n1 = l1 ? l1-&gt;val : <span class="hljs-number">0</span>;<br>            <span class="hljs-type">int</span> n2 = l2 ? l2-&gt;val : <span class="hljs-number">0</span>;<br>            <span class="hljs-type">int</span> sum = n1+n2+add;<br>            cur-&gt;next = <span class="hljs-keyword">new</span> <span class="hljs-built_in">ListNode</span>(sum%<span class="hljs-number">10</span>);<br>            cur = cur-&gt;next;<br>            add = sum/<span class="hljs-number">10</span>;<br>            <span class="hljs-keyword">if</span>(l1)  l1 = l1-&gt;next;<br>            <span class="hljs-keyword">if</span>(l2)  l2 = l2-&gt;next;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(add &gt; <span class="hljs-number">0</span>)<br>        &#123;<br>            cur-&gt;next = <span class="hljs-keyword">new</span> <span class="hljs-built_in">ListNode</span>(add);<br>        &#125;<br>        <span class="hljs-keyword">return</span> head-&gt;next;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="LC-142-ç¯å½¢é“¾è¡¨"><a href="#LC-142-ç¯å½¢é“¾è¡¨" class="headerlink" title="LC 142.ç¯å½¢é“¾è¡¨"></a>LC 142.ç¯å½¢é“¾è¡¨</h2><h3 id="Note-2"><a href="#Note-2" class="headerlink" title="Note"></a>Note</h3><p>è§£å†³ç¯å½¢é“¾è¡¨é—®é¢˜çš„ä¸¤ç§æ–¹æ³•ï¼š</p><ul><li>å“ˆå¸Œè¡¨</li><li>å¿«æ…¢æŒ‡é’ˆ</li></ul><h3 id="é¢˜ç›®å¤§æ„-5"><a href="#é¢˜ç›®å¤§æ„-5" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p><a href="https://leetcode.cn/problems/linked-list-cycle-ii/">https://leetcode.cn/problems/linked-list-cycle-ii/</a></p><h3 id="é¢˜è§£-5"><a href="#é¢˜è§£-5" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p><strong>æ–¹æ³•1ï¼šå“ˆå¸Œè¡¨</strong></p><p>ä¸€ä¸ªéå¸¸ç›´è§‚çš„æ€è·¯æ˜¯ï¼šæˆ‘ä»¬éå†é“¾è¡¨ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ï¼Œå¹¶å°†å®ƒè®°å½•ä¸‹æ¥ï¼›ä¸€æ—¦é‡åˆ°äº†æ­¤å‰éå†è¿‡çš„èŠ‚ç‚¹ï¼Œå°±å¯ä»¥åˆ¤å®šé“¾è¡¨ä¸­å­˜åœ¨ç¯ã€‚å€ŸåŠ©å“ˆå¸Œè¡¨å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å®ç°ã€‚</p><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">ListNode *<span class="hljs-title">detectCycle</span><span class="hljs-params">(ListNode *head)</span> </span>&#123;<br>        unordered_set&lt;ListNode*&gt; seen;<br>        <span class="hljs-keyword">while</span>(head != <span class="hljs-literal">nullptr</span>)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(seen.<span class="hljs-built_in">count</span>(head))<br>            &#123;<br>                <span class="hljs-keyword">return</span> head;<br>            &#125;<br>            seen.<span class="hljs-built_in">insert</span>(head);<br>            head = head-&gt;next;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p><strong>æ–¹æ³•2ï¼šå¿«æ…¢æŒ‡é’ˆ</strong></p><p><a href="https://leetcode.cn/problems/linked-list-cycle-ii/solution/huan-xing-lian-biao-ii-by-leetcode-solution/">https://leetcode.cn/problems/linked-list-cycle-ii/solution/huan-xing-lian-biao-ii-by-leetcode-solution/</a></p><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">ListNode *<span class="hljs-title">detectCycle</span><span class="hljs-params">(ListNode *head)</span> </span>&#123;<br>        ListNode *slow = head, *fast = head;<br>        <span class="hljs-keyword">while</span> (fast != <span class="hljs-literal">nullptr</span>) &#123;<br>            slow = slow-&gt;next;<br>            <span class="hljs-keyword">if</span> (fast-&gt;next == <span class="hljs-literal">nullptr</span>) &#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;<br>            &#125;<br>            fast = fast-&gt;next-&gt;next;<br>            <span class="hljs-keyword">if</span> (fast == slow) &#123;<br>                ListNode *ptr = head;<br>                <span class="hljs-keyword">while</span> (ptr != slow) &#123;<br>                    ptr = ptr-&gt;next;<br>                    slow = slow-&gt;next;<br>                &#125;<br>                <span class="hljs-keyword">return</span> ptr;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>é“¾è¡¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>äºŒå‰æ ‘é—®é¢˜æœ‰å…³çš„æ·±åº¦ä¼˜å…ˆæœç´¢</title>
    <link href="/2022/05/19/%E4%BA%8C%E5%8F%89%E6%A0%91%E9%97%AE%E9%A2%98%E6%9C%89%E5%85%B3%E7%9A%84%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2/"/>
    <url>/2022/05/19/%E4%BA%8C%E5%8F%89%E6%A0%91%E9%97%AE%E9%A2%98%E6%9C%89%E5%85%B3%E7%9A%84%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2/</url>
    
    <content type="html"><![CDATA[<h2 id="äºŒå‰æ ‘é—®é¢˜æœ‰å…³çš„æ·±åº¦ä¼˜å…ˆæœç´¢"><a href="#äºŒå‰æ ‘é—®é¢˜æœ‰å…³çš„æ·±åº¦ä¼˜å…ˆæœç´¢" class="headerlink" title="äºŒå‰æ ‘é—®é¢˜æœ‰å…³çš„æ·±åº¦ä¼˜å…ˆæœç´¢"></a>äºŒå‰æ ‘é—®é¢˜æœ‰å…³çš„æ·±åº¦ä¼˜å…ˆæœç´¢</h2><h3 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h3><p>è·Ÿç€Bilibiliä¸Šåˆ«äººæ€»ç»“çš„ä¸€äº›ç®—æ³•åˆ·é¢˜æ¨¡æ¿å’Œæ€è·¯æ€»ç»“æ¥åˆ·é¢˜æ•ˆç‡è¦é«˜å¾ˆå¤šï¼Bilibiliä¸Šæœ‰å¾ˆå¤šä¼˜è´¨çš„ç®—æ³•è§†é¢‘åŒä¸€ç±»å‹çš„é¢˜ç›®éƒ½æ”¾åœ¨ä¸€èµ·è®²ï¼Œæ€»ç»“çš„ä¹Ÿéå¸¸niceï¼ğŸ§</p><h3 id="ç®—æ³•åº”ç”¨åœºæ™¯"><a href="#ç®—æ³•åº”ç”¨åœºæ™¯" class="headerlink" title="ç®—æ³•åº”ç”¨åœºæ™¯"></a>ç®—æ³•åº”ç”¨åœºæ™¯</h3><blockquote><p>æ·±åº¦ä¼˜å…ˆæœç´¢ç®—æ³•ï¼ˆè‹±è¯­ï¼šDepth-First-Searchï¼ŒDFSï¼‰æ˜¯ä¸€ç§ç”¨äºéå†æˆ–æœç´¢æ ‘æˆ–å›¾çš„ç®—æ³•ã€‚å…¶è¿‡ç¨‹ç®€è¦æ¥è¯´æ˜¯å¯¹æ¯ä¸€ä¸ªå¯èƒ½çš„åˆ†æ”¯è·¯å¾„æ·±å…¥åˆ°ä¸èƒ½å†æ·±å…¥ä¸ºæ­¢ï¼Œè€Œä¸”æ¯ä¸ªç»“ç‚¹åªèƒ½è®¿é—®ä¸€æ¬¡.</p></blockquote><ul><li>äºŒå‰æ ‘æœ‰å…³çš„é—®é¢˜</li><li>éœ€è¦ä»æ ¹èŠ‚ç‚¹éå†åˆ°æœ«å°¾å¶å­èŠ‚ç‚¹</li></ul><p>å¸¸è§é¢˜å‹</p><p>æ»¡è¶³ï¼ˆæœ€å¤§ï¼Œæœ€å°ï¼ŒæŸç§è¦æ±‚ï¼‰çš„æ·±åº¦ã€è·¯å¾„ã€èŠ‚ç‚¹å’Œâ€¦â€¦</p><h3 id="DFSæ€è·¯"><a href="#DFSæ€è·¯" class="headerlink" title="DFSæ€è·¯"></a>DFSæ€è·¯</h3><ol><li><p><strong>åˆ›å»ºç»“æœå­˜å‚¨å˜é‡ï¼Œåˆå§‹åŒ–å½“å‰ç»“æœ</strong></p></li><li><p><strong>è®¾è®¡é€’å½’å‡½æ•°</strong></p><p>å‡½æ•°æ‰§è¡Œè¿‡ç¨‹ï¼š</p><ul><li>è‹¥åˆ°è¾¾ç»“å°¾ï¼Œåˆ™è¿”å›</li><li>è‹¥æœªåˆ°è¾¾ç»“å°¾ï¼Œåˆ™æ›´æ–°å½“å‰ç»“æœ</li><li>è‹¥åˆ°è¾¾æœ«å°¾å¶å­èŠ‚ç‚¹ï¼Œè¿›è¡Œæœ€ä¼˜ç»“æœæ›´æ–°</li><li>åˆ†åˆ«å¯¹å½“å‰èŠ‚ç‚¹çš„å·¦/å³å¶å­èŠ‚ç‚¹è°ƒç”¨é€’å½’å‡½æ•°</li></ul></li><li><p><strong>å¼€å§‹è°ƒç”¨é€’å½’å‡½æ•°</strong></p></li></ol><p>DFSä»£ç æ¨¡æ¿ï¼ˆJSç‰ˆï¼‰ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">dfsTemplate</span>(<span class="hljs-params">root</span>) &#123;<br>    <span class="hljs-comment">//å­˜å‚¨æœ€ç»ˆç»“æœ</span><br>    <span class="hljs-keyword">let</span> res;<br>    <span class="hljs-comment">//åˆå§‹åŒ–å½“å‰ç»“æœ</span><br>    <span class="hljs-keyword">let</span> start;<br>    <span class="hljs-comment">//æ„é€ é€’å½’å‡½æ•°dfs,é€šå¸¸å‚æ•°ä¸ºå½“å‰èŠ‚ç‚¹å’Œå½“å‰ç»“æœ</span><br>    <span class="hljs-keyword">let</span> dfs = <span class="hljs-keyword">function</span> (<span class="hljs-params">node, currentResult</span>) &#123;<br>        <span class="hljs-comment">//ç»ˆæ­¢æ¡ä»¶è¿”å›åˆ¤æ–­</span><br>        <span class="hljs-keyword">if</span> (node == <span class="hljs-literal">null</span>) &#123;<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>        <span class="hljs-comment">//æ›´æ–°å½“å‰ç»“æœcurrentResult</span><br><br>        <span class="hljs-comment">//è‹¥åˆ°è¾¾æœ«å°¾å¶å­ç»“ç‚¹ï¼Œè¿›è¡Œæœ€ä¼˜ç»“æœæ›´æ–°</span><br>        <span class="hljs-keyword">if</span> (node.<span class="hljs-property">left</span> == <span class="hljs-literal">null</span> &amp;&amp; node.<span class="hljs-property">right</span> == <span class="hljs-literal">null</span>) &#123;<br>            <span class="hljs-comment">//update res</span><br>        &#125;<br>        <span class="hljs-comment">//å·¦å³å­æ ‘é€’å½’</span><br>        <span class="hljs-title function_">dfs</span>(node.<span class="hljs-property">left</span>, currentResult);<br>        <span class="hljs-title function_">dfs</span>(node.<span class="hljs-property">right</span>, currentResult);<br>    &#125;<br>    <span class="hljs-title function_">dfs</span>(root, start);<br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç›¸å…³é¢˜ç›®ï¼š</p><ul><li>LeetCode 104ï¼šäºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦</li><li>LeetCode 111ï¼šäºŒå‰æ ‘çš„æœ€å°æ·±åº¦</li></ul>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>DFS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java-JDBC</title>
    <link href="/2022/05/16/Java-JDBC/"/>
    <url>/2022/05/16/Java-JDBC/</url>
    
    <content type="html"><![CDATA[<h1 id="JDBCä¸MySQLæ•°æ®åº“"><a href="#JDBCä¸MySQLæ•°æ®åº“" class="headerlink" title="JDBCä¸MySQLæ•°æ®åº“"></a>JDBCä¸MySQLæ•°æ®åº“</h1><h2 id="1-JDBC"><a href="#1-JDBC" class="headerlink" title="1 | JDBC"></a>1 | JDBC</h2><h3 id="JDBCï¼ˆJava-DataBase-Connectivityï¼‰"><a href="#JDBCï¼ˆJava-DataBase-Connectivityï¼‰" class="headerlink" title="JDBCï¼ˆJava DataBase Connectivityï¼‰"></a>JDBCï¼ˆJava DataBase Connectivityï¼‰</h3><ul><li>æ˜¯ç”¨äºæ‰§è¡ŒSQLè¯­å¥çš„Javaåº”ç”¨ç¨‹åºæ¥å£ï¼Œç”±ä¸€ç»„ç”¨Javaè¯­è¨€ç¼–å†™çš„ç±»ä¸æ¥å£ ç»„æˆï¼Œæ˜¯ä¸€ç§åº•å±‚API</li><li>ä½¿å¼€å‘äººå‘˜å¯ä»¥ç”¨çº¯Javaè¯­è¨€ç¼–å†™å®Œæ•´çš„æ•°æ®åº“åº”ç”¨ç¨‹åº</li><li>ç”¨JDBCå†™çš„ç¨‹åºèƒ½å¤Ÿè‡ªåŠ¨åœ°å°†SQLè¯­å¥ä¼ é€ç»™å‡ ä¹ä»»ä½•ä¸€ç§æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ ï¼ˆDBMSï¼‰</li><li>æ˜¯ä¸€ç§è§„èŒƒï¼Œå®ƒè®©å„æ•°æ®åº“å‚å•†ä¸ºJavaç¨‹åºå‘˜æä¾›æ ‡å‡†çš„æ•°æ®åº“è®¿é—®ç±»å’Œæ¥å£ ï¼Œè¿™æ ·å°±ä½¿å¾—ç‹¬ç«‹äºDBMSçš„Javaåº”ç”¨å¼€å‘å·¥å…·å’Œäº§å“æˆä¸ºå¯èƒ½</li><li>éš”ç¦»äº†Javaä¸ä¸åŒæ•°æ®åº“ä¹‹é—´çš„å¯¹è¯ï¼Œä½¿å¾—ç¨‹åºå‘˜åªé¡»å†™ä¸€éç¨‹åºå°±å¯è®©å®ƒåœ¨ä»»ä½•æ•°æ®åº“ç®¡ç†ç³»ç»Ÿå¹³å°ä¸Šè¿</li><li>ä½¿ç”¨å·²æœ‰çš„SQLæ ‡å‡†ï¼Œå¹¶æ”¯æŒå…¶å®ƒæ•°æ®åº“è¿æ¥æ ‡å‡†ï¼Œå¦‚ä¸ODBCä¹‹é—´çš„æ¡¥æ¥</li></ul><p><strong>ä½¿ç”¨ JDBCå¯ä»¥è¿›è¡Œå¦‚ä¸‹çš„æ“ä½œ</strong> </p><ul><li>ä¸ä¸€ä¸ªæ•°æ®åº“å»ºç«‹è¿æ¥</li><li>å‘å·²è¿æ¥çš„æ•°æ®åº“å‘é€SQLè¯­å¥ </li><li>å¤„ç†SQLè¯­å¥è¿”å›çš„ç»“æœå€¼</li></ul><h3 id="JDBC-API"><a href="#JDBC-API" class="headerlink" title="JDBC API"></a>JDBC API</h3><ul><li>æ˜¯ä¸€ç»„ç”±Javaè¯­è¨€ç¼–å†™çš„ç±»å’Œæ¥å£ï¼ŒåŒ…å«åœ¨java.sqlå’Œjavax.sqlä¸¤ä¸ªåŒ…ä¸­<ul><li>java.sqlä¸ºæ ¸å¿ƒåŒ…ï¼Œè¿™ä¸ªåŒ…åŒ…å«äºJ2SEä¸­</li><li>javax.sqlåŒ…æ‰©å±•äº†JDBC APIçš„åŠŸèƒ½ï¼Œæˆä¸ºäº†J2EEçš„ä¸€ä¸ªåŸºæœ¬ç»„æˆéƒ¨åˆ†</li></ul></li><li>å¯åˆ†ä¸ºä¸¤ä¸ªå±‚æ¬¡<ul><li>é¢å‘åº•å±‚çš„JDBC Driver APIï¼šä¸»è¦æ˜¯é’ˆå¯¹æ•°æ®åº“å‚å•†å¼€å‘æ•°æ®åº“åº•å±‚é©±åŠ¨ç¨‹åºä½¿ç”¨</li><li>é¢å‘ç¨‹åºå‘˜çš„JDBC API</li></ul></li></ul><p><img src="http://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220517130904.png" alt="åº”ç”¨ç¨‹åºé€šè¿‡JDBC APIå’Œåº•å±‚çš„JDBC Driver APIæ‰“äº¤é“"></p><h3 id="ODBCï¼ˆ-Open-Database-Connectivity-ï¼‰"><a href="#ODBCï¼ˆ-Open-Database-Connectivity-ï¼‰" class="headerlink" title="ODBCï¼ˆ Open Database Connectivity ï¼‰"></a>ODBCï¼ˆ Open Database Connectivity ï¼‰</h3><ul><li>ç”±å¾®è½¯å…¬å¸æå‡ºï¼Œç”¨äºåœ¨æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ(DBMS)ä¸­å­˜å–æ•°æ®</li><li>æ˜¯ä¸€å¥—ç”¨Cè¯­è¨€å®ç°çš„è®¿é—®æ•°æ®åº“çš„API</li><li>é€šè¿‡ODBC APIï¼Œåº”ç”¨ç¨‹åºå¯ä»¥å­˜å–ä¿å­˜åœ¨å¤šç§ä¸åŒæ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼ˆDBMSï¼‰ ä¸­çš„æ•°æ®ï¼Œè€Œä¸è®ºæ¯ä¸ªDBMSä½¿ç”¨äº†ä½•ç§æ•°æ®å­˜å‚¨æ ¼å¼å’Œç¼–ç¨‹æ¥å£</li><li>å¯¹äºæ²¡æœ‰æä¾›JDBCé©±åŠ¨çš„æ•°æ®åº“ï¼Œä»Javaç¨‹åºè°ƒç”¨æœ¬åœ°çš„Cç¨‹åºè®¿é—®æ•°æ®åº“ä¼š å¸¦æ¥ä¸€ç³»åˆ—å®‰å…¨æ€§ã€å®Œæ•´æ€§ã€å¥å£®æ€§ç­‰æ–¹é¢çš„é—®é¢˜ï¼Œå› è€Œé€šè¿‡JDBC-ODBCæ¡¥ æ¥è®¿é—®æ²¡æœ‰æä¾›JDBCæ¥å£çš„æ•°æ®åº“æ˜¯ä¸€ä¸ªå¸¸ç”¨çš„æ–¹æ¡ˆ</li></ul><h2 id="2-JDBC-APIä¸­é‡è¦çš„æ¥å£å’Œç±»"><a href="#2-JDBC-APIä¸­é‡è¦çš„æ¥å£å’Œç±»" class="headerlink" title="2 | JDBC APIä¸­é‡è¦çš„æ¥å£å’Œç±»"></a>2 | JDBC APIä¸­é‡è¦çš„æ¥å£å’Œç±»</h2><table><thead><tr><th align="left">åç§°</th><th align="center">åŠŸèƒ½</th></tr></thead><tbody><tr><td align="left">DriverManager</td><td align="center">è°ƒå…¥é©±åŠ¨ç¨‹åº</td></tr><tr><td align="left">Connection</td><td align="center">ä»£è¡¨äº†å¯¹ç‰¹å®šæ•°æ®åº“çš„è¿æ¥</td></tr><tr><td align="left">Statement</td><td align="center">åŸºäºConnectionæ‰§è¡ŒSQLè¯­å¥</td></tr><tr><td align="left">PreparedStatement</td><td align="center">åŸºäºConnectionæ‰§è¡Œå¸¦å‚æ•°çš„SQLè¯­å¥</td></tr><tr><td align="left">ResultSet</td><td align="center">ä¿å­˜æŸ¥è¯¢è¯­å¥å¾—åˆ°çš„ç»“æœé›†</td></tr></tbody></table><h2 id="3-ä½¿ç”¨JDBCè®¿é—®æ•°æ®åº“çš„æ­¥éª¤"><a href="#3-ä½¿ç”¨JDBCè®¿é—®æ•°æ®åº“çš„æ­¥éª¤" class="headerlink" title="3 | ä½¿ç”¨JDBCè®¿é—®æ•°æ®åº“çš„æ­¥éª¤"></a>3 | ä½¿ç”¨JDBCè®¿é—®æ•°æ®åº“çš„æ­¥éª¤</h2><ul><li>è®¾ç½®ç¯å¢ƒï¼Œå¼•å…¥ç›¸åº”çš„JDBCç±»</li><li>é€‰æ‹©åˆé€‚çš„JDBCé©±åŠ¨ç¨‹åºå¹¶åŠ è½½</li><li>åˆ†é…ä¸€ä¸ªConnectionå¯¹è±¡</li><li>åˆ†é…ä¸€ä¸ªStatementå¯¹è±¡</li><li>ç”¨è¯¥Statementå¯¹è±¡è¿›è¡ŒæŸ¥è¯¢ç­‰æ“ä½œ</li><li>è‹¥æŸ¥è¯¢åˆ™ä»è¿”å›çš„ResultSetå¯¹è±¡ä¸­è·å–æ•°æ®</li><li>å…³é—­è¿æ¥</li></ul><h2 id="4-é€šè¿‡JDBC-ODBCè®¿é—®æ•°æ®åº“"><a href="#4-é€šè¿‡JDBC-ODBCè®¿é—®æ•°æ®åº“" class="headerlink" title="4 | é€šè¿‡JDBC-ODBCè®¿é—®æ•°æ®åº“"></a>4 | é€šè¿‡JDBC-ODBCè®¿é—®æ•°æ®åº“</h2><ol><li><h3 id="è®¾ç½®ç¯å¢ƒï¼Œå¼•å…¥ç›¸åº”çš„JDBCç±»"><a href="#è®¾ç½®ç¯å¢ƒï¼Œå¼•å…¥ç›¸åº”çš„JDBCç±»" class="headerlink" title="è®¾ç½®ç¯å¢ƒï¼Œå¼•å…¥ç›¸åº”çš„JDBCç±»"></a><strong>è®¾ç½®ç¯å¢ƒï¼Œå¼•å…¥ç›¸åº”çš„JDBCç±»</strong></h3><p>åœ¨Javaç¨‹åºä¸­å¼•å…¥ç›¸åº”çš„ç±»å’ŒåŒ…ã€‚è®¿é—®æ•°æ®åº“ä½¿ç”¨çš„JDBC APIåœ¨ java.sqlåŒ…ä¸­ï¼Œå› æ­¤éœ€è¦å°†è¯¥åŒ…å¼•å…¥ç¨‹åºã€‚ import java.sql.*;</p></li><li><h3 id="é€‰æ‹©DBMSé©±åŠ¨ç¨‹åº"><a href="#é€‰æ‹©DBMSé©±åŠ¨ç¨‹åº" class="headerlink" title="é€‰æ‹©DBMSé©±åŠ¨ç¨‹åº"></a><strong>é€‰æ‹©DBMSé©±åŠ¨ç¨‹åº</strong></h3><ul><li><p>ç”¨Class.forNameæ–¹æ³•æ˜¾å¼è£…è½½é©±åŠ¨ç¨‹åº</p><p>Class.forName(â€œcom.mysql.cj.jdbc.Driverâ€);</p></li><li><p>æ‰§è¡Œåè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªé©±åŠ¨å™¨ç±»çš„å®ä¾‹ï¼Œå¹¶è‡ªåŠ¨è°ƒç”¨é©±åŠ¨å™¨ç®¡ç†å™¨DriverManagerç±»ä¸­çš„RegisterDriveræ–¹æ³•æ¥æ³¨å†Œå®ƒ</p></li><li><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœé©±åŠ¨å™¨ç±»æœ‰å¯èƒ½ä¸å­˜åœ¨ï¼Œä½¿ç”¨æ­¤æ–¹æ³•å°±å¯èƒ½ä¼šæŠ›å‡º ClassNotFoundExceptionå¼‚å¸¸ï¼Œå› æ­¤éœ€è¦æ•è·è¿™ä¸ªå¼‚å¸¸</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">try</span> &#123;<br>Class.forName(<span class="hljs-string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>);<br>&#125;<span class="hljs-keyword">catch</span>(Exception e)&#123;<br>e.printStackTrace();<br>&#125;<br></code></pre></td></tr></table></figure></li></ul></li><li><h3 id="åˆ›å»ºä¸€ä¸ªConnectionå¯¹è±¡è¿æ¥åˆ°æ•°æ®åº“"><a href="#åˆ›å»ºä¸€ä¸ªConnectionå¯¹è±¡è¿æ¥åˆ°æ•°æ®åº“" class="headerlink" title="åˆ›å»ºä¸€ä¸ªConnectionå¯¹è±¡è¿æ¥åˆ°æ•°æ®åº“"></a>åˆ›å»ºä¸€ä¸ªConnectionå¯¹è±¡è¿æ¥åˆ°æ•°æ®åº“</h3><ul><li><p>Connectionå¯¹è±¡ä»£è¡¨äº†ä¸æŒ‡å®šæ•°æ®åº“çš„è¿æ¥ï¼Œå¯ä»¥è°ƒç”¨ DriverManager.getConnection()æ–¹æ³•åˆ›å»ºï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Connection</span> <span class="hljs-variable">connect</span> <span class="hljs-operator">=</span> DriverManager.getConnection(url,username,password);<br></code></pre></td></tr></table></figure></li><li><p>DriverManagerç±»ä½äºJDBCçš„ç®¡ç†å±‚ï¼Œä½œç”¨äºç”¨æˆ·å’Œé©±åŠ¨ç¨‹åºä¹‹é—´ã€‚å®ƒè´Ÿè´£è·Ÿ è¸ªåœ¨ä¸€ä¸ªç³»ç»Ÿä¸­æ‰€æœ‰å¯ç”¨çš„JDBCé©±åŠ¨ç¨‹åºï¼Œå¹¶åœ¨æ•°æ®åº“å’Œç›¸åº”é©±åŠ¨ç¨‹åºä¹‹é—´ å»ºç«‹è¿æ¥</p></li></ul></li><li><h3 id="åˆ›å»ºä¸€ä¸ªStatementå¯¹è±¡æ‰§è¡ŒSQLè¯­å¥"><a href="#åˆ›å»ºä¸€ä¸ªStatementå¯¹è±¡æ‰§è¡ŒSQLè¯­å¥" class="headerlink" title="åˆ›å»ºä¸€ä¸ªStatementå¯¹è±¡æ‰§è¡ŒSQLè¯­å¥"></a>åˆ›å»ºä¸€ä¸ªStatementå¯¹è±¡æ‰§è¡ŒSQLè¯­å¥</h3><p>å»ºç«‹æ•°æ®åº“çš„è¿æ¥åï¼Œå°±å¯ä»¥å¯¹æ•°æ®åº“è¿›è¡Œæ“ä½œäº†ï¼Œä¸€èˆ¬åŒ…æ‹¬ä¸‰ä¸ªæ­¥éª¤ï¼š</p><ul><li>ä½¿ç”¨Connectionå¯¹è±¡åˆ›å»ºStatementå¯¹è±¡</li><li>ä½¿ç”¨Statementå¯¹è±¡æ‰§è¡ŒSQLå‘½ä»¤</li><li>ä»ä¸Šä¸€æ­¥éª¤è¿”å›çš„ResultSetå¯¹è±¡ä¸­æå–æ‰§è¡Œç»“æœ</li></ul><p><strong>Connectionç±»æœ‰3ä¸ªæ–¹æ³•å¯ç”¨æ¥åˆ›å»ºå‘æ•°æ®åº“å‘é€SQLè¯­å¥çš„ Statementå¯¹è±¡ï¼š</strong></p><ul><li>createStatementï¼šåˆ›å»ºå‘æ•°æ®åº“å‘é€SQLè¯­å¥çš„Statementå¯¹è±¡ï¼Œç”¨äºç®€å•çš„SQLè¯­å¥ Statement stmt = conn.createStatement();</li><li>prepareStatementï¼šåˆ›å»ºå‘æ•°æ®åº“å‘é€SQLè¯­å¥çš„PreparedStatementå¯¹è±¡ï¼Œç”¨äºå¸¦æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°çš„SQL è¯­å¥ã€‚åœ¨SQLè¯­å¥æ‰§è¡Œå‰ï¼Œè¿™äº›å‚æ•°å°†è¢«èµ‹å€¼</li><li>prepareCallï¼šåˆ›å»ºå‘æ•°æ®åº“å‘é€SQLè¯­å¥çš„CallableStatementå¯¹è±¡ï¼Œç”¨äºè°ƒç”¨æ•°æ®åº“ä¸­çš„å­˜å‚¨è¿‡ç¨‹</li></ul></li><li><h3 id="ä½¿ç”¨Statementå¯¹è±¡æ‰§è¡Œè¯­å¥"><a href="#ä½¿ç”¨Statementå¯¹è±¡æ‰§è¡Œè¯­å¥" class="headerlink" title="ä½¿ç”¨Statementå¯¹è±¡æ‰§è¡Œè¯­å¥"></a>ä½¿ç”¨Statementå¯¹è±¡æ‰§è¡Œè¯­å¥</h3><p><strong>Statement å¯¹è±¡æä¾›äº†ä¸‰ç§æ‰§è¡Œ SQL è¯­å¥çš„æ–¹æ³•ï¼Œä½¿ç”¨å“ªä¸€ä¸ªæ–¹æ³•ç”± SQL è¯­ å¥æ‰€äº§ç”Ÿçš„å†…å®¹å†³å®š</strong></p><ul><li><p>executeQueryï¼šç”¨äºäº§ç”Ÿå•ä¸ªç»“æœé›†çš„è¯­å¥ï¼Œä¾‹å¦‚ SELECT è¯­å¥ ResultSet rs = stmt.executeQuery(â€œselect * from userâ€);</p></li><li><p>executeUpdateï¼šç”¨äºæ‰§è¡Œ INSERTã€UPDATE æˆ– DELETE è¯­å¥ï¼Œä»¥åŠ CREATE TABLE stmt.executeUpdate(â€œDELETE FROM Person WHERE Name=â€™æå››â€™â€);</p><p>è¿”å›å€¼æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºå—å½±å“çš„è¡Œæ•°ï¼ˆå³æ›´æ–°è®¡æ•°ï¼‰ï¼Œæ¯”å¦‚ä¿®æ”¹äº†å¤šå°‘è¡Œã€åˆ é™¤äº†å¤šå°‘è¡Œç­‰ã€‚å¯¹ äº CREATE TABLE ç­‰è¯­å¥ï¼Œå› ä¸æ¶‰åŠåˆ°è¡Œçš„æ“ä½œï¼Œæ‰€ä»¥executeUpdateçš„è¿”å›å€¼æ€»ä¸ºé›¶</p></li><li><p>Executeï¼šç”¨äºæ‰§è¡Œè¿”å›å¤šä¸ªç»“æœé›†ï¼ˆResultSet å¯¹è±¡ï¼‰ã€å¤šä¸ªæ›´æ–°è®¡æ•°æˆ–äºŒè€…ç»„åˆçš„è¯­å¥ã€‚ä¾‹å¦‚æ‰§è¡ŒæŸä¸ªå·²å­˜ å‚¨è¿‡ç¨‹æˆ–åŠ¨æ€æ‰§è¡ŒSQLï¼Œè¿™æ—¶æœ‰å¯èƒ½å‡ºç°å¤šä¸ªç»“æœçš„æƒ…</p></li></ul></li><li><h3 id="ä»è¿”å›çš„ResultSetå¯¹è±¡ä¸­è·å–ç›¸åº”çš„æ•°æ®"><a href="#ä»è¿”å›çš„ResultSetå¯¹è±¡ä¸­è·å–ç›¸åº”çš„æ•°æ®" class="headerlink" title="ä»è¿”å›çš„ResultSetå¯¹è±¡ä¸­è·å–ç›¸åº”çš„æ•°æ®"></a>ä»è¿”å›çš„ResultSetå¯¹è±¡ä¸­è·å–ç›¸åº”çš„æ•°æ®</h3><p>ResultSetä¸­çš„å†…å®¹ç±»ä¼¼äºŒç»´è¡¨æ ¼ï¼Œæ˜¯ä»¥â€œæµâ€çš„æ–¹å¼æŒ‰è¡Œè®¿é—®çš„</p><ul><li><p>ä½¿ç”¨next()æ–¹æ³•è®¿é—®è¡Œï¼šResultSetä¸­æœ‰ä¸€ä¸ªæ¸¸æ ‡ï¼ŒæŒ‡å‘å½“å‰è®¿é—®çš„ è¡Œï¼›æ–¹æ³•nextçš„åŠŸèƒ½æ˜¯å°†æ¸¸æ ‡ä¸‹ç§»ä¸€è¡Œã€‚å³ï¼šæ¯æ¬¡è°ƒç”¨nextæ–¹æ³•åï¼Œ æ¸¸æ ‡ä¼šè‡ªåŠ¨ä¸‹ç§»ä¸€è¡Œã€‚</p></li><li><p>ä½¿ç”¨getç±»å‹()æ–¹æ³•è®¿é—®åˆ—ï¼šä½¿ç”¨ç›¸åº”ç±»å‹çš„getXXX()æ–¹æ³•å¯ä»¥ä»å½“ å‰è¡ŒæŒ‡å®šåˆ—ä¸­æå–ä¸åŒç±»å‹çš„æ•°æ®ã€‚ä¾‹å¦‚ï¼šæå–æ–‡æœ¬ç±»å‹æ•°æ®æ—¶å°± è¦ç”¨getStringæ–¹æ³•</p></li><li><p>å…è®¸ä½¿ç”¨åˆ—åæˆ–åˆ—åºå·ä½œä¸ºæ–¹æ³•çš„å‚æ•°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> rs.getString(â€œnameâ€);<span class="hljs-comment">//æå–nameåˆ—</span><br><span class="hljs-type">String</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> rs.getString(<span class="hljs-number">2</span>); <span class="hljs-comment">//æå–ç¬¬2åˆ—</span><br></code></pre></td></tr></table></figure></li></ul></li><li><h3 id="å…³é—­è¿æ¥"><a href="#å…³é—­è¿æ¥" class="headerlink" title="å…³é—­è¿æ¥"></a><strong>å…³é—­è¿æ¥</strong></h3><p>æ•°æ®åº“è¿æ¥èµ„æºæ˜¯å®è´µçš„ï¼Œåº”å½“åœ¨æ“ä½œæ•°æ®åº“ååŠæ—¶é‡Šæ”¾ã€‚</p><ul><li>stat.close(); //å…³é—­è¯­å¥</li><li>conn.close(); //å…³é—­è¿æ¥</li></ul></li></ol><p>é€šè¿‡JDBC-ODBCè®¿é—®æ•°æ®åº“å®ä¾‹ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.sql.*; <span class="hljs-comment">//â‘ å¼•å…¥JDBCç±»</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DBTest</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ClassNotFoundException,SQLException &#123;<br><span class="hljs-comment">//â‘¡åŠ è½½é©±åŠ¨</span><br>Class.forName(<span class="hljs-string">&quot;sun.jdbc.odbc.JdbcOdbcDriver&quot;</span>); <br><span class="hljs-comment">//â‘¢åˆ›å»ºè¿æ¥</span><br>Connection conn=DriverManager.getConnection(<span class="hljs-string">&quot;jdbc:odbc:StudentDB&quot;</span>, <span class="hljs-string">&quot;admin&quot;</span>,<span class="hljs-string">&quot;admin&quot;</span>); <br><span class="hljs-comment">//â‘£åˆ›å»ºStatmentå¯¹è±¡</span><br><span class="hljs-type">Statement</span> <span class="hljs-variable">stat</span> <span class="hljs-operator">=</span> conn.createStatement(); <br><span class="hljs-comment">//â‘¤æ‰§è¡ŒSQLè¯­å¥</span><br>stat.executeUpdate(<span class="hljs-string">&quot;insert into Students(id,name,age) values (&#x27;1&#x27;,&#x27;å¼ ä¸‰&#x27;,&#x27;16&#x27;)&quot;</span>);<br>stat.executeUpdate(<span class="hljs-string">&quot;insert into Students(id,name,age) values (&#x27;2&#x27;,&#x27;æå››&#x27;,&#x27;16&#x27;)&quot;</span>);<br>stat.executeUpdate(<span class="hljs-string">&quot;insert into Students(id,name,age) values (&#x27;3&#x27;,&#x27;ç‹äº”&#x27;,&#x27;16&#x27;)&quot;</span>);<br>stat.executeUpdate(<span class="hljs-string">&quot;DELETE FROM students WHERE name=&#x27;æå››&#x27;&quot;</span>);<br>stat.executeUpdate(<span class="hljs-string">&quot;update students set age=&#x27;20&#x27; WHERE name=&#x27;ç‹äº”&#x27;&quot;</span>);<br><span class="hljs-comment">//â‘¥SQLæŸ¥è¯¢</span><br><span class="hljs-type">ResultSet</span> <span class="hljs-variable">rs</span> <span class="hljs-operator">=</span> stat.executeQuery(<span class="hljs-string">&quot;select id,name from students order by id&quot;</span>);<br><span class="hljs-comment">//éå†ResultSet</span><br><span class="hljs-keyword">while</span> (rs.next())<br>&#123;<br>System.out.println(rs.getInt(<span class="hljs-string">&quot;id&quot;</span>)+ <span class="hljs-string">&quot; &quot;</span> + rs.getString(<span class="hljs-number">2</span>));<br>&#125;<br><span class="hljs-comment">//â‘¦å…³é—­è¿æ¥</span><br>stat.close();<br>conn.close();<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="5-ç”¨çº¯JDBCé©±åŠ¨ç¨‹åºè®¿é—®æ•°æ®åº“"><a href="#5-ç”¨çº¯JDBCé©±åŠ¨ç¨‹åºè®¿é—®æ•°æ®åº“" class="headerlink" title="5 | ç”¨çº¯JDBCé©±åŠ¨ç¨‹åºè®¿é—®æ•°æ®åº“"></a>5 | ç”¨çº¯JDBCé©±åŠ¨ç¨‹åºè®¿é—®æ•°æ®åº“</h2><ol><li><h3 id="å¼•å…¥JDBCç±»"><a href="#å¼•å…¥JDBCç±»" class="headerlink" title="å¼•å…¥JDBCç±»"></a>å¼•å…¥JDBCç±»</h3><p>åœ¨Javaç¨‹åºä¸­å¼•å…¥ç›¸åº”çš„ç±»å’ŒåŒ…ã€‚è®¿é—®æ•°æ®åº“ä½¿ç”¨çš„JDBC APIåœ¨ java.sqlåŒ…ä¸­ï¼Œå› æ­¤éœ€è¦å°†è¯¥åŒ…å¼•å…¥ç¨‹åºã€‚ import java.sql.*;</p></li><li><h3 id="åŠ è½½DBMSé©±åŠ¨ç¨‹åº"><a href="#åŠ è½½DBMSé©±åŠ¨ç¨‹åº" class="headerlink" title="åŠ è½½DBMSé©±åŠ¨ç¨‹åº"></a>åŠ è½½DBMSé©±åŠ¨ç¨‹åº</h3><ul><li><p>åˆ°æ•°æ®åº“å®˜ç½‘ä¸‹è½½å¯¹åº”ç‰ˆæœ¬çš„æ•°æ®åº“é©±åŠ¨ç¨‹åºåŒ…ã€‚</p></li><li><p>ç”¨Class.forNameæ–¹æ³•æ˜¾å¼è£…è½½é©±åŠ¨ç¨‹åº</p><p>æ¯”å¦‚ï¼ŒClass.forName(â€œcom.mysql.cj.jdbc.Driverâ€); </p><p>Class.forName(â€œoracle.jdbc.driver.OracleDriverâ€);</p></li></ul></li><li><h3 id="åˆ›å»ºä¸€ä¸ªConnectionå¯¹è±¡è¿æ¥åˆ°æ•°æ®åº“-1"><a href="#åˆ›å»ºä¸€ä¸ªConnectionå¯¹è±¡è¿æ¥åˆ°æ•°æ®åº“-1" class="headerlink" title="åˆ›å»ºä¸€ä¸ªConnectionå¯¹è±¡è¿æ¥åˆ°æ•°æ®åº“"></a>åˆ›å»ºä¸€ä¸ªConnectionå¯¹è±¡è¿æ¥åˆ°æ•°æ®åº“</h3><p>è°ƒç”¨DriverManager.getConnection()æ–¹æ³•åˆ›å»ºConnectionå¯¹è±¡</p><p>ä¾‹å¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Connection</span> <span class="hljs-variable">conn</span> <span class="hljs-operator">=</span> DriverManager.getConnection(â€œjdbc:mysql:<span class="hljs-comment">//localhost:3306/</span><br>mydata?user=root&amp;password=<span class="hljs-number">123</span>&amp;useSSL=<span class="hljs-literal">false</span>&amp;serverTimezone=UTCâ€);<br><span class="hljs-type">Connection</span> <span class="hljs-variable">conn</span> <span class="hljs-operator">=</span> DriverManager.getConnection<br>(<span class="hljs-string">&quot;jdbc:oracle:thin:@192.168.1.102:1521:orcl&quot;</span>, <span class="hljs-string">&quot;spring&quot;</span>, <span class="hljs-string">&quot;spring&quot;</span>);<br></code></pre></td></tr></table></figure></li><li><h3 id="åˆ›å»ºä¸€ä¸ªStatementå¯¹è±¡æ‰§è¡ŒSQLè¯­å¥-1"><a href="#åˆ›å»ºä¸€ä¸ªStatementå¯¹è±¡æ‰§è¡ŒSQLè¯­å¥-1" class="headerlink" title="åˆ›å»ºä¸€ä¸ªStatementå¯¹è±¡æ‰§è¡ŒSQLè¯­å¥"></a>åˆ›å»ºä¸€ä¸ªStatementå¯¹è±¡æ‰§è¡ŒSQLè¯­å¥</h3><p>å»ºç«‹æ•°æ®åº“çš„è¿æ¥åï¼Œå°±å¯ä»¥å¯¹æ•°æ®åº“è¿›è¡Œæ“ä½œäº†ï¼Œä¸€èˆ¬åŒ…æ‹¬ä¸‰ä¸ªæ­¥éª¤ï¼š</p><ul><li>ä½¿ç”¨Connectionå¯¹è±¡åˆ›å»ºStatementå¯¹è±¡</li><li>ä½¿ç”¨Statementå¯¹è±¡æ‰§è¡ŒSQLå‘½ä»¤</li><li>ä»ä¸Šä¸€æ­¥éª¤è¿”å›çš„ResultSetå¯¹è±¡ä¸­æå–æ‰§è¡Œç»“æœ</li></ul><p><strong>Connectionç±»æœ‰3ä¸ªæ–¹æ³•å¯ç”¨æ¥åˆ›å»ºå‘æ•°æ®åº“å‘é€SQLè¯­å¥çš„ Statementå¯¹è±¡ï¼š</strong></p><ul><li>createStatementï¼šåˆ›å»ºå‘æ•°æ®åº“å‘é€SQLè¯­å¥çš„Statementå¯¹è±¡ï¼Œç”¨äºç®€å•çš„SQLè¯­å¥ Statement stmt = conn.createStatement();</li><li>prepareStatementï¼šåˆ›å»ºå‘æ•°æ®åº“å‘é€SQLè¯­å¥çš„PreparedStatementå¯¹è±¡ï¼Œç”¨äºå¸¦æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°çš„SQL è¯­å¥ã€‚åœ¨SQLè¯­å¥æ‰§è¡Œå‰ï¼Œè¿™äº›å‚æ•°å°†è¢«èµ‹å€¼</li><li>prepareCallï¼šåˆ›å»ºå‘æ•°æ®åº“å‘é€SQLè¯­å¥çš„CallableStatementå¯¹è±¡ï¼Œç”¨äºè°ƒç”¨æ•°æ®åº“ä¸­çš„å­˜å‚¨è¿‡ç¨‹</li></ul></li><li><h3 id="ä½¿ç”¨Statementå¯¹è±¡æ‰§è¡Œè¯­å¥-1"><a href="#ä½¿ç”¨Statementå¯¹è±¡æ‰§è¡Œè¯­å¥-1" class="headerlink" title="ä½¿ç”¨Statementå¯¹è±¡æ‰§è¡Œè¯­å¥"></a>ä½¿ç”¨Statementå¯¹è±¡æ‰§è¡Œè¯­å¥</h3><p><strong>Statement å¯¹è±¡æä¾›äº†ä¸‰ç§æ‰§è¡Œ SQL è¯­å¥çš„æ–¹æ³•ï¼Œä½¿ç”¨å“ªä¸€ä¸ªæ–¹æ³•ç”± SQL è¯­ å¥æ‰€äº§ç”Ÿçš„å†…å®¹å†³å®š</strong></p><ul><li><p>executeQueryï¼šç”¨äºäº§ç”Ÿå•ä¸ªç»“æœé›†çš„è¯­å¥ï¼Œä¾‹å¦‚ SELECT è¯­å¥ ResultSet rs = stmt.executeQuery(â€œselect * from userâ€);</p></li><li><p>executeUpdateï¼šç”¨äºæ‰§è¡Œ INSERTã€UPDATE æˆ– DELETE è¯­å¥ï¼Œä»¥åŠ CREATE TABLE stmt.executeUpdate(â€œDELETE FROM Person WHERE Name=â€™æå››â€™â€);</p><p>è¿”å›å€¼æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºå—å½±å“çš„è¡Œæ•°ï¼ˆå³æ›´æ–°è®¡æ•°ï¼‰ï¼Œæ¯”å¦‚ä¿®æ”¹äº†å¤šå°‘è¡Œã€åˆ é™¤äº†å¤šå°‘è¡Œç­‰ã€‚å¯¹ äº CREATE TABLE ç­‰è¯­å¥ï¼Œå› ä¸æ¶‰åŠåˆ°è¡Œçš„æ“ä½œï¼Œæ‰€ä»¥executeUpdateçš„è¿”å›å€¼æ€»ä¸ºé›¶</p></li><li><p>Executeï¼šç”¨äºæ‰§è¡Œè¿”å›å¤šä¸ªç»“æœé›†ï¼ˆResultSet å¯¹è±¡ï¼‰ã€å¤šä¸ªæ›´æ–°è®¡æ•°æˆ–äºŒè€…ç»„åˆçš„è¯­å¥ã€‚ä¾‹å¦‚æ‰§è¡ŒæŸä¸ªå·²å­˜ å‚¨è¿‡ç¨‹æˆ–åŠ¨æ€æ‰§è¡ŒSQLï¼Œè¿™æ—¶æœ‰å¯èƒ½å‡ºç°å¤šä¸ªç»“æœçš„æƒ…</p></li></ul></li><li><h3 id="å…³é—­è¿æ¥-1"><a href="#å…³é—­è¿æ¥-1" class="headerlink" title="å…³é—­è¿æ¥"></a><strong>å…³é—­è¿æ¥</strong></h3><p>æ•°æ®åº“è¿æ¥èµ„æºæ˜¯å®è´µçš„ï¼Œåº”å½“åœ¨æ“ä½œæ•°æ®åº“ååŠæ—¶é‡Šæ”¾ã€‚</p><ul><li>conn.close(); //å…³é—­è¿æ¥</li></ul></li></ol><p>ç”¨çº¯JDBCé©±åŠ¨ç¨‹åºè®¿é—®MySQL8.0æ•°æ®åº“å®ä¾‹ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.sql.*;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DatabaseAccess</span> &#123;<br><span class="hljs-keyword">public</span> Connection <span class="hljs-title function_">getConn</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">Connection</span> <span class="hljs-variable">conn</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>String url=<span class="hljs-string">&quot;jdbc:mysql://localhost:3306/mydata?</span><br><span class="hljs-string">user=root&amp;password=123&amp;useSSL=false&amp;serverTimezone=UTC&quot;</span>;<br><span class="hljs-keyword">try</span> &#123;          <br>Class.forName(<span class="hljs-string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>);<br>conn = DriverManager.getConnection(url);<br>&#125; <br><span class="hljs-keyword">catch</span> (Exception e) &#123;<br>e.printStackTrace();<br>&#125;<br><span class="hljs-keyword">return</span> conn;<br>&#125;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">getStudentInfo</span><span class="hljs-params">(String sno)</span> &#123;<br><span class="hljs-type">String</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span> â€œselect * from student where sno=?<span class="hljs-string">&quot;;</span><br><span class="hljs-string">try &#123;</span><br><span class="hljs-string">Connection conn = new DatabaseAccess().getConn();</span><br><span class="hljs-string">PreparedStatement ps = conn.prepareStatement(sql);</span><br><span class="hljs-string">ps.setString(1, sno);</span><br><span class="hljs-string">ResultSet rs = ps.executeQuery();</span><br><span class="hljs-string">while( rs.next())</span><br><span class="hljs-string">System.out.println(rs.getString(â€œsnoâ€) +rs.getString(â€œsnameâ€);</span><br><span class="hljs-string">conn.close();</span><br><span class="hljs-string">&#125; </span><br><span class="hljs-string">catch (Exception e) &#123; </span><br><span class="hljs-string">e.printStackTrace(); </span><br><span class="hljs-string">&#125;</span><br><span class="hljs-string">&#125;</span><br><span class="hljs-string">&#125;</span><br></code></pre></td></tr></table></figure><h2 id="6-ä½¿ç”¨é¢„å¤„ç†è¯­å¥"><a href="#6-ä½¿ç”¨é¢„å¤„ç†è¯­å¥" class="headerlink" title="6 | ä½¿ç”¨é¢„å¤„ç†è¯­å¥"></a>6 | ä½¿ç”¨é¢„å¤„ç†è¯­å¥</h2><ul><li>ä½¿ç”¨PreparedStatementç±»å¯¹è±¡çš„prepareStatement(String sql)æ–¹ æ³•å¯¹SQLè¯­å¥è¿›è¡Œé¢„ç¼–è¯‘å¤„ç†ï¼Œç”Ÿæˆè¯¥æ•°æ®åº“åº•å±‚çš„å†…éƒ¨å‘½ä»¤ã€‚</li><li>è¯¥ç”¨æ³•æ”¯æŒå¸¦å‚æ•°çš„SQLè¯­å¥çš„æ‰§è¡Œï¼Œè¿™ç»™SQLè¯­å¥çš„æ‰§è¡Œå¸¦æ¥å¾ˆå¤§ çš„çµæ´»æ€§ã€‚</li><li>ä½¿ç”¨é€šé…ç¬¦?(è‹±æ–‡çš„é—®å·)ï¼Œä»£æ›¿æ•°æ®è¡¨å­—æ®µçš„å€¼ã€‚éœ€è¦åœ¨SQLæ‰§è¡Œä¹‹ å‰è®¾ç½®é€šé…ç¬¦ä»£è¡¨çš„å…·ä½“å€¼ã€‚</li><li>è®¾ç½®é€šé…ç¬¦?çš„å€¼çš„å¸¸ç”¨æ–¹æ³•ï¼š<ul><li>void setDate(int parameterIndex, Date x);</li><li>void setDouble(int parameterIndex, double x);</li><li>void setFloat(int parameterIndex, float x);</li><li>void setInt(int parameterIndex, int x);</li><li>void setLong(int parameterIndex, long x);</li><li>void setString(int parameterIndex, String x);</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.sql.*;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Ex7_9</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>String DBDriver=<span class="hljs-string">&quot;sun.jdbc.odbc.JdbcOdbcDriver&quot;</span>;<br>String connectionStr=<span class="hljs-string">&quot;jdbc:odbc:studentDB&quot;</span>;<br>Class.forName(DBDriver);<br>Connection con=DriverManager.getConnection(connectionStr,â€œadmin<span class="hljs-string">&quot;,â€œadmin&quot;</span>);<br><span class="hljs-type">String</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot; UPDATE person SET salary=? WHERE name=? &quot;</span>; <span class="hljs-comment">//è®¾ç½®äº†2ä¸ªå‚æ•°</span><br>PreparedStatement pstmt=con. prepareStatement(sql) ;<br>pstmt.setInt(<span class="hljs-number">1</span>,<span class="hljs-number">5000</span>); <span class="hljs-comment">//ä¸ºç¬¬1ä¸ªå‚æ•°èµ‹å€¼ï¼Œæ ¹æ®å‚æ•°ç±»å‹çš„ä¸åŒè°ƒç”¨ä¸åŒæ–¹æ³•</span><br>pstmt.setString(<span class="hljs-number">2</span>,<span class="hljs-string">&quot;å¼ ä¸‰&quot;</span>) ; <span class="hljs-comment">//ä¸ºç¬¬2ä¸ªå‚æ•°èµ‹å€¼</span><br>pstmt.executeUpdate() ; <span class="hljs-comment">//æ‰§è¡ŒSQLè¯­å¥</span><br>con.close(); <span class="hljs-comment">//å…³é—­è¿æ¥</span><br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="7-äº‹ç‰©"><a href="#7-äº‹ç‰©" class="headerlink" title="7 | äº‹ç‰©"></a>7 | äº‹ç‰©</h2><ul><li><p>äº‹åŠ¡ç”±ä¸€ç»„SQLè¯­å¥ç»„æˆã€‚äº‹åŠ¡å¤„ç†æŒ‡åº”ç”¨ç¨‹åºä¿è¯äº‹åŠ¡ä¸­çš„SQLè¯­ å¥è¦ä¹ˆå…¨éƒ¨æ‰§è¡Œï¼Œè¦ä¹ˆä¸€ä¸ªéƒ½ä¸æ‰§è¡Œã€‚</p></li><li><p>JDBCäº‹åŠ¡å¤„ç†æ­¥éª¤ï¼š</p><ul><li>ç”¨setAutoCommit(boolean b)æ–¹æ³•å…³é—­è‡ªåŠ¨æäº¤æ¨¡å¼</li><li>ç”¨commit()æ–¹æ³•å¤„ç†äº‹åŠ¡</li><li>ç”¨rollback()æ–¹æ³•å¤„ç†äº‹åŠ¡å›æ»š</li></ul></li><li><p>setAutoCommit(boolean b) æ–¹æ³•ï¼š</p><p>ç”¨Connectionçš„å¯¹è±¡è°ƒç”¨è¯¥æ–¹æ³•è®¾ç½®æäº¤æ¨¡å¼</p><ul><li>å…ˆå…³é—­è‡ªåŠ¨æäº¤æ¨¡å¼ ï¼š conn.setAutoCommit(false);</li><li>ç„¶åè·å–Statementå¯¹è±¡stï¼š st=conn.createStatement();</li></ul></li><li><p>commit()æ–¹æ³•å¤„ç†äº‹åŠ¡</p><p>ç”¨Connectionçš„å¯¹è±¡è°ƒç”¨è¯¥æ–¹æ³•è®©äº‹åŠ¡ä¸­çš„å…¨éƒ¨SQLè¯­å¥ç”Ÿæ•ˆ </p><ul><li>conn.commit();</li></ul></li><li><p>rollback()æ–¹æ³•è¿›è¡Œäº‹åŠ¡å›æ»š</p><p>ç”¨Connectionçš„å¯¹è±¡è°ƒç”¨è¯¥æ–¹æ³•æ’¤é”€äº‹åŠ¡ä¸­å·²ç»æˆåŠŸæ‰§è¡Œçš„å¯¹æ•°æ®åº“è¿›è¡Œæ›´æ–° æ“ä½œçš„SQLè¯­å¥ï¼Œå°†æ•°æ®æ¢å¤åˆ°commit()æ–¹æ³•æ‰§è¡Œä¹‹å‰çš„çŠ¶æ€ã€‚</p><ul><li>conn.rollback();</li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç”¨Javaå®ç°ç®€å•çš„åŒºå—é“¾</title>
    <link href="/2022/05/14/%E7%94%A8Java%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E7%9A%84%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    <url>/2022/05/14/%E7%94%A8Java%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E7%9A%84%E5%8C%BA%E5%9D%97%E9%93%BE/</url>
    
    <content type="html"><![CDATA[<blockquote><p>åŒºå—é“¾æ˜¯åˆ†å¸ƒå¼æ•°æ®å­˜å‚¨ã€ç‚¹å¯¹ç‚¹ä¼ è¾“ã€å…±è¯†æœºåˆ¶ã€åŠ å¯†ç®—æ³•ç­‰è®¡ç®—æœºæŠ€æœ¯çš„æ–°å‹åº”ç”¨æ¨¡å¼ã€‚æ‰€è°“å…±è¯†æœºåˆ¶æ˜¯åŒºå—é“¾ç³»ç»Ÿä¸­å®ç°ä¸åŒèŠ‚ç‚¹ä¹‹é—´å»ºç«‹ä¿¡ä»»ã€è·å–æƒç›Šçš„æ•°å­¦ç®—æ³• ã€‚</p></blockquote><h2 id="ç”¨Javaåˆ›å»ºåŒºå—é“¾"><a href="#ç”¨Javaåˆ›å»ºåŒºå—é“¾" class="headerlink" title="ç”¨Javaåˆ›å»ºåŒºå—é“¾"></a>ç”¨Javaåˆ›å»ºåŒºå—é“¾</h2><p>å®ç°åŠŸèƒ½</p><ul><li>æœ‰å¾ˆå¤šåŒºå—ç»„æˆç”¨æ¥å­˜å‚¨æ•°æ®</li><li>æœ‰æ•°å­—ç­¾åè®©ä½ çš„åŒºå—é“¾é“¾æ¥åœ¨ä¸€èµ·</li><li>éœ€è¦æŒ–çŸ¿çš„å·¥ä½œé‡è¯æ˜æ–°çš„åŒºå—</li><li>å¯ä»¥ç”¨æ¥æ£€æŸ¥æ•°æ®æ˜¯å¦æ˜¯æœ‰æ•ˆçš„åŒæ—¶æ˜¯æœªç»ç¯¡æ”¹çš„</li></ul><h3 id="åˆ›å»ºåŒºå—é“¾"><a href="#åˆ›å»ºåŒºå—é“¾" class="headerlink" title="åˆ›å»ºåŒºå—é“¾"></a>åˆ›å»ºåŒºå—é“¾</h3><p>åŒºå—é“¾å°±æ˜¯ä¸€ä¸²æˆ–è€…æ˜¯ä¸€ç³»åˆ—åŒºå—çš„é›†åˆï¼Œç±»ä¼¼äºé“¾è¡¨çš„æ¦‚å¿µï¼Œæ¯ä¸ªåŒºå—éƒ½æŒ‡å‘äºåé¢ä¸€ä¸ªåŒºå—ï¼Œç„¶åé¡ºåºçš„è¿æ¥åœ¨ä¸€èµ·ã€‚åœ¨åŒºå—é“¾ä¸­çš„æ¯ä¸€ä¸ªåŒºå—éƒ½å­˜æ”¾äº†å¾ˆå¤šå¾ˆæœ‰ä»·å€¼çš„ä¿¡æ¯ï¼ŒåŒºå—ä¸­å†…å®¹ä¸»è¦åŒ…æ‹¬ä¸‰ä¸ªéƒ¨åˆ†ï¼šè‡ªå·±çš„æ•°å­—ç­¾åï¼Œä¸Šä¸€ä¸ªåŒºå—çš„æ•°å­—ç­¾åï¼Œè¿˜æœ‰ä¸€åˆ‡éœ€è¦åŠ å¯†çš„æ•°æ®ï¼ˆè¿™äº›æ•°æ®åœ¨æ¯”ç‰¹å¸ä¸­å°±ç›¸å½“äºæ˜¯äº¤æ˜“çš„ä¿¡æ¯ï¼Œå®ƒæ˜¯åŠ å¯†è´§å¸çš„æœ¬è´¨ï¼‰ã€‚æ¯ä¸ªæ•°å­—ç­¾åä¸ä½†è¯æ˜äº†è‡ªå·±æ˜¯ç‰¹æœ‰çš„ä¸€ä¸ªåŒºå—ï¼Œè€Œä¸”æŒ‡å‘äº†å‰ä¸€ä¸ªåŒºå—çš„æ¥æºï¼Œè®©æ‰€æœ‰çš„åŒºå—åœ¨é“¾æ¡ä¸­å¯ä»¥ä¸²èµ·æ¥ï¼Œè€Œæ•°æ®å°±æ˜¯ä¸€äº›ç‰¹å®šçš„ä¿¡æ¯ï¼Œå¯ä»¥æŒ‰ç…§ä¸šåŠ¡é€»è¾‘æ¥ä¿å­˜ä¸šåŠ¡æ•°æ®ã€‚</p><p><img src="https://raw.githubusercontent.com/longfeizheng/longfeizheng.github.io/master/images/qukuai/qukuai01.png" alt="åŒºå—é“¾ç¤ºæ„å›¾"></p><p>è¿™é‡Œçš„hashæŒ‡çš„å°±æ˜¯æ•°å­—ç­¾å</p><p>æ‰€ä»¥æ¯ä¸€ä¸ªåŒºå—ä¸ä»…åŒ…å«å‰ä¸€ä¸ªåŒºå—çš„hashå€¼ï¼ŒåŒæ—¶åŒ…å«è‡ªèº«çš„ä¸€ä¸ªhashå€¼ï¼Œè‡ªèº«çš„hashå€¼æ˜¯é€šè¿‡ä¹‹å‰çš„hashå€¼å’Œæ•°æ®dataé€šè¿‡hashè®¡ç®—å‡ºæ¥çš„ã€‚å¦‚æœå‰ä¸€ä¸ªåŒºå—çš„æ•°æ®ä¸€æ—¦è¢«ç¯¡æ”¹äº†ï¼Œé‚£ä¹ˆå‰ä¸€ä¸ªåŒºå—çš„hashå€¼ä¹Ÿä¼šåŒæ ·å‘ç”Ÿå˜åŒ–ï¼ˆå› ä¸ºæ•°æ®ä¹Ÿè¢«è®¡ç®—åœ¨å†…ï¼‰ï¼Œè¿™æ ·ä¹Ÿå°±å¯¼è‡´äº†æ‰€æœ‰åç»­çš„åŒºå—ä¸­çš„hashå€¼ã€‚æ‰€ä»¥è®¡ç®—å’Œæ¯”å¯¹hashå€¼ä¼šè®©æˆ‘ä»¬æ£€æŸ¥åˆ°å½“å‰çš„åŒºå—é“¾æ˜¯å¦æ˜¯æœ‰æ•ˆçš„ï¼Œä¹Ÿå°±é¿å…äº†æ•°æ®è¢«æ¶æ„ç¯¡æ”¹çš„å¯èƒ½æ€§ï¼Œå› ä¸ºç¯¡æ”¹æ•°æ®å°±ä¼šæ”¹å˜hashå€¼å¹¶ç ´åæ•´ä¸ªåŒºå—é“¾ã€‚</p><p><strong>å®šä¹‰åŒºå—é“¾çš„ç±»å¿«</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.Date;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Block</span> &#123;<br><span class="hljs-keyword">public</span> String hash;  <span class="hljs-comment">//å½“å‰åŒºå—çš„hash</span><br><span class="hljs-keyword">public</span> String previousHash;  <span class="hljs-comment">//å‰ä¸€ä¸ªåŒºå—çš„hash</span><br><span class="hljs-keyword">private</span> String data; <span class="hljs-comment">//å½“å‰åŒºå—çš„æ•°æ®</span><br><span class="hljs-keyword">private</span> <span class="hljs-type">long</span> timeStamp; <br><span class="hljs-comment">//åŒºå—æ„é€ </span><br><span class="hljs-keyword">public</span> <span class="hljs-title function_">Block</span><span class="hljs-params">(String data,String previousHash )</span> &#123;<br><span class="hljs-built_in">this</span>.data = data;<br><span class="hljs-built_in">this</span>.previousHash = previousHash;<br><span class="hljs-built_in">this</span>.timeStamp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().getTime();<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>åŸºæœ¬å—åŒ…å«String hashï¼Œå®ƒå°†ä¿å­˜æˆ‘ä»¬çš„æ•°å­—ç­¾åã€‚å˜é‡previoushashä¿å­˜å‰ä¸€ä¸ªå—çš„hashå’ŒString dataæ¥ä¿å­˜æˆ‘ä»¬çš„å—æ•°æ®</p><h3 id="åˆ›å»ºæ•°å­—ç­¾å"><a href="#åˆ›å»ºæ•°å­—ç­¾å" class="headerlink" title="åˆ›å»ºæ•°å­—ç­¾å"></a>åˆ›å»ºæ•°å­—ç­¾å</h3><p>åŒºå—é“¾å­˜å‚¨æ•°æ®çš„ä¼˜ç‚¹åœ¨äºæ•°æ®çš„åŠ å¯†æ€§ï¼ŒJavaæ–¹å¼å¯ä»¥å®ç°çš„åŠ å¯†æ–¹å¼æœ‰å¾ˆå¤šï¼Œå¦‚BASEã€MDã€RSAã€SHAç­‰ç­‰ã€‚é€‰ç”¨äº†SHA256è¿™ç§åŠ å¯†æ–¹å¼ï¼ŒSHAï¼ˆSecure Hash Algorithmï¼‰å®‰å…¨æ•£åˆ—ç®—æ³•ï¼Œå› ä¸ºè¿™ç§ç®—æ³•çš„ç‰¹ç‚¹æ˜¯æ•°æ®çš„å°‘é‡æ›´æ”¹ä¼šåœ¨Hashå€¼ä¸­äº§ç”Ÿä¸å¯é¢„çŸ¥çš„å¤§é‡æ›´æ”¹ï¼Œhashå€¼ç”¨ä½œè¡¨ç¤ºå¤§é‡æ•°æ®çš„å›ºå®šå¤§å°çš„å”¯ä¸€å€¼ï¼Œè€ŒSHA256ç®—æ³•çš„hashå€¼å¤§å°ä¸º256ä½ã€‚ä¹‹æ‰€ä»¥é€‰ç”¨SHA256æ˜¯å› ä¸ºå®ƒçš„å¤§å°æ­£åˆé€‚ï¼Œä¸€æ–¹é¢äº§ç”Ÿé‡å¤hashå€¼çš„å¯èƒ½æ€§å¾ˆå°ï¼Œå¦ä¸€æ–¹é¢åœ¨åŒºå—é“¾å®é™…åº”ç”¨è¿‡ç¨‹ä¸­ï¼Œæœ‰å¯èƒ½ä¼šäº§ç”Ÿå¤§é‡çš„åŒºå—ï¼Œè€Œä½¿å¾—ä¿¡æ¯é‡å¾ˆå¤§ï¼Œé‚£ä¹ˆ256ä½çš„å¤§å°å°±æ¯”è¾ƒæ°å½“äº†ã€‚</p><p>åˆ›å»ºä¸€ä¸ªStringUtilæ–¹æ³•æ¥æ–¹ä¾¿è°ƒç”¨SHA256ç®—æ³•</p><blockquote><p>æ‰€æœ‰çš„è¾“å…¥è°ƒç”¨æ­¤æ–¹æ³•åå‡ä¼šç”Ÿæˆä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„hashå€¼ï¼ˆæ•°å­—ç­¾åï¼‰ï¼Œè€Œè¿™ä¸ªhashå€¼åœ¨åŒºå—é“¾ä¸­æ˜¯éå¸¸é‡è¦çš„ã€‚</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.security.MessageDigest;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringUtil</span> &#123;<br><span class="hljs-comment">//å°†Sha256åº”ç”¨äºå­—ç¬¦ä¸²å¹¶è¿”å›ç»“æœ</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">applySha256</span><span class="hljs-params">(String input)</span>&#123;<br><span class="hljs-keyword">try</span> &#123;<br><span class="hljs-type">MessageDigest</span> <span class="hljs-variable">digest</span> <span class="hljs-operator">=</span> MessageDigest.getInstance(<span class="hljs-string">&quot;SHA-256&quot;</span>);        <br><span class="hljs-comment">//å°†sha256åº”ç”¨åˆ°æˆ‘ä»¬çš„è¾“å…¥</span><br><span class="hljs-type">byte</span>[] hash = digest.digest(input.getBytes(<span class="hljs-string">&quot;UTF-8&quot;</span>));        <br><span class="hljs-type">StringBuffer</span> <span class="hljs-variable">hexString</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuffer</span>(); <span class="hljs-comment">// è¿™å°†åŒ…å«å“ˆå¸Œåå…­è¿›åˆ¶</span><br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; hash.length; i++) &#123;<br><span class="hljs-type">String</span> <span class="hljs-variable">hex</span> <span class="hljs-operator">=</span> Integer.toHexString(<span class="hljs-number">0xff</span> &amp; hash[i]);<br><span class="hljs-keyword">if</span>(hex.length() == <span class="hljs-number">1</span>) hexString.append(<span class="hljs-string">&#x27;0&#x27;</span>);<br>hexString.append(hex);<br>&#125;<br><span class="hljs-keyword">return</span> hexString.toString();<br>&#125;<br><span class="hljs-keyword">catch</span>(Exception e) &#123;<br><span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨Blockç±»ä¸­åº”ç”¨ æ–¹æ³• applySha256 æ–¹æ³•ï¼Œå…¶ä¸»è¦çš„ç›®çš„å°±æ˜¯è®¡ç®—hashå€¼ï¼Œæˆ‘ä»¬è®¡ç®—çš„hashå€¼åº”è¯¥åŒ…æ‹¬åŒºå—ä¸­æ‰€æœ‰æˆ‘ä»¬ä¸å¸Œæœ›è¢«æ¶æ„ç¯¡æ”¹çš„æ•°æ®ï¼Œåœ¨æˆ‘ä»¬ä¸Šé¢æ‰€åˆ—çš„Blockç±»ä¸­å°±ä¸€å®šåŒ…æ‹¬previousHashï¼Œdataå’ŒtimeStampã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">calculateHash</span><span class="hljs-params">()</span> </span>&#123;<br>String calculatedhash = StringUtil.<span class="hljs-built_in">applySha256</span>( <br>previousHash +<br>Long.<span class="hljs-built_in">toString</span>(timeStamp) +<br>data <br>);<br><span class="hljs-keyword">return</span> calculatedhash;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç„¶åæŠŠè¿™ä¸ªæ–¹æ³•åŠ å…¥åˆ°Blockçš„æ„é€ å‡½æ•°ä¸­å»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-title function_">Block</span><span class="hljs-params">(String data,String previousHash )</span> &#123;<br><span class="hljs-built_in">this</span>.data = data;<br><span class="hljs-built_in">this</span>.previousHash = previousHash;<br><span class="hljs-built_in">this</span>.timeStamp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().getTime();<br><span class="hljs-built_in">this</span>.hash = calculateHash(); <span class="hljs-comment">//ç¡®ä¿æˆ‘ä»¬åœ¨è®¾ç½®å…¶ä»–å€¼ä¹‹åæ‰§è¡Œæ­¤æ“ä½œ</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h3><p>åœ¨ä¸»æ–¹æ³•ä¸­è®©æˆ‘ä»¬åˆ›å»ºä¸€äº›åŒºå—ï¼Œå¹¶æŠŠå…¶hashå€¼æ‰“å°å‡ºæ¥ã€‚</p><p>ç¬¬ä¸€ä¸ªå—ç§°ä¸ºåˆ›ä¸–çºªåŒºå—ï¼Œå› ä¸ºå®ƒæ˜¯å¤´åŒºå—ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¾“å…¥â€œ0â€ä½œä¸ºå‰ä¸€ä¸ªå—çš„previous hashã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BlockChainTest</span> &#123;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><br><span class="hljs-type">Block</span> <span class="hljs-variable">genesisBlock</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Block</span>(<span class="hljs-string">&quot;Hi im the first block&quot;</span>, <span class="hljs-string">&quot;0&quot;</span>);<br>System.out.println(<span class="hljs-string">&quot;Hash for block 1 : &quot;</span> + genesisBlock.hash);<br><br><span class="hljs-type">Block</span> <span class="hljs-variable">secondBlock</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Block</span>(<span class="hljs-string">&quot;Yo im the second block&quot;</span>,genesisBlock.hash);<br>System.out.println(<span class="hljs-string">&quot;Hash for block 2 : &quot;</span> + secondBlock.hash);<br><br><span class="hljs-type">Block</span> <span class="hljs-variable">thirdBlock</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Block</span>(<span class="hljs-string">&quot;Hey im the third block&quot;</span>,secondBlock.hash);<br>System.out.println(<span class="hljs-string">&quot;Hash for block 3 : &quot;</span> + thirdBlock.hash);<br><br>&#125;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">æ‰“å°ç»“æœå€¼ï¼š</span><br><span class="hljs-comment">Hash for block 1: 3d7404e05d96d8060feac1c554db5e06fcf7de65d6926698172f8e63e1c349c0</span><br><span class="hljs-comment">Hash for block 2: afbab7ab1e6c643581378312a4f83a021d0c2a9aa278e9bab83ce8e6eab5c220</span><br><span class="hljs-comment">Hash for block 3: 236206ef1a6534d8e53daaa33b9b6895cdbfbbc3b31fa2a52920207840f44984</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure><p>æ¯ä¸€ä¸ªåŒºå—éƒ½å¿…é¡»è¦æœ‰è‡ªå·±çš„æ•°æ®ç­¾åå³hashå€¼ï¼Œè¿™ä¸ªhashå€¼ä¾èµ–äºè‡ªèº«çš„ä¿¡æ¯ï¼ˆdataï¼‰å’Œä¸Šä¸€ä¸ªåŒºå—çš„æ•°å­—ç­¾åï¼ˆpreviousHashï¼‰ï¼Œä½†è¿™ä¸ªè¿˜ä¸æ˜¯åŒºå—é“¾ï¼Œä¸‹é¢å­˜å‚¨åŒºå—åˆ°æ•°ç»„ä¸­ï¼Œå¼•å…¥gsonåŒ…ï¼Œç›®çš„æ˜¯å¯ä»¥ç”¨jsonæ–¹å¼æŸ¥çœ‹æ•´ä¸ªä¸€æ¡åŒºå—é“¾ç»“æ„ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.ArrayList;<br><span class="hljs-keyword">import</span> com.google.gson.GsonBuilder;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">NoobChain</span> &#123;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ArrayList&lt;Block&gt; blockchain = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;Block&gt;(); <br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><span class="hljs-comment">//add our blocks to the blockchain ArrayList:</span><br>blockchain.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Block</span>(<span class="hljs-string">&quot;Hi im the first block&quot;</span>, <span class="hljs-string">&quot;0&quot;</span>));<br>blockchain.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Block</span>(<span class="hljs-string">&quot;Yo im the second block&quot;</span>,blockchain.get(blockchain.size()-<span class="hljs-number">1</span>).hash)); <br>blockchain.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Block</span>(<span class="hljs-string">&quot;Hey im the third block&quot;</span>,blockchain.get(blockchain.size()-<span class="hljs-number">1</span>).hash));<br><br><span class="hljs-type">String</span> <span class="hljs-variable">blockchainJson</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">GsonBuilder</span>().setPrettyPrinting().create().toJson(blockchain);<br>System.out.println(blockchainJson);<br>&#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™æ ·çš„è¾“å‡ºç»“æ„å°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„åŒºå—é“¾äº†</p><h3 id="æ£€æŸ¥åŒºå—é“¾çš„å®Œæ•´æ€§"><a href="#æ£€æŸ¥åŒºå—é“¾çš„å®Œæ•´æ€§" class="headerlink" title="æ£€æŸ¥åŒºå—é“¾çš„å®Œæ•´æ€§"></a>æ£€æŸ¥åŒºå—é“¾çš„å®Œæ•´æ€§</h3><p><strong>æ£€æµ‹åŸå› </strong></p><p>æˆ‘ä»¬å°±åœ¨ä¸€ä¸ªä¸»å‡½æ•°ä¸­åˆ›å»ºåŒºå—é“¾ä¸­çš„åŒºå—ï¼Œæ‰€ä»¥ä¸å­˜åœ¨è¢«ä¿®æ”¹çš„å¯èƒ½æ€§ï¼Œä½†æ˜¯åŒºå—é“¾ä¸­çš„ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µå°±æ˜¯å»ä¸­å¿ƒåŒ–ï¼Œæ¯ä¸€ä¸ªåŒºå—å¯èƒ½æ˜¯åœ¨ç½‘ç»œä¸­çš„æŸä¸€ä¸ªèŠ‚ç‚¹ä¸­äº§ç”Ÿçš„ï¼Œæ‰€ä»¥å¾ˆæœ‰å¯èƒ½æŸä¸ªèŠ‚ç‚¹æŠŠè‡ªå·±èŠ‚ç‚¹ä¸­çš„æ•°æ®ä¿®æ”¹äº†ï¼Œé‚£ä¹ˆæ ¹æ®ä¸Šè¿°çš„ç†è®ºæ•°æ®æ”¹å˜ä¼šå¯¼è‡´æ•´ä¸ªåŒºå—é“¾çš„ç ´è£‚ï¼Œä¹Ÿå°±æ˜¯åŒºå—é“¾å°±æ— æ•ˆäº†ã€‚</p><p><strong>æ£€æµ‹æ–¹æ³•</strong></p><p>åœ¨ä¸»æ–¹æ³•ä¸­å¢åŠ ä¸€ä¸ªisChainValid()æ–¹æ³•ï¼Œç›®çš„æ˜¯å¾ªç¯åŒºå—é“¾ä¸­çš„æ‰€æœ‰åŒºå—å¹¶ä¸”æ¯”è¾ƒhashå€¼ï¼Œè¿™ä¸ªæ–¹æ³•ç”¨æ¥æ£€æŸ¥hashå€¼æ˜¯å¦æ˜¯äºè®¡ç®—å‡ºæ¥çš„hashå€¼ç›¸ç­‰ï¼ŒåŒæ—¶previousHashå€¼æ˜¯å¦å’Œå‰ä¸€ä¸ªåŒºå—çš„hashå€¼ç›¸ç­‰ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Boolean <span class="hljs-title function_">isChainValid</span><span class="hljs-params">()</span> &#123;<br>Block currentBlock; <br>Block previousBlock;<br><br><span class="hljs-comment">//é€šè¿‡åŒºå—é“¾å¾ªç¯æ£€æŸ¥å“ˆå¸Œå€¼</span><br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>; i &lt; blockchain.size(); i++) &#123;<br>currentBlock = blockchain.get(i);<br>previousBlock = blockchain.get(i-<span class="hljs-number">1</span>);<br><span class="hljs-comment">//æ¯”è¾ƒæ³¨å†Œå“ˆå¸Œå’Œè®¡ç®—å“ˆå¸Œ</span><br><span class="hljs-keyword">if</span>(!currentBlock.hash.equals(currentBlock.calculateHash()) )&#123;<br>System.out.println(<span class="hljs-string">&quot;Current Hashes not equal&quot;</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><span class="hljs-comment">//æ¯”è¾ƒä»¥å‰çš„æ•£åˆ—å’Œå·²æ³¨å†Œçš„ä»¥å‰çš„æ•£åˆ—</span><br><span class="hljs-keyword">if</span>(!previousBlock.hash.equals(currentBlock.previousHash) ) &#123;<br>System.out.println(<span class="hljs-string">&quot;Previous Hashes not equal&quot;</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä»»ä½•åŒºå—é“¾ä¸­åŒºå—çš„æ”¹å˜éƒ½ä¼šå¯¼è‡´è¿™ä¸ªå‡½æ•°è¿”å›falseï¼Œä¹Ÿå°±è¯æ˜äº†åŒºå—é“¾æ— æ•ˆäº†ã€‚</p><h3 id="æŒ–çŸ¿"><a href="#æŒ–çŸ¿" class="headerlink" title="æŒ–çŸ¿"></a>æŒ–çŸ¿</h3><p>è¿™é‡Œæˆ‘ä»¬è¦æ±‚æŒ–çŸ¿è€…åšå·¥ä½œé‡è¯æ˜ï¼Œå…·ä½“çš„æ–¹å¼æ˜¯åœ¨åŒºå—ä¸­å°è¯•ä¸åŒçš„å‚æ•°å€¼ç›´åˆ°å®ƒçš„hashå€¼æ˜¯ä»ä¸€ç³»åˆ—çš„0å¼€å§‹çš„ã€‚è®©æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªåä¸ºnonceçš„intç±»å‹ä»¥åŒ…å«åœ¨æˆ‘ä»¬çš„calculatehashï¼ˆï¼‰æ–¹æ³•ä¸­ï¼Œä»¥åŠéœ€è¦çš„mineblockï¼ˆï¼‰æ–¹æ³•ã€‚</p><p><strong>æŒ–çŸ¿ç»“æœ</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs java">Trying to Mine block <span class="hljs-number">1.</span>.. <br>Block Mined!!! : 00000dc50c2b12ab2a8e73b61289098d9c360292920b66f80989fa8b9d1d0521<br>Trying to Mine block <span class="hljs-number">2.</span>.. <br>Block Mined!!! : 0000093a60840937825f338ff864c8b15106bdb8ea238b41aed80d75b2b51aa1<br>Trying to Mine block <span class="hljs-number">3.</span>.. <br>Block Mined!!! : 0000000b531c080dcdced198df76b9830dcf77cac4e237346f336f0383e0713a<br><br>Blockchain is Valid: <span class="hljs-literal">true</span><br>[<br>  &#123;<br>    <span class="hljs-string">&quot;hash&quot;</span>: <span class="hljs-string">&quot;00000dc50c2b12ab2a8e73b61289098d9c360292920b66f80989fa8b9d1d0521&quot;</span>,<br>    <span class="hljs-string">&quot;previousHash&quot;</span>: <span class="hljs-string">&quot;0&quot;</span>,<br>    <span class="hljs-string">&quot;data&quot;</span>: <span class="hljs-string">&quot;first&quot;</span>,<br>    <span class="hljs-string">&quot;timeStamp&quot;</span>: <span class="hljs-number">1652526937377</span>,<br>    <span class="hljs-string">&quot;nonce&quot;</span>: <span class="hljs-number">824286</span><br>  &#125;,<br>  &#123;<br>    <span class="hljs-string">&quot;hash&quot;</span>: <span class="hljs-string">&quot;0000093a60840937825f338ff864c8b15106bdb8ea238b41aed80d75b2b51aa1&quot;</span>,<br>    <span class="hljs-string">&quot;previousHash&quot;</span>: <span class="hljs-string">&quot;00000dc50c2b12ab2a8e73b61289098d9c360292920b66f80989fa8b9d1d0521&quot;</span>,<br>    <span class="hljs-string">&quot;data&quot;</span>: <span class="hljs-string">&quot;second&quot;</span>,<br>    <span class="hljs-string">&quot;timeStamp&quot;</span>: <span class="hljs-number">1652526938380</span>,<br>    <span class="hljs-string">&quot;nonce&quot;</span>: <span class="hljs-number">1073541</span><br>  &#125;,<br>  &#123;<br>    <span class="hljs-string">&quot;hash&quot;</span>: <span class="hljs-string">&quot;0000000b531c080dcdced198df76b9830dcf77cac4e237346f336f0383e0713a&quot;</span>,<br>    <span class="hljs-string">&quot;previousHash&quot;</span>: <span class="hljs-string">&quot;0000093a60840937825f338ff864c8b15106bdb8ea238b41aed80d75b2b51aa1&quot;</span>,<br>    <span class="hljs-string">&quot;data&quot;</span>: <span class="hljs-string">&quot;third&quot;</span>,<br>    <span class="hljs-string">&quot;timeStamp&quot;</span>: <span class="hljs-number">1652526939678</span>,<br>    <span class="hljs-string">&quot;nonce&quot;</span>: <span class="hljs-number">1844033</span><br>  &#125;<br>]<br></code></pre></td></tr></table></figure><h2 id="ç”¨Javaåˆ›å»ºå¯äº¤æ˜“çš„åŒºå—é“¾"><a href="#ç”¨Javaåˆ›å»ºå¯äº¤æ˜“çš„åŒºå—é“¾" class="headerlink" title="ç”¨Javaåˆ›å»ºå¯äº¤æ˜“çš„åŒºå—é“¾"></a>ç”¨Javaåˆ›å»ºå¯äº¤æ˜“çš„åŒºå—é“¾</h2><p>å®ç°åŠŸèƒ½</p><ul><li>åˆ›å»ºä¸€ä¸ªç®€å•çš„é’±åŒ…</li><li>ä½¿ç”¨æˆ‘ä»¬çš„åŒºå—é“¾å‘é€å¸¦ç­¾åçš„äº¤æ˜“</li></ul><blockquote><p>åˆ›å»ºä¸€ä¸ªåŸºæœ¬çš„åŒºå—é“¾åï¼Œä½†åœ¨åŒºå—é“¾ä¸­å­˜æ”¾çš„æ˜¯ä¸€äº›æ— ç”¨çš„ä¿¡æ¯ã€‚ç”¨äº¤æ˜“å–ä»£è¿™äº›ä¿¡æ¯ï¼ˆæˆ‘ä»¬çš„åŒºå—å°†èƒ½å¤Ÿä¿å­˜å¤šä¸ªäº¤æ˜“ï¼‰ï¼Œåˆ›å»ºä¸€ä¸ªéå¸¸ç®€å•çš„åŠ å¯†è´§å¸,è´§å¸åå­—NoobCoinã€‚</p><ul><li>å¯¼å…¥ bounceycastleå’ŒGSON</li></ul></blockquote><h3 id="å‡†å¤‡ä¸€ä¸ªé’±åŒ…"><a href="#å‡†å¤‡ä¸€ä¸ªé’±åŒ…" class="headerlink" title="å‡†å¤‡ä¸€ä¸ªé’±åŒ…"></a>å‡†å¤‡ä¸€ä¸ªé’±åŒ…</h3><p>åœ¨åŠ å¯†è´§å¸ä¸­ï¼Œåœ¨åŒºå—é“¾ä½œä¸ºäº¤æ˜“æ—¶ï¼Œè´§å¸æ‰€æœ‰æƒå¯ä»¥è¿›è¡Œè½¬ç§»ï¼Œæ¯ä¸ªå‚ä¸è€…éƒ½æœ‰ä¸€ä¸ªè‡ªå·±ç§æœ‰çš„åœ°å€æ¥å‘é€æˆ–è€…æ˜¯æ”¶å–è´§å¸ã€‚é’±åŒ…å¯ä»¥å­˜å‚¨è¿™äº›åœ°å€ã€‚å› æ­¤é’±åŒ…å°±æ˜¯å¯ä»¥åœ¨åŒºå—é“¾ä¸Šè¿›è¡Œæ–°äº¤æ˜“çš„è½¯ä»¶ã€‚ç±»ä¼¼äºå¾®ä¿¡æ”¯ä»˜ã€‚</p><p><img src="https://raw.githubusercontent.com/longfeizheng/longfeizheng.github.io/master/images/qukuai/qukuai02.png"></p><p>åˆ›å»ºä¸€ä¸ªé’±åŒ…ç±»æ¥ä¿å­˜å…¬é’¥å’Œç§é’¥ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c++">package noobchain;<br><span class="hljs-keyword">import</span> java.security.*;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Wallet</span> &#123;<br><span class="hljs-keyword">public</span> PrivateKey privateKey;<br><span class="hljs-keyword">public</span> PublicKey publicKey;<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>å…¬é’¥å’Œç§é’¥ç©¶ç«Ÿæ˜¯èµ·åˆ°ä»€ä¹ˆä½œç”¨å‘¢ï¼Œå…¶å®å…¬é’¥çš„ä½œç”¨å°±æ˜¯åœ°å€ï¼Œä½ å¯ä»¥åˆ†äº«ä½ çš„å…¬é’¥ç»™åˆ«äººä»¥æ­¤æ¥è·å–ä»˜æ¬¾ï¼Œè€Œä½ çš„ç§é’¥çš„ä½œç”¨æ˜¯ä¸ºäº†å¯¹äº¤æ˜“è¿›è¡Œç­¾åï¼Œè¿™æ ·å…¶ä»–äººå°±ä¸å¯ä»¥èŠ±è´¹ä½ çš„é‡‘é¢é™¤éå®ƒæ‹¥æœ‰ä½ çš„ç§é’¥ï¼Œæ‰€ä»¥å¯¹äºæ¯ä¸ªäººè€Œè¨€æˆ‘ä»¬å¿…é¡»ä¿æŠ¤å¥½æˆ‘ä»¬çš„ç§é’¥ï¼Œä¸èƒ½é€éœ²æˆ‘ä»¬çš„ç§é’¥ä¿¡æ¯ç»™å…¶ä»–äººã€‚åŒæ—¶åœ¨æˆ‘ä»¬è¿›è¡Œäº¤æ˜“çš„æ—¶å€™æˆ‘ä»¬ä¹Ÿä¼šåŒæ—¶å‘é€æˆ‘ä»¬çš„å…¬é’¥ç”±æ­¤æ¥éªŒè¯æˆ‘ä»¬çš„ç­¾åæ˜¯æœ‰æ•ˆçš„è€Œä¸”æ²¡æœ‰æ•°æ®è¢«ç¯¡æ”¹ã€‚ï¼ˆå¯ä»¥ç†è§£ä¸ºæ”¶æ¬¾ç å’Œä»˜æ¬¾ç ï¼‰</p></blockquote><p>æˆ‘ä»¬åœ¨å¯†é’¥å¯¹KeyPairç”Ÿæˆç§æœ‰å’Œå…¬é’¥ã€‚æˆ‘ä»¬å°†ä½¿ç”¨æ¤­åœ†æ›²çº¿åŠ å¯†æ¥ç”Ÿæˆæˆ‘ä»¬çš„å¯†é’¥å¯¹KeyPairã€‚è®©æˆ‘ä»¬å°†generateKeyPair()æ–¹æ³•æ·»åŠ åˆ°æˆ‘ä»¬çš„é’±åŒ…ç±»ä¸­ï¼Œå¹¶åœ¨æ„é€ å‡½æ•°ä¸­è°ƒç”¨å®ƒ:</p><blockquote><p>ç§é’¥ç”¨äºç­¾ç½²æˆ‘ä»¬ä¸æƒ³è¢«ç¯¡æ”¹çš„æ•°æ®ã€‚å…¬é’¥ç”¨äºéªŒè¯ç­¾åã€‚</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> noobchain;<br><span class="hljs-keyword">import</span> java.security.*;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Wallet</span> &#123;<br><br><span class="hljs-keyword">public</span> PrivateKey privateKey;<br><span class="hljs-keyword">public</span> PublicKey publicKey;<br><br><span class="hljs-keyword">public</span> <span class="hljs-title function_">Wallet</span><span class="hljs-params">()</span>&#123;<br>generateKeyPair();<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">generateKeyPair</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-keyword">try</span> &#123;<br><span class="hljs-type">KeyPairGenerator</span> <span class="hljs-variable">keyGen</span> <span class="hljs-operator">=</span> KeyPairGenerator.getInstance(<span class="hljs-string">&quot;ECDSA&quot;</span>,<span class="hljs-string">&quot;BC&quot;</span>);<br><span class="hljs-type">SecureRandom</span> <span class="hljs-variable">random</span> <span class="hljs-operator">=</span> SecureRandom.getInstance(<span class="hljs-string">&quot;SHA1PRNG&quot;</span>);<br><span class="hljs-type">ECGenParameterSpec</span> <span class="hljs-variable">ecSpec</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ECGenParameterSpec</span>(<span class="hljs-string">&quot;prime192v1&quot;</span>);<br><span class="hljs-comment">// åˆå§‹åŒ–å¯†é’¥ç”Ÿæˆå™¨å¹¶ç”ŸæˆKeyPair</span><br>keyGen.initialize(ecSpec, random);   <span class="hljs-comment">//256å­—èŠ‚æä¾›äº†å¯æ¥å—çš„å®‰å…¨çº§åˆ«</span><br>        <span class="hljs-type">KeyPair</span> <span class="hljs-variable">keyPair</span> <span class="hljs-operator">=</span> keyGen.generateKeyPair();<br>        <span class="hljs-comment">// ä»keyPairè®¾ç½®å…¬é’¥å’Œç§é’¥</span><br>        privateKey = keyPair.getPrivate();<br>        publicKey = keyPair.getPublic();<br>&#125;<span class="hljs-keyword">catch</span>(Exception e) &#123;<br><span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);<br>&#125;<br>&#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="äº¤æ˜“å’Œæ•°å­—ç­¾å"><a href="#äº¤æ˜“å’Œæ•°å­—ç­¾å" class="headerlink" title="äº¤æ˜“å’Œæ•°å­—ç­¾å"></a>äº¤æ˜“å’Œæ•°å­—ç­¾å</h3><p>æ¯ç¬”äº¤æ˜“å°†æºå¸¦ä¸€å®šä»¥ä¸‹ä¿¡æ¯ï¼š</p><ol><li>èµ„é‡‘ä»˜æ¬¾äººçš„å…¬åŒ™ä¿¡æ¯ã€‚</li><li>èµ„é‡‘æ”¶æ¬¾äººçš„å…¬åŒ™ä¿¡æ¯ã€‚</li><li>è¢«è½¬ç§»èµ„é‡‘çš„é‡‘é¢ã€‚</li><li>è¾“å…¥ï¼Œå®ƒæ˜¯å¯¹ä»¥å‰çš„äº¤æ˜“çš„å¼•ç”¨ï¼Œè¯æ˜å‘é€è€…æœ‰èµ„é‡‘å‘é€ã€‚</li><li>è¾“å‡ºï¼Œæ˜¾ç¤ºäº¤æ˜“ä¸­æ”¶æ¬¾æ–¹ç›¸å…³åœ°å€æ•°é‡ã€‚(è¿™äº›è¾“å‡ºè¢«å¼•ç”¨ä¸ºæ–°äº¤æ˜“çš„è¾“å…¥)</li><li>ä¸€ä¸ªåŠ å¯†ç­¾åï¼Œè¯æ˜è¯¥äº¤æ˜“æ˜¯ç”±åœ°å€çš„å‘é€è€…æ˜¯å‘é€çš„ï¼Œå¹¶ä¸”æ•°æ®æ²¡æœ‰è¢«æ›´æ”¹ã€‚(é˜»æ­¢ç¬¬ä¸‰æ–¹æœºæ„æ›´æ”¹å‘é€çš„æ•°é‡)</li></ol><p>åˆ›å»ºè¿™ä¸ªæ–°çš„äº¤æ˜“ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.security.*;<br><span class="hljs-keyword">import</span> java.util.ArrayList;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Transaction</span> &#123;<br><br><span class="hljs-keyword">public</span> String transactionId; <span class="hljs-comment">// åŒ…å«äº‹ç‰©çš„å“ˆå¸Œ</span><br><span class="hljs-keyword">public</span> PublicKey sender; <span class="hljs-comment">// ä»˜æ¬¾äººåœ°å€/å…¬é’¥</span><br><span class="hljs-keyword">public</span> PublicKey reciepient; <span class="hljs-comment">// æ”¶æ¬¾äººåœ°å€/å…¬é’¥</span><br><span class="hljs-keyword">public</span> <span class="hljs-type">float</span> value;<br><span class="hljs-keyword">public</span> <span class="hljs-type">byte</span>[] signature; <span class="hljs-comment">// é˜²æ­¢å…¶ä»–äººèŠ±æˆ‘ä»¬é’±åŒ…é‡Œçš„é’±</span><br><br><span class="hljs-keyword">public</span> ArrayList&lt;TransactionInput&gt; inputs = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;TransactionInput&gt;();<br><span class="hljs-keyword">public</span> ArrayList&lt;TransactionOutput&gt; outputs = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;TransactionOutput&gt;();<br><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-variable">sequence</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; <span class="hljs-comment">// ç”Ÿæˆäº†å¤šå°‘äº‹åŠ¡çš„ç²—ç•¥ç»Ÿè®¡</span><br><br><span class="hljs-comment">// æ„é€ : </span><br><span class="hljs-keyword">public</span> <span class="hljs-title function_">Transaction</span><span class="hljs-params">(PublicKey from, PublicKey to, <span class="hljs-type">float</span> value,  ArrayList&lt;TransactionInput&gt; inputs)</span> &#123;<br><span class="hljs-built_in">this</span>.sender = from;<br><span class="hljs-built_in">this</span>.reciepient = to;<br><span class="hljs-built_in">this</span>.value = value;<br><span class="hljs-built_in">this</span>.inputs = inputs;<br>&#125;<br><br><span class="hljs-comment">// è®¡ç®—äº‹åŠ¡æ•£åˆ—(å°†ç”¨ä½œå…¶Id)</span><br><span class="hljs-keyword">private</span> String <span class="hljs-title function_">calulateHash</span><span class="hljs-params">()</span> &#123;<br>sequence++; <span class="hljs-comment">//å¢åŠ åºåˆ—ä»¥é¿å…ä¸¤ä¸ªç›¸åŒçš„äº‹åŠ¡å…·æœ‰ç›¸åŒçš„æ•£åˆ—</span><br><span class="hljs-keyword">return</span> StringUtil.applySha256(<br>StringUtil.getStringFromKey(sender) +<br>StringUtil.getStringFromKey(reciepient) +<br>Float.toString(value) + sequence<br>);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æµ‹è¯•é’±åŒ…å’Œç­¾å"><a href="#æµ‹è¯•é’±åŒ…å’Œç­¾å" class="headerlink" title="æµ‹è¯•é’±åŒ…å’Œç­¾å"></a>æµ‹è¯•é’±åŒ…å’Œç­¾å</h3><p>ç®€å•çš„è¿›è¡Œä¸€äº›æµ‹è¯•ï¼Œåœ¨ä¸»æ–¹æ³•ä¸­å¢åŠ äº†ä¸€äº›æ–°çš„å˜é‡ä¹Ÿæ›¿æ¢äº†ä¹‹å‰åœ¨ä¸»æ–¹æ³•ä¸­çš„ä¸€äº›å†…å®¹ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.security.Security;<br><span class="hljs-keyword">import</span> java.util.ArrayList;<br><span class="hljs-keyword">import</span> java.util.Base64;<br><span class="hljs-keyword">import</span> com.google.gson.GsonBuilder;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">NoobChain</span> &#123;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ArrayList&lt;Block&gt; blockchain = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;Block&gt;();<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-variable">difficulty</span> <span class="hljs-operator">=</span> <span class="hljs-number">5</span>;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Wallet walletA;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Wallet walletB;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><span class="hljs-comment">//å°†blockæ·»åŠ åˆ°åŒºå—é“¾æ•°ç»„åˆ—è¡¨ä¸­</span><br>Security.addProvider(<span class="hljs-keyword">new</span> <span class="hljs-title class_">org</span>.bouncycastle.jce.provider.BouncyCastleProvider()); <br><span class="hljs-comment">//åˆ›å»ºé’±åŒ…Aå’ŒB</span><br>walletA = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Wallet</span>();<br>walletB = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Wallet</span>();<br><span class="hljs-comment">//æµ‹è¯•å…¬é’¥å’Œç§é’¥</span><br>System.out.println(<span class="hljs-string">&quot;Private and public keys:&quot;</span>);<br>System.out.println(StringUtil.getStringFromKey(walletA.privateKey));<br>System.out.println(StringUtil.getStringFromKey(walletA.publicKey));<br><span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªä»Aé’±åŒ…åˆ°Bé’±åŒ…äº¤æ˜“çš„æµ‹è¯•</span><br><span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Transaction</span>(walletA.publicKey, walletB.publicKey, <span class="hljs-number">5</span>, <span class="hljs-literal">null</span>);<br>transaction.generateSignature(walletA.privateKey);<br><span class="hljs-comment">//éªŒè¯ç­¾åå·¥ä½œï¼Œå¹¶ä»å…¬é’¥éªŒè¯å®ƒ</span><br>System.out.println(<span class="hljs-string">&quot;Is signature verified&quot;</span>);<br>System.out.println(transaction.verifiySignature());<br><br>&#125;<br></code></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°†åˆ›å»ºå¹¶éªŒè¯è¾“å…¥å’Œè¾“å‡ºï¼Œå¹¶æŠŠäº¤æ˜“ä¿å­˜åˆ°åŒºå—é“¾ä¸­å»ã€‚</p><h3 id="è¾“å…¥å’Œè¾“å‡º1ï¼šå¦‚ä½•éªŒè¯è´§å¸æ˜¯ä½ çš„"><a href="#è¾“å…¥å’Œè¾“å‡º1ï¼šå¦‚ä½•éªŒè¯è´§å¸æ˜¯ä½ çš„" class="headerlink" title="è¾“å…¥å’Œè¾“å‡º1ï¼šå¦‚ä½•éªŒè¯è´§å¸æ˜¯ä½ çš„"></a>è¾“å…¥å’Œè¾“å‡º1ï¼šå¦‚ä½•éªŒè¯è´§å¸æ˜¯ä½ çš„</h3><p>å¦‚æœä½ æ‹¥æœ‰1æ¯”ç‰¹å¸ï¼Œä½ å¿…é¡»å‰é¢å°±å¾—æ¥æ”¶1æ¯”ç‰¹å¸ã€‚æ¯”ç‰¹å¸çš„è´¦æœ¬ä¸ä¼šåœ¨ä½ çš„è´¦æˆ·ä¸­å¢åŠ ä¸€ä¸ªæ¯”ç‰¹å¸ä¹Ÿä¸ä¼šä»å‘é€è€…é‚£é‡Œå‡å»ä¸€ä¸ªæ¯”ç‰¹å¸ï¼Œå‘é€è€…åªèƒ½æŒ‡å‘ä»–/å¥¹ä¹‹å‰æ”¶åˆ°è¿‡ä¸€ä¸ªæ¯”ç‰¹å¸ï¼Œæ‰€ä»¥ä¸€ä¸ªäº¤æ˜“è¾“å‡ºè¢«åˆ›å»ºç”¨æ¥æ˜¾ç¤ºä¸€ä¸ªæ¯”ç‰¹å¸å‘é€ç»™ä½ çš„åœ°å€ï¼ˆäº¤æ˜“çš„è¾“å…¥æŒ‡å‘å‰ä¸€ä¸ªäº¤æ˜“çš„è¾“å‡ºï¼‰ã€‚</p><p><strong>ä½ çš„é’±åŒ…ä½™é¢æ˜¯æ‰€æœ‰æœªä½¿ç”¨çš„äº¤æ˜“è¾“å‡ºçš„æ€»å’Œ</strong></p><p>åˆ›å»ºTransactionInput ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TransactionInput</span> &#123;<br><span class="hljs-keyword">public</span> String transactionOutputId; <span class="hljs-comment">//Reference to TransactionOutputs -&gt; transactionId</span><br><span class="hljs-keyword">public</span> TransactionOutput UTXO; <span class="hljs-comment">//Contains the Unspent transaction output</span><br><br><span class="hljs-keyword">public</span> <span class="hljs-title function_">TransactionInput</span><span class="hljs-params">(String transactionOutputId)</span> &#123;<br><span class="hljs-built_in">this</span>.transactionOutputId = transactionOutputId;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>è¿™ä¸ªç±»å°†ç”¨äºå¼•ç”¨å°šæœªä½¿ç”¨çš„transactionoutputã€‚transactionOutputIdå°†ç”¨äºæŸ¥æ‰¾ç›¸å…³çš„TransactionOutputï¼Œå…è®¸çŸ¿å·¥æ£€æŸ¥æ‚¨çš„æ‰€æœ‰æƒã€‚</p></blockquote><p>åˆ›å»ºTransactionOutputsç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.security.PublicKey;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TransactionOutput</span> &#123;<br><span class="hljs-keyword">public</span> String id;<br><span class="hljs-keyword">public</span> PublicKey reciepient; <span class="hljs-comment">//é’±çš„æ¥æ”¶è€…</span><br><span class="hljs-keyword">public</span> <span class="hljs-type">float</span> value; <span class="hljs-comment">//æ‹¥æœ‰é’±çš„æ•°é‡</span><br><span class="hljs-keyword">public</span> String parentTransactionId; <span class="hljs-comment">//åˆ›å»ºæ­¤è¾“å‡ºçš„äº‹åŠ¡çš„id</span><br><span class="hljs-comment">//æ„é€ </span><br><span class="hljs-keyword">public</span> <span class="hljs-title function_">TransactionOutput</span><span class="hljs-params">(PublicKey reciepient, <span class="hljs-type">float</span> value, String parentTransactionId)</span> &#123;<br><span class="hljs-built_in">this</span>.reciepient = reciepient;<br><span class="hljs-built_in">this</span>.value = value;<br><span class="hljs-built_in">this</span>.parentTransactionId = parentTransactionId;<br><span class="hljs-built_in">this</span>.id = StringUtil.applySha256(StringUtil.getStringFromKey(reciepient)+Float.toString(value)+parentTransactionId);<br>&#125;<br><br><span class="hljs-comment">//æ£€æŸ¥é’±æ˜¯å¦å±äºä½ </span><br><span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isMine</span><span class="hljs-params">(PublicKey publicKey)</span> &#123;<br><span class="hljs-keyword">return</span> (publicKey == reciepient);<br>&#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><p>äº¤æ˜“è¾“å‡ºç±»å°†æ˜¾ç¤ºä»äº¤æ˜“ä¸­å‘é€ç»™æ¯ä¸€æ–¹çš„æœ€ç»ˆé‡‘é¢ã€‚è¿™äº›ä½œä¸ºæ–°äº¤æ˜“ä¸­çš„è¾“å…¥å‚è€ƒï¼Œä½œä¸ºè¯æ˜ä½ å¯ä»¥å‘é€çš„é‡‘é¢æ•°é‡ã€‚</p><h3 id="è¾“å…¥å’Œè¾“å‡º2ï¼šå¤„ç†äº¤æ˜“"><a href="#è¾“å…¥å’Œè¾“å‡º2ï¼šå¤„ç†äº¤æ˜“" class="headerlink" title="è¾“å…¥å’Œè¾“å‡º2ï¼šå¤„ç†äº¤æ˜“"></a>è¾“å…¥å’Œè¾“å‡º2ï¼šå¤„ç†äº¤æ˜“</h3><p>åŒºå—é“¾å¯èƒ½ä¼šæ”¶åˆ°å¾ˆå¤šäº¤æ˜“ï¼Œè€ŒåŒºå—é“¾å¯èƒ½ä¼šéå¸¸é•¿ï¼Œå› ä¸ºå¿…é¡»æŸ¥æ‰¾å¹¶æ£€æŸ¥å…¶è¾“å…¥ï¼Œæ‰€ä»¥å¯èƒ½éœ€è¦éå¸¸é•¿çš„æ—¶é—´æ¥å¤„ç†æ–°çš„äº¤æ˜“ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ä¿å­˜äº†ä¸€ä¸ªé¢å¤–çš„é›†åˆç§°ä¹‹ä¸ºä¸ºä½¿ç”¨çš„äº¤æ˜“ä½œä¸ºå¯ç”¨çš„è¾“å…¥,æ‰€ä»¥åœ¨ä¸»å‡½æ•°ä¸­å¢åŠ ä¸€ä¸ªé›†åˆç§°ä¸ºUTXOã€‚</p><p>åœ¨äº¤æ˜“ç±»ä¸­å¢åŠ ä¸€ä¸ªprocessTransactionæ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯æŠŠä¸€åˆ‡æ”¾åœ¨ä¸€èµ·ç”¨æ¥å¤„ç†äº¤æ˜“ã€‚</p><p>é€šè¿‡è¿™ç§æ–¹æ³•ï¼Œæˆ‘ä»¬æ‰§è¡Œä¸€äº›æ£€æŸ¥ä»¥ç¡®ä¿äº¤æ˜“æœ‰æ•ˆï¼Œç„¶åæ”¶é›†è¾“å…¥å¹¶ç”Ÿæˆè¾“å‡ºã€‚æœ€é‡è¦çš„æ˜¯ï¼Œæœ€åï¼Œæˆ‘ä»¬æŠ›å¼ƒäº†è¾“å…¥åœ¨æˆ‘ä»¬çš„UTXOåˆ—è¡¨ï¼Œè¿™å°±æ„å‘³ç€ä¸€ä¸ªå¯ä»¥ä½¿ç”¨çš„äº¤æ˜“è¾“å‡ºå¿…é¡»ä¹‹å‰ä¸€å®šæ˜¯è¾“å…¥ï¼Œæ‰€ä»¥è¾“å…¥çš„å€¼å¿…é¡»è¢«å®Œå…¨ä½¿ç”¨ï¼Œæ‰€ä»¥ä»˜æ¬¾äººå¿…é¡»æ”¹å˜å®ƒä»¬è‡ªèº«çš„é‡‘é¢çŠ¶æ€ã€‚</p><h3 id="æ·»åŠ äº¤æ˜“åˆ°åŒºå—ä¸­"><a href="#æ·»åŠ äº¤æ˜“åˆ°åŒºå—ä¸­" class="headerlink" title="æ·»åŠ äº¤æ˜“åˆ°åŒºå—ä¸­"></a>æ·»åŠ äº¤æ˜“åˆ°åŒºå—ä¸­</h3><p>ç°åœ¨å·²ç»æœ‰äº†ä¸€ä¸ªæœ‰æ•ˆçš„äº¤æ˜“ç³»ç»Ÿï¼Œéœ€è¦æŠŠäº¤æ˜“åŠ å…¥åˆ°æˆ‘ä»¬çš„åŒºå—é“¾ä¸­ã€‚æŠŠäº¤æ˜“åˆ—è¡¨æ›¿æ¢æˆ‘ä»¬å—ä¸­æ— ç”¨çš„æ•°æ®ï¼Œä½†æ˜¯åœ¨ä¸€ä¸ªå•ä¸€çš„åŒºå—ä¸­å¯èƒ½å­˜æ”¾äº†1000ä¸ªäº¤æ˜“ï¼Œè¿™å°±ä¼šå¯¼è‡´å¤§é‡çš„hashè®¡ç®—ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨äº†äº¤æ˜“çš„merkle rootï¼Œå¢åŠ ä¸€ä¸ªå¸®åŠ©æ–¹æ³•æ¥åˆ›å»ºmerkle rootåœ¨StringUtilsç±»ä¸­ã€‚</p><p>åœ¨StringUtilsç±»ä¸­åˆ›å»ºgetMerkleRootæ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">getMerkleRoot</span><span class="hljs-params">(ArrayList&lt;Transaction&gt; transactions)</span> &#123;<br><span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> transactions.size();<br>ArrayList&lt;String&gt; previousTreeLayer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;String&gt;();<br><span class="hljs-keyword">for</span>(Transaction transaction : transactions) &#123;<br>previousTreeLayer.add(transaction.transactionId);<br>&#125;<br>ArrayList&lt;String&gt; treeLayer = previousTreeLayer;<br><span class="hljs-keyword">while</span>(count &gt; <span class="hljs-number">1</span>) &#123;<br>treeLayer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;String&gt;();<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>; i &lt; previousTreeLayer.size(); i++) &#123;<br>treeLayer.add(applySha256(previousTreeLayer.get(i-<span class="hljs-number">1</span>) + previousTreeLayer.get(i)));<br>&#125;<br>count = treeLayer.size();<br>previousTreeLayer = treeLayer;<br>&#125;<br><span class="hljs-type">String</span> <span class="hljs-variable">merkleRoot</span> <span class="hljs-operator">=</span> (treeLayer.size() == <span class="hljs-number">1</span>) ? treeLayer.get(<span class="hljs-number">0</span>) : <span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">return</span> merkleRoot;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¿®æ”¹Blockç±»ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯è¿˜æ›´æ–°äº†Blockæ„é€ å‡½æ•°ï¼Œå› ä¸ºæˆ‘ä»¬ä¸å†éœ€è¦ä¼ é€’å­—ç¬¦ä¸²æ•°æ®ï¼Œå¹¶å°†merkle rootåŒ…å«åœ¨è®¡ç®—å“ˆå¸Œæ–¹æ³•ä¸­ã€‚addTransactionæ–¹æ³•ç”¨æ¥å¢åŠ äº¤æ˜“ï¼Œåªæœ‰æ»¡è¶³æ¡ä»¶ä¸‹æ‰å¯ä»¥æˆåŠŸçš„åœ¨åŒºå—ä¸­å¢åŠ äº¤æ˜“ã€‚</p><p>å®ç°äº†ä¸€ä¸ªå¯äº¤æ˜“çš„åŒºå—é“¾ã€‚</p><h3 id="æµ‹è¯•-1"><a href="#æµ‹è¯•-1" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h3><p>åº”è¯¥æµ‹è¯•ä»é’±åŒ…å‘é€è´§å¸ï¼Œæ›´æ–°åŒºå—é“¾å¹¶è¿›è¡Œæœ‰æ•ˆæ€§æ£€æŸ¥ã€‚ä½†é¦–å…ˆéœ€è¦ä¸€ç§å°†æ–°ç¡¬å¸å¼•å…¥æ··åˆçš„æ–¹æ³•ã€‚æœ‰å¾ˆå¤šæ–¹æ³•æ¥åˆ›å»ºæ–°çš„ç¡¬å¸ã€‚åœ¨æ¯”ç‰¹å¸åŒºå—é“¾ä¸Šï¼Œæœ‰å¾ˆå¤šæ–¹æ³•å¯ä»¥åˆ›é€ æ–°çš„æ¯”ç‰¹å¸:çŸ¿å·¥å¯ä»¥å°†äº¤æ˜“åŒ…æ‹¬åœ¨å†…ï¼Œä½œä¸ºå¯¹æ¯ä¸ªçŸ¿å·¥æŒ–çŸ¿çš„å¥–åŠ±ã€‚ä½†åœ¨è¿™é‡Œæˆ‘ä»¬åªå¸Œæœ›åœ¨åˆ›ä¸–çºªåŒºå—ä¸­é‡Šæ”¾è´§å¸ã€‚å°±åƒæ¯”ç‰¹å¸ä¸­ä¸€ä¸‹ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¿®æ”¹æˆ‘ä»¬çš„ä¸»å‡½æ•°ä»¥è¾¾åˆ°ä¸‹é¢çš„ç›®çš„ã€‚</p><ol><li>åˆ›ä¸–çºªåŒºå—å‘å¸ƒ100ä¸ªè´§å¸ç»™walletA</li><li>ä¸€ä¸ªæ›´æ–°çš„é“¾æœ‰æ•ˆæ€§æ£€æŸ¥ï¼Œè€ƒè™‘åˆ°äº¤æ˜“ã€‚</li><li>æµ‹è¯•äº¤æ˜“çœ‹æ˜¯å¦ä¸€åˆ‡æ­£å¸¸ã€‚</li></ol><p>äº¤æ˜“ç»“æœï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs java">Creating and Mining Genesis block... <br>Transaction Successfully added to Block<br>Block Mined!!! : 0002eb314ecaaeeb77ffd7f83d90ce7dc197dadd2ca5484bebd225bf6b81d3fc<br><br>WalletA<span class="hljs-string">&#x27;s balance is: 100.0</span><br><span class="hljs-string"></span><br><span class="hljs-string">WalletA is Attempting to send funds (40) to WalletB...</span><br><span class="hljs-string">Transaction Successfully added to Block</span><br><span class="hljs-string">Block Mined!!! : 000a29ee3221960020a4f382e728b08b02f1dcf6707bcc8a1499e29c3c03adf8</span><br><span class="hljs-string"></span><br><span class="hljs-string">WalletA&#x27;</span>s balance is: <span class="hljs-number">60.0</span><br>WalletB<span class="hljs-string">&#x27;s balance is: 40.0</span><br><span class="hljs-string"></span><br><span class="hljs-string">WalletA Attempting to send more funds (1000) than it has...</span><br><span class="hljs-string">#Not Enough funds to send transaction. Transaction Discarded.</span><br><span class="hljs-string">Block Mined!!! : 0008917b5fc51ea7eb74dd6295c20b744cd8d4f90db2fb4fd627c6c47eb7583a</span><br><span class="hljs-string"></span><br><span class="hljs-string">WalletA&#x27;</span>s balance is: <span class="hljs-number">60.0</span><br>WalletB<span class="hljs-string">&#x27;s balance is: 40.0</span><br><span class="hljs-string"></span><br><span class="hljs-string">WalletB is Attempting to send funds (20) to WalletA...</span><br><span class="hljs-string">Transaction Successfully added to Block</span><br><span class="hljs-string"></span><br><span class="hljs-string">WalletA&#x27;</span>s balance is: <span class="hljs-number">80.0</span><br>WalletB<span class="hljs-string">&#x27;s balance is: 20.0</span><br><span class="hljs-string">Blockchain is valid</span><br></code></pre></td></tr></table></figure><p>ç°åœ¨é’±åŒ…èƒ½å¤Ÿå®‰å…¨åœ°åœ¨æ‚¨çš„åŒºå—é“¾ä¸Šå‘é€é‡‘é¢ï¼Œåªè¦ä»–ä»¬æœ‰é‡‘é¢å‘é€ã€‚è¿™æ„å‘³ç€ä½ æœ‰ä½ è‡ªå·±çš„æœ¬åœ°åŠ å¯†è´§å¸.</p><h3 id="å®Œæ•´çš„å¯ä»¥è¿›è¡Œäº¤æ˜“çš„åŒºå—é“¾"><a href="#å®Œæ•´çš„å¯ä»¥è¿›è¡Œäº¤æ˜“çš„åŒºå—é“¾" class="headerlink" title="å®Œæ•´çš„å¯ä»¥è¿›è¡Œäº¤æ˜“çš„åŒºå—é“¾"></a>å®Œæ•´çš„å¯ä»¥è¿›è¡Œäº¤æ˜“çš„åŒºå—é“¾</h3><p>æˆåŠŸåœ°åˆ›å»ºäº†è‡ªå·±çš„åŠ å¯†è´§å¸ã€‚å®Œæ•´çš„å¯ä»¥è¿›è¡Œäº¤æ˜“çš„åŒºå—é“¾åŠŸèƒ½å®ç°ï¼š</p><ul><li>å…è®¸ç”¨æˆ·åˆ›å»ºé’±åŒ…</li><li>ä½¿ç”¨æ¤­åœ†æ›²çº¿åŠ å¯†æ–¹å¼ä¸ºé’±åŒ…æä¾›å…¬é’¥å’Œç§é’¥</li><li>é€šè¿‡ä½¿ç”¨æ•°å­—ç­¾åç®—æ³•è¯æ˜æ‰€æœ‰æƒï¼Œç¡®ä¿èµ„é‡‘è½¬ç§»</li><li>å…è®¸ç”¨æˆ·åœ¨åŒºå—é“¾ä¸Šè¿›è¡Œäº¤æ˜“</li></ul><p>å‚è€ƒåšå®¢ï¼š</p><ul><li><a href="https://niocoder.com/2018/03/10/%E7%94%A8Java%E5%88%9B%E5%BB%BA%E4%BD%A0%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%8C%BA%E5%9D%97%E9%93%BE-part1/">https://niocoder.com/2018/03/10/%E7%94%A8Java%E5%88%9B%E5%BB%BA%E4%BD%A0%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%8C%BA%E5%9D%97%E9%93%BE-part1/</a></li><li><a href="https://niocoder.com/2018/03/11/%E7%94%A8Java%E5%88%9B%E5%BB%BA%E4%BD%A0%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%8C%BA%E5%9D%97%E9%93%BE-part2/">https://niocoder.com/2018/03/11/%E7%94%A8Java%E5%88%9B%E5%BB%BA%E4%BD%A0%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%8C%BA%E5%9D%97%E9%93%BE-part2/</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>åŒºå—é“¾</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŒºå—é“¾</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ»‘åŠ¨çª—å£</title>
    <link href="/2022/05/12/%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/"/>
    <url>/2022/05/12/%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/</url>
    
    <content type="html"><![CDATA[<h2 id="æ»‘åŠ¨çª—å£"><a href="#æ»‘åŠ¨çª—å£" class="headerlink" title="æ»‘åŠ¨çª—å£"></a>æ»‘åŠ¨çª—å£</h2><h4 id="åŸºæœ¬æ¦‚å¿µ"><a href="#åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="åŸºæœ¬æ¦‚å¿µ"></a>åŸºæœ¬æ¦‚å¿µ</h4><p>æ»‘åŠ¨çª—å£æ˜¯ä¸€ç§åŸºäºåŒæŒ‡é’ˆçš„ä¸€ç§æ€æƒ³ï¼Œä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘çš„å…ƒç´ ä¹‹é—´å½¢æˆä¸€ä¸ªçª—å£ã€‚</p><p><strong>åˆ†ç±»ï¼š</strong>çª—å£æœ‰ä¸¤ç±»ï¼Œä¸€ç§æ˜¯å›ºå®šå¤§å°ç±»çš„çª—å£ï¼Œä¸€ç±»æ˜¯å¤§å°åŠ¨æ€å˜åŒ–çš„çª—å£ã€‚</p><p><strong>åº”ç”¨ï¼š</strong>ä»€ä¹ˆæƒ…å†µå¯ä»¥ç”¨æ»‘åŠ¨çª—å£æ¥è§£å†³å®é™…é—®é¢˜å‘¢ï¼Ÿ</p><ul><li>ä¸€èˆ¬ç»™å‡ºçš„æ•°æ®ç»“æ„æ˜¯æ•°ç»„æˆ–è€…å­—ç¬¦ä¸²</li><li>æ±‚å–æŸä¸ªå­ä¸²æˆ–è€…å­åºåˆ—æœ€é•¿æœ€çŸ­ç­‰æœ€å€¼é—®é¢˜æˆ–è€…æ±‚æŸä¸ªç›®æ ‡å€¼æ—¶</li><li>è¯¥é—®é¢˜æœ¬èº«å¯ä»¥é€šè¿‡æš´åŠ›æ±‚è§£</li></ul><h4 id="æ ¸å¿ƒæ€è·¯"><a href="#æ ¸å¿ƒæ€è·¯" class="headerlink" title="æ ¸å¿ƒæ€è·¯"></a>æ ¸å¿ƒæ€è·¯</h4><p><strong>çª—å£çš„å½¢æˆ</strong></p><p>åœ¨å…·ä½“ä½¿ç”¨ä¹‹å‰ï¼Œæˆ‘ä»¬çŸ¥é“çª—å£å®é™…æ˜¯ä¸¤ä¸ªæŒ‡é’ˆä¹‹é—´å½¢æˆçš„åŒºåŸŸï¼Œé‚£å…³é”®å°±æ˜¯è¿™ä¸¤ä¸ªæŒ‡é’ˆæ˜¯å¦‚ä½•ç§»åŠ¨çš„ã€‚</p><ol><li>åˆå§‹æ—¶ï¼Œå·¦å³æŒ‡é’ˆleft,rightéƒ½æŒ‡å‘ç¬¬0ä¸ªå…ƒç´ ï¼Œçª—å£ä¸º[left,right)ï¼Œæ³¨æ„è¿™é‡Œæ˜¯å·¦é—­å³å¼€ï¼Œå› æ­¤åˆå§‹çª—å£[0,0)åŒºé—´æ²¡æœ‰å…ƒç´ ï¼Œç¬¦åˆæˆ‘ä»¬çš„åˆå§‹å®šä¹‰</li><li>å¼€å§‹å¾ªç¯éå†æ•´ä¸ªæ•°ç»„å…ƒç´ ï¼Œåˆ¤æ–­å½“å‰rightæŒ‡é’ˆæ˜¯å¦è¶…è¿‡æ•´ä¸ªæ•°ç»„çš„é•¿åº¦ï¼Œæ˜¯é€€å‡ºå¾ªç¯ï¼Œå¦åˆ™æ‰§è¡Œç¬¬3æ­¥</li><li>ç„¶årightæŒ‡é’ˆå¼€å§‹å‘å³ç§»åŠ¨ä¸€ä¸ªé•¿åº¦ï¼Œå¹¶æ›´æ–°çª—å£å†…çš„åŒºé—´æ•°æ®</li><li>å½“çª—å£åŒºé—´çš„æ•°æ®æ»¡è¶³æˆ‘ä»¬çš„è¦æ±‚æ—¶ï¼Œå³æŒ‡é’ˆrightå°±ä¿æŒä¸å˜ï¼Œå·¦æŒ‡é’ˆleftå¼€å§‹ç§»åŠ¨ï¼Œç›´åˆ°ç§»åŠ¨åˆ°ä¸€ä¸ªä¸å†æ»¡è¶³è¦æ±‚çš„åŒºé—´æ—¶ï¼Œleftä¸å†ç§»åŠ¨ä½ç½®</li><li>æ‰§è¡Œç¬¬2æ­¥</li></ol><p>è¿™ä¸­é—´ï¼Œçª—å£çš„æ›´æ–°ä¸ç»´æŠ¤æ˜¯å¾ˆé‡è¦çš„ä¸€ç¯ï¼Œæ–°å…ƒç´ åŠ å…¥çª—å£ï¼Œæ—§å…ƒç´ ç§»å‡ºçª—å£ï¼Œéƒ½éœ€è¦åŠæ—¶åœ°æ›´æ–°ä¸è¿™ä¸ªçª—å£èŒƒå›´ç›¸å…³çš„æ•°æ®ã€‚</p><p>ä¸Šè¿°è¯´æ˜ä¸»è¦æ˜¯ä¸¤ä¸ªwhileå¾ªç¯ï¼Œå¯ä»¥ç®€å•æŠ½è±¡æˆä¸€ä¸ªæ¨¡æ¿å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-type">int</span> left = <span class="hljs-number">0</span>,right =<span class="hljs-number">0</span>;<br><span class="hljs-keyword">while</span>(rightæŒ‡é’ˆæœªè¶Šç•Œ)&#123;<br>  <span class="hljs-type">char</span> ch = arr[right++];<br>  <span class="hljs-comment">//å³æŒ‡é’ˆç§»åŠ¨ï¼Œæ›´æ–°çª—å£</span><br>  ...<br>  <br>  <span class="hljs-comment">//çª—å£æ•°æ®æ»¡è¶³æ¡ä»¶ å¯¹äºå›ºå®šçª—å£è€Œè¨€ï¼Œå°±æ˜¯çª—å£çš„å¤§å°&gt;=å›ºå®šå€¼ï¼›å¯¹äºåŠ¨æ€çª—å£ï¼Œå°±æ˜¯ä»leftå‡ºå‘ï¼Œçª—å£ä¸æ–­æ‰©å……ï¼Œç¬¬ä¸€æ¬¡æ»¡è¶³é¢˜æ„çš„ä½ç½®</span><br>  <span class="hljs-keyword">while</span>(çª—å£æ•°æ®æ»¡è¶³æ¡ä»¶)&#123;<br>   <span class="hljs-comment">//è®°å½•æˆ–è€…æ›´æ–°å…¨å±€æ•°æ®</span><br>   ...<br>   <br>   <span class="hljs-comment">//å³æŒ‡é’ˆä¸åŠ¨ï¼Œå·¦æŒ‡é’ˆå¼€å§‹ç§»åŠ¨ä¸€ä½</span><br>   <span class="hljs-type">char</span> tmp = arr[left++];<br>   <br>   <span class="hljs-comment">//å·¦æŒ‡é’ˆç§»åŠ¨ï¼Œçª—å£ç¼©å°ï¼Œæ›´æ–°çª—å£æ•°æ®</span><br>   ...<br>  &#125;<br>  <span class="hljs-comment">//è¿”å›ç»“æœ</span><br>  ...<br>&#125;<br></code></pre></td></tr></table></figure><p>å‚è€ƒæ–‡ç« ï¼š</p><ul><li><a href="https://zhuanlan.zhihu.com/p/422908736">https://zhuanlan.zhihu.com/p/422908736</a></li><li><a href="https://zhuanlan.zhihu.com/p/63239291">https://zhuanlan.zhihu.com/p/63239291</a></li><li><a href="https://zhuanlan.zhihu.com/p/110241099">https://zhuanlan.zhihu.com/p/110241099</a></li></ul><p>ç›¸å…³é¢˜ç›®ï¼š</p><ul><li>LeetCode 3ï¼šæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²ï¼ˆéš¾åº¦ï¼šä¸­ç­‰ å·²åšï¼‰</li><li>LeetCode 209ï¼šé•¿åº¦æœ€å°çš„å­æ•°ç»„ï¼ˆéš¾åº¦ï¼šä¸­ç­‰ å·²åšï¼‰</li></ul><h2 id="Bilibiliæ»‘åŠ¨çª—å£å­¦ä¹ ç¬”è®°"><a href="#Bilibiliæ»‘åŠ¨çª—å£å­¦ä¹ ç¬”è®°" class="headerlink" title="Bilibiliæ»‘åŠ¨çª—å£å­¦ä¹ ç¬”è®°"></a>Bilibiliæ»‘åŠ¨çª—å£å­¦ä¹ ç¬”è®°</h2><h4 id="ç®—æ³•åº”ç”¨åœºæ™¯ï¼š"><a href="#ç®—æ³•åº”ç”¨åœºæ™¯ï¼š" class="headerlink" title="ç®—æ³•åº”ç”¨åœºæ™¯ï¼š"></a>ç®—æ³•åº”ç”¨åœºæ™¯ï¼š</h4><p>å…³é”®å­—ï¼š</p><p>æ»¡è¶³XXXæ¡ä»¶ï¼ˆè®¡ç®—ç»“æœï¼Œå‡ºç°æ¬¡æ•°ï¼ŒåŒæ—¶åŒ…å«ï¼‰</p><p>æœ€é•¿/æœ€çŸ­</p><p>å­ä¸²/å­æ•°ç»„/å­åºåˆ—</p><p>ä¾‹å¦‚ï¼šé•¿åº¦æœ€å°çš„å­æ•°ç»„</p><h4 id="æ»‘åŠ¨çª—å£ä½¿ç”¨æ€è·¯ï¼ˆå¯»æ‰¾æœ€é•¿ï¼‰"><a href="#æ»‘åŠ¨çª—å£ä½¿ç”¨æ€è·¯ï¼ˆå¯»æ‰¾æœ€é•¿ï¼‰" class="headerlink" title="æ»‘åŠ¨çª—å£ä½¿ç”¨æ€è·¯ï¼ˆå¯»æ‰¾æœ€é•¿ï¼‰"></a>æ»‘åŠ¨çª—å£ä½¿ç”¨æ€è·¯ï¼ˆå¯»æ‰¾æœ€é•¿ï¼‰</h4><p>æ ¸å¿ƒï¼šå·¦å³åŒæŒ‡é’ˆï¼ˆLï¼ŒRï¼‰åœ¨èµ·å§‹ç‚¹ï¼ŒRå‘å³é€ä½æ»‘åŠ¨å¾ªç¯</p><p>æ¯æ¬¡æ»‘åŠ¨è¿‡ç¨‹ä¸­</p><ul><li>å¦‚æœçª—å†…å…ƒç´ æ»¡è¶³æ¡ä»¶ï¼ŒRå‘å³æ‰©å¤§çª—å£ï¼Œå¹¶æ›´æ–°æœ€ä¼˜ç»“æœ</li><li>å¦‚æœçª—å†…å…ƒç´ ä¸æ»¡è¶³æ¡ä»¶ï¼ŒLå‘å³ç¼©å°çª—å£</li></ul><p>ç›´è‡³Råˆ°è¾¾ç»“å°¾</p><p>ä»£ç æ¨¡æ¿</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//æœ€é•¿æ¨¡æ¿</span><br><span class="hljs-comment">//åˆå§‹åŒ–left right result bestResult</span><br><span class="hljs-keyword">while</span>(å³æŒ‡é’ˆæ²¡æœ‰åˆ°è¾¾ç»“å°¾)<br>&#123;<br>    çª—å£æ‰©å¤§ï¼ŒåŠ å…¥rightå¯¹åº”å…ƒç´ ï¼Œæ›´æ–°å½“å‰<span class="hljs-function">result</span><br><span class="hljs-function">    <span class="hljs-title">while</span><span class="hljs-params">(resultä¸æ»¡è¶³è¦æ±‚)</span></span><br><span class="hljs-function">    </span>&#123;<br>        çª—å£ç¼©å°ï¼Œç§»é™¤leftå¯¹åº”å…ƒç´ ï¼Œleftå³ç§»<br>    &#125;<br>    æ›´æ–°æœ€ä¼˜ç»“æœbestResult<br>    right++;<br>&#125;<br>è¿”å›bestResult;<br></code></pre></td></tr></table></figure><h4 id="æ»‘åŠ¨çª—å£ä½¿ç”¨æ€è·¯ï¼ˆå¯»æ‰¾æœ€çŸ­ï¼‰"><a href="#æ»‘åŠ¨çª—å£ä½¿ç”¨æ€è·¯ï¼ˆå¯»æ‰¾æœ€çŸ­ï¼‰" class="headerlink" title="æ»‘åŠ¨çª—å£ä½¿ç”¨æ€è·¯ï¼ˆå¯»æ‰¾æœ€çŸ­ï¼‰"></a>æ»‘åŠ¨çª—å£ä½¿ç”¨æ€è·¯ï¼ˆå¯»æ‰¾æœ€çŸ­ï¼‰</h4><p>æ ¸å¿ƒï¼šå·¦å³åŒæŒ‡é’ˆï¼ˆLï¼ŒRï¼‰åœ¨èµ·å§‹ç‚¹ï¼ŒRå‘å³é€ä½æ»‘åŠ¨å¾ªç¯</p><p>æ¯æ¬¡æ»‘åŠ¨è¿‡ç¨‹ä¸­</p><ul><li>å¦‚æœçª—å†…å…ƒç´ æ»¡è¶³æ¡ä»¶ï¼ŒLå‘å³ç¼©å°çª—å£ ï¼Œå¹¶æ›´æ–°æœ€ä¼˜ç»“æœ</li><li>å¦‚æœçª—å†…å…ƒç´ ä¸æ»¡è¶³æ¡ä»¶ï¼ŒRå‘å³æ‰©å¤§çª—å£</li></ul><p>ç›´è‡³Råˆ°è¾¾ç»“å°¾</p><p>ä»£ç æ¨¡æ¿ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//æœ€çŸ­æ¨¡æ¿</span><br><span class="hljs-comment">//åˆå§‹åŒ–left right result bestResult</span><br><span class="hljs-keyword">while</span>(å³æŒ‡é’ˆæ²¡æœ‰åˆ°è¾¾ç»“å°¾)<br>&#123;<br>    çª—å£æ‰©å¤§ï¼ŒåŠ å…¥rightå¯¹åº”å…ƒç´ ï¼Œæ›´æ–°å½“å‰<span class="hljs-function">result</span><br><span class="hljs-function">    <span class="hljs-title">while</span><span class="hljs-params">(resultæ»¡è¶³è¦æ±‚)</span></span><br><span class="hljs-function">    </span>&#123;<br>        æ›´æ–°æœ€ä¼˜ç»“æœbestResult<br>        çª—å£ç¼©å°ï¼Œç§»é™¤leftå¯¹åº”å…ƒç´ ï¼Œleftå³ç§»<br>    &#125;<br>    right++;<br>&#125;<br>è¿”å›bestResult;<br></code></pre></td></tr></table></figure><h2 id="LeetCode-713ï¼šä¹˜ç§¯å°äº-K-çš„å­æ•°ç»„"><a href="#LeetCode-713ï¼šä¹˜ç§¯å°äº-K-çš„å­æ•°ç»„" class="headerlink" title="LeetCode 713ï¼šä¹˜ç§¯å°äº K çš„å­æ•°ç»„"></a>LeetCode 713ï¼šä¹˜ç§¯å°äº K çš„å­æ•°ç»„</h2><h3 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h3><p>è¿™é“é¢˜æ˜¯ä¸€é“å…¸å‹çš„æ»‘åŠ¨çª—å£é—®é¢˜ã€‚</p><blockquote><p>æº¢å‡ºé—®é¢˜ï¼š</p><p>doubleä¸intç±»å‹çš„å­˜å‚¨æœºåˆ¶ä¸åŒï¼Œlong intçš„8ä¸ªå­—èŠ‚å…¨éƒ¨éƒ½æ˜¯æ•°æ®ä½ï¼Œâ½½doubleæ˜¯ä»¥å°¾æ•°ï¼Œåº•æ•°ï¼ŒæŒ‡æ•°çš„å½¢å¼è¡¨â½°çš„ï¼Œç±»ä¼¼ç§‘å­¦è®¡æ•°æ³•ï¼Œ<br>å› æ­¤doubleâ½intèƒ½è¡¨â½°çš„æ•°æ®èŒƒå›´æ›´â¼´ã€‚doubleçš„èŒƒå›´ä¹Ÿæ˜¯è¦å¤§äºlong long intçš„èŒƒå›´çš„ã€‚</p></blockquote><h3 id="é¢˜ç›®å¤§æ„"><a href="#é¢˜ç›®å¤§æ„" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•° k ï¼Œè¯·ä½ è¿”å›å­æ•°ç»„å†…æ‰€æœ‰å…ƒç´ çš„ä¹˜ç§¯ä¸¥æ ¼å°äº k çš„è¿ç»­å­æ•°ç»„çš„æ•°ç›®ã€‚</p><blockquote><p>è¾“å…¥ï¼šnums = [10,5,2,6], k = 100<br>è¾“å‡ºï¼š8<br>è§£é‡Šï¼š8 ä¸ªä¹˜ç§¯å°äº 100 çš„å­æ•°ç»„åˆ†åˆ«ä¸ºï¼š[10]ã€[5]ã€[2],ã€[6]ã€[10,5]ã€[5,2]ã€[2,6]ã€[5,2,6]ã€‚<br>éœ€è¦æ³¨æ„çš„æ˜¯ [10,5,2] å¹¶ä¸æ˜¯ä¹˜ç§¯å°äº 100 çš„å­æ•°ç»„ã€‚</p></blockquote><h3 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">numSubarrayProductLessThanK</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums, <span class="hljs-type">int</span> k)</span> </span>&#123;<br>        <span class="hljs-type">int</span> ans = <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> l = <span class="hljs-number">0</span>,r = <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> cur = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">while</span>(l&lt;=r &amp;&amp; r&lt;nums.<span class="hljs-built_in">size</span>())<br>        &#123;<br>            cur = cur*nums[r];<br>            <span class="hljs-keyword">while</span>(l &lt;= r &amp;&amp; cur &gt;= k)<br>            &#123;<br>                cur = cur/nums[l];<br>                l++;<br>            &#125;<br>            ans = ans+(r-l+<span class="hljs-number">1</span>);<br>            r++;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">[10]</span><br><span class="hljs-comment">[10,5] [5]</span><br><span class="hljs-comment">[5,2] [2]</span><br><span class="hljs-comment">[5,2,6] [2,6] [6]</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure><p>å¾…ç»­â€¦â€¦..</p>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ»‘åŠ¨çª—å£</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ•°æ®åº“å¸¸ç”¨å‘½ä»¤æ“ä½œ</title>
    <link href="/2022/05/09/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4%E6%93%8D%E4%BD%9C/"/>
    <url>/2022/05/09/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4%E6%93%8D%E4%BD%9C/</url>
    
    <content type="html"><![CDATA[<ul><li><p>å¯åŠ¨æ•°æ®åº“</p><p>net start mysql</p></li><li><p>å…³é—­æ•°æ®åº“</p><p>net  stop mysql</p></li><li><p>è¿æ¥æ•°æ®åº“</p><p>mysql -u root -p</p></li></ul><h4 id="ç®¡ç†æ•°æ®åº“çš„å‘½ä»¤"><a href="#ç®¡ç†æ•°æ®åº“çš„å‘½ä»¤" class="headerlink" title="ç®¡ç†æ•°æ®åº“çš„å‘½ä»¤"></a>ç®¡ç†æ•°æ®åº“çš„å‘½ä»¤</h4><ul><li><p><strong>USE æ•°æ®åº“å;</strong></p><p>é€‰æ‹©è¦æ“ä½œçš„Mysqlæ•°æ®åº“ï¼Œä½¿ç”¨è¯¥å‘½ä»¤åæ‰€æœ‰Mysqlå‘½ä»¤éƒ½åªé’ˆå¯¹è¯¥æ•°æ®åº“ã€‚</p></li><li><p><strong>SHOW DATABASES;</strong></p><p>åˆ—å‡º MySQL æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„æ•°æ®åº“åˆ—è¡¨ã€‚</p></li><li><p><strong>SHOW TABLES;</strong></p><p>æ˜¾ç¤ºæŒ‡å®šæ•°æ®åº“çš„æ‰€æœ‰è¡¨ï¼Œä½¿ç”¨è¯¥å‘½ä»¤å‰éœ€è¦ä½¿ç”¨ use å‘½ä»¤æ¥é€‰æ‹©è¦æ“ä½œçš„æ•°æ®åº“ã€‚</p></li><li><p><strong>CREATE DATABASE æ•°æ®åº“å;</strong></p><p>åˆ›å»ºæ•°æ®åº“ï¼šCREATE DATABASE stu;  ï¼ˆæ³¨æ„MySQLè¯­æ³•è¦æ±‚å¤§å†™ï¼‰</p></li></ul><p>å¾…ç»­â€¦â€¦</p>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®åº“</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MySQL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€ŒPHPã€æœŸæœ«å¤ä¹ </title>
    <link href="/2022/05/05/%E3%80%8CPHP%E3%80%8D%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/"/>
    <url>/2022/05/05/%E3%80%8CPHP%E3%80%8D%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<blockquote><p>æ„¿ä¸–é—´å†æ— ä¸è®©æ‰“å°çš„åŠå¼€å·è€ƒè¯•ï¼Œæ•´ç†äº†ä¸€å¤©ç»ˆäºæŠŠPHPçš„å†…å®¹æ•´ç†å®Œäº†ï¼Œæ˜å¤©å¼€å§‹æŠ„ï¼</p><p>ä¸è¿‡æ„Ÿè§‰è¿™æ ·æ•´ç†çš„æ•ˆæœè¿˜æŒºå¥½çš„ï¼Œä¸€è¾¹æ•´ç†ä¸€è¾¹å­¦æ¯”æ­£å¸¸å­¦çš„æ•ˆç‡è¿˜è¦é«˜ã€‚è€ƒå®Œæ•°æ®åº“å’ŒPHPå†æŠŠJavaæ•´ç†ä¸€ä¸‹ï¼Œé‡æ‹¾Javaï¼ŒJavaçš„è¯­æ³•å•¥çš„éƒ½å¿«å¿˜å®Œäº†ï¼ï¼ï¼</p></blockquote><h1 id="ç¬¬1ã€2ç« -PHPå…¥é—¨-HTMLå’ŒCSSç®€ä»‹"><a href="#ç¬¬1ã€2ç« -PHPå…¥é—¨-HTMLå’ŒCSSç®€ä»‹" class="headerlink" title="ç¬¬1ã€2ç«  PHPå…¥é—¨ HTMLå’ŒCSSç®€ä»‹"></a>ç¬¬1ã€2ç«  PHPå…¥é—¨ HTMLå’ŒCSSç®€ä»‹</h1><p>â€¦â€¦</p><h1 id="ç¬¬3ç« -æ•°æ®ä¸å˜é‡"><a href="#ç¬¬3ç« -æ•°æ®ä¸å˜é‡" class="headerlink" title="ç¬¬3ç«  æ•°æ®ä¸å˜é‡"></a>ç¬¬3ç«  æ•°æ®ä¸å˜é‡</h1><h2 id="3-1-PHPæ•°æ®ç±»å‹"><a href="#3-1-PHPæ•°æ®ç±»å‹" class="headerlink" title="3-1 | PHPæ•°æ®ç±»å‹"></a>3-1 | PHPæ•°æ®ç±»å‹</h2><h4 id="æ ‡é‡ç±»å‹"><a href="#æ ‡é‡ç±»å‹" class="headerlink" title="æ ‡é‡ç±»å‹"></a>æ ‡é‡ç±»å‹</h4><ul><li><p>å¸ƒå°”å‹</p><p>ç”¨printæˆ–echoè¾“å‡ºå¸ƒå°”å‹æ•°æ®æ—¶ï¼Œtrueè¢«è½¬æ¢æˆå­—ç¬¦ä¸²â€œ1â€ï¼Œfalseè¢«è½¬æ¢æˆç©ºä¸²ã€‚</p></li><li><p>æ•´å‹</p></li><li><p>æµ®ç‚¹å‹</p></li><li><p>å­—ç¬¦ä¸²å‹</p><p>è½¬ä¹‰å­—ç¬¦</p></li></ul><h4 id="å¤åˆç±»å‹"><a href="#å¤åˆç±»å‹" class="headerlink" title="å¤åˆç±»å‹"></a>å¤åˆç±»å‹</h4><ul><li><p>æ•°ç»„</p><ul><li><p>åœ¨PHPä¸­ï¼Œæ•°ç»„æ˜¯æœ‰åºçš„æ˜ å°„ã€‚ä¸€ä¸ªæ•°ç»„ç”±è‹¥å¹²å…ƒç´ ç»„æˆï¼Œæ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªé”®-å€¼å¯¹ã€‚</p></li><li><p>é”®ç”¨äºç´¢å¼•æ•°ç»„å…ƒç´ ï¼Œä¸€ä¸ªæ•°ç»„ä¸èƒ½æœ‰é‡å¤çš„é”®ã€‚é”®å¯ä»¥æ˜¯æ•´æ•°ä¹Ÿå¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€‚</p></li><li><p>å€¼ä¹Ÿç§°ä¸ºæ•°ç»„å…ƒç´ çš„å€¼ï¼Œå¯ä»¥æ˜¯ä»»æ„ç±»å‹ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">//ä¾‹å­ï¼šåˆ›å»ºæ•°ç»„ã€‚</span><br><span class="hljs-variable">$arr1</span> = <span class="hljs-keyword">array</span>(<span class="hljs-number">0</span> =&gt; <span class="hljs-string">&quot;æµ™æ±Ÿ&quot;</span>, <span class="hljs-number">1</span> =&gt; <span class="hljs-string">&quot;æ±Ÿè‹&quot;</span>, <span class="hljs-number">2</span> =&gt; <span class="hljs-string">&quot;å¹¿ä¸œ&quot;</span>);<br><span class="hljs-variable">$arr2</span> = <span class="hljs-keyword">array</span>(<span class="hljs-string">&quot;æµ™æ±Ÿ&quot;</span> =&gt; <span class="hljs-string">&quot;æ­å·&quot;</span>, <span class="hljs-string">&quot;æ±Ÿè‹&quot;</span> =&gt; <span class="hljs-string">&quot;å—äº¬&quot;</span>, <span class="hljs-string">&quot;å¹¿ä¸œ&quot;</span> =&gt; <span class="hljs-string">&quot;å¹¿å·&quot;</span>);<br><span class="hljs-comment">//é€šè¿‡ä¸€ä¸ªå…·ä½“çš„é”®å¯ä»¥è®¿é—®å¯¹åº”çš„å€¼ï¼Œæ¯”å¦‚ï¼š</span><br><span class="hljs-keyword">echo</span> <span class="hljs-variable">$arr1</span>[<span class="hljs-number">0</span>];                <span class="hljs-comment">// è¾“å‡ºï¼šæµ™æ±Ÿ</span><br>Echo <span class="hljs-variable">$arr2</span>[â€œæµ™æ±Ÿâ€]       <span class="hljs-comment">// è¾“å‡ºï¼šæ­å·</span><br></code></pre></td></tr></table></figure></li></ul></li><li><p>å¯¹è±¡</p></li></ul><h4 id="NULLç±»å‹"><a href="#NULLç±»å‹" class="headerlink" title="NULLç±»å‹"></a>NULLç±»å‹</h4><p>NULLç±»å‹çš„å”¯ä¸€å€¼æ˜¯NULLï¼Œä»£è¡¨æ— å€¼ï¼Œä¸åŒºåˆ†å¤§å°å†™ã€‚</p><p>ä¸€ä¸ªå˜é‡åœ¨ä¸‹é¢æƒ…å†µä¸‹å…·æœ‰NULLå€¼</p><ul><li>è¢«èµ‹äºˆå¸¸é‡NULL</li><li>ä¸å­˜åœ¨</li><li>è¢«unsetå¤åŸ</li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-keyword">void</span> <span class="hljs-keyword">unset</span>(<span class="hljs-keyword">mixed</span> <span class="hljs-variable">$var1</span> [, <span class="hljs-keyword">mixed</span> <span class="hljs-variable">$var2</span>]* )<br><span class="hljs-comment">//unsetç”¨ä»¥é”€æ¯æŒ‡å®šçš„ä¸€ä¸ªæˆ–å¤šä¸ªå˜é‡</span><br><span class="hljs-keyword">bool</span> <span class="hljs-title function_ invoke__">is_null</span>(<span class="hljs-keyword">mixed</span> <span class="hljs-variable">$var</span>)<br><span class="hljs-keyword">bool</span> <span class="hljs-keyword">isset</span>(<span class="hljs-keyword">mixed</span> <span class="hljs-variable">$var1</span> [, <span class="hljs-keyword">mixed</span> <span class="hljs-variable">$var2</span>]*)<br><span class="hljs-comment">//æ£€æµ‹æŒ‡å®šå˜é‡æ˜¯å¦è®¾ç½®</span><br><span class="hljs-keyword">bool</span> <span class="hljs-keyword">empty</span>(<span class="hljs-keyword">mixed</span> <span class="hljs-variable">$var</span> )<br></code></pre></td></tr></table></figure><h2 id="3-2-ç±»å‹è½¬æ¢"><a href="#3-2-ç±»å‹è½¬æ¢" class="headerlink" title="3-2 | ç±»å‹è½¬æ¢"></a>3-2 | ç±»å‹è½¬æ¢</h2><p>PHPæ˜¯å¼±ç±»å‹çš„ç¼–ç¨‹è¯­è¨€ï¼Œåœ¨å¼•å…¥å˜é‡æ—¶ï¼Œå¹¶ä¸éœ€è¦æ˜ç¡®å£°æ˜å…¶ç±»å‹ã€‚å½“ç»™å®ƒèµ‹ä¸€ä¸ªå­—ç¬¦ä¸²æ—¶ï¼Œå˜é‡çš„ç±»å‹å°±æ˜¯å­—ç¬¦ä¸²ï¼›å¦‚æœå†ç»™å®ƒèµ‹ä¸€ä¸ªæ•´æ•°ï¼Œé‚£ä¹ˆå˜é‡çš„ç±»å‹å°±å˜ä¸ºæ•´å‹çš„ã€‚</p><ul><li><p>è‡ªåŠ¨ç±»å‹è½¬æ¢</p><p>æœ‰æ—¶å€™åœ¨è®¡ç®—è¡¨è¾¾å¼æ—¶ï¼ŒPHPä¼šæ ¹æ®ä¸Šä¸‹æ–‡è‡ªåŠ¨å°†ä¸€äº›æ•°æ®è½¬æ¢æˆåˆé€‚çš„ç±»å‹æ¥å‚ä¸è¿ç®—ã€‚</p></li><li><p>å¼ºåˆ¶ç±»å‹è½¬æ¢</p><p>è¯­æ³•ï¼šåœ¨è¦è½¬æ¢çš„å˜é‡ï¼ˆæˆ–è¡¨è¾¾å¼ï¼‰ä¹‹å‰åŠ ä¸Šç”¨æ‹¬å·æ‹¬èµ·æ¥çš„ç›®æ ‡ç±»å‹ã€‚</p></li></ul><h2 id="3-3-å˜é‡ä¸å¸¸é‡"><a href="#3-3-å˜é‡ä¸å¸¸é‡" class="headerlink" title="3-3 | å˜é‡ä¸å¸¸é‡"></a>3-3 | å˜é‡ä¸å¸¸é‡</h2><p>PHPå˜é‡æ€»æ˜¯ä»¥ç¾å…ƒç¬¦å·$å¼€å¤´ï¼Œç„¶åæ˜¯å˜é‡åã€‚</p><p>PHPæ˜¯ä¸€ç§å¼±ç±»å‹è¯­è¨€ï¼Œæˆ–è€…åŠ¨æ€ç±»å‹è¯­è¨€ã€‚åœ¨PHPä¸­ï¼Œå˜é‡ä¸éœ€è¦æ˜¾å¼å£°æ˜ï¼Œä¹Ÿæ²¡æœ‰å›ºå®šçš„ç±»å‹ã€‚å˜é‡çš„ç±»å‹ç”±èµ‹ç»™å˜é‡çš„å€¼ç¡®å®šã€‚</p><h4 id="å˜é‡èµ‹å€¼"><a href="#å˜é‡èµ‹å€¼" class="headerlink" title="å˜é‡èµ‹å€¼"></a>å˜é‡èµ‹å€¼</h4><ul><li><p>å€¼èµ‹å€¼</p></li><li><p>å¼•ç”¨èµ‹å€¼</p><p>å¼•ç”¨èµ‹å€¼æ˜¯æŒ‡å°†æºå˜é‡ï¼ˆå³ä¾§ï¼‰çš„å¼•ç”¨èµ‹ç»™ç›®æ ‡å˜é‡ï¼ˆå·¦ä¾§ï¼‰ï¼Œå…¶ç»“æœæ˜¯ç›®æ ‡å˜é‡ä¸æºå˜é‡å¼•ç”¨ç›¸åŒçš„å†…å­˜å•å…ƒã€‚åœ¨æºå˜é‡åå‰åŠ ä¸Šä¸€ä¸ª&amp;ç¬¦å·å°†å®ç°æŒ‰å¼•ç”¨èµ‹å€¼ã€‚</p></li></ul><h4 id="å˜é‡ä½œç”¨åŸŸ"><a href="#å˜é‡ä½œç”¨åŸŸ" class="headerlink" title="å˜é‡ä½œç”¨åŸŸ"></a>å˜é‡ä½œç”¨åŸŸ</h4><ul><li>å…¨å±€å˜é‡</li><li>å±€éƒ¨å˜é‡</li><li>é™æ€å˜é‡</li><li>è¶…å…¨å±€å˜é‡</li></ul><h1 id="ç¬¬4ç« -è¿ç®—ç¬¦ä¸æµç¨‹æ§åˆ¶"><a href="#ç¬¬4ç« -è¿ç®—ç¬¦ä¸æµç¨‹æ§åˆ¶" class="headerlink" title="ç¬¬4ç«  è¿ç®—ç¬¦ä¸æµç¨‹æ§åˆ¶"></a>ç¬¬4ç«  è¿ç®—ç¬¦ä¸æµç¨‹æ§åˆ¶</h1><h2 id="4-1-è¿ç®—ç¬¦"><a href="#4-1-è¿ç®—ç¬¦" class="headerlink" title="4-1 | è¿ç®—ç¬¦"></a>4-1 | è¿ç®—ç¬¦</h2><ul><li><p>ç®—æœ¯è¿ç®—ç¬¦</p></li><li><p>å­—ç¬¦ä¸²è¿ç®—ç¬¦</p><p>å­—ç¬¦ä¸²è¿ç®—ç¬¦æ˜¯æŒ‡å­—ç¬¦ä¸²è¿æ¥è¿ç®—ç¬¦ï¼ˆ.ï¼‰ï¼Œç”¨äºå°†ä¸¤ä¸ªå­—ç¬¦ä¸²è¿æ¥æˆä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²è¿”å›ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br>    <span class="hljs-variable">$a</span> = <span class="hljs-string">&quot;abc&quot;</span>;<br><span class="hljs-variable">$b</span> = <span class="hljs-string">&quot;xyz&quot;</span>;<br><span class="hljs-keyword">echo</span> <span class="hljs-variable">$a</span>.<span class="hljs-string">&quot;123&quot;</span>.<span class="hljs-variable">$b</span>.<span class="hljs-string">&quot;&lt;br/&gt;&quot;</span>;<br>php&gt;<br><span class="hljs-comment">//è¾“å‡ºï¼šabc123xyz</span><br></code></pre></td></tr></table></figure></li><li><p>æ¯”è¾ƒè¿ç®—ç¬¦</p><p>=== å…¨ç­‰ï¼ˆå€¼å’Œç±»å‹å‡ç›¸åŒï¼‰</p></li><li><p>é€»è¾‘è¿ç®—ç¬¦</p></li><li><p>ä½è¿ç®—ç¬¦</p></li><li><p>èµ‹å€¼è¿ç®—ç¬¦</p></li><li><p>ä¸‰ç›®æ¡ä»¶è¿ç®—ç¬¦</p></li></ul><h2 id="4-2-æµç¨‹æ§åˆ¶"><a href="#4-2-æµç¨‹æ§åˆ¶" class="headerlink" title="4-2 | æµç¨‹æ§åˆ¶"></a>4-2 | æµç¨‹æ§åˆ¶</h2><ul><li>é€‰æ‹©ç»“æ„</li><li>å¾ªç¯ç»“æ„</li><li>è·³è½¬è¯­å¥</li></ul><h2 id="4-3-åŒ…å«æ–‡ä»¶"><a href="#4-3-åŒ…å«æ–‡ä»¶" class="headerlink" title="4-3 | åŒ…å«æ–‡ä»¶"></a>4-3 | åŒ…å«æ–‡ä»¶</h2><ul><li>includeè¯­å¥</li><li>requireè¯­å¥</li><li>include_onceè¯­å¥</li><li>require_onceè¯­å¥</li></ul><h1 id="ç¬¬5ç« -PHPå‡½æ•°"><a href="#ç¬¬5ç« -PHPå‡½æ•°" class="headerlink" title="ç¬¬5ç«  PHPå‡½æ•°"></a>ç¬¬5ç«  PHPå‡½æ•°</h1><h2 id="5-1-å‡½æ•°çš„å£°æ˜ä¸è°ƒç”¨"><a href="#5-1-å‡½æ•°çš„å£°æ˜ä¸è°ƒç”¨" class="headerlink" title="5-1 | å‡½æ•°çš„å£°æ˜ä¸è°ƒç”¨"></a>5-1 | å‡½æ•°çš„å£°æ˜ä¸è°ƒç”¨</h2><h4 id="å‡½æ•°å£°æ˜"><a href="#å‡½æ•°å£°æ˜" class="headerlink" title="å‡½æ•°å£°æ˜"></a>å‡½æ•°å£°æ˜</h4><p>å‡½æ•°å£°æ˜åº”è¯¥å‡ºç°åœ¨PHPå¼€å§‹æ ‡è®°å’Œç»“æŸæ ‡è®°ä¹‹é—´ã€‚</p><p>è¯­æ³•æ ¼å¼ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-function"><span class="hljs-keyword">function</span> &lt;<span class="hljs-title">function_name</span>&gt;(<span class="hljs-params">[&lt;<span class="hljs-variable">$arg</span>&gt;[, &lt;<span class="hljs-variable">$arg</span>&gt;]*]</span>) </span>&#123;<br>      <span class="hljs-comment">// è¦æ‰§è¡Œçš„ä»£ç ;</span><br>&#125;<br><span class="hljs-comment">//å‡½æ•°ä½“å¯ä»¥æ˜¯ä»»ä½•åˆæ³•çš„PHPä»£ç ã€‚</span><br></code></pre></td></tr></table></figure><p>å‡½æ•°åçš„å‘½åè§„åˆ™ï¼š</p><p>(1) å‡½æ•°åä¸èƒ½å’Œå·²æœ‰çš„å‡½æ•°é‡åã€‚</p><p>(2) å‡½æ•°åç§°åªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿ã€‚</p><p>(3) å‡½æ•°åç§°ä¸èƒ½ä»¥æ•°å­—å¼€å¤´ã€‚</p><p>(4) é•¿åº¦ä¸é™ï¼Œå¯¹<strong>å¤§å°å†™ä¸æ•æ„Ÿ</strong>ã€‚</p><h4 id="å‡½æ•°è°ƒç”¨"><a href="#å‡½æ•°è°ƒç”¨" class="headerlink" title="å‡½æ•°è°ƒç”¨"></a>å‡½æ•°è°ƒç”¨</h4><p>å‡½æ•°åªæœ‰åœ¨è¢«è°ƒç”¨æ—¶æ‰ä¼šæ‰§è¡Œï¼Œæ ¼å¼ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">&lt;functin_name&gt;([&lt;exp&gt;[, &lt;exp&gt;]*]);<br></code></pre></td></tr></table></figure><h2 id="5-2-å‡½æ•°å‚æ•°"><a href="#5-2-å‡½æ•°å‚æ•°" class="headerlink" title="5-2 | å‡½æ•°å‚æ•°"></a>5-2 | å‡½æ•°å‚æ•°</h2><h4 id="å½¢å‚ä¸å®å‚"><a href="#å½¢å‚ä¸å®å‚" class="headerlink" title="å½¢å‚ä¸å®å‚"></a>å½¢å‚ä¸å®å‚</h4><p>å‡½æ•°å½¢å‚è¢«å®šä¹‰åœ¨å‡½æ•°åä¹‹åï¼Œæ‹¬å·å†…éƒ¨ã€‚ä¸€ä¸ªå‡½æ•°çš„å½¢å‚æ•°ç›®ä¸é™ï¼Œä¸¤ä¸ªå½¢å‚ä¹‹é—´ç”¨é€—å·åˆ†éš”ã€‚å‡½æ•°å½¢å‚ç±»ä¼¼äºåœ¨å‡½æ•°å†…å®šä¹‰çš„å±€éƒ¨å˜é‡ï¼Œåœ¨å‡½æ•°å†…æœ‰æ•ˆã€‚</p><p>å½“è°ƒç”¨åŒ…å«å½¢å‚çš„å‡½æ•°æ—¶ï¼Œåº”æä¾›ç›¸åº”çš„å‚æ•°å€¼ï¼Œé€šå¸¸ç§°ä¸ºå®å‚ã€‚å®å‚æ˜¯è¡¨è¾¾å¼ï¼Œä¸¤ä¸ªè¡¨è¾¾å¼ä¹‹é—´ç”¨é€—å·åˆ†éš”ã€‚</p><h4 id="PHPå‚æ•°ä¼ é€’çš„æ–¹å¼"><a href="#PHPå‚æ•°ä¼ é€’çš„æ–¹å¼" class="headerlink" title="PHPå‚æ•°ä¼ é€’çš„æ–¹å¼"></a>PHPå‚æ•°ä¼ é€’çš„æ–¹å¼</h4><ul><li><p>æŒ‰å€¼ä¼ é€’å‚æ•°</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå‡½æ•°çš„å‚æ•°æ˜¯æŒ‰å€¼ä¼ é€’çš„ã€‚è¿™æ„å‘³ç€ï¼Œå³ä½¿å®å‚æ˜¯å˜é‡ï¼Œå½“å‡½æ•°å¯¹å½¢å‚çš„å€¼è¿›è¡Œæ”¹å˜åï¼Œä¹Ÿä¸ä¼šå½±å“å‡½æ•°å¤–éƒ¨å®å‚çš„å–å€¼ã€‚</p></li><li><p>å¼•ç”¨ä¼ é€’å‚æ•°</p><p>è¦å®ç°æŒ‰å¼•ç”¨ä¼ é€’ï¼š</p><p>(1) å½¢å‚åå‰åŠ ä¸Š&amp;ç¬¦å·ï¼Œå¦‚&amp;$argã€‚</p><p>(2) å®å‚æ˜¯å˜é‡ã€‚</p></li></ul><h4 id="å‚æ•°çš„é»˜è®¤å€¼"><a href="#å‚æ•°çš„é»˜è®¤å€¼" class="headerlink" title="å‚æ•°çš„é»˜è®¤å€¼"></a>å‚æ•°çš„é»˜è®¤å€¼</h4><p>åœ¨å£°æ˜å‡½æ•°æ—¶ï¼Œå¯ä»¥ä¸ºå½¢å‚æŒ‡å®šé»˜è®¤å€¼ã€‚å½¢å‚é»˜è®¤å€¼å¿…é¡»æ˜¯å¸¸é‡è¡¨è¾¾å¼ï¼Œé€šè¿‡è¿ç®—ç¬¦â€œ=â€ç»™ç›¸åº”çš„å½¢å‚èµ‹å€¼ã€‚</p><p>å…·æœ‰é»˜è®¤å€¼çš„å½¢å‚å¯ä»¥æœ‰å¤šä¸ªï¼Œä½†å¿…é¡»æ”¾ç½®åœ¨å…¶ä»–å½¢å‚åé¢ã€‚å½“è°ƒç”¨å‡½æ•°æ—¶ï¼Œå¯¹ä¸å…·æœ‰é»˜è®¤å€¼çš„å½¢å‚å¿…é¡»æŒ‡å®šç›¸åº”çš„å®å‚ï¼Œå¯¹å…·æœ‰é»˜è®¤å€¼çš„å½¢å‚ï¼Œå¯ä»¥æŒ‡å®šå®å‚ï¼Œä¹Ÿå¯ä»¥æ²¡æœ‰ã€‚</p><h4 id="å¯å˜é•¿å‚æ•°"><a href="#å¯å˜é•¿å‚æ•°" class="headerlink" title="å¯å˜é•¿å‚æ•°"></a>å¯å˜é•¿å‚æ•°</h4><ul><li>å¯å˜é•¿å½¢å‚<ul><li>PHPæ”¯æŒå¯å˜é•¿å‚æ•°ã€‚</li><li>å¯å˜é•¿å½¢å‚é€šè¿‡åœ¨å½¢å‚åå‰åŠ ç¬¦å·â€œâ€¦â€å®ç°ã€‚å¯å˜é•¿å½¢å‚å¿…é¡»æ˜¯å½¢å‚è¡¨ä¸­æœ€åä¸€ä¸ªå½¢å‚ã€‚</li><li>å¯å˜é•¿å½¢å‚å¯ä»¥æ¥æ”¶é›¶ä¸ªæˆ–å¤šä¸ªå®å‚å€¼ï¼Œæ­¤æ—¶è¿™äº›å‚æ•°å€¼å°†è¢«ç»„ç»‡æˆä¸€ä¸ªæ•°ç»„èµ‹ç»™è¯¥å½¢å‚ã€‚</li></ul></li><li>å¯å˜é•¿å®å‚<ul><li>å¯å˜é•¿å®å‚åœ¨å®å‚å‰åŠ ç¬¦å·â€œâ€¦â€å®ç°ã€‚å¯å˜é•¿å®å‚çš„ç±»å‹åº”è¯¥æ˜¯æ•°ç»„ã€‚å¯å˜é•¿å®å‚å¿…é¡»æ˜¯å®å‚è¡¨ä¸­çš„æœ€åä¸€ä¸ªå®å‚ã€‚</li><li>å½“ä¼ é€’å‚æ•°æ—¶ï¼Œå®å‚æ•°ç»„ä¸­çš„å„å…ƒç´ å°†è¢«è‡ªåŠ¨å–å‡ºå¹¶ä¸€ä¸€èµ‹ç»™å¯¹åº”çš„å½¢å‚ã€‚</li></ul></li></ul><h2 id="5-3-å‡½æ•°è¿”å›å€¼"><a href="#5-3-å‡½æ•°è¿”å›å€¼" class="headerlink" title="5-3 | å‡½æ•°è¿”å›å€¼"></a>5-3 | å‡½æ•°è¿”å›å€¼</h2><p>è¡¨è¾¾å¼å¯ä»¥æ˜¯ä»»æ„ç±»å‹çš„ï¼Œæ‰€ä»¥ä¸€ä¸ªå‡½æ•°å¯ä»¥è¿”å›æ•°å€¼ã€å­—ç¬¦ä¸²ç­‰æ ‡é‡ç±»å‹çš„å€¼ï¼Œä¹Ÿå¯ä»¥è¿”å›æ•°ç»„ã€å¯¹è±¡ç­‰å¤åˆç±»å‹çš„å€¼ã€‚</p><p>å‡½æ•°å¯ä»¥è¿”å›ä¸€ä¸ªå€¼ï¼Œä¹Ÿå¯ä»¥è¿”å›ä¸€ä¸ªå¼•ç”¨ã€‚</p><p>è¦è®©å‡½æ•°è¿”å›ä¸€ä¸ªå¼•ç”¨ï¼Œéœ€è¦ï¼š</p><p>(1) åœ¨å‡½æ•°å£°æ˜æ—¶ï¼Œå‡½æ•°åå‰ä½¿ç”¨&amp;ï¼›</p><p>(2) returnè¯­å¥æ‰€å¸¦çš„è¡¨è¾¾å¼æ˜¯å˜é‡ï¼›</p><p>(3) è°ƒç”¨å‡½æ•°æ—¶ï¼Œå‡½æ•°åå‰ä½¿ç”¨&amp;ã€‚</p><h2 id="5-4-å˜é‡å‡½æ•°"><a href="#5-4-å˜é‡å‡½æ•°" class="headerlink" title="5-4 | å˜é‡å‡½æ•°"></a>5-4 | å˜é‡å‡½æ•°</h2><h2 id="5-5-åŒ¿åå‡½æ•°"><a href="#5-5-åŒ¿åå‡½æ•°" class="headerlink" title="5-5 | åŒ¿åå‡½æ•°"></a>5-5 | åŒ¿åå‡½æ•°</h2><ul><li><p>åŒ¿åå‡½æ•°ä½œä¸ºå˜é‡å€¼</p><p>å¯ä»¥æŠŠåŒ¿åå‡½æ•°ä½œä¸ºä¸€ä¸ªè¡¨è¾¾å¼èµ‹ç»™ä¸€ä¸ªå˜é‡ï¼Œç„¶åå°±å¯ä»¥é€šè¿‡è¯¥å˜é‡æ¥è°ƒç”¨åŒ¿åå‡½æ•°äº†ã€‚</p><p>åœ¨å†…éƒ¨å¤„ç†ä¸­ï¼ŒPHPç³»ç»Ÿä¼šè‡ªåŠ¨æŠŠåŒ¿åå‡½æ•°è½¬æ¢æˆå†…ç½®ç±»Closureçš„ä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼Œç„¶åå†æŠŠè¯¥å®ä¾‹å¯¹è±¡èµ‹ç»™å˜é‡ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br>    <span class="hljs-comment">//ç»™å˜é‡$greenèµ‹ä¸€ä¸ªåŒ¿åå‡½æ•°</span><br>    <span class="hljs-variable">$greet</span> = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"><span class="hljs-variable">$name</span></span>)</span>&#123;<br>    <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;hello&quot;</span>,<span class="hljs-variable">$name</span>,<span class="hljs-string">&quot;&lt;br/&gt;&quot;</span>;<br>&#125;;  <span class="hljs-comment">//å‡½æ•°æœ«å°¾éœ€è¦åˆ†å·</span><br><br><span class="hljs-variable">$greet</span>(<span class="hljs-string">&quot;world&quot;</span>);<br><span class="hljs-variable">$greet</span>(<span class="hljs-string">&quot;php&quot;</span>);<br><span class="hljs-meta">?&gt;</span><br><br><span class="hljs-comment">//è¾“å‡ºï¼šhello world</span><br><span class="hljs-comment">//    hello php</span><br></code></pre></td></tr></table></figure></li><li><p>ç”¨ä½œå›è°ƒç±»å‹å‚æ•°çš„å€¼</p><p>ç”¨äºæ¥æ”¶å‡½æ•°çš„å½¢å‚è¢«ç§°ä¸ºå›è°ƒç±»å‹å‚æ•°ï¼Œä¼ é€’ç»™è¿™ç§å‚æ•°çš„å‡½æ•°è¢«ç§°ä¸ºå›è°ƒå‡½æ•°ã€‚</p><p>å›è°ƒå‡½æ•°å¯ä»¥æ˜¯æ­£å¸¸çš„å‡½æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯åŒ¿åå‡½æ•°ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">myFunc</span>(<span class="hljs-params"><span class="hljs-variable">$name</span>,<span class="hljs-variable">$func</span></span>)</span>&#123;<br>    <span class="hljs-variable">$func</span>(<span class="hljs-variable">$name</span>);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">display</span>(<span class="hljs-params"><span class="hljs-variable">$str</span></span>)</span>&#123;<br>    <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;hello&quot;</span>,<span class="hljs-variable">$str</span>,<span class="hljs-string">&quot;&lt;br/&gt;&quot;</span>;<br>&#125;<br><span class="hljs-title function_ invoke__">myFunc</span>(<span class="hljs-string">&quot;world&quot;</span>,<span class="hljs-string">&quot;display&quot;</span>);<br></code></pre></td></tr></table></figure></li></ul><h2 id="5-6-æ—¥æœŸæ—¶é—´å‡½æ•°"><a href="#5-6-æ—¥æœŸæ—¶é—´å‡½æ•°" class="headerlink" title="5-6 | æ—¥æœŸæ—¶é—´å‡½æ•°"></a>5-6 | æ—¥æœŸæ—¶é—´å‡½æ•°</h2><ol><li><h4 id="timeå‡½æ•°"><a href="#timeå‡½æ•°" class="headerlink" title="timeå‡½æ•°"></a>timeå‡½æ•°</h4><p>int time(void)</p><p>è¿”å›è‡ªä»Unixçºªå…ƒï¼ˆæ ¼æ—å¨æ²»æ—¶é—´1970å¹´1æœˆ1æ—¥00:00:00ï¼‰åˆ°å½“å‰æ—¶é—´ç»è¿‡çš„ç§’æ•°ã€‚</p></li><li><h4 id="mktimeå‡½æ•°"><a href="#mktimeå‡½æ•°" class="headerlink" title="mktimeå‡½æ•°"></a>mktimeå‡½æ•°</h4><p>int mktime([ int $hour [, int $minute [, int $second [, int $month [, int $day [, int $year]]]]]] )</p><p>å‡½æ•°è¿”å›ä¸æŒ‡å®šæ—¥æœŸæ—¶é—´ä¿¡æ¯ç›¸åº”çš„æ—¶é—´æˆ³ï¼Œå³ä»Unixçºªå…ƒåˆ°æŒ‡å®šæ—¶é—´çš„ç§’æ•°ã€‚</p></li><li><h4 id="dateå‡½æ•°"><a href="#dateå‡½æ•°" class="headerlink" title="dateå‡½æ•°"></a>dateå‡½æ•°</h4><p>string date(string $format [, int $timestamp ])</p><p>æŒ‰ç…§æŒ‡å®šçš„æ ¼å¼ä¸²$formatå¯¹æŒ‡å®šçš„æ—¶é—´æˆ³$timestampè¿›è¡Œæ ¼å¼åŒ–ï¼Œè¿”å›æ ¼å¼åŒ–äº§ç”Ÿçš„å­—ç¬¦ä¸²ã€‚å¦‚æœç¼ºçœ$timestampï¼Œå°±ä½¿ç”¨å½“å‰çš„Unixæ—¶é—´æˆ³ï¼Œå³time()çš„è¿”å›å€¼ã€‚</p><p>æ ¼å¼ä¸²ç”±æ ¼å¼ç¬¦å’Œæ™®é€šæ–‡æœ¬ç»„æˆã€‚æ ¼å¼ç¬¦æè¿°äº†éœ€è¦åŒ…å«çš„ç›¸åº”çš„æ—¥æœŸæ—¶é—´æ–‡æœ¬ï¼Œæ™®é€šæ–‡æœ¬åˆ™ä¼šåŸæ ·ä¿ç•™åœ¨è¿”å›çš„å­—ç¬¦ä¸²ã€‚</p></li><li><h4 id="getdateå‡½æ•°"><a href="#getdateå‡½æ•°" class="headerlink" title="getdateå‡½æ•°"></a>getdateå‡½æ•°</h4><p>array getdate([ int $timestamp = time() ])</p><p>è¿”å›ä¸€ä¸ªæ ¹æ®æŒ‡å®šæ—¶é—´æˆ³$timestampå¾—å‡ºçš„åŒ…å«æœ‰æ—¥æœŸä¿¡æ¯çš„å…³è”æ•°ç»„ã€‚</p></li><li><h4 id="date-default-timezone-set"><a href="#date-default-timezone-set" class="headerlink" title="date_default_timezone_set"></a><strong>date_default_timezone_set</strong></h4><p>bool date_default_timezone_set(string $timezone_identifier)</p><p>å‡½æ•°ä¸ºå½“å‰è„šæœ¬ä¸­æ‰€æœ‰æ—¥æœŸæ—¶é—´å‡½æ•°è®¾ç½®ä¸€ä¸ªé»˜è®¤æ—¶åŒºã€‚å¦‚æœå‚æ•°å€¼æœ‰æ•ˆï¼Œå‡½æ•°è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚</p><p>ä¸­å›½å¤§é™†çš„æ—¶åŒºæ ‡è¯†ç¬¦å¯ç”¨PRCã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-title function_ invoke__">date_default_timezone_set</span>(<span class="hljs-string">&quot;PRC&quot;</span>);<br><span class="hljs-variable">$time1</span> = <span class="hljs-title function_ invoke__">mktime</span>(<span class="hljs-number">15</span>, <span class="hljs-number">10</span>, <span class="hljs-number">28</span>, <span class="hljs-number">1</span>, <span class="hljs-number">20</span>, <span class="hljs-number">2016</span>);<span class="hljs-comment">// æ ¹æ®æ—¥æœŸæ—¶é—´ä¿¡æ¯è·å–æ—¶é—´æˆ³$time1</span><br><span class="hljs-variable">$dt</span> = <span class="hljs-title function_ invoke__">date</span>(<span class="hljs-string">&quot;Y-m-d H:i:s&quot;</span>, <span class="hljs-variable">$time1</span>);              <span class="hljs-comment">// æ ¹æ®æ—¶é—´æˆ³è·å¾—æ—¥æœŸæ—¶é—´ä¿¡æ¯çš„å­—ç¬¦ä¸²</span><br><span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>, <span class="hljs-string">&quot;&lt;br /&gt;&quot;</span>;<br><span class="hljs-variable">$time2</span> = <span class="hljs-title function_ invoke__">mktime</span>(<span class="hljs-number">9</span>, <span class="hljs-number">50</span>, <span class="hljs-number">38</span>, <span class="hljs-number">2</span>, <span class="hljs-number">12</span>, <span class="hljs-number">2016</span>);<span class="hljs-comment">// æ ¹æ®æ—¥æœŸæ—¶é—´ä¿¡æ¯è·å–æ—¶é—´æˆ³$time2</span><br><span class="hljs-variable">$wday</span> = <span class="hljs-title function_ invoke__">date</span>(<span class="hljs-string">&quot;w&quot;</span>, <span class="hljs-variable">$time2</span>);              <span class="hljs-comment">// è·å¾—æŒ‡å®šæ—¶é—´æˆ³å±äºæ˜ŸæœŸå‡ </span><br><span class="hljs-keyword">echo</span> <span class="hljs-variable">$wday</span>, <span class="hljs-string">&quot;&lt;br /&gt;&quot;</span>;<br><span class="hljs-variable">$lastday</span> = <span class="hljs-title function_ invoke__">date</span>(<span class="hljs-string">&quot;t&quot;</span>, <span class="hljs-variable">$time2</span>);           <span class="hljs-comment">// è·å¾—æŒ‡å®šæ—¶é—´æˆ³æ‰€åœ¨æœˆä»½çš„å¤©æ•°</span><br><span class="hljs-keyword">echo</span> <span class="hljs-variable">$lastday</span>, <span class="hljs-string">&quot;&lt;br /&gt;&quot;</span>;<br><span class="hljs-variable">$days</span> = (<span class="hljs-variable">$time2</span> - <span class="hljs-variable">$time1</span>)/(<span class="hljs-number">24</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span>);<span class="hljs-comment">// è®¡ç®—ä¸¤ä¸ªæŒ‡å®šæ—¶é—´ç›¸å·®çš„å¤©æ•°</span><br><span class="hljs-keyword">echo</span> (<span class="hljs-keyword">int</span>)<span class="hljs-variable">$days</span>;<br><span class="hljs-meta">?&gt;</span><br><br><span class="hljs-comment">/*è¾“å‡ºï¼š</span><br><span class="hljs-comment">    2016-01-20 15:10:28</span><br><span class="hljs-comment">    5</span><br><span class="hljs-comment">    29</span><br><span class="hljs-comment">    22</span><br><span class="hljs-comment">    */</span><br></code></pre></td></tr></table></figure></li></ol><h1 id="ç¬¬6ç« -å¤„ç†å­—ç¬¦ä¸²"><a href="#ç¬¬6ç« -å¤„ç†å­—ç¬¦ä¸²" class="headerlink" title="ç¬¬6ç«  å¤„ç†å­—ç¬¦ä¸²"></a>ç¬¬6ç«  å¤„ç†å­—ç¬¦ä¸²</h1><h2 id="6-1-é•¿åº¦ä¸å»ç©º"><a href="#6-1-é•¿åº¦ä¸å»ç©º" class="headerlink" title="6-1 | é•¿åº¦ä¸å»ç©º"></a>6-1 | é•¿åº¦ä¸å»ç©º</h2><h4 id="å­—ç¬¦ä¸²é•¿åº¦"><a href="#å­—ç¬¦ä¸²é•¿åº¦" class="headerlink" title="å­—ç¬¦ä¸²é•¿åº¦"></a>å­—ç¬¦ä¸²é•¿åº¦</h4><p>1.å­—èŠ‚é•¿åº¦</p><p>int strlen(string $str)</p><p>â‘ è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œå³å­—èŠ‚ä¸ªæ•°ã€‚</p><p>â‘¡è‹¥strä¸ºç©ºä¸²æˆ–NULLï¼Œè¿”å›0ã€‚</p><p>2.å­—ç¬¦é•¿åº¦</p><p>mixed mb_strlen(string $str [, string $encoding])</p><p>â‘ è¿”å›å­—ç¬¦ä¸²é•¿åº¦ï¼Œå³å­—ç¬¦ä¸ªæ•°ã€‚å­—ç¬¦ä¸²$stré‡‡ç”¨æŒ‡å®šçš„å­—ç¬¦é›†$encodingã€‚</p><p>â‘¡è‹¥$strä¸ºç©ºä¸²æˆ–NULLï¼Œå‡½æ•°è¿”å›0ã€‚</p><p>â‘¢å¦‚æœ$encodingæŒ‡å®šçš„ä¸æ˜¯ä¸€ä¸ªå­—ç¬¦é›†åç§°ï¼Œå‡½æ•°äº§ç”Ÿä¸€ä¸ªè­¦å‘Šä¿¡æ¯ï¼Œå¹¶è¿”å›falseã€‚</p><p>â‘£å¦‚æœ$encodingæŒ‡å®šçš„å­—ç¬¦é›†ä¸å­—ç¬¦ä¸²å®é™…é‡‡ç”¨çš„å­—ç¬¦é›†ä¸ä¸€è‡´ï¼Œå‡½æ•°è¿”å›çš„ç»“æœå¯èƒ½ä¸æ­£ç¡®ã€‚</p><h4 id="å»ç©º"><a href="#å»ç©º" class="headerlink" title="å»ç©º"></a>å»ç©º</h4><p>string trim($str [, $charlist])    //å»é™¤é¦–å°¾ç«¯ç©ºç™½ç¬¦å·æˆ–æŒ‡å®šå­—ç¬¦</p><p>string ltrim($str[, $charlist])    //å»é™¤å¼€å¤´çš„ç©ºç™½ç¬¦å·æˆ–æŒ‡å®šå­—ç¬¦</p><p>string rtrim($str [, $charlist])    //å»é™¤å°¾éƒ¨çš„ç©ºç™½ç¬¦å·æˆ–æŒ‡å®šå­—ç¬¦</p><p>â‘ ä»å­—ç¬¦ä¸²($str)çš„å¼€å§‹å¤„å’Œ(æˆ–)ç»“å°¾å¤„å»é™¤ç©ºç™½ç¬¦å·(é»˜è®¤)æˆ–æŒ‡å®šå­—ç¬¦($charlist)ï¼Œç„¶åè¿”å›ç»“æœå­—ç¬¦ä¸²ã€‚</p><p>â‘¡ç©ºç™½ç¬¦å·åŒ…æ‹¬:æ¢è¡Œç¬¦å’Œå›è½¦ç¬¦(\nå’Œ\r)ã€æ°´å¹³å’Œå‚ç›´åˆ¶è¡¨ç¬¦(\tå’Œ\x0B)ã€ç©ºå­—ç¬¦(\0)ã€ç©ºæ ¼ã€‚</p><p>â‘¢$charlistå¯ä»¥ç®€å•åˆ—å‡ºæ‰€æœ‰è¦è¿‡æ»¤çš„å­—ç¬¦ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨..æŒ‡å®šä¸€ä¸ªå­—ç¬¦èŒƒå›´ï¼Œå¦‚\x61..\x7aï¼Œè¡¨ç¤ºæ‰€æœ‰çš„å°å†™å­—æ¯ã€‚</p><h2 id="6-2-å¤§å°å†™è½¬æ¢ä¸æ¯”è¾ƒ"><a href="#6-2-å¤§å°å†™è½¬æ¢ä¸æ¯”è¾ƒ" class="headerlink" title="6-2 | å¤§å°å†™è½¬æ¢ä¸æ¯”è¾ƒ"></a>6-2 | å¤§å°å†™è½¬æ¢ä¸æ¯”è¾ƒ</h2><h4 id="å¤§å°å†™è½¬åŒ–"><a href="#å¤§å°å†™è½¬åŒ–" class="headerlink" title="å¤§å°å†™è½¬åŒ–"></a>å¤§å°å†™è½¬åŒ–</h4><p><strong>1.</strong> <strong>å°å†™è½¬å¤§å†™</strong></p><p>string strtoupper(string $string)    //å°†$stringä¸­æ‰€æœ‰çš„å°å†™å­—æ¯è½¬æ¢ä¸ºå¤§å†™å¹¶è¿”å›ã€‚</p><p><strong>2.</strong> <strong>å¤§å†™è½¬å°å†™</strong></p><p>string strtolower(string $string)    //å°†$stringä¸­æ‰€æœ‰çš„å¤§å†™å­—æ¯è½¬æ¢ä¸ºå°å†™å¹¶è¿”å›ã€‚</p><h4 id="å­—ç¬¦ä¸²æ¯”è¾ƒ"><a href="#å­—ç¬¦ä¸²æ¯”è¾ƒ" class="headerlink" title="å­—ç¬¦ä¸²æ¯”è¾ƒ"></a>å­—ç¬¦ä¸²æ¯”è¾ƒ</h4><p><strong>1.</strong> <strong>æŒ‰å­—å…¸é¡ºåºæ¯”è¾ƒ</strong></p><p>int strcmp(string $str1, string $str2)</p><p>int strcasecmp(string $str1, string $str2)</p><p>â‘ æŒ‰å­—å…¸é¡ºåºæ¯”è¾ƒã€‚è‹¥str1å¤§äºstr2ï¼Œè¿”å›&gt;0ï¼›è‹¥str1å°äºstr2ï¼Œè¿”å›&lt;0ï¼›è‹¥str1ç­‰äºstr2ï¼Œè¿”å›0ã€‚</p><p>â‘¡å‡½æ•°strcmpæ¯”è¾ƒæ—¶åŒºåˆ†å¤§å°å†™ï¼Œå‡½æ•°strcasecmpæ¯”è¾ƒæ—¶ä¸åŒºåˆ†å¤§å°å†™ã€‚</p><p><strong>2.</strong> <strong>æŒ‰è‡ªç„¶é¡ºåºæ¯”è¾ƒ</strong> </p><p>int strnatcmp(string $str1, string $str2)</p><p>int strnatcasecmp(string $str1, string $str2)</p><p>â‘ æŒ‰è‡ªç„¶é¡ºåºæ¯”è¾ƒï¼Œè‹¥str1å¤§äºstr2ï¼Œè¿”å›&gt;0ï¼›è‹¥str1å°äºstr2ï¼Œè¿”å›&lt;0ï¼›è‹¥str1ç­‰äºstr2ï¼Œè¿”å›0ã€‚</p><p>â‘¡å‡½æ•°strnatcmpæ¯”è¾ƒæ—¶åŒºåˆ†å¤§å°å†™ï¼Œå‡½æ•°strnatcasecmpæ¯”è¾ƒæ—¶ä¸åŒºåˆ†å¤§å°å†™ã€‚</p><h2 id="6-3-å­ä¸²å¤„ç†"><a href="#6-3-å­ä¸²å¤„ç†" class="headerlink" title="6-3 | å­ä¸²å¤„ç†"></a>6-3 | å­ä¸²å¤„ç†</h2><h4 id="è®¿é—®å•ä¸ªå­—ç¬¦"><a href="#è®¿é—®å•ä¸ªå­—ç¬¦" class="headerlink" title="è®¿é—®å•ä¸ªå­—ç¬¦"></a>è®¿é—®å•ä¸ªå­—ç¬¦</h4><p>å¯ä»¥é€šè¿‡æ–¹æ‹¬å·æˆ–èŠ±æ‹¬å·è®¿é—®å­—ç¬¦ä¸²ä¸­çš„æŸå•ä¸ªå­—ç¬¦ï¼š</p><p><strong>&lt;$string&gt;[&lt;$index&gt;]</strong>  </p><p>æˆ–</p><p><strong>&lt;$string&gt; {&lt;$index&gt;}</strong></p><p>å¯ä»¥è¿”å›æŒ‡å®šç´¢å¼•ä½ä¸Šçš„å­—ç¬¦ï¼Œç±»å‹ä¸ºå­—ç¬¦ä¸²ã€‚</p><p>å¦‚æœæŒ‡å®šçš„ç´¢å¼•$indexæ— æ•ˆï¼Œé‚£ä¹ˆPHPç³»ç»Ÿå°†äº§ç”Ÿä¸€æ¡æ³¨æ„ï¼ˆNoticeï¼‰ä¿¡æ¯ï¼Œå¼å­è¿”å›ç©ºä¸²ã€‚</p><h4 id="è·å–å­ä¸²"><a href="#è·å–å­ä¸²" class="headerlink" title="è·å–å­ä¸²"></a>è·å–å­ä¸²</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-keyword">string</span> <span class="hljs-title function_ invoke__">substr</span>(<span class="hljs-keyword">string</span> <span class="hljs-variable">$str</span>, <span class="hljs-keyword">int</span> <span class="hljs-variable">$start</span> [, <span class="hljs-keyword">int</span> <span class="hljs-variable">$length</span> ])<br><span class="hljs-keyword">string</span> <span class="hljs-title function_ invoke__">mb_substr</span>(<span class="hljs-keyword">string</span> <span class="hljs-variable">$str</span>, <span class="hljs-keyword">int</span> <span class="hljs-variable">$start</span> [,<span class="hljs-keyword">int</span> <span class="hljs-variable">$length</span> [,<span class="hljs-keyword">string</span> <span class="hljs-variable">$encoding</span>]])<br></code></pre></td></tr></table></figure><p>â‘ å‡½æ•°substrä»¥å­—èŠ‚ä¸ºå•ä½ï¼›å‡½æ•°mb_substrä»¥å­—ç¬¦ä¸ºå•ä½ï¼Œ$encodingæŒ‡å®šå­—ç¬¦ä¸²é‡‡ç”¨çš„å­—ç¬¦é›†çš„åç§°ã€‚</p><p>â‘¡è‹¥$startä¸ºéè´Ÿæ•´æ•°ï¼Œåˆ™å­ä¸²çš„èµ·å§‹ä½ç½®æ˜¯å­—ç¬¦ä¸²ä¸­ä¸‹æ ‡ä¸º$startçš„å­—ç¬¦ï¼Œå­—ç¬¦ä¸²çš„é¦–å­—ç¬¦ä¸‹æ ‡ä¸º0ã€‚è‹¥æŒ‡å®šçš„å­ä¸²èµ·å§‹ä½ç½®è¶…å‡ºäº†å­—ç¬¦ä¸²çš„æœ€åä¸€ä¸ªå­—ç¬¦ï¼Œå‡½æ•°è¿”å›falseã€‚ </p><p>â‘¢è‹¥$startä¸ºè´Ÿæ•´æ•°ï¼Œåˆ™å­ä¸²çš„èµ·ç‚¹ä½ç½®æ˜¯å­—ç¬¦ä¸²çš„å€’æ•°ç¬¬-$startä¸ªå­—ç¬¦ï¼Œå­—ç¬¦ä¸²æœ€åä¸€ä¸ªå­—ç¬¦çš„ä½ç½®æ˜¯-1ã€‚è‹¥æŒ‡å®šå­ä¸²çš„èµ·å§‹ä½ç½®è¶…å‡ºäº†å­—ç¬¦ä¸²çš„é¦–å­—ç¬¦ï¼Œå­ä¸²çš„èµ·å§‹ä½ç½®ä»é¦–å­—ç¬¦å¼€å§‹ã€‚</p><p>â‘£è‹¥å¿½ç•¥$lengthï¼Œåˆ™å­ä¸²ä»èµ·å§‹ä½ç½®ä¸€ç›´å–åˆ°å­—ç¬¦ä¸²çš„æœ€åä¸€ä¸ªå­—ç¬¦ã€‚è‹¥$lengthä¸º0æˆ–falseï¼Œåˆ™å‡½æ•°è¿”å›ç©ºä¸²ã€‚</p><p>â‘¤è‹¥$lengthä¸ºæ­£æ•´æ•°ï¼Œåˆ™å…¶æŒ‡å®šè¿”å›å­ä¸²çš„å­—ç¬¦ä¸ªæ•°ï¼›è‹¥è¯¥å€¼å¤ªå¤§ï¼Œåˆ™å–è‡³æœ€åä¸€ä¸ªå­—ç¬¦ã€‚</p><p>â‘¥è‹¥$lengthä¸ºè´Ÿæ•´æ•°ï¼Œåˆ™å­ä¸²ä»èµ·å§‹ä½ç½®å–è‡³å€’æ•°ç¬¬-$lengthä¸ªå­—ç¬¦å‰çš„ä¸€ä¸ªå­—ç¬¦ä¸ºæ­¢ï¼Œå³ä¿ç•™å­—ç¬¦ä¸²æœ«å°¾çš„-$lengthä¸ªå­—ç¬¦ã€‚</p><p>è‹¥-$lengthå¤§äºå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œåˆ™å‡½æ•°è¿”å›falseï¼›</p><p>è‹¥è¦ä¿ç•™çš„å­—ç¬¦ä¸­æœ€å·¦è¾¹ç¬¬1ä¸ªå­—ç¬¦æ­£å¥½æ˜¯èµ·å§‹ä½ç½®å­—ç¬¦ï¼Œåˆ™å‡½æ•°è¿”å›ç©ºä¸²ï¼›</p><p>è‹¥è¦ä¿ç•™çš„å­—ç¬¦è¶Šè¿‡äº†èµ·å§‹ä½ç½®å­—ç¬¦ä¸”$startä¸ºè´Ÿæ•´æ•°ï¼Œåˆ™å‡½æ•°è¿”å›ç©ºä¸²ï¼›</p><p>è‹¥è¦ä¿ç•™çš„å­—ç¬¦è¶Šè¿‡äº†èµ·å§‹ä½ç½®å­—ç¬¦ä¸”$startä¸ºéè´Ÿæ•´æ•°ï¼Œåˆ™å‡½æ•°è¿”å›falseã€‚</p><p>â‘¦åœ¨å‡½æ•°substrä¸­ï¼Œè‹¥$lengthä¸ºNULLï¼Œåˆ™å‡½æ•°è¿”å›ç©ºä¸²ã€‚åœ¨å‡½æ•°mb_substrä¸­ï¼Œå½“$lengthä¸ºNULLæ—¶ï¼Œåˆ™å­ä¸²ä»èµ·å§‹ä½ç½®ä¸€ç›´å–è‡³å­—ç¬¦ä¸²å°¾éƒ¨ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-keyword">echo</span> <span class="hljs-title function_ invoke__">substr</span>(<span class="hljs-string">&quot;abcdef&quot;</span>, -<span class="hljs-number">1</span>).<span class="hljs-string">&quot;&lt;br/&gt;&quot;</span>;          <span class="hljs-comment">// è¾“å‡º: f</span><br><span class="hljs-keyword">echo</span> <span class="hljs-title function_ invoke__">substr</span>(<span class="hljs-string">&quot;abcdef&quot;</span>, -<span class="hljs-number">2</span>).<span class="hljs-string">&quot;&lt;br/&gt;&quot;</span>;          <span class="hljs-comment">// è¾“å‡º: ef</span><br><span class="hljs-keyword">echo</span> <span class="hljs-title function_ invoke__">substr</span>(<span class="hljs-string">&quot;abcdef&quot;</span>, -<span class="hljs-number">3</span>, <span class="hljs-number">1</span>).<span class="hljs-string">&quot;&lt;br/&gt;&quot;</span>;       <span class="hljs-comment">// è¾“å‡º: d</span><br><span class="hljs-keyword">echo</span> <span class="hljs-title function_ invoke__">substr</span>(<span class="hljs-string">&quot;abcdef&quot;</span>, <span class="hljs-number">0</span>, -<span class="hljs-number">1</span>).<span class="hljs-string">&quot;&lt;br/&gt;&quot;</span>;       <span class="hljs-comment">// è¾“å‡º: abcde</span><br><span class="hljs-keyword">echo</span> <span class="hljs-title function_ invoke__">substr</span>(<span class="hljs-string">&quot;abcdef&quot;</span>, <span class="hljs-number">2</span>, -<span class="hljs-number">1</span>).<span class="hljs-string">&quot;&lt;br/&gt;&quot;</span>;       <span class="hljs-comment">// è¾“å‡º: cde</span><br><span class="hljs-keyword">echo</span> <span class="hljs-title function_ invoke__">substr</span>(<span class="hljs-string">&quot;abcdef&quot;</span>, -<span class="hljs-number">3</span>, -<span class="hljs-number">1</span>).<span class="hljs-string">&quot;&lt;br/&gt;&quot;</span>;      <span class="hljs-comment">// è¾“å‡º: de</span><br><span class="hljs-title function_ invoke__">var_dump</span>(<span class="hljs-title function_ invoke__">substr</span>(<span class="hljs-string">&quot;abcdef&quot;</span>, -<span class="hljs-number">3</span>, -<span class="hljs-number">4</span>));         <span class="hljs-comment">// è¾“å‡º: string(0) &quot;&quot;</span><br><span class="hljs-title function_ invoke__">var_dump</span>(<span class="hljs-title function_ invoke__">substr</span>(<span class="hljs-string">&quot;abcdef&quot;</span>, <span class="hljs-number">4</span>, -<span class="hljs-number">4</span>));          <span class="hljs-comment">// è¾“å‡º: bool(false) </span><br><br><span class="hljs-variable">$str</span> = <span class="hljs-string">&quot;PHPè¯­è¨€&quot;</span>;<br><span class="hljs-keyword">echo</span> <span class="hljs-title function_ invoke__">substr</span>(<span class="hljs-variable">$str</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>).<span class="hljs-string">&quot;&lt;br/&gt;&quot;</span>;            <span class="hljs-comment">// è¾“å‡º: è¯­</span><br><span class="hljs-keyword">echo</span> <span class="hljs-title function_ invoke__">mb_substr</span>(<span class="hljs-variable">$str</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-string">&quot;UTF-8&quot;</span>);        <span class="hljs-comment">// è¾“å‡º: è¯­è¨€</span><br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure><h4 id="æŸ¥æ‰¾å­ä¸²"><a href="#æŸ¥æ‰¾å­ä¸²" class="headerlink" title="æŸ¥æ‰¾å­ä¸²"></a>æŸ¥æ‰¾å­ä¸²</h4><ul><li><p><strong>strpos</strong>å‡½æ•°</p><p>mixed strpos(string $haystack, mixed $needle [,int $offset ])</p><p>â‘ è¿”å›å­ä¸²$needleåœ¨å­—ç¬¦ä¸²$haystackä¸­ç¬¬1æ¬¡å‡ºç°çš„ä½ç½®ã€‚è‹¥æ²¡æœ‰å‘ç°å­ä¸²ï¼Œå‡½æ•°è¿”å›falseã€‚</p><p>â‘¡$offsetæŒ‡å®šæœç´¢å­ä¸²çš„èµ·å§‹ä½ç½®ï¼Œåªèƒ½æ˜¯éè´Ÿæ•´æ•°ï¼Œé»˜è®¤å€¼ä¸º0ã€‚</p></li><li><p><strong>strrpos</strong>å‡½æ•°</p><p>â‘ è¿”å›å­ä¸²$needleåœ¨å­—ç¬¦ä¸²$haystackä¸­æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®ã€‚è‹¥æ²¡æœ‰å‘ç°å­ä¸²ï¼Œå‡½æ•°è¿”å›falseã€‚</p><p>â‘¡æ­¤å‡½æ•°çš„$offsetå¯ä»¥æ˜¯éè´Ÿæ•´æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯è´Ÿæ•´æ•°ï¼Œé»˜è®¤å€¼æ˜¯0ã€‚è‹¥æ˜¯éè´Ÿæ•´æ•°ï¼Œåˆ™ä»ä¸‹æ ‡ä¸º$offsetçš„å­—ç¬¦å¼€å§‹æŸ¥æ‰¾ï¼Œç›´è‡³æœ€åä¸€ä¸ªå­—ç¬¦ï¼›è‹¥æ˜¯è´Ÿæ•´æ•°ï¼Œåˆ™ä»é¦–å­—ç¬¦å¼€å§‹æŸ¥æ‰¾ï¼Œç›´åˆ°å€’æ•°ç¬¬-$offsetä¸ªå­—ç¬¦ä¸ºæ­¢ï¼ˆåªè¦å­ä¸²çš„é¦–å­—ç¬¦åœ¨æ­¤ä½ç½®ä¸Šå³å¯ï¼‰ã€‚</p></li><li><p><strong>stripos</strong>å‡½æ•°</p><p>mixed stripos(string $haystack, mixed $needle [,int $offset ])</p><p>ä¸strposä¸åŒçš„æ˜¯ï¼Œstriposæœç´¢æ—¶ä¸åŒºåˆ†å¤§å°å†™ã€‚</p></li><li><p><strong>strripos</strong>å‡½æ•°</p><p>mixed strripos(string $haystack, mixed $needle [,int $offset ])</p><p>ä¸strrposä¸åŒçš„æ˜¯ï¼Œstrriposæœç´¢æ—¶ä¸åŒºåˆ†å¤§å°å†™ã€‚</p></li></ul><h4 id="æ›¿æ¢å­ä¸²"><a href="#æ›¿æ¢å­ä¸²" class="headerlink" title="æ›¿æ¢å­ä¸²"></a>æ›¿æ¢å­ä¸²</h4><ul><li><p><strong>str_replace</strong>å‡½æ•°</p><p>mixed str_replace(mixed $search , mixed $replace, mixed $subject [, int &amp;$count ])</p><p>å‡½æ•°ç”¨$replaceæ›¿æ¢$subjectä¸­å‡ºç°çš„æ‰€æœ‰$searchï¼Œè¿”å›æ›¿æ¢åçš„ç»“æœå­—ç¬¦ä¸²ã€‚</p><p>â‘ å¦‚æœ$searchå’Œ$replaceéƒ½æ˜¯æ•°ç»„ï¼Œé‚£ä¹ˆå°±å¯¹$searchä¸­æ¯ä¸ªå…ƒç´ ä¾æ¬¡åšæ›¿æ¢æ“ä½œï¼ŒæœŸé—´æŠŠ$replaceä¸­çš„å¯¹åº”å…ƒç´ ä½œä¸ºæ›¿æ¢å€¼ã€‚å¦‚æœ$replaceçš„å…ƒç´ æ¯”$searchçš„å…ƒç´ å°‘ï¼Œé‚£ä¹ˆç”¨ç©ºä¸²ä½œä¸º$searchä¸­å¤šä½™å…ƒç´ çš„æ›¿æ¢å€¼ã€‚</p><p>â‘¡å¦‚æœ$searchæ˜¯æ•°ç»„ï¼Œè€Œ$replaceæ˜¯å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆ$replaceè¢«ç”¨ä½œ$searchä¸­çš„æ¯ä¸ªå…ƒç´ çš„æ›¿æ¢å€¼ã€‚</p><p>â‘¢å¦‚æœ$subjectæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œåˆ™ä¸Šè¿°æ›¿æ¢æ“ä½œå°†ä¾æ¬¡æ‰§è¡Œäº$subjectæ•°ç»„çš„æ¯ä¸ªå…ƒç´ ï¼Œå‡½æ•°è¿”å›ä¸€ä¸ªæ•°ç»„ã€‚</p><p>â‘£å¦‚æœæŒ‡å®š$countå˜é‡ï¼Œè¿”å›æ‰§è¡Œæ›¿æ¢æ“ä½œçš„æ¬¡æ•°ã€‚</p></li><li><p><strong>substr_replace</strong>å‡½æ•°</p><p>mixed substr_replace(mixed $str, mixed $replacement, mixed $start[, mixed $length])</p><p>å‡½æ•°ç”¨$replacementæ›¿æ¢$strä¸­ä»$startå¼€å§‹ã€é•¿åº¦ä¸º$lengthçš„å­ä¸²ï¼Œè¿”å›æ›¿æ¢åçš„ç»“æœå­—ç¬¦ä¸²ã€‚</p><p>â‘ å‚æ•°$startæŒ‡å®šè¦è¢«æ›¿æ¢çš„å­ä¸²çš„èµ·å§‹ä½ç½®ã€‚è‹¥$startä¸ºéè´Ÿæ•´æ•°ï¼Œèµ·å§‹ä½ç½®æ˜¯ä¸‹æ ‡ä¸º$startçš„å­—ç¬¦ï¼›è‹¥$startä¸ºè´Ÿæ•´æ•°ï¼Œèµ·å§‹ä½ç½®æ˜¯å€’æ•°ç¬¬-$startä¸ªå­—ç¬¦ã€‚</p><p>â‘¡å‚æ•°$lengthæŒ‡å®šè¦è¢«æ›¿æ¢çš„å­ä¸²çš„é•¿åº¦ã€‚</p><p>è‹¥$lengthä¸ºæ­£æ•´æ•°ï¼Œè¡¨ç¤ºè¢«æ›¿æ¢çš„å­—ç¬¦ä¸ªæ•°ï¼›</p><p>è‹¥$lengthä¸ºè´Ÿæ•´æ•°ï¼Œåˆ™å­ä¸²ä»èµ·å§‹ä½ç½®å–è‡³å€’æ•°ç¬¬-$lengthä¸ªå­—ç¬¦å‰çš„ä¸€ä¸ªå­—ç¬¦ä¸ºæ­¢ï¼›</p><p>è‹¥$lengthä¸º0ï¼Œæ­¤å‡½æ•°çš„åŠŸèƒ½æ˜¯æ’å…¥;</p><p>è‹¥ç¼ºçœ$lengthï¼Œåˆ™è¢«æ›¿æ¢çš„å­ä¸²æ˜¯ä»$startå¼€å§‹è‡³æœ€åä¸€ä¸ªå­—ç¬¦ã€‚</p><p>â‘¢è‹¥$stræ˜¯æ•°ç»„ï¼Œåˆ™$replacementã€$startå’Œ$lengthä¼šåº”ç”¨äº$strçš„æ¯ä¸ªå…ƒç´ ã€‚å¦‚æœ$replacementã€$startå’Œ$lengthä¹Ÿå¯ä»¥æ˜¯æ•°ç»„ï¼Œé‚£ä¹ˆåŒ…æ‹¬$stråœ¨å†…çš„å„æ•°ç»„å¯¹åº”å…ƒç´ åˆ†åˆ«è¿›è¡Œæ›¿æ¢æ“ä½œã€‚å‡½æ•°è¿”å›ä¸€ä¸ªæ•°ç»„ã€‚</p></li></ul><h2 id="6-4-åˆ†å‰²å’Œè¿æ¥å­—ç¬¦ä¸²"><a href="#6-4-åˆ†å‰²å’Œè¿æ¥å­—ç¬¦ä¸²" class="headerlink" title="6-4 | åˆ†å‰²å’Œè¿æ¥å­—ç¬¦ä¸²"></a>6-4 | åˆ†å‰²å’Œè¿æ¥å­—ç¬¦ä¸²</h2><ul><li><p><strong>explode</strong>å‡½æ•°</p><p>array explode(string $delimiter , string $string [, int $limit ])</p><p>ä¾æ®å®šç•Œå­—ç¬¦ä¸²delimiterå°†å­—ç¬¦ä¸²stringåˆ†å‰²æˆè‹¥å¹²å­ä¸²ï¼Œå¹¶ä¿å­˜åœ¨ä¸€ä¸ªæ•°ç»„ä¸­è¿”å›ã€‚</p><p>â‘ è‹¥æŒ‡å®š$limitä¸ºæ­£æ•´æ•°ï¼Œåˆ™è¿”å›çš„æ•°ç»„æœ€å¤šåŒ…å«$limitä¸ªå…ƒç´ ï¼Œæœ€åä¸€ä¸ªå…ƒç´ åŒ…å«$stringçš„å‰©ä½™éƒ¨åˆ†ï¼›</p><p>â‘¡è‹¥æŒ‡å®š$limitä¸º0ï¼Œè¢«å½“åš1å¤„ç†ï¼Œæ­¤æ—¶è¿”å›æ•°ç»„ä»…åŒ…å«1ä¸ªå…ƒç´ ï¼Œå³å­—ç¬¦ä¸²$stringæœ¬èº«ï¼› </p><p>â‘¢è‹¥æŒ‡å®š$limitä¸ºè´Ÿæ•´æ•°ï¼Œåˆ™è¿”å›é™¤äº†æœ€å-limitä¸ªå…ƒç´ å¤–çš„æ‰€æœ‰å…ƒç´ ï¼Œå¯èƒ½ä¼šä¸åŒ…å«ä»»ä½•å…ƒç´ ã€‚</p><p>â‘£è‹¥$delimiteræ˜¯ç©ºä¸²ï¼Œä¼šç»™å‡ºä¸€ä¸ªè­¦å‘Šï¼ˆWarningï¼‰ä¿¡æ¯ï¼Œå‡½æ•°è¿”å›falseã€‚</p></li><li><p><strong>implode</strong>å‡½æ•°</p><p>string implode([string $glue ,] array $pieces)</p><p>å°†æ•°ç»„piecesä¸­çš„å„å…ƒç´ è¿æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²è¿”å›ï¼Œä¸¤ä¸ªå…ƒç´ ä¹‹é—´ç”¨glueè¿æ¥ã€‚glueçš„é»˜è®¤å€¼æ˜¯ç©ºä¸²ã€‚</p></li></ul><h2 id="6-5-æ ¼å¼åŒ–è¾“å‡º"><a href="#6-5-æ ¼å¼åŒ–è¾“å‡º" class="headerlink" title="6-5 | æ ¼å¼åŒ–è¾“å‡º"></a>6-5 | æ ¼å¼åŒ–è¾“å‡º</h2><p><strong>printf</strong>å‡½æ•°</p><p>int printf(string $format [, mixed $args [, mixed $â€¦ ]])</p><p>â‘ æ ¹æ®æ ¼å¼åŒ–æ¨¡æ¿$formatäº§ç”Ÿä¸€ä¸ªå­—ç¬¦ä¸²è¾“å‡ºï¼Œå‡½æ•°è¿”å›æ ¼å¼åŒ–äº§ç”Ÿçš„å­—ç¬¦ä¸²çš„é•¿åº¦(å­—èŠ‚æ•°)ã€‚</p><p>â‘¡æ ¼å¼åŒ–æ¨¡æ¿ç”±æ™®é€šå­—ç¬¦å’Œæ ¼å¼ç¬¦ç»„æˆã€‚æ™®é€šå­—ç¬¦åŸæ ·å‡ºç°åœ¨ç»“æœä¸­ï¼Œæ ¼å¼ç¬¦é€šè¿‡åº”ç”¨äºç›¸åº”çš„å‚æ•°å‡ºç°åœ¨ç»“æœä¸­ã€‚</p><p>â‘¢æ ¼å¼ç¬¦çš„ä¸€èˆ¬è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š%[+][â€˜&lt;å¡«å……ç¬¦&gt;][-][&lt;å®½åº¦&gt;][.&lt;ç²¾åº¦&gt;]&lt;ç±»å‹&gt;</p><p>â‘£ç±»å‹æŒ‡æ˜è¯¥æ ¼å¼ç¬¦å¦‚ä½•åº”ç”¨äºå‚æ•°æ•°æ®</p><p><strong>2.</strong> <strong>sprintf</strong>å‡½æ•°</p><p>string sprintf(string $format [, mixed $args [, mixed $â€¦ ]])</p><p>ä¸printfä¸åŒï¼Œsprintfä¸äº§ç”Ÿè¾“å‡ºï¼Œåªæ˜¯æ ¹æ®æ ¼å¼åŒ–æ¨¡æ¿formatäº§ç”Ÿä¸€ä¸ªå­—ç¬¦ä¸²å¹¶è¿”å›</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-variable">$num</span> = <span class="hljs-number">50</span>;<br><span class="hljs-variable">$location</span> = <span class="hljs-string">&#x27;tree&#x27;</span>;<br><span class="hljs-variable">$format</span> = <span class="hljs-string">&quot;There are %d monkeys in the %s&lt;br /&gt;&quot;</span>;<br><span class="hljs-title function_ invoke__">printf</span>(<span class="hljs-variable">$format</span>, <span class="hljs-variable">$num</span>, <span class="hljs-variable">$location</span>);<br><br><span class="hljs-variable">$price</span> = <span class="hljs-number">12.567</span>;<br><span class="hljs-keyword">echo</span> <span class="hljs-title function_ invoke__">sprintf</span>(<span class="hljs-string">&quot;The price is %5.2f&quot;</span>, <span class="hljs-variable">$price</span>);<br><span class="hljs-meta">?&gt;</span> <br></code></pre></td></tr></table></figure><h2 id="6-6-å­—ç¬¦ä¸²ç‰¹æ®Šå¤„ç†"><a href="#6-6-å­—ç¬¦ä¸²ç‰¹æ®Šå¤„ç†" class="headerlink" title="6-6 | å­—ç¬¦ä¸²ç‰¹æ®Šå¤„ç†"></a>6-6 | å­—ç¬¦ä¸²ç‰¹æ®Šå¤„ç†</h2><ul><li><p><strong>nl2br</strong>å‡½æ•°</p><p>string nl2br(string $string)</p><p>å°†å‚æ•°ä¸²ä¸­æ¯ä¸ªæ–°è¡Œç¬¦(\nï¼Œ\rï¼Œ\n\rï¼Œ\r\n)è½¬æ¢ä¸ºHTMLæ¢è¡Œç¬¦(&lt;br /&gt;)ã€‚</p></li><li><p><strong>å°†å­—ç¬¦è½¬æ¢æˆHTMLå®ä½“</strong></p><p>string htmlspecialchars(string $string [, int $quotestyle [, string $encoding [, bool $double_encode]]] )</p><p>â‘ å°†å­—ç¬¦ä¸²ä¸­çš„ç‰¹æ®Šå­—ç¬¦è½¬æ¢æˆHTMLå®ä½“ã€‚</p><p>â‘¡å‚æ•°stringï¼šè¦è¢«è½¬æ¢çš„å­—ç¬¦ä¸²ã€‚</p><p>â‘¢å‚æ•°quotestyleï¼šæŒ‡å®šå¼•å·çš„è½¬æ¢</p><p>â‘£å‚æ•°encodingï¼šæŒ‡å®šå­—ç¬¦ä¸²æ‰€ç”¨çš„å­—ç¬¦ç¼–ç ã€‚</p><p>â‘¤double_encodeï¼šæŒ‡å®šæ˜¯å¦è½¬æ¢å·²æœ‰çš„HTMLå®ä½“ï¼Œé»˜è®¤å€¼ä¸ºtrueï¼Œå³è¦è½¬æ¢ã€‚</p></li><li><p><strong>addslashes</strong>å‡½æ•°</p><p>string addslashes(string $str)</p><p>â‘ å‡½æ•°åœ¨å‚æ•°å­—ç¬¦ä¸²$strä¸­çš„ç‰¹æ®Šå­—ç¬¦å‰åŠ ä¸Šåæ–œæ ï¼ˆ\ï¼‰äº§ç”Ÿä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²è¿”å›ã€‚ç‰¹æ®Šå­—ç¬¦åŒ…æ‹¬ï¼šå•å¼•å·ï¼ˆâ€™ï¼‰ã€åŒå¼•å·ï¼ˆâ€ï¼‰ã€åæ–œçº¿ï¼ˆ\ï¼‰ä¸ç©ºå­—ç¬¦ï¼ˆNULï¼‰ã€‚</p><p>â‘¡è¿™ä¸€åŠŸèƒ½æœ‰æ—¶åœ¨æ„å»ºæ•°æ®åº“çš„SQLè¯­å¥æ—¶æ˜¯æœ‰ç”¨çš„ã€‚</p></li><li><p><strong>urlencodeå‡½æ•°</strong></p><p>string urlencode(string $str )</p><p>â‘ å‡½æ•°å¯ä»¥å¯¹ä½œä¸ºURLä¸­æŸ¥è¯¢å‚æ•°å€¼çš„å­—ç¬¦ä¸²è¿›è¡Œç›¸åº”çš„ç¼–ç å¹¶è¿”å›ï¼Œä»¥ä¾¿ä½œä¸ºURLçš„ä¸€éƒ¨åˆ†ã€‚</p><p>â‘¡é€šå¸¸ï¼ŒURLåªèƒ½åŒ…å«å­—æ¯æ•°å­—ä»¥åŠ-å’Œ_å­—ç¬¦ï¼Œå¯¹å…¶ä»–å­—ç¬¦éƒ½è¦è¿›è¡Œç›¸åº”çš„ç¼–ç ã€‚</p></li></ul><h2 id="6-7-æ­£åˆ™è¡¨è¾¾å¼"><a href="#6-7-æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="6-7 | æ­£åˆ™è¡¨è¾¾å¼"></a>6-7 | æ­£åˆ™è¡¨è¾¾å¼</h2><ul><li><p>å­—ç¬¦ç±»</p><p>ä¸€ä¸ªå­—ç¬¦ç±»åœ¨ç›®æ ‡å­—ç¬¦ä¸²ä¸­åŒ¹é…ä¸€ä¸ªå•ç‹¬çš„å­—ç¬¦ã€‚</p><ul><li><p>ä¸€èˆ¬å­—ç¬¦ </p><p>ä¸€èˆ¬å­—ç¬¦ç±»ç”±ä¸€å¯¹æ–¹æ‹¬å·è¡¨ç¤ºï¼Œå¯ä»¥ä½¿ç”¨-å’Œ^ï¼š[â€¦]  [^â€¦]  [a-z]  [^0-9]</p><table><thead><tr><th>ä¸€èˆ¬å­—ç±»</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>[â€¦]</td><td>å­—ç¬¦é›†åˆã€‚åŒ¹é…æ‰€åŒ…å«çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€™[abc]â€™  å¯ä»¥åŒ¹é… â€œplainâ€ ä¸­çš„  â€˜aâ€™ã€‚</td></tr><tr><td>[^â€¦]</td><td>åå‘å­—ç¬¦é›†åˆã€‚åŒ¹é…æœªåŒ…å«çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€™[^abc]â€™  å¯ä»¥åŒ¹é… â€œplainâ€ ä¸­çš„â€™pâ€™ã€‚</td></tr><tr><td>[char1-char2]</td><td>å­—ç¬¦èŒƒå›´ã€‚åŒ¹é…æŒ‡å®šèŒƒå›´å†…çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€™[a-z]â€™ å¯ä»¥åŒ¹é… â€˜aâ€™ åˆ° â€˜zâ€™ èŒƒå›´å†…çš„ä»»æ„å°å†™å­—æ¯å­—ç¬¦ã€‚</td></tr><tr><td>[^char1-char2]</td><td>æ’é™¤å¼å­—ç¬¦èŒƒå›´ã€‚åŒ¹é…ä»»ä½•ä¸åœ¨æŒ‡å®šèŒƒå›´å†…çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€™[^a-z]â€™ å¯ä»¥åŒ¹é…ä»»ä½•ä¸åœ¨ â€˜aâ€™ åˆ° â€˜zâ€™ èŒƒå›´å†…çš„ä»»æ„å­—ç¬¦ã€‚</td></tr></tbody></table></li><li><p>ç‰¹æ®Šå­—ç¬¦</p><table><thead><tr><th>ç‰¹æ®Šå­—ç¬¦ç±»</th><th align="left">å«ä¹‰</th></tr></thead><tbody><tr><td>.</td><td align="left">å‡ºç°åœ¨æ–¹æ‹¬å·å¤–ï¼ŒåŒ¹é…é™¤ â€œ\nâ€ ä¹‹å¤–çš„ä»»ä½•å•ä¸ªå­—ç¬¦ã€‚å¦‚â€˜a.câ€™åŒ¹é…abcã€awcã€a9cã€a#cç­‰ã€‚</td></tr><tr><td>\w</td><td align="left">åŒ¹é…åŒ…æ‹¬ä¸‹åˆ’çº¿çš„ä»»ä½•å•è¯å­—ç¬¦ï¼Œç­‰ä»·äº[A-Za-z0-9_]ã€‚</td></tr><tr><td>\W</td><td align="left">åŒ¹é…ä»»ä½•éå•è¯å­—ç¬¦ï¼Œç­‰ä»·äº[^A-Za-z0-9_]ã€‚</td></tr><tr><td>\d</td><td align="left">åŒ¹é…ä¸€ä¸ªæ•°å­—å­—ç¬¦ï¼Œç­‰ä»·äº[0-9]ã€‚</td></tr><tr><td>\D</td><td align="left">åŒ¹é…ä¸€ä¸ªéæ•°å­—å­—ç¬¦ï¼Œç­‰ä»·äº[^0-9]ã€‚</td></tr><tr><td>\s</td><td align="left">åŒ¹é…ä»»ä½•ç©ºç™½å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰ç­‰ï¼Œç­‰ä»·äº[\n\r\f\t ]ã€‚è¯´æ˜ï¼šæœ€ååŒ…å«ä¸€ä¸ªç©ºæ ¼ï¼Œä½†ä¸åŒ…æ‹¬\vã€‚</td></tr><tr><td>\S</td><td align="left">åŒ¹é…ä»»ä½•éç©ºç™½å­—ç¬¦ã€‚ç­‰ä»·äº[^\n\r\f\t ]ã€‚</td></tr></tbody></table></li></ul></li><li><p>å…ƒå­—ç¬¦ç±»ä¸è½¬ä¹‰å­—ç¬¦</p></li><li><p>é€‰é¡¹æ¨¡å¼ä¸å­æ¨¡å¼</p></li><li><p>é‡è¯</p><p>é‡è¯ç”¨äºæŒ‡å®šé‡å¤æ¬¡æ•°ï¼Œå‡ºç°åœ¨è¦é‡å¤çš„å¯¹è±¡åé¢ã€‚å¯ä»¥é‡å¤çš„å¯¹è±¡åŒ…æ‹¬ï¼šå•ç‹¬å­—ç¬¦ã€å­—ç¬¦ç±»ã€è½¬ä¹‰å­—ç¬¦ã€åå‘å¼•ç”¨ã€å­æ¨¡å¼</p><table><thead><tr><th>*</th><th>åŒ¹é…0æ¬¡æˆ–æ›´å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€™xy*zâ€™å¯ä»¥åŒ¹é…â€xzâ€ã€â€xyzâ€ã€â€xyyzâ€ç­‰ã€‚*ç­‰ä»·äº{0,}ã€‚</th></tr></thead><tbody><tr><td>+</td><td>åŒ¹é…1æ¬¡æˆ–æ›´å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€™xy+zâ€™å¯ä»¥åŒ¹é…â€xyzâ€ã€â€xyyzâ€ã€â€xyyyzâ€ç­‰ã€‚+ç­‰ä»·äº{1,}ã€‚</td></tr><tr><td>?</td><td>åŒ¹é…0æ¬¡æˆ–1æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€™do(es)?â€™å¯ä»¥åŒ¹é…â€doâ€å’Œâ€doesâ€ã€‚?ç­‰ä»·äº{0,1}ã€‚</td></tr><tr><td>{<em>n}</em></td><td>ä¸¥æ ¼åŒ¹é…næ¬¡ã€‚ ä¾‹å¦‚ï¼Œâ€™xy{2}zâ€™å¯ä»¥åŒ¹é…â€xyyzâ€ã€‚</td></tr><tr><td>{<em>n,}</em></td><td>è‡³å°‘åŒ¹é…næ¬¡ã€‚ ä¾‹å¦‚ï¼Œâ€™xy{2,}zâ€™å¯ä»¥åŒ¹é…â€xyyzâ€ã€â€xyyyzâ€ã€â€xyyyyzâ€ç­‰ã€‚</td></tr><tr><td>{<em>n,m}</em></td><td>è‡³å°‘åŒ¹é…næ¬¡ã€æœ€å¤šåŒ¹é…mæ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€™xy{2,3}zâ€™å¯ä»¥åŒ¹é…â€xyyzâ€ã€â€xyyyzâ€ã€‚</td></tr></tbody></table></li><li><p>æ–­è¨€</p></li></ul><h2 id="6-8-PHPæ¨¡å¼åŒ¹é…å‡½æ•°"><a href="#6-8-PHPæ¨¡å¼åŒ¹é…å‡½æ•°" class="headerlink" title="6-8 | PHPæ¨¡å¼åŒ¹é…å‡½æ•°"></a>6-8 | PHPæ¨¡å¼åŒ¹é…å‡½æ•°</h2><ul><li><strong>preg_matchå‡½æ•°ï¼ˆæ¨¡å¼åŒ¹é…åŠå­æ¨¡å¼åŒ¹é…</strong>ï¼‰</li><li><strong>preg_match_all</strong>å‡½æ•°</li><li><strong>preg_split</strong>å‡½æ•°</li></ul><h1 id="ç¬¬8ç« -PHPè®¿é—®æ•°æ®åº“"><a href="#ç¬¬8ç« -PHPè®¿é—®æ•°æ®åº“" class="headerlink" title="ç¬¬8ç«  PHPè®¿é—®æ•°æ®åº“"></a>ç¬¬8ç«  PHPè®¿é—®æ•°æ®åº“</h1><blockquote><p>PHPåº”ç”¨é€šå¸¸åˆ©ç”¨PHPçš„MySQLiæ‰©å±•å’ŒPDOæ‰©å±•è®¿é—®æ•°æ®åº“ã€‚</p><p>MySQLiæ‰©å±•ä¸»è¦æä¾›MySQLiã€MySQLi_RESULTå’ŒMySQLi_STMTä¸‰ä¸ªç±»ï¼Œç¨‹åºå‘˜å¯ä»¥ä½¿ç”¨è¿™äº›ç±»å»ºç«‹ä¸MySQLæ•°æ®åº“çš„è¿æ¥ã€è®¿é—®MySQLæ•°æ®åº“ä»¥åŠå¤„ç†æŸ¥è¯¢ç»“æœã€‚</p><p>PDOæ˜¯ä¸€ç§æ•°æ®è®¿é—®æŠ½è±¡å±‚ï¼Œå®ƒä¸ºPHPç¨‹åºå‘˜æä¾›äº†ä¸€ä¸ªè½»é‡çº§çš„ä¸€è‡´çš„ç¼–ç¨‹æ¥å£ã€‚PDOæ‰©å±•æä¾›çš„åº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£ä¸»è¦åŒ…æ‹¬PDOã€PDOStatementå’ŒPDOExceptionç±»ã€‚</p></blockquote><h2 id="8-1-ä½¿ç”¨MySQLiè®¿é—®æ•°æ®åº“"><a href="#8-1-ä½¿ç”¨MySQLiè®¿é—®æ•°æ®åº“" class="headerlink" title="8-1 | ä½¿ç”¨MySQLiè®¿é—®æ•°æ®åº“"></a>8-1 | ä½¿ç”¨MySQLiè®¿é—®æ•°æ®åº“</h2><h4 id="å»ºç«‹ä¸MySQLæœåŠ¡å™¨çš„è¿æ¥"><a href="#å»ºç«‹ä¸MySQLæœåŠ¡å™¨çš„è¿æ¥" class="headerlink" title="å»ºç«‹ä¸MySQLæœåŠ¡å™¨çš„è¿æ¥"></a>å»ºç«‹ä¸MySQLæœåŠ¡å™¨çš„è¿æ¥</h4><ul><li><p><strong>å®ä¾‹åŒ–</strong>MySQLi</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-title function_ invoke__">construct</span> (<span class="hljs-keyword">string</span> <span class="hljs-variable">$host</span>, <span class="hljs-keyword">string</span> <span class="hljs-variable">$username</span>, <span class="hljs-keyword">string</span> <span class="hljs-variable">$passwd</span> [, <span class="hljs-keyword">string</span> <span class="hljs-variable">$dbname</span> = <span class="hljs-string">&quot;&quot;</span> [, <span class="hljs-keyword">int</span> <span class="hljs-variable">$port</span> = <span class="hljs-title function_ invoke__">ini_get</span>(<span class="hljs-string">&quot;mysqli.default_port&quot;</span>)]])<br></code></pre></td></tr></table></figure></li><li><p><strong>è¿æ¥é”™è¯¯ç å’Œé”™è¯¯ä¿¡æ¯</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-keyword">int</span> <span class="hljs-variable">$connect_errno</span>                   <span class="hljs-comment">// é”™è¯¯ç ï¼Œè¿æ¥å‡ºé”™æ—¶éé›¶</span><br><span class="hljs-keyword">string</span> <span class="hljs-variable">$connect_error</span>               <span class="hljs-comment">// é”™è¯¯ä¿¡æ¯</span><br><span class="hljs-comment">//ä¾‹ï¼šå¦‚$mysqli-&gt;connect_errno</span><br></code></pre></td></tr></table></figure></li><li><p><strong>å…³é—­è¿æ¥</strong></p><p>bool close()                         // å…³é—­ä¸æ•°æ®åº“æœåŠ¡å™¨çš„è¿æ¥</p></li></ul><p>ä¾‹ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs php">&lt;!DOCTYPE html&gt;<br><span class="hljs-meta">&lt;?php</span><br><span class="hljs-title function_ invoke__">header</span>(<span class="hljs-string">&quot;Content-type:text/html;charset=UTF-8&quot;</span>);<br><br>@ <span class="hljs-variable">$mysqli</span> = <span class="hljs-keyword">new</span> <span class="hljs-title function_ invoke__">mysqli</span>(<span class="hljs-string">&quot;127.0.0.1&quot;</span>, <span class="hljs-string">&quot;root&quot;</span>, <span class="hljs-string">&quot;&quot;</span>, <span class="hljs-string">&quot;elective_manage&quot;</span>, <span class="hljs-number">3306</span>);<br><span class="hljs-keyword">if</span> (<span class="hljs-variable">$mysqli</span>-&gt;connect_errno) &#123;<br>    <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;ä¸èƒ½è¿æ¥åˆ°æ•°æ®åº“&lt;br/&gt;&quot;</span>;<br>    <span class="hljs-keyword">return</span>;<br>&#125;<br><br><span class="hljs-keyword">print</span> <span class="hljs-string">&quot;æˆåŠŸè¿æ¥è‡³æ•°æ®åº“ï¼&quot;</span>;<br><span class="hljs-variable">$mysqli</span>-&gt;<span class="hljs-title function_ invoke__">close</span>();<br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure><h4 id="è®¿é—®MySQLæ•°æ®åº“"><a href="#è®¿é—®MySQLæ•°æ®åº“" class="headerlink" title="è®¿é—®MySQLæ•°æ®åº“"></a>è®¿é—®MySQLæ•°æ®åº“</h4><ul><li><strong>è®¾ç½®å­—ç¬¦é›†</strong></li><li><strong>é€‰æ‹©æ•°æ®åº“</strong></li><li><strong>æ‰§è¡Œsqlè¯­å¥</strong></li><li><strong>è·å–å—å½±å“è¡Œæ•°</strong></li></ul><p>ä¾‹ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs php">&lt;!DOCTYPE html&gt;<br><span class="hljs-meta">&lt;?php</span><br><span class="hljs-title function_ invoke__">header</span>(<span class="hljs-string">&quot;Content-type:text/html;charset=UTF-8&quot;</span>);<br><br>@ <span class="hljs-variable">$mysqli</span> = <span class="hljs-keyword">new</span> <span class="hljs-title function_ invoke__">mysqli</span>(<span class="hljs-string">&quot;127.0.0.1&quot;</span>, <span class="hljs-string">&quot;root&quot;</span>, <span class="hljs-string">&quot;&quot;</span>, <span class="hljs-string">&quot;elective_manage&quot;</span>, <span class="hljs-number">3306</span>);<br><span class="hljs-keyword">if</span> (<span class="hljs-variable">$mysqli</span>-&gt;connect_errno) &#123;<br>    <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;ä¸èƒ½è¿æ¥åˆ°æ•°æ®åº“&lt;br/&gt;&quot;</span>;<br>    <span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-variable">$mysqli</span>-&gt;<span class="hljs-title function_ invoke__">query</span>(<span class="hljs-string">&quot;SET NAMES &#x27;utf8&#x27;&quot;</span>);<br><span class="hljs-variable">$sql</span> = <span class="hljs-string">&quot;INSERT INTO opencourse VALUES(null, &#x27;2015-2016-1&#x27;, &#x27;0901011008&#x27;, &#x27;1011&#x27;, default),&quot;</span><br>        . <span class="hljs-string">&quot;(null, &#x27;2015-2016-1&#x27;, &#x27;0901011008&#x27;, &#x27;1016&#x27;, default)&quot;</span>;<br><br><span class="hljs-variable">$result</span> = <span class="hljs-variable">$mysqli</span>-&gt;<span class="hljs-title function_ invoke__">query</span>(<span class="hljs-variable">$sql</span>);<br><span class="hljs-keyword">if</span>(!<span class="hljs-variable">$result</span>) &#123;<br>    <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;SQLè¯­å¥æ‰§è¡Œå¤±è´¥ï¼&quot;</span>;<br>    <span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;æ’å…¥çš„è¡Œæ•°ï¼š&quot;</span>, <span class="hljs-variable">$mysqli</span>-&gt;affected_rows;<br><br><span class="hljs-variable">$mysqli</span>-&gt;<span class="hljs-title function_ invoke__">close</span>();<br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure><h4 id="å¤„ç†æŸ¥è¯¢ç»“æœï¼ˆMySQLi-RESULTï¼‰"><a href="#å¤„ç†æŸ¥è¯¢ç»“æœï¼ˆMySQLi-RESULTï¼‰" class="headerlink" title="å¤„ç†æŸ¥è¯¢ç»“æœï¼ˆMySQLi_RESULTï¼‰"></a>å¤„ç†æŸ¥è¯¢ç»“æœï¼ˆMySQLi_RESULTï¼‰</h4><ul><li><strong>è·å–è¡Œæ•°å’Œåˆ—æ•°</strong></li><li><strong>ç§»åŠ¨æ¸¸æ ‡</strong></li><li><strong>è¿”å›æŸ¥è¯¢ç»“æœçš„ä¸€è¡Œ</strong></li><li><strong>é‡Šæ”¾æŸ¥è¯¢ç»“æœ</strong></li></ul><p>ä¾‹ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs php">&lt;!DOCTYPE html&gt;<br><span class="hljs-meta">&lt;?php</span><br><span class="hljs-title function_ invoke__">header</span>(<span class="hljs-string">&quot;Content-type:text/html;charset=UTF-8&quot;</span>);<br><br>@ <span class="hljs-variable">$mysqli</span> = <span class="hljs-keyword">new</span> <span class="hljs-title function_ invoke__">mysqli</span>(<span class="hljs-string">&quot;127.0.0.1&quot;</span>, <span class="hljs-string">&quot;root&quot;</span>, <span class="hljs-string">&quot;&quot;</span>, <span class="hljs-string">&quot;elective_manage&quot;</span>, <span class="hljs-number">3306</span>);<br><span class="hljs-keyword">if</span> (<span class="hljs-variable">$mysqli</span>-&gt;connect_errno) &#123;<br>    <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;ä¸èƒ½è¿æ¥åˆ°æ•°æ®åº“&lt;br/&gt;&quot;</span>;<br>    <span class="hljs-keyword">return</span>;<br>&#125;<br><br><span class="hljs-variable">$mysqli</span>-&gt;<span class="hljs-title function_ invoke__">query</span>(<span class="hljs-string">&quot;SET NAMES &#x27;utf8&#x27;&quot;</span>);<br><span class="hljs-variable">$query</span> = <span class="hljs-string">&quot;SELECT sn, sname, birthday FROM student WHERE gender=&#x27;ç”·&#x27;&quot;</span>;<br><span class="hljs-variable">$result</span> = <span class="hljs-variable">$mysqli</span>-&gt;<span class="hljs-title function_ invoke__">query</span>(<span class="hljs-variable">$query</span>);<br><span class="hljs-keyword">if</span>(!<span class="hljs-variable">$result</span>) &#123;<br>    <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;SQLè¯­å¥æ‰§è¡Œå¤±è´¥ï¼&quot;</span>;<br>    <span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;å…±&quot;</span> . <span class="hljs-variable">$result</span>-&gt;num_rows . <span class="hljs-string">&quot;è¡Œï¼š&lt;br /&gt;&quot;</span>;<br><span class="hljs-keyword">while</span>(<span class="hljs-variable">$row</span> = <span class="hljs-variable">$result</span>-&gt;<span class="hljs-title function_ invoke__">fetch_array</span>()) &#123;<br>    <span class="hljs-keyword">echo</span> <span class="hljs-variable">$row</span>[<span class="hljs-string">&#x27;sn&#x27;</span>] . <span class="hljs-string">&quot; &quot;</span> . <span class="hljs-variable">$row</span>[<span class="hljs-string">&#x27;sname&#x27;</span>] . <span class="hljs-string">&quot; &quot;</span> . <span class="hljs-variable">$row</span>[<span class="hljs-string">&#x27;birthday&#x27;</span>] . <span class="hljs-string">&quot;&lt;br /&gt;&quot;</span>;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">foreach($result as $row) &#123;</span><br><span class="hljs-comment">    echo $row-&gt;sn . &quot; &quot; . $row-&gt;sname . &quot; &quot; . $row-&gt;birthday . &quot;&lt;br /&gt;&quot;;</span><br><span class="hljs-comment">&#125;</span><br><span class="hljs-comment">*/</span><br><span class="hljs-variable">$result</span>-&gt;<span class="hljs-title function_ invoke__">free</span>();<br><span class="hljs-variable">$mysqli</span>-&gt;<span class="hljs-title function_ invoke__">close</span>();<br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure><h4 id="äº‹åŠ¡ç®¡ç†ï¼ˆMySQLiï¼‰"><a href="#äº‹åŠ¡ç®¡ç†ï¼ˆMySQLiï¼‰" class="headerlink" title="äº‹åŠ¡ç®¡ç†ï¼ˆMySQLiï¼‰"></a>äº‹åŠ¡ç®¡ç†ï¼ˆMySQLiï¼‰</h4><ul><li><p><strong>åˆå§‹åŒ–ä¸€ä¸ªäº‹åŠ¡</strong></p><p>bool <strong>begin_transaction</strong>(void)</p></li><li><p><strong>æäº¤äº‹åŠ¡</strong></p><p>bool <strong>commit</strong>(void)</p></li><li><p><strong>å›æ»šäº‹åŠ¡</strong></p><p>bool <strong>rollback</strong>(void)</p></li></ul><h2 id="8-2-ä½¿ç”¨é¢„å¤„ç†è¯­å¥"><a href="#8-2-ä½¿ç”¨é¢„å¤„ç†è¯­å¥" class="headerlink" title="8-2 | ä½¿ç”¨é¢„å¤„ç†è¯­å¥"></a>8-2 | ä½¿ç”¨é¢„å¤„ç†è¯­å¥</h2><h4 id="åˆ›å»ºé¢„å¤„ç†è¯­å¥"><a href="#åˆ›å»ºé¢„å¤„ç†è¯­å¥" class="headerlink" title="åˆ›å»ºé¢„å¤„ç†è¯­å¥"></a>åˆ›å»ºé¢„å¤„ç†è¯­å¥</h4><ul><li>åˆå§‹åŒ–è¯­å¥å¯¹è±¡</li><li>å‡†å¤‡SQLè¯­å¥</li></ul><h4 id="æ‰§è¡Œé¢„å¤„ç†è¯­å¥"><a href="#æ‰§è¡Œé¢„å¤„ç†è¯­å¥" class="headerlink" title="æ‰§è¡Œé¢„å¤„ç†è¯­å¥"></a>æ‰§è¡Œé¢„å¤„ç†è¯­å¥</h4><ul><li>ç»‘å®šå‚æ•°</li><li>æ‰§è¡Œ</li><li>äº§ç”Ÿç¼“å­˜ç»“æœé›†</li><li>è·å–å—å½±å“çš„è¡Œæ•°</li></ul><h4 id="å¤„ç†æŸ¥è¯¢ç»“æœ"><a href="#å¤„ç†æŸ¥è¯¢ç»“æœ" class="headerlink" title="å¤„ç†æŸ¥è¯¢ç»“æœ"></a>å¤„ç†æŸ¥è¯¢ç»“æœ</h4><ul><li>è·å–åˆ—æ•°å’Œè¡Œæ•°</li><li>ç§»åŠ¨æ¸¸æ ‡</li><li>ç»‘å®šç»“æœ</li><li>è·å–æŸ¥è¯¢ç»“æœ</li><li>é‡Šæ”¾ç¼“å­˜ç»“æœé›†</li><li>å…³é—­è¯­å¥å¯¹è±¡</li></ul><h2 id="8-3-ä½¿ç”¨PDOè®¿é—®æ•°æ®åº“"><a href="#8-3-ä½¿ç”¨PDOè®¿é—®æ•°æ®åº“" class="headerlink" title="8-3 | ä½¿ç”¨PDOè®¿é—®æ•°æ®åº“"></a>8-3 | ä½¿ç”¨PDOè®¿é—®æ•°æ®åº“</h2><blockquote><p>PDOï¼ˆPHP Data Objectï¼‰æ˜¯ä¸€ç§PHPæ‰©å±•ï¼Œå®ƒçš„ä½¿ç”¨ä¸MySQLiæ‰©å±•éå¸¸ç›¸ä¼¼ï¼Œä½†PDOä¸ä»…èƒ½ç”¨äºè®¿é—®MySQLæ•°æ®åº“ï¼Œä¹Ÿèƒ½ç”¨äºè®¿é—®å…¶ä»–çš„æ•°æ®åº“ã€‚</p><p>PDOæ˜¯ä¸€ç§æ•°æ®è®¿é—®æŠ½è±¡å±‚ï¼Œå®ƒä¸ºPHPç¨‹åºå‘˜æä¾›äº†ä¸€ä¸ªè½»é‡çº§çš„ä¸€è‡´çš„ç¼–ç¨‹æ¥å£ã€‚åˆ©ç”¨å®ƒï¼ŒPHPåº”ç”¨èƒ½å¤Ÿç”¨ç›¸åŒçš„ä»£ç è®¿é—®å„ç§ä¸åŒçš„æ•°æ®åº“ã€‚</p><p>PDOç¼–ç¨‹æ¥å£ç”±3ä¸ªç±»ç»„æˆï¼ŒåŒ…æ‹¬PDOç±»ã€PDOStatementç±»å’ŒPDOExceptionç±»ã€‚</p></blockquote><h4 id="å»ºç«‹ä¸æ•°æ®åº“æœåŠ¡å™¨çš„è¿æ¥"><a href="#å»ºç«‹ä¸æ•°æ®åº“æœåŠ¡å™¨çš„è¿æ¥" class="headerlink" title="å»ºç«‹ä¸æ•°æ®åº“æœåŠ¡å™¨çš„è¿æ¥"></a>å»ºç«‹ä¸æ•°æ®åº“æœåŠ¡å™¨çš„è¿æ¥</h4><p>ä¸€ä¸ªPDOç±»çš„å®ä¾‹å¯¹è±¡ä»£è¡¨PHPä¸æ•°æ®åº“æœåŠ¡å™¨ä¹‹é—´çš„ä¸€ä¸ªè¿æ¥ã€‚</p><p>construct(string $dsn [, string $username [, string $password]])</p><p>å‚æ•°$dsnè¡¨ç¤ºæ•°æ®æºåç§°ï¼ˆData Source Nameï¼‰ï¼ŒåŒ…å«ä¸æ•°æ®åº“è¿æ¥æ‰€éœ€çš„ä¿¡æ¯ï¼Œå¦‚æœåŠ¡å™¨çš„IPåœ°å€ã€ç«¯å£å·ã€æ•°æ®åº“çš„åç§°ç­‰ã€‚$dsnç”±PDOé©±åŠ¨å™¨åå¼€å¤´ï¼Œç´§è·Ÿä¸€ä¸ªå†’å·ï¼Œåé¢çš„è¯­æ³•é€šå¸¸ä¸å…·ä½“çš„PDOé©±åŠ¨å™¨æœ‰å…³ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs php">&lt;!DOCTYPE html&gt;<br><span class="hljs-meta">&lt;?php</span><br><span class="hljs-title function_ invoke__">header</span>(<span class="hljs-string">&quot;Content-type:text/html;charset=UTF-8&quot;</span>);<br><br><span class="hljs-variable">$dsn</span> = <span class="hljs-string">&#x27;mysql:dbname=elective_manage;host=127.0.0.1&#x27;</span>;<br><span class="hljs-variable">$user</span> = <span class="hljs-string">&#x27;root&#x27;</span>;<br><span class="hljs-variable">$password</span> = <span class="hljs-string">&#x27;&#x27;</span>;<br><span class="hljs-keyword">try</span> &#123;<br>    <span class="hljs-variable">$pdo</span> = <span class="hljs-keyword">new</span> <span class="hljs-title function_ invoke__">PDO</span>(<span class="hljs-variable">$dsn</span>, <span class="hljs-variable">$user</span>, <span class="hljs-variable">$password</span>);<br>&#125; <span class="hljs-keyword">catch</span> (PDOException <span class="hljs-variable">$e</span>) &#123;<br>    <span class="hljs-keyword">echo</span> <span class="hljs-string">&#x27;è¿æ¥å¤±è´¥: &#x27;</span> . <span class="hljs-variable">$e</span>-&gt;<span class="hljs-title function_ invoke__">getMessage</span>();<br>    <span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-keyword">echo</span> <span class="hljs-string">&#x27;æˆåŠŸè¿æ¥è‡³elective_manageæ•°æ®åº“&#x27;</span>;<br><span class="hljs-variable">$pdo</span> = <span class="hljs-literal">null</span>;<br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure><h4 id="æ‰§è¡ŒSQLè¯­å¥"><a href="#æ‰§è¡ŒSQLè¯­å¥" class="headerlink" title="æ‰§è¡ŒSQLè¯­å¥"></a>æ‰§è¡ŒSQLè¯­å¥</h4><ul><li>æ‰§è¡Œå¢åˆ æ”¹</li><li>è·å–é”™è¯¯ç å’Œé”™è¯¯ä¿¡æ¯</li><li>æ‰§è¡ŒæŸ¥è¯¢</li></ul><h4 id="ä½¿ç”¨é¢„å¤„ç†è¯­å¥"><a href="#ä½¿ç”¨é¢„å¤„ç†è¯­å¥" class="headerlink" title="ä½¿ç”¨é¢„å¤„ç†è¯­å¥"></a>ä½¿ç”¨é¢„å¤„ç†è¯­å¥</h4><ul><li>åˆ›å»ºé¢„å¤„ç†è¯­å¥</li><li>ç»‘å®šå‚æ•°</li><li>æ‰§è¡Œé¢„å¤„ç†è¯­å¥</li></ul><h4 id="è®¿é—®ç»“æœé›†"><a href="#è®¿é—®ç»“æœé›†" class="headerlink" title="è®¿é—®ç»“æœé›†"></a>è®¿é—®ç»“æœé›†</h4><ul><li>è·å–åˆ—æ•°</li><li>ç»‘å®šåˆ—</li><li>è·å–ç»“æœé›†çš„ä¸€è¡Œ</li><li>è·å–ä¸€è¡Œä¸­çš„å•åˆ—å€¼</li><li>è·å–æ‰€æœ‰è¡Œ</li></ul><h4 id="ç®¡ç†äº‹ç‰©"><a href="#ç®¡ç†äº‹ç‰©" class="headerlink" title="ç®¡ç†äº‹ç‰©"></a>ç®¡ç†äº‹ç‰©</h4><ul><li>åˆå§‹åŒ–ä¸€ä¸ªäº‹ç‰©</li><li>æäº¤äº‹ç‰©</li><li>å›æ»šäº‹ç‰©</li></ul><h2 id="8-4-åˆ†é¡µæ˜¾ç¤º"><a href="#8-4-åˆ†é¡µæ˜¾ç¤º" class="headerlink" title="8-4  | åˆ†é¡µæ˜¾ç¤º"></a>8-4  | åˆ†é¡µæ˜¾ç¤º</h2><p>è¦æ˜¾ç¤ºçš„æ•°æ®é›†é€šå¸¸é€šè¿‡æŸ¥è¯¢æ•°æ®åº“è·å¾—ã€‚åœ¨å®ç°åˆ†é¡µæ˜¾ç¤ºæ—¶ï¼Œå¯ä»¥æœ‰ä¸¤ç§ç­–ç•¥ï¼šä¸€æ˜¯æ¯æ¬¡åªä»æ•°æ®åº“è·å–å½“å‰é¡µçš„æ•°æ®å¹¶å‘ˆç°ï¼›å¦ä¸€ç§æ˜¯é¢„å…ˆä»æ•°æ®åº“è·å–æ•´ä¸ªæ•°æ®é›†ï¼Œç„¶åæŠŠå½“å‰é¡µå‘ˆç°å‡ºæ¥ã€‚</p><p>ä¸ºå®ç°åˆ†é¡µæ˜¾ç¤ºåŠŸèƒ½ï¼Œé€šå¸¸éœ€è¦å¼•å…¥ä»¥ä¸‹å˜é‡ï¼š</p><ul><li><p><strong>$rows</strong>ï¼šæ•°æ®é›†çš„å¤§å°ï¼Œå³æ•°æ®é›†åŒ…å«çš„è®°å½•æ•°ã€‚</p></li><li><p><strong>$pageSize</strong>ï¼šé¡µé¢å¤§å°ï¼Œå³ä¸€æ¬¡æ˜¾ç¤ºå‡ æ¡è®°å½•ï¼ˆè¡Œï¼‰ã€‚</p></li><li><p><strong>$pageCount</strong>ï¼šæ€»é¡µæ•°ï¼Œå¯æ ¹æ®$rowsä¸$pageSizeè®¡ç®—è·å¾—ï¼š</p><p>$pageCount = (int)ceil($rows/$pageSize);</p></li><li><p><strong>$currentPage</strong>ï¼šå½“å‰é¡µç ã€‚è¯¥å˜é‡çš„åˆå€¼å¯ä»¥è®¾ç½®ä¸º1ï¼Œä¹‹åèƒ½ç”±ç”¨æˆ·æŒ‡å®šã€‚</p></li><li><p><strong>$first</strong>ï¼šå½“å‰é¡µç¬¬1æ¡è®°å½•åœ¨æ•°æ®é›†ä¸­çš„ç´¢å¼•ã€‚å¯ä»¥æ ¹æ®$currentPageå’Œ$pageSizeè®¡ç®—è·å¾—ï¼š</p><p>$first = ($currentPage-1)*$pageSize;</p></li></ul><h1 id="ç¬¬9ç« -è¡¨å•ä¸ä¼šè¯"><a href="#ç¬¬9ç« -è¡¨å•ä¸ä¼šè¯" class="headerlink" title="ç¬¬9ç«  è¡¨å•ä¸ä¼šè¯"></a>ç¬¬9ç«  è¡¨å•ä¸ä¼šè¯</h1><h2 id="9-1-è¡¨å•å¤„ç†"><a href="#9-1-è¡¨å•å¤„ç†" class="headerlink" title="9-1 | è¡¨å•å¤„ç†"></a>9-1 | è¡¨å•å¤„ç†</h2><h4 id="æäº¤è¡¨å•"><a href="#æäº¤è¡¨å•" class="headerlink" title="æäº¤è¡¨å•"></a>æäº¤è¡¨å•</h4><ul><li><p>GETæ–¹æ³•</p><p>GETæ–¹æ³•é€‚åˆå°‘é‡æ•°æ®çš„æäº¤ï¼ŒGETæ–¹æ³•ä¸é€‚åˆæäº¤å¯†ç ç­‰æ•æ„Ÿæ•°æ®ã€‚</p></li><li><p>POSTæ–¹æ³•</p><p>POSTæ–¹æ³•çš„è¯·æ±‚æ•°æ®æ”¾ç½®åœ¨è¯·æ±‚ä½“ä¸­ã€è€Œä¸æ˜¯URLä¸­ï¼Œæ‰€ä»¥å…¶ä¿¡æ¯ç›¸å¯¹è¾ƒä¸ºå®‰å…¨ï¼Œä¸”ä¼ è¾“çš„æ•°æ®é‡æ²¡æœ‰å¤§å°é™åˆ¶ï¼Œå¯ä»¥éå¸¸å¤§ã€‚</p></li></ul><h4 id="è·å–è¡¨å•æ•°æ®"><a href="#è·å–è¡¨å•æ•°æ®" class="headerlink" title="è·å–è¡¨å•æ•°æ®"></a>è·å–è¡¨å•æ•°æ®</h4><ol><li><p>è·å–è¯·æ±‚æ–¹å¼</p><p>$_SERVER[â€œREQUEST_METHODâ€] ï¼Œ â€œGETâ€|â€POSTâ€</p></li><li><p>è·å–GETæ•°æ®</p><p>$_GET[â€œå‚æ•°åâ€]ï¼Œå¦‚$_GET[â€œnameâ€]</p><p>$_GETæ˜¯ä¸€ä¸ªåŒ…å«é€šè¿‡GETæ–¹æ³•ä¼ é€’ç»™å½“å‰è„šæœ¬çš„è¯·æ±‚å‚æ•°çš„æ•°ç»„</p></li><li><p>è·å–POSTæ•°æ®</p><p>$_POST[â€œå‚æ•°åâ€]ï¼Œå¦‚$_POST[â€œnameâ€]</p><p>$_POSTæ˜¯ä¸€ä¸ªåŒ…å«é€šè¿‡POSTæ–¹æ³•ä¼ é€’ç»™å½“å‰è„šæœ¬çš„è¯·æ±‚å‚æ•°æ•°ç»„</p></li></ol><h4 id="éªŒè¯è¡¨å•æ•°æ®"><a href="#éªŒè¯è¡¨å•æ•°æ®" class="headerlink" title="éªŒè¯è¡¨å•æ•°æ®"></a>éªŒè¯è¡¨å•æ•°æ®</h4><h2 id="9-2-ä¼šè¯ç®¡ç†"><a href="#9-2-ä¼šè¯ç®¡ç†" class="headerlink" title="9-2 | ä¼šè¯ç®¡ç†"></a>9-2 | ä¼šè¯ç®¡ç†</h2><h2 id="9-3-é¡µé¢è·³è½¬ä¸é‡å®šå‘"><a href="#9-3-é¡µé¢è·³è½¬ä¸é‡å®šå‘" class="headerlink" title="9-3 | é¡µé¢è·³è½¬ä¸é‡å®šå‘"></a>9-3 | é¡µé¢è·³è½¬ä¸é‡å®šå‘</h2><p>PHPä¸­å®ç°ç½‘é¡µè·³è½¬çš„å‡ ç§å¸¸è§æŠ€æœ¯</p><ul><li>ä½¿ç”¨è¶…é“¾æ¥&lt;a&gt;å…ƒç´ </li><li>ä½¿ç”¨è¡¨å•&lt;form&gt;å…ƒç´ </li><li>ä½¿ç”¨ç‰¹å®šçš„&lt;meta&gt;æ ‡è®°</li><li>ä½¿ç”¨PHPä¸­ç‰¹å®šçš„headerå‡½æ•°</li></ul><h2 id="9-4-æ–‡ä»¶ä¸Šä¼ ä¸ä¸‹è½½"><a href="#9-4-æ–‡ä»¶ä¸Šä¼ ä¸ä¸‹è½½" class="headerlink" title="9-4 | æ–‡ä»¶ä¸Šä¼ ä¸ä¸‹è½½"></a>9-4 | æ–‡ä»¶ä¸Šä¼ ä¸ä¸‹è½½</h2><h4 id="æ–‡ä»¶æ“ä½œ"><a href="#æ–‡ä»¶æ“ä½œ" class="headerlink" title="æ–‡ä»¶æ“ä½œ"></a>æ–‡ä»¶æ“ä½œ</h4><ul><li><p>æ–‡ä»¶çš„æ‰“å¼€ä¸å…³é—­</p><p>(1) fopenå‡½æ•°</p><p>resource fopen($filename, $mode [, bool $use_include_path=false])</p><p>(2) fcloseå‡½æ•°</p><p>bool fclose(resource $handle)</p></li><li><p>æ–‡ä»¶çš„å†™å…¥</p><p>(1) fwriteå‡½æ•°</p><p>int fwrite(resource $handle, string $string [, int $length])</p><p>(2) fputcsvå‡½æ•°</p><p>int fputcsv(resource $handle, array $fields [, string $delimiter = â€˜,â€™ [, string $enclosure = â€˜â€œâ€˜]])</p></li><li><p>æ–‡ä»¶çš„è¯»å–</p><p>(1) freadå‡½æ•°</p><p>string fread(resource $handle, int $length)</p><p>(2) fgetså‡½æ•°</p><p>string fgets(resource $handle [, int $length])</p><p>(3) fgetcsvå‡½æ•°</p><p>array fgetcsv(resource $handle [, int $length=0 [, string $delimiter=â€™,â€™ [, string $enclosure=â€™â€â€˜]]])</p><p>(4) feofå‡½æ•°</p><p>bool feof(resource $handle)</p><p>(5) rewindå‡½æ•°</p><p>bool rewind(resource $handle)</p></li><li><p>å…¶ä»–å‡½æ•°</p><p>(1) readfileå‡½æ•°</p><p>int <strong>readfile</strong>(string $filename [, bool $use_include_path = false])</p><p>å‡½æ•°è¯»å–æŒ‡å®šæ–‡ä»¶çš„å†…å®¹å¹¶å°†å…¶å†™å…¥åˆ°è¾“å‡ºç¼“å†²åŒºã€‚</p><p>å‡½æ•°è¿”å›å®é™…ä»æ–‡ä»¶ä¸­è¯»å…¥çš„å­—èŠ‚æ•°ã€‚</p><p>(2) filesizeå‡½æ•°</p><p>int <strong>filesize</strong>(string $filename)</p><p>å‡½æ•°è¿”å›æŒ‡å®šæ–‡ä»¶çš„å¤§å°ï¼Œå³æ–‡ä»¶çš„å­—èŠ‚æ•°ã€‚</p><p>(3) iconvå‡½æ•°</p><p>string <strong>iconv</strong>(string $in_charset , string $out_charset , string $str)</p><p>å‡½æ•°å°†å­—ç¬¦ä¸²$strä»$in_charsetå­—ç¬¦é›†ç¼–ç è½¬æ¢ä¸º</p><p>$out_charsetå­—ç¬¦é›†ç¼–ç ã€‚</p></li></ul><h4 id="ä¸Šä¼ æ–‡ä»¶"><a href="#ä¸Šä¼ æ–‡ä»¶" class="headerlink" title="ä¸Šä¼ æ–‡ä»¶"></a>ä¸Šä¼ æ–‡ä»¶</h4><ul><li>æ–‡ä»¶ä¸Šä¼ è¡¨å•</li><li>è·å–ä¸Šä¼ æ–‡ä»¶</li></ul><h4 id="æ–‡ä»¶ä¸‹è½½"><a href="#æ–‡ä»¶ä¸‹è½½" class="headerlink" title="æ–‡ä»¶ä¸‹è½½"></a>æ–‡ä»¶ä¸‹è½½</h4><ul><li>ç”¨aå…ƒç´ ç›´æ¥æ‰“å¼€æ–‡ä»¶</li><li>é€šè¿‡è¯»å–æ–‡ä»¶å†…å®¹æ‰“å¼€æ–‡ä»¶</li></ul><h1 id="ç¬¬10ç« -ä½¿ç”¨æ•°ç»„"><a href="#ç¬¬10ç« -ä½¿ç”¨æ•°ç»„" class="headerlink" title="ç¬¬10ç«  ä½¿ç”¨æ•°ç»„"></a>ç¬¬10ç«  ä½¿ç”¨æ•°ç»„</h1><h2 id="10-1-æ•°ç»„"><a href="#10-1-æ•°ç»„" class="headerlink" title="10-1 | æ•°ç»„"></a>10-1 | æ•°ç»„</h2><ul><li>åœ¨PHPä¸­ï¼Œæ•°ç»„æ˜¯æœ‰åºçš„æ˜ å°„ã€‚ä¸€ä¸ªæ•°ç»„ç”±è‹¥å¹²å…ƒç´ ç»„æˆï¼Œæ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªé”®-å€¼å¯¹ã€‚é”®å¯ä»¥æ˜¯æ•´æ•°ä¹Ÿå¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œå€¼å¯ä»¥æ˜¯ä»»æ„ç±»å‹ã€‚</li><li>åœ¨ä¸€ä¸ªPHPæ•°ç»„ä¸­ï¼Œé”®çš„ç±»å‹å¯ä»¥æ˜¯æ··åˆï¼šæœ‰äº›å…ƒç´ çš„é”®æ˜¯æ•´æ•°ï¼Œæœ‰äº›å…ƒç´ çš„é”®æ˜¯å­—ç¬¦ä¸²ã€‚</li><li>å¦‚æœä¸€ä¸ªæ•°ç»„çš„å…ƒç´ çš„å€¼æœ¬èº«å°±æ˜¯æ•°ç»„ï¼Œå°±å¯å½¢æˆå¤šç»´æ•°ç»„ã€‚</li><li>åœ¨PHPä¸­ï¼Œä¸è¦æ±‚ä¸€ä¸ªæ•°ç»„çš„å„å…ƒç´ çš„å€¼å…·æœ‰ç›¸åŒçš„ç±»å‹ã€‚</li></ul><h2 id="10-2-åˆ›å»ºå’Œåˆå§‹åŒ–æ•°ç»„"><a href="#10-2-åˆ›å»ºå’Œåˆå§‹åŒ–æ•°ç»„" class="headerlink" title="10-2 | åˆ›å»ºå’Œåˆå§‹åŒ–æ•°ç»„"></a>10-2 | åˆ›å»ºå’Œåˆå§‹åŒ–æ•°ç»„</h2><h4 id="ä½¿ç”¨arrayè¯­è¨€ç»“æ„ä½¿ç”¨arrayè¯­è¨€ç»“æ„"><a href="#ä½¿ç”¨arrayè¯­è¨€ç»“æ„ä½¿ç”¨arrayè¯­è¨€ç»“æ„" class="headerlink" title="ä½¿ç”¨arrayè¯­è¨€ç»“æ„ä½¿ç”¨arrayè¯­è¨€ç»“æ„"></a><strong>ä½¿ç”¨arrayè¯­è¨€ç»“æ„ä½¿ç”¨arrayè¯­è¨€ç»“æ„</strong></h4><p>â‘ è¯­è¨€ç»“æ„arrayç”¨äºåˆ›å»ºå¹¶åˆå§‹åŒ–ä¸€ä¸ªæ•°ç»„ï¼š</p><p>array (</p><p>  [[&lt;key&gt;]=&gt;&lt;value&gt; [, [&lt;key&gt;]=&gt;&lt;value&gt;]*]</p><p>)</p><p>â‘¡åœ¨æŒ‡å®šä¸€ä¸ªå…ƒç´ æ—¶ï¼Œé”®æ˜¯å¯ä»¥ç¼ºçœçš„ã€‚æ­¤æ—¶ï¼ŒPHPå°†ä½¿ç”¨ä¹‹å‰å·²ç»è¢«ä½¿ç”¨çš„æœ€å¤§çš„æ•´æ•°é”®åŠ 1ä½œä¸ºè¯¥å…ƒç´ çš„é”®ï¼Œä¸”è‡³å°‘æ˜¯0ã€‚</p><p>â‘¢ä¸€ä¸ªæ•°ç»„å…ƒç´ çš„å€¼å¯ä»¥æ˜¯æ ‡é‡ç±»å‹æ•°æ®ï¼Œä¹Ÿå¯ä»¥æ˜¯æ•°ç»„æœ¬èº«ï¼Œè¿™æ ·å°±èƒ½å½¢æˆäºŒç»´æ•°ç»„å’Œå¤šç»´æ•°ç»„ã€‚å¤šç»´æ•°ç»„å¯ä»¥ä½¿ç”¨åµŒå¥—çš„arrayæ¥åˆ›å»ºã€‚</p><h4 id="ä½¿ç”¨rangeå‡½æ•°"><a href="#ä½¿ç”¨rangeå‡½æ•°" class="headerlink" title="ä½¿ç”¨rangeå‡½æ•°"></a><strong>ä½¿ç”¨rangeå‡½æ•°</strong></h4><p>â‘ rangeå‡½æ•°å¯ä»¥å¿«é€Ÿåˆ›å»ºä¸€ä¸ªç”±æŒ‡å®šèŒƒå›´å†…çš„å€¼å¡«å……çš„æ•°ç»„ã€‚å…¶è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p><p>â€‹    array range (mixed $start , mixed $end [, number $step ])</p><p>â‘¡å‚æ•°$startã€$endå’Œ$stepåˆ†åˆ«è¡¨ç¤ºç”¨äºå¡«å……æ–°æ•°ç»„çš„åˆå€¼ã€æœ€å¤§å€¼å’Œæ­¥é•¿ã€‚å‚æ•°$stepæ˜¯å¯é€‰çš„ï¼Œå…¶é»˜è®¤å€¼ä¸º1ã€‚</p><h2 id="10-3-æ“ä½œæ•°ç»„å…ƒç´ "><a href="#10-3-æ“ä½œæ•°ç»„å…ƒç´ " class="headerlink" title="10-3 | æ“ä½œæ•°ç»„å…ƒç´ "></a>10-3 | æ“ä½œæ•°ç»„å…ƒç´ </h2><h4 id="è®¿é—®æ•°ç»„å…ƒç´ "><a href="#è®¿é—®æ•°ç»„å…ƒç´ " class="headerlink" title="è®¿é—®æ•°ç»„å…ƒç´ "></a>è®¿é—®æ•°ç»„å…ƒç´ </h4><p>â‘ å¯ä»¥é€šè¿‡æ–¹æ‹¬å·è®¿é—®æ•°ç»„å…ƒç´ ï¼Œå…¶æ ¼å¼å¦‚ä¸‹ï¼š<br> &lt;array&gt;[&lt;key&gt;]</p><p>   è¯´æ˜ï¼šè®¿é—®æ•°ç»„å…ƒç´ æ—¶ï¼Œæ–¹æ‹¬å·å’ŒèŠ±æ‹¬å·æ˜¯å¯ä»¥äº’æ¢çš„ï¼Œå¦‚$arr[5]å¯ä»¥ç”¨$arr{5}ä»£æ›¿ã€‚</p><p>â‘¡bool array_key_exists(mixed $key, array $array)<br> æ£€æµ‹æŒ‡å®šçš„$keyæ˜¯å¦ä¸ºæ•°ç»„$arrayçš„æŸä¸ªå…ƒç´ çš„é”®ï¼Œè‹¥æ˜¯è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚</p><p>â‘¢bool in_array(mixed $needle, array $haystack [, bool $strict ] )<br> æ£€æµ‹æŒ‡å®šå€¼$needleæ˜¯å¦æ˜¯æ•°ç»„$haystackçš„æŸä¸ªå…ƒç´ çš„å€¼ï¼Œè‹¥æ˜¯è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚<br> å‚æ•°$strictæ˜¯å¯é€‰çš„ï¼Œé»˜è®¤å€¼ä¸ºfalseï¼Œæ­¤æ—¶é‡‡ç”¨ç›¸ç­‰æ¯”è¾ƒï¼ˆ==ï¼‰ã€‚è‹¥å°†å…¶è®¾ç½®ä¸ºtrueï¼Œåˆ™é‡‡ç”¨å…¨ç­‰æ¯”è¾ƒï¼ˆ===ï¼‰ã€‚</p><p>â‘£mixed array_search(mixed $needle, array $haystack [, bool $strict] )<br> æ£€æµ‹æŒ‡å®šå€¼$needleæ˜¯å¦æ˜¯æ•°ç»„$haystackçš„æŸä¸ªå…ƒç´ çš„å€¼ï¼Œè‹¥æ˜¯å‡½æ•°è¿”å›ç›¸åº”å…ƒç´ çš„é”®ï¼Œå¦åˆ™è¿”å›falseã€‚è‹¥æ•°ç»„ä¸­å­˜åœ¨å¤šä¸ªå…ƒç´ å…·æœ‰è¯¥å€¼ï¼Œåˆ™è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ çš„é”®ã€‚</p><h4 id="ä¿®æ”¹ã€æ·»åŠ æˆ–åˆ é™¤æ•°ç»„å…ƒç´ "><a href="#ä¿®æ”¹ã€æ·»åŠ æˆ–åˆ é™¤æ•°ç»„å…ƒç´ " class="headerlink" title="ä¿®æ”¹ã€æ·»åŠ æˆ–åˆ é™¤æ•°ç»„å…ƒç´ "></a>ä¿®æ”¹ã€æ·»åŠ æˆ–åˆ é™¤æ•°ç»„å…ƒç´ </h4><p>â‘ åˆ©ç”¨æ–¹æ‹¬å·åŒæ ·å¯ä»¥ä¿®æ”¹æ•°ç»„å…ƒç´ æˆ–æ·»åŠ æ•°ç»„å…ƒç´ ã€‚è¿™åªéœ€è¦å°†å€¼èµ‹ç»™æŒ‡å®šçš„çš„å…ƒç´ å³å¯ã€‚<br> æ ¼å¼1ï¼š&lt;array&gt;[&lt;key&gt;] = &lt;value&gt;;</p><p>â€‹        å°†æ•°ç»„å…ƒç´ array[key]çš„å€¼æ›¿æ¢æˆvalueã€‚å¦‚æœæ•°ç»„ä¸­åŸå…ˆæ²¡æœ‰è¯¥å…ƒç´ ï¼Œé‚£ä¹ˆæ·»åŠ è¿™æ ·ä¸€ä¸ªå…ƒç´ ã€‚</p><p> æ ¼å¼2ï¼š&lt;array&gt;[] = &lt;value&gt;;</p><p>â€‹        åœ¨æ•°ç»„ä¸­æ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼Œå…ƒç´ çš„å€¼ä¸ºvalueï¼Œé”®ä¸ºæ•°ç»„ä¹‹å‰å·²ç»è¢«ç”¨çš„æœ€å¤§çš„æ•´æ•°é”®åŠ 1ï¼Œæˆ–è€…ä¸º0ã€‚</p><p>â‘¡ä½¿ç”¨unsetå‡½æ•°å¯ä»¥åˆ é™¤ä¸€ä¸ªæ•°ç»„å…ƒç´ ï¼Œç”šè‡³æ•´ä¸ªæ•°ç»„ã€‚</p><p>ä¾‹å¦‚ï¼š<br> unset($new_arr[â€˜yâ€™]);    // åˆ é™¤æ•°ç»„new_arrä¸­é”®ä¸ºâ€™yâ€™çš„å…ƒç´ <br> unset($new_arr);     // åˆ é™¤æ•´ä¸ªæ•°ç»„new_arr </p><h4 id="åœ¨æ•°ç»„å¤´éƒ¨æˆ–å°¾éƒ¨æ“ä½œå…ƒç´ "><a href="#åœ¨æ•°ç»„å¤´éƒ¨æˆ–å°¾éƒ¨æ“ä½œå…ƒç´ " class="headerlink" title="åœ¨æ•°ç»„å¤´éƒ¨æˆ–å°¾éƒ¨æ“ä½œå…ƒç´ "></a><strong>åœ¨æ•°ç»„å¤´éƒ¨æˆ–å°¾éƒ¨æ“ä½œå…ƒç´ </strong></h4><p>â‘ array_unshift()å‡½æ•°<br> array_unshift()å‡½æ•°ç”¨äºåœ¨å‚æ•°æ•°ç»„$arrayçš„å¤´éƒ¨æ’å…¥ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼Œå…¶è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š<br> int array_unshift (array &amp;$array , mixed $value1 [, mixed $â€¦ ])<br> æ–°æ’å…¥å…ƒç´ çš„é”®æ˜¯æ•°å€¼é”®ï¼Œä¸æ•°ç»„ä¸­åŸå…ˆå·²å­˜åœ¨çš„æ•°å€¼é”®ä¸€èµ·ï¼Œé‡æ–°è®¾ç½®ä¸ºä»0å¼€å§‹çš„è¿ç»­æ•´æ•°ã€‚æ•°ç»„ä¸­åŸæœ‰çš„å­—ç¬¦ä¸²é”®ä¸å˜ã€‚å‡½æ•°è¿”å›æ’å…¥å…ƒç´ åæ•°ç»„çš„å…ƒç´ ä¸ªæ•°ã€‚</p><p>â‘¡array_shift()å‡½æ•°<br> array_shift()å‡½æ•°ç”¨äºä»å‚æ•°æ•°ç»„çš„å¤´éƒ¨åˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼Œå…¶è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š<br> mixed array_shift (array &amp;$array)<br> ç¬¬ä¸€ä¸ªå…ƒç´ è¢«åˆ é™¤åï¼Œæ•°ç»„ä¸­å…¶ä»–æ•°å€¼é”®è¢«é‡æ–°è®¾ç½®ä¸ºä»¥0å¼€å§‹çš„è¿ç»­æ•´æ•°ã€‚å‡½æ•°è¿”å›è¢«åˆ é™¤å…ƒç´ çš„å€¼ã€‚è‹¥æ•°ç»„åŸå…ˆæ˜¯ç©ºçš„ï¼Œå‡½æ•°è¿”å›NULLã€‚</p><p>â‘¢array_push()å‡½æ•°<br> array_push()å‡½æ•°ç”¨äºåœ¨å‚æ•°æ•°ç»„arrayçš„å°¾éƒ¨æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼Œå…¶è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š<br> int array_push (array &amp;$array, mixed $value1 [, mixed $â€¦ ] )<br> æ–°æ·»åŠ å…ƒç´ çš„é”®æ˜¯æ•°å€¼é”®ï¼Œä»åŸæœ‰çš„æœ€å¤§æ•°å€¼é”®åŠ 1å¼€å§‹è®¾ç½®ã€‚å¦‚æœåŸå…ˆæ²¡æœ‰æ•°å€¼é”®å…ƒç´ ï¼Œåˆ™æ–°æ·»åŠ å…ƒç´ çš„é”®ä»0å¼€å§‹è®¾ç½®ã€‚å‡½æ•°è¿”å›æ·»åŠ å…ƒç´ åæ•°ç»„çš„å…ƒç´ æ•°ã€‚</p><p>â‘£array_pop()å‡½æ•°<br> array_pop()å‡½æ•°ç”¨äºä»å‚æ•°æ•°ç»„çš„å°¾éƒ¨åˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼Œå…¶è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š<br> mixed array_pop (array &amp;$array)<br> å‡½æ•°è¿”å›è¢«åˆ é™¤çš„å…ƒç´ çš„å€¼ã€‚è‹¥æ•°ç»„åŸå…ˆæ˜¯ç©ºçš„ï¼Œå‡½æ•°è¿”å›NULLã€‚</p><h2 id="10-4-éå†æ•°ç»„"><a href="#10-4-éå†æ•°ç»„" class="headerlink" title="10-4 | éå†æ•°ç»„"></a>10-4 | éå†æ•°ç»„</h2><h4 id="æ•°ç»„æŒ‡é’ˆ"><a href="#æ•°ç»„æŒ‡é’ˆ" class="headerlink" title="æ•°ç»„æŒ‡é’ˆ"></a>æ•°ç»„æŒ‡é’ˆ</h4><p>â‘ å½“åˆ›å»ºä¸€ä¸ªæ•°ç»„æ—¶ï¼Œå…¶æ•°ç»„æŒ‡é’ˆåˆå§‹æŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</p><p>â‘¡mixed next (array &amp;$array)<br> ç§»åŠ¨æŒ‡å®šæ•°ç»„$arrayçš„å†…éƒ¨æŒ‡é’ˆè‡³ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›ä¸‹ä¸€ä¸ªå…ƒç´ çš„å€¼ã€‚</p><p>â‘¢mixed prev (array &amp;$array)<br> ç§»åŠ¨æŒ‡å®šæ•°ç»„$arrayçš„å†…éƒ¨æŒ‡é’ˆè‡³ä¸Šä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›ä¸Šä¸€ä¸ªå…ƒç´ çš„å€¼ã€‚</p><p>â‘£mixed reset (array &amp;$array)<br> ç§»åŠ¨æŒ‡å®šæ•°ç»„$arrayçš„å†…éƒ¨æŒ‡é’ˆè‡³ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼ã€‚</p><p>â‘¤mixed end (array &amp;$array)<br> ç§»åŠ¨æŒ‡å®šæ•°ç»„$arrayçš„å†…éƒ¨æŒ‡é’ˆè‡³æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›æœ€åä¸€ä¸ªå…ƒç´ çš„å€¼ã€‚</p><p>â‘¥mixed current (array &amp;$array)<br> è¿”å›æ•°ç»„$arrayå½“å‰å…ƒç´ çš„å€¼ã€‚å¦‚æœæ•°ç»„ä¸ºç©ºï¼Œæˆ–è€…æ•°ç»„æŒ‡é’ˆç§»å‡ºäº†æ•°ç»„çš„èŒƒå›´ï¼Œå‡½æ•°è¿”å›falseã€‚</p><p>â‘¦mixed key (array &amp;$array)<br> è¿”å›æ•°ç»„$arrayå½“å‰å…ƒç´ çš„é”®ã€‚å¦‚æœæ•°ç»„ä¸ºç©ºï¼Œæˆ–è€…æ•°ç»„æŒ‡é’ˆç§»å‡ºäº†æ•°ç»„çš„èŒƒå›´ï¼Œå‡½æ•°è¿”å›NULLã€‚</p><h4 id="ä½¿ç”¨forè¯­å¥éå†æ•°ç»„"><a href="#ä½¿ç”¨forè¯­å¥éå†æ•°ç»„" class="headerlink" title="ä½¿ç”¨forè¯­å¥éå†æ•°ç»„"></a><strong>ä½¿ç”¨forè¯­å¥éå†æ•°ç»„</strong></h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-variable">$fruit</span> = <span class="hljs-keyword">array</span>(<span class="hljs-string">&#x27;apple&#x27;</span>, <span class="hljs-string">&#x27;banana&#x27;</span>, <span class="hljs-string">&#x27;cranberry&#x27;</span>);<br><span class="hljs-variable">$c</span> = <span class="hljs-title function_ invoke__">count</span>(<span class="hljs-variable">$fruit</span>);<br><span class="hljs-keyword">for</span>(<span class="hljs-variable">$i</span>=<span class="hljs-number">0</span>; <span class="hljs-variable">$i</span>&lt;<span class="hljs-variable">$c</span>; <span class="hljs-variable">$i</span>++) &#123;<br>    <span class="hljs-keyword">echo</span> <span class="hljs-variable">$fruit</span>[<span class="hljs-variable">$i</span>].<span class="hljs-string">&quot;&lt;br /&gt;&quot;</span>;<br>&#125;<br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure><h4 id="ä½¿ç”¨whileè¯­å¥éå†æ•°ç»„"><a href="#ä½¿ç”¨whileè¯­å¥éå†æ•°ç»„" class="headerlink" title="ä½¿ç”¨whileè¯­å¥éå†æ•°ç»„"></a><strong>ä½¿ç”¨whileè¯­å¥éå†æ•°ç»„</strong></h4><p>â‘ keyå‡½æ•°ã€currentå‡½æ•°ã€nextå‡½æ•°ã€‚</p><p>â‘¡eachå‡½æ•°ã€listç»“æ„</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-variable">$fruit</span> = <span class="hljs-keyword">array</span>(<span class="hljs-string">&#x27;a&#x27;</span> =&gt; <span class="hljs-string">&#x27;apple&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span> =&gt; <span class="hljs-string">&#x27;banana&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span> =&gt; <span class="hljs-string">&#x27;cranberry&#x27;</span>);<br><span class="hljs-keyword">while</span>(<span class="hljs-variable">$key</span>=<span class="hljs-title function_ invoke__">key</span>(<span class="hljs-variable">$fruit</span>)) &#123;<br>    <span class="hljs-keyword">echo</span> <span class="hljs-variable">$key</span>.<span class="hljs-string">&quot;=&gt;&quot;</span>.<span class="hljs-title function_ invoke__">current</span>(<span class="hljs-variable">$fruit</span>).<span class="hljs-string">&quot;&lt;br /&gt;&quot;</span>;<br>    <span class="hljs-title function_ invoke__">next</span>(<span class="hljs-variable">$fruit</span>);<br>&#125;<br><span class="hljs-comment">// ä½¿ç”¨eachå‡½æ•°å’Œlistè¯­è¨€ç»“æ„</span><br><span class="hljs-title function_ invoke__">reset</span>(<span class="hljs-variable">$fruit</span>);<br><span class="hljs-keyword">while</span>(<span class="hljs-keyword">list</span>(<span class="hljs-variable">$key</span>, <span class="hljs-variable">$value</span>) = <span class="hljs-title function_ invoke__">each</span>(<span class="hljs-variable">$fruit</span>)) &#123;<br>    <span class="hljs-keyword">echo</span> <span class="hljs-variable">$key</span>.<span class="hljs-string">&quot;=&gt;&quot;</span>.<span class="hljs-variable">$value</span>.<span class="hljs-string">&quot;&lt;br /&gt;&quot;</span>;<br>&#125;<br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure><h4 id="ä½¿ç”¨foreachè¯­å¥éå†æ•°ç»„"><a href="#ä½¿ç”¨foreachè¯­å¥éå†æ•°ç»„" class="headerlink" title="ä½¿ç”¨foreachè¯­å¥éå†æ•°ç»„"></a><strong>ä½¿ç”¨foreachè¯­å¥éå†æ•°ç»„</strong></h4><p>â‘ æ ¼å¼1ï¼š<br> foreach (<array_expression> as &lt;$value&gt;)<br>   &lt;statement&gt;</p><p>â‘¡æ ¼å¼2ï¼š<br> foreach (<array_expression> as &lt;$key&gt; =&gt; &lt;$value&gt;)<br>   &lt;statement&gt;</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-variable">$fruit</span> = <span class="hljs-keyword">array</span>(<span class="hljs-string">&#x27;a&#x27;</span> =&gt; <span class="hljs-string">&#x27;apple&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span> =&gt; <span class="hljs-string">&#x27;banana&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span> =&gt; <span class="hljs-string">&#x27;cranberry&#x27;</span>);<br><span class="hljs-keyword">foreach</span> (<span class="hljs-variable">$fruit</span> <span class="hljs-keyword">as</span> <span class="hljs-variable">$key</span>=&gt;<span class="hljs-variable">$value</span>) &#123;<br>    <span class="hljs-keyword">echo</span> <span class="hljs-variable">$key</span>.<span class="hljs-string">&quot;=&gt;&quot;</span>.<span class="hljs-variable">$value</span>.<span class="hljs-string">&quot;&lt;br /&gt;&quot;</span>;<br>&#125;<br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure><h2 id="10-5-æ•°ç»„è¿ç®—ç¬¦"><a href="#10-5-æ•°ç»„è¿ç®—ç¬¦" class="headerlink" title="10-5 | æ•°ç»„è¿ç®—ç¬¦"></a>10-5 | æ•°ç»„è¿ç®—ç¬¦</h2><p>PHPæä¾›äº†ä¸€äº›æ•°ç»„è¿ç®—ç¬¦ï¼Œå¯ä»¥å®ç°æ•°ç»„çš„è”åˆã€ç›¸ç­‰å’Œä¸ç›¸ç­‰æ¯”è¾ƒã€‚</p><table><thead><tr><th>è¿ç®—ç¬¦</th><th>åç§°</th><th>ä¾‹å­</th><th>ç»“æœ</th></tr></thead><tbody><tr><td>+</td><td>è”åˆ</td><td>$a + $b</td><td>è¿”å›ä¸€ä¸ªåŒ…å«äº†$aå’Œ$bä¸¤ä¸ªæ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ çš„æ•°ç»„ã€‚</td></tr><tr><td>==</td><td>æ¾æ•£ç›¸ç­‰</td><td>$a == $b</td><td>å¦‚æœæ•°ç»„$aå’Œæ•°ç»„$bå…·æœ‰ç›¸åŒçš„é”®å€¼å¯¹ï¼Œè¿”å›trueã€‚</td></tr><tr><td>===</td><td>ä¸¥æ ¼ç›¸ç­‰</td><td>$a === $b</td><td>å¦‚æœæ•°ç»„$aå’Œæ•°ç»„$bå…·æœ‰ç›¸åŒçš„é”®å€¼å¯¹ä»¥åŠç›¸åŒçš„é¡ºåºå’Œç±»å‹ï¼Œè¿”å›trueã€‚</td></tr><tr><td>!=ï¼ˆ&lt;&gt;ï¼‰</td><td>ä¸æ¾æ•£ç›¸ç­‰</td><td>$a != $b</td><td>å¦‚æœæ•°ç»„$aå’Œæ•°ç»„$bä¸æ˜¯æ¾æ•£ç›¸ç­‰ï¼Œè¿”å›trueã€‚</td></tr><tr><td>!==</td><td>ä¸ä¸¥æ ¼ç›¸ç­‰</td><td>$a !== $b</td><td>å¦‚æœæ•°ç»„$aå’Œæ•°ç»„$bä¸æ˜¯ä¸¥æ ¼ç›¸ç­‰ï¼Œè¿”å›trueã€‚</td></tr></tbody></table><h2 id="10-6-æ•°ç»„æ’åº"><a href="#10-6-æ•°ç»„æ’åº" class="headerlink" title="10-6 | æ•°ç»„æ’åº"></a>10-6 | æ•°ç»„æ’åº</h2><ul><li><h4 id="sortå‡½æ•°"><a href="#sortå‡½æ•°" class="headerlink" title="sortå‡½æ•°"></a>sortå‡½æ•°</h4><p>bool sort (array &amp;$array [, int $sort_flags])</p><p>â‘ å‡½æ•°æ ¹æ®å…ƒç´ å€¼å¯¹æ•°$arrayå„å…ƒç´ ä»å°åˆ°å¤§è¿›è¡Œæ’åºã€‚æ’åºåï¼Œå„å…ƒç´ çš„é”®é‡æ–°è®¾ç½®ä¸ºä»0ä¸ºå¼€å§‹çš„è¿ç»­çš„æ•´æ•°ã€‚è‹¥æ’åºæˆåŠŸï¼Œå‡½æ•°è¿”å›trueï¼›å¦åˆ™ï¼Œè¿”å›false</p><p>â‘¡å¯é€‰å‚æ•°sort_flagsçš„å–å€¼ï¼š<br> SORT_REGULARï¼šé»˜è®¤å€¼ã€‚ æ­£å¸¸æ¯”è¾ƒï¼ˆä¸æ”¹å˜ç±»å‹ï¼‰ã€‚<br> SORT_NUMERICï¼šæ•°å€¼åŒ–æ¯”è¾ƒã€‚<br> SORT_STRINGï¼šå­—ç¬¦ä¸²åŒ–æ¯”è¾ƒã€‚<br> SORT_LOCALE_STRINGï¼šåŸºäºå½“å‰åœºæ‰€çš„å­—ç¬¦ä¸²åŒ–æ¯”è¾ƒã€‚<br> SORT_NATURALï¼šè‡ªç„¶é¡ºåºæ¯”è¾ƒã€‚<br> SORT_FLAG_CASEï¼šèƒ½ä¸SORT_STRINGæˆ–SORT_NATURALç»„åˆï¼Œä»¥ä¾¿æ¯”è¾ƒæ—¶ä¸åŒºåˆ†å¤§å°å†™ã€‚</p></li><li><h4 id="asortå’Œksortå‡½æ•°"><a href="#asortå’Œksortå‡½æ•°" class="headerlink" title="asortå’Œksortå‡½æ•°"></a>asortå’Œksortå‡½æ•°</h4><p>â‘ bool asort ( array &amp;$array [, int $sort_flags])<br> è¯¥å‡½æ•°æ ¹æ®å…ƒç´ å€¼å¯¹æ•°ç»„$arrayå„å…ƒç´ ä»å°åˆ°å¤§è¿›è¡Œæ’åºã€‚æ’åºæ—¶ï¼Œå„å…ƒç´ çš„é”®å’Œå€¼ä¿æŒå…³è”ã€‚è‹¥æ’åºæˆåŠŸï¼Œå‡½æ•°è¿”å›trueï¼›å¦åˆ™ï¼Œè¿”å›falseã€‚</p><p>â‘¡bool ksort ( array &amp;$array [, int $sort_flags])<br> è¯¥å‡½æ•°æ ¹æ®å…ƒç´ é”®å¯¹æ•°ç»„$arrayå„å…ƒç´ ä»å°åˆ°å¤§è¿›è¡Œæ’åºã€‚æ’åºæ—¶ï¼Œå„å…ƒç´ çš„å€¼å’Œé”®ä¿æŒå…³è”ã€‚è‹¥æ’åºæˆåŠŸï¼Œå‡½æ•°è¿”å›trueï¼›å¦åˆ™ï¼Œè¿”å›falseã€‚</p></li><li><h4 id="é™åºæ’åº"><a href="#é™åºæ’åº" class="headerlink" title="é™åºæ’åº"></a>é™åºæ’åº</h4><p>â‘  bool rsort(array &amp;$array [, int $sort_flags])</p><pre><code class="hljs"> bool arsort(array &amp;$array [, int $sort_flags]) bool krsort(array &amp;$array [, int $sort_flags])</code></pre><p>â‘¡ä¸Šé¢ä¸‰ä¸ªå‡½æ•°åˆ†åˆ«ä¸sortã€asortå’Œksortå‡½æ•°ç›¸å¯¹åº”ã€‚</p></li><li><h4 id="ç”¨æˆ·å®šä¹‰æ’åº"><a href="#ç”¨æˆ·å®šä¹‰æ’åº" class="headerlink" title="ç”¨æˆ·å®šä¹‰æ’åº"></a>ç”¨æˆ·å®šä¹‰æ’åº</h4></li></ul><h2 id="10-7-å¹¶é›†ã€äº¤é›†å’Œå·®é›†"><a href="#10-7-å¹¶é›†ã€äº¤é›†å’Œå·®é›†" class="headerlink" title="10-7 | å¹¶é›†ã€äº¤é›†å’Œå·®é›†"></a>10-7 | å¹¶é›†ã€äº¤é›†å’Œå·®é›†</h2><h4 id="æ±‚æ•°ç»„çš„å¹¶é›†"><a href="#æ±‚æ•°ç»„çš„å¹¶é›†" class="headerlink" title="æ±‚æ•°ç»„çš„å¹¶é›†"></a>æ±‚æ•°ç»„çš„å¹¶é›†</h4><p>â‘ åˆå¹¶æ•°ç»„å¯ä»¥å°†è‹¥å¹²æ•°ç»„åˆå¹¶åœ¨ä¸€èµ·ï¼Œè¿”å›ä¸€ä¸ªåŒ…å«å„æ•°ç»„æ‰€æœ‰å…ƒç´ çš„æ•°ç»„ã€‚åˆå¹¶æ—¶ï¼Œå„å‚æ•°æ•°ç»„ä¾æ¬¡å°†å…¶å„å…ƒç´ æŒ‰å…¶åŸå…ˆçš„é¡ºåºè¿½åŠ åˆ°ç»“æœæ•°ç»„ä¸­ï¼Œå„æ•°å€¼é”®è¢«é‡æ–°è®¾ç½®ä¸ºä»0å¼€å§‹çš„è¿ç»­æ•´æ•°ã€‚</p><p>â‘¡array array_merge(array $array1 [, array $â€¦])<br> array array_merge_recursive ( array $array1 [, array $â€¦])</p><p>â‘¢array_merge_recursiveå‡½æ•°ä¸array_mergeå‡½æ•°çš„åŠŸèƒ½å¤§è‡´ç›¸åŒï¼ŒåŒºåˆ«åœ¨äºï¼šå¦‚æœåˆå¹¶çš„æ•°ç»„ä¸­å­˜åœ¨æœ‰ç›¸åŒå­—ç¬¦ä¸²é”®çš„å…ƒç´ ï¼Œä¸æ˜¯æ‰§è¡Œæ›¿æ¢æ“ä½œï¼Œè€Œæ˜¯åˆå¹¶æ“ä½œï¼Œå³å°†ä¸¤ä¸ªå€¼åˆå¹¶æˆä¸€ä¸ªæ•°ç»„ä½œä¸ºå…ƒç´ å€¼ã€‚å¦‚æœä¸¤ä¸ªå€¼æœ¬èº«å°±æ˜¯æ•°ç»„ï¼Œå°±å°†ä¸¤ä¸ªæ•°ç»„åˆå¹¶æˆä¸€ä¸ªæ•°ç»„ä½œä¸ºå…ƒç´ å€¼ã€‚æ‰€ä»¥è¿™æ˜¯ä¸€ç§é€’å½’åˆå¹¶ã€‚</p><h4 id="æ±‚æ•°ç»„çš„äº¤é›†"><a href="#æ±‚æ•°ç»„çš„äº¤é›†" class="headerlink" title="æ±‚æ•°ç»„çš„äº¤é›†"></a>æ±‚æ•°ç»„çš„äº¤é›†</h4><p>â‘ array array_intersect ( array $array1, array $array2 [, array $array3]*)<br> å‡½æ•°è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„ä»…åŒ…å«ç¬¬ä¸€ä¸ªå‚æ•°æ•°ç»„ä¸­å…¶å€¼åœ¨å…¶ä»–æ‰€æœ‰å‚æ•°æ•°ç»„ä¸­éƒ½å‡ºç°çš„å…ƒç´ ã€‚</p><p>â‘¡array array_intersect_assoc ( array $array1,  array $array2 [, array $array3]*)<br> å‡½æ•°è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„ä»…åŒ…å«ç¬¬ä¸€ä¸ªå‚æ•°æ•°ç»„ä¸­å…¶é”®-å€¼å¯¹åœ¨å…¶ä»–æ‰€æœ‰å‚æ•°æ•°ç»„ä¸­éƒ½å‡ºç°çš„å…ƒç´ ã€‚</p><h4 id="æ±‚æ•°ç»„çš„å·®é›†"><a href="#æ±‚æ•°ç»„çš„å·®é›†" class="headerlink" title="æ±‚æ•°ç»„çš„å·®é›†"></a>æ±‚æ•°ç»„çš„å·®é›†</h4><p>â‘ array array_diff ( array $array1, array $array2 [, array $array3]*)<br> è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„ä»…åŒ…å«ç¬¬ä¸€ä¸ªå‚æ•°æ•°ç»„ä¸­å…¶å€¼æ²¡æœ‰åœ¨ä»»ä½•å…¶ä»–å‚æ•°æ•°ç»„ä¸­å‡ºç°çš„å…ƒç´ ã€‚</p><p>â‘¡array array_diff_assoc ( array $array1,  array $array2 [,array $array3]*)<br> è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„ä»…åŒ…å«ç¬¬ä¸€ä¸ªå‚æ•°æ•°ç»„ä¸­å…¶é”®-å€¼å¯¹æ²¡æœ‰åœ¨ä»»ä½•å…¶ä»–å‚æ•°æ•°ç»„ä¸­å‡ºç°çš„å…ƒç´ ã€‚</p><h2 id="10-8-å…¶ä»–å¸¸ç”¨çš„æ•°ç»„å‡½æ•°"><a href="#10-8-å…¶ä»–å¸¸ç”¨çš„æ•°ç»„å‡½æ•°" class="headerlink" title="10-8 | å…¶ä»–å¸¸ç”¨çš„æ•°ç»„å‡½æ•°"></a>10-8 | å…¶ä»–å¸¸ç”¨çš„æ•°ç»„å‡½æ•°</h2><h4 id="è®¡æ•°ä¸ç»Ÿè®¡"><a href="#è®¡æ•°ä¸ç»Ÿè®¡" class="headerlink" title="è®¡æ•°ä¸ç»Ÿè®¡"></a>è®¡æ•°ä¸ç»Ÿè®¡</h4><p>â‘ int count(array $array [, int $mode])<br> è¿”å›æ•°ç»„ä¸­å…ƒç´ çš„ä¸ªæ•°ã€‚å‚æ•°modeçš„å–å€¼å¦‚ä¸‹ï¼š<br> COUNT_NORMALï¼šé»˜è®¤å€¼ã€‚ä»…ç»Ÿè®¡æœ€å¤–å±‚æ•°ç»„çš„å…ƒç´ ä¸ªæ•°ã€‚<br> COUNT_RECURSIVEï¼šé€’å½’ç»Ÿè®¡å„å±‚æ•°ç»„çš„å…ƒç´ ä¸ªæ•°ã€‚</p><p>â‘¡array array_count_values(array $array)<br> è¿”å›ä¸€ä¸ªå…³è”æ•°ç»„ï¼Œå…¶å…ƒç´ çš„é”®æ˜¯å‚æ•°æ•°ç»„ä¸­å…ƒç´ çš„å€¼ï¼Œç›¸åº”çš„å€¼æ˜¯è¯¥é”®ä½œä¸ºå…ƒç´ å€¼åœ¨å‚æ•°æ•°ç»„ä¸­å‡ºç°çš„æ¬¡æ•°ï¼ˆé¢‘åº¦ï¼‰ã€‚</p><p>â‘¢number array_sum(array $array)<br> è®¡ç®—å‚æ•°æ•°ç»„ä¸­å„å…ƒç´ å€¼çš„å’Œï¼Œè¿”å›ä¸€ä¸ªæ•´æ•°æˆ–æµ®ç‚¹æ•°ã€‚<br> å¯¹éæ•°å€¼å‹å…ƒç´ å€¼ï¼Œå‡½æ•°ä¼šå°†å…¶è½¬æ¢æˆæ•°å€¼ï¼ˆå¤§å¤šæ•°æƒ…å†µä¸º0ï¼‰ã€‚å‡½æ•°å¯¹å†…éƒ¨æ•°ç»„çš„å…ƒç´ å€¼ä¸ä¼šè¿›è¡Œé€’å½’ç´¯åŠ ã€‚</p><h1 id="ç¬¬11ç« -PHPé¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡"><a href="#ç¬¬11ç« -PHPé¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡" class="headerlink" title="ç¬¬11ç«  PHPé¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡"></a>ç¬¬11ç«  PHPé¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡</h1><p>â€¦â€¦.</p><h1 id="ç¬¬12ç« -Ajaxä¸jQuery"><a href="#ç¬¬12ç« -Ajaxä¸jQuery" class="headerlink" title="ç¬¬12ç«  Ajaxä¸jQuery"></a>ç¬¬12ç«  Ajaxä¸jQuery</h1><h2 id="Ajax"><a href="#Ajax" class="headerlink" title="Ajax"></a>Ajax</h2><ul><li>Ajaxæ˜¯Asynchronous JavaScript And XMLçš„é¦–å­—æ¯ç¼©å†™ï¼Œç§°ä¸ºå¼‚æ­¥JavaScriptå’ŒXMLã€‚</li><li>Ajaxä¸æ˜¯ä¸€ç§æ–°çš„ç¼–ç¨‹è¯­è¨€æˆ–æŠ€æœ¯ï¼Œè€Œæ˜¯ç°æœ‰çš„å‡ ç§æŠ€æœ¯çš„ä¸€ç§ç»“åˆã€‚å®ƒäº§ç”Ÿäº†ä¸€ç§æ–°çš„ã€å¼ºå¤§çš„å¼€å‘Webåº”ç”¨çš„æ–¹æ³•ã€‚AjaxåŒ…æ‹¬ï¼š<ul><li>åŸºäºHTML+CSSæ¥å‘ˆç°ä¿¡æ¯ã€‚</li><li>ä½¿ç”¨XMLHttpRequestä»WebæœåŠ¡å™¨å¼‚æ­¥è·å–æ•°æ®ã€‚</li><li>åˆ©ç”¨XMLã€JSONç­‰æ¥è¡¨ç¤ºæ•°æ®ã€‚</li><li>é€šè¿‡DOMå®ç°é¡µé¢çš„å±€éƒ¨æ›´æ–°åŠåŠ¨æ€æ•ˆæœã€‚</li><li>è¿ç”¨JavaScriptå°†å„ä¸ªæ–¹é¢ç»‘å®šåœ¨ä¸€èµ·ã€‚</li></ul></li><li>åˆ©ç”¨AjaxæŠ€æœ¯ï¼ŒWebåº”ç”¨å¯ä»¥åœ¨åå°å¼‚æ­¥åœ°å‘æœåŠ¡å™¨å‘é€æ•°æ®å’Œè·å–æ•°æ®ï¼Œè€Œä¸ä¼šå¦¨ç¢åŸæœ‰é¡µé¢çš„æ˜¾ç¤ºå’Œè¡Œä¸ºï¼›Webåº”ç”¨èƒ½å¤ŸåŠ¨æ€åœ°å±€éƒ¨æ›´æ–°åŸæœ‰çš„é¡µé¢ï¼Œè€Œä¸éœ€è¦å®Œæ•´åœ°é‡è½½ä¸€ä¸ªé¡µé¢ã€‚</li><li>Ajaxçš„ä¼˜ç‚¹<ul><li>å¸¦æ¥æŒç»­ã€åŠ¨æ€çš„ç”¨æˆ·ä½“éªŒã€‚</li><li>å‡è½»ç½‘ç»œé€šä¿¡çš„è´Ÿæ‹…ã€‚</li><li>å‡è½»æœåŠ¡å™¨çš„è´Ÿæ‹…ã€‚</li><li>åˆ›å»ºæ¡Œé¢åº”ç”¨é£æ ¼çš„ç•Œé¢ã€‚</li><li>ä¿ƒè¿›æ•°æ®å’Œé¡µé¢å‘ˆç°çš„åˆ†ç¦»ã€‚</li></ul></li><li>Ajaxçš„ç¼ºç‚¹<ul><li>æ— æ³•æ­£å¸¸ä½¿ç”¨ä¹¦ç­¾åŒ–å’Œåé€€æŒ‰é’®çš„åŠŸèƒ½ã€‚</li><li>å…¼å®¹æ€§ä¸ç†æƒ³ã€‚ä¸åŒçš„æµè§ˆå™¨å¯¹Ajaxçš„æ”¯æŒçŠ¶å†µæœ‰æ‰€ä¸åŒã€‚</li><li>ä½¿ç”¨Ajaxçš„è„šæœ¬ä»£ç ä¿å­˜åœ¨HTMLé¡µä¸­ï¼Œä¸åˆ©äºä»£ç çš„ä¿å¯†ã€‚</li></ul></li></ul><h2 id="jQuery"><a href="#jQuery" class="headerlink" title="jQuery"></a>jQuery</h2><ul><li>jQueryæ˜¯ä¸€ä¸ªâ€œå†™çš„æ›´å°‘ï¼Œä½†åšçš„æ›´å¤šâ€çš„è½»é‡çº§JavaScriptåº“ã€‚æ¶‰åŠï¼š<ul><li>HTML å…ƒç´ é€‰å–</li><li>HTML å…ƒç´ æ“ä½œ</li><li>CSS æ“ä½œ</li><li> HTML äº‹ä»¶å¤„ç†</li><li>HTMLå…ƒç´ çš„åŠ¨ç”»æ•ˆæœ</li><li>Ajaxç­‰</li></ul></li><li>jQueryåº“ä½äºä¸€ä¸ªJavaScriptæ–‡ä»¶ä¸­ï¼Œå…¶ä¸­åŒ…å«äº†æ‰€æœ‰çš„jQueryå‡½æ•°å’Œæ–¹æ³•ã€‚<br> å¯ä»¥é€šè¿‡ä¸‹é¢çš„æ ‡è®°æŠŠjQueryæ·»åŠ åˆ°ç½‘é¡µä¸­ï¼š</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">â€œtext/javascriptâ€</span> </span><br><span class="hljs-tag">          <span class="hljs-attr">src</span>=<span class="hljs-string">â€œjquery-3.1.0.min.jsâ€</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li>jQueryæ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œå¯ä»¥ä»<a href="http://www.jquery.comå…è´¹ä¸‹è½½.å…±æœ‰ä¸¤ä¸ªç‰ˆæœ¬çš„/">www.jquery.comå…è´¹ä¸‹è½½ã€‚å…±æœ‰ä¸¤ä¸ªç‰ˆæœ¬çš„</a> jQuery å¯ä¾›ä¸‹è½½ï¼šä¸€ä»½æ˜¯ç²¾ç®€è¿‡çš„ï¼Œå¦ä¸€ä»½æ˜¯æœªå‹ç¼©çš„ï¼ˆä¾›è°ƒè¯•æˆ–é˜…è¯»ï¼‰ã€‚</li></ul>]]></content>
    
    
    <categories>
      
      <category>è§£å¿§æ‚è´§</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PHP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode 2022äº”æœˆåˆ·é¢˜æ—¥è®°</title>
    <link href="/2022/05/02/LeetCode%202022%E4%BA%94%E6%9C%88%E5%88%B7%E9%A2%98%E6%97%A5%E8%AE%B0/"/>
    <url>/2022/05/02/LeetCode%202022%E4%BA%94%E6%9C%88%E5%88%B7%E9%A2%98%E6%97%A5%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h2 id="LC-43-å­—ç¬¦ä¸²ç›¸ä¹˜"><a href="#LC-43-å­—ç¬¦ä¸²ç›¸ä¹˜" class="headerlink" title="LC 43.å­—ç¬¦ä¸²ç›¸ä¹˜"></a>LC 43.å­—ç¬¦ä¸²ç›¸ä¹˜</h2><h3 id="é¢˜ç›®å¤§æ„"><a href="#é¢˜ç›®å¤§æ„" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>ç»™å®šä¸¤ä¸ªä»¥å­—ç¬¦ä¸²å½¢å¼è¡¨ç¤ºçš„éè´Ÿæ•´æ•° num1 å’Œ num2ï¼Œè¿”å› num1 å’Œ num2 çš„ä¹˜ç§¯ï¼Œå®ƒä»¬çš„ä¹˜ç§¯ä¹Ÿè¡¨ç¤ºä¸ºå­—ç¬¦ä¸²å½¢å¼ã€‚</p><p><strong>æ³¨æ„</strong>ï¼šä¸èƒ½ä½¿ç”¨ä»»ä½•å†…ç½®çš„ BigInteger åº“æˆ–ç›´æ¥å°†è¾“å…¥è½¬æ¢ä¸ºæ•´æ•°ã€‚</p><h3 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>å¯¹æ¯æ¬¡å¾—åˆ°çš„å­—ç¬¦ä¸²è¿›è¡Œç´¯åŠ ï¼Œå¯ä»¥ä½¿ç”¨ã€Œ<a href="https://leetcode-cn.com/problems/add-strings/">415. å­—ç¬¦ä¸²ç›¸åŠ </a>ã€çš„åšæ³•ã€‚</p><p><strong>æ–¹æ³•1</strong></p><p>å¦‚æœ num1 å’Œ num2 ä¹‹ä¸€æ˜¯ 0ï¼Œåˆ™ç›´æ¥å°† 0 ä½œä¸ºç»“æœè¿”å›å³å¯ã€‚</p><p>å¦‚æœ num1 å’Œ num2 éƒ½ä¸æ˜¯ 0ï¼Œåˆ™å¯ä»¥é€šè¿‡æ¨¡æ‹Ÿã€Œç«–å¼ä¹˜æ³•ã€çš„æ–¹æ³•è®¡ç®—ä¹˜ç§¯ã€‚ä»å³å¾€å·¦éå†ä¹˜æ•°ï¼Œå°†ä¹˜æ•°çš„æ¯ä¸€ä½ä¸è¢«ä¹˜æ•°ç›¸ä¹˜å¾—åˆ°å¯¹åº”çš„ç»“æœï¼Œå†å°†æ¯æ¬¡å¾—åˆ°çš„ç»“æœç´¯åŠ ã€‚è¿™é“é¢˜ä¸­ï¼Œè¢«ä¹˜æ•°æ˜¯ num1ï¼Œä¹˜æ•°æ˜¯ num2ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œnum2 é™¤äº†æœ€ä½ä½ä»¥å¤–ï¼Œå…¶ä½™çš„æ¯ä¸€ä½çš„è¿ç®—ç»“æœéƒ½éœ€è¦è¡¥ 0ã€‚</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220502192051.png" alt="QQæˆªå›¾20220502192051"></p><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">string <span class="hljs-title">multiply</span><span class="hljs-params">(string num1, string num2)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(num1 == <span class="hljs-string">&quot;0&quot;</span> || num2 == <span class="hljs-string">&quot;0&quot;</span>)  <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;0&quot;</span>;<br>        string ans = <span class="hljs-string">&quot;0&quot;</span>;<br>        <span class="hljs-type">int</span> m = num1.<span class="hljs-built_in">size</span>(),n = num2.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=n<span class="hljs-number">-1</span>; i&gt;=<span class="hljs-number">0</span>; i--)<br>        &#123;<br>            string cur;<br>            <span class="hljs-type">int</span> add = <span class="hljs-number">0</span>;<br>            <span class="hljs-comment">//æœ«å°¾è¡¥0</span><br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=n<span class="hljs-number">-1</span>; j&gt;i; j--)<br>            &#123;<br>                ans.<span class="hljs-built_in">push_back</span>(<span class="hljs-number">0</span>);<br>            &#125;<br>            <span class="hljs-type">int</span> y = num2[i]-<span class="hljs-string">&#x27;0&#x27;</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=m<span class="hljs-number">-1</span>; j&gt;=<span class="hljs-number">0</span>; j--)<br>            &#123;<br>                <span class="hljs-type">int</span> x = num1[j]-<span class="hljs-string">&#x27;0&#x27;</span>;<br>                <span class="hljs-type">int</span> sum = x*y+add;<br>                cur.<span class="hljs-built_in">push_back</span>(<span class="hljs-string">&#x27;0&#x27;</span>+sum%<span class="hljs-number">10</span>);<br>                add = sum/<span class="hljs-number">10</span>;<br>            &#125;<br>            <span class="hljs-keyword">while</span>(add != <span class="hljs-number">0</span>)<br>            &#123;<br>                cur.<span class="hljs-built_in">push_back</span>(add%<span class="hljs-number">10</span>);<br>                add = add/<span class="hljs-number">10</span>;<br>            &#125;<br>            <span class="hljs-built_in">reverse</span>(cur.<span class="hljs-built_in">begin</span>(),cur.<span class="hljs-built_in">end</span>());  <span class="hljs-comment">//å­—ç¬¦ä¸²ç¿»è½¬</span><br>            ans = <span class="hljs-built_in">addStrings</span>(ans,cur);<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>    <span class="hljs-comment">//å­—ç¬¦ä¸²ç›¸åŠ  LeetCode 415</span><br>    <span class="hljs-function">string <span class="hljs-title">addStrings</span><span class="hljs-params">(string &amp;num1,string &amp;num2)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-type">int</span> i = num1.<span class="hljs-built_in">size</span>()<span class="hljs-number">-1</span>,j = num2.<span class="hljs-built_in">size</span>()<span class="hljs-number">-1</span>,add = <span class="hljs-number">0</span>;<br>        string ans;<br>        <span class="hljs-keyword">while</span>(i&gt;=<span class="hljs-number">0</span> || j&gt;=<span class="hljs-number">0</span> || add != <span class="hljs-number">0</span>)<br>        &#123;<br>            <span class="hljs-type">int</span> x,y;<br>            <span class="hljs-keyword">if</span>(num1[i] &gt;= <span class="hljs-number">0</span>)<br>            &#123;<br>                x = num1[i] - <span class="hljs-string">&#x27;0&#x27;</span>;<br>            &#125;<span class="hljs-keyword">else</span>&#123;<br>                x = <span class="hljs-number">0</span>;<br>            &#125;<br>            <span class="hljs-keyword">if</span>(num2[j] &gt;= <span class="hljs-number">0</span>)<br>            &#123;<br>                y = num2[j] - <span class="hljs-string">&#x27;0&#x27;</span>;<br>            &#125;<span class="hljs-keyword">else</span>&#123;<br>                y = <span class="hljs-number">0</span>;<br>            &#125;<br>            <span class="hljs-type">int</span> sum = x+y+add;<br>            ans.<span class="hljs-built_in">push_back</span>(<span class="hljs-string">&#x27;0&#x27;</span>+sum%<span class="hljs-number">10</span>);<br>            add = sum/<span class="hljs-number">10</span>;<br>            i--;<br>            j--;<br>        &#125;<br>        <span class="hljs-built_in">reverse</span>(ans.<span class="hljs-built_in">begin</span>(),ans.<span class="hljs-built_in">end</span>());<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p><strong>æ–¹æ³•2</strong></p><p>æ–¹æ³•1çš„æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦è¾ƒé«˜ï¼Œæ–¹æ³•ä¸€çš„åšæ³•æ˜¯ä»å³å¾€å·¦éå†ä¹˜æ•°ï¼Œå°†ä¹˜æ•°çš„æ¯ä¸€ä½ä¸è¢«ä¹˜æ•°ç›¸ä¹˜å¾—åˆ°å¯¹åº”çš„ç»“æœï¼Œå†å°†æ¯æ¬¡å¾—åˆ°çš„ç»“æœç´¯åŠ ï¼Œæ•´ä¸ªè¿‡ç¨‹ä¸­æ¶‰åŠåˆ°è¾ƒå¤šå­—ç¬¦ä¸²ç›¸åŠ çš„æ“ä½œã€‚å¦‚æœä½¿ç”¨æ•°ç»„ä»£æ›¿å­—ç¬¦ä¸²å­˜å‚¨ç»“æœï¼Œåˆ™å¯ä»¥å‡å°‘å¯¹å­—ç¬¦ä¸²çš„æ“ä½œã€‚</p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220502192422.png" alt="QQæˆªå›¾20220502192422"></p><p>LeetCodeé¢˜è§£ï¼š<a href="https://leetcode-cn.com/problems/multiply-strings/solution/zi-fu-chuan-xiang-cheng-by-leetcode-solution/">https://leetcode-cn.com/problems/multiply-strings/solution/zi-fu-chuan-xiang-cheng-by-leetcode-solution/</a></p><h2 id="LC-433-æœ€å°åŸºå› å˜åŒ–"><a href="#LC-433-æœ€å°åŸºå› å˜åŒ–" class="headerlink" title="LC 433.æœ€å°åŸºå› å˜åŒ–"></a>LC 433.æœ€å°åŸºå› å˜åŒ–</h2><blockquote><p>ç”±äºå¤ä¹ æ•°æ®åº“å’ŒPHPè€ƒè¯•å¥½å‡ å¤©æ²¡åˆ·é¢˜äº†ï¼Œä»Šå¤©è¡¥äº†ä¸‰é“é¢˜ã€‚</p></blockquote><h3 id="é¢˜ç›®å¤§æ„-1"><a href="#é¢˜ç›®å¤§æ„-1" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p><a href="https://leetcode.cn/problems/minimum-genetic-mutation/">https://leetcode.cn/problems/minimum-genetic-mutation/</a></p><h3 id="é¢˜è§£-1"><a href="#é¢˜è§£-1" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>ç»å…¸BFSé—®é¢˜ BFSåˆ©ç”¨é˜Ÿåˆ—å®ç°</p><p>è§£é¢˜æ€è·¯æ²¡æœ‰å®Œå…¨æŒ‰ç…§åŠ›æ‰£å®˜æ–¹ç»™å‡ºçš„è§£æ³•ï¼Œä½†æ˜¯å¤§ä½“æ€æƒ³æ˜¯ä¸€æ ·çš„åªæœ‰ä¸€äº›å°çš„ç»†èŠ‚ä¸å¤ªä¸€æ ·ï¼Œéƒ½æ˜¯ç”¨äº†å¹¿åº¦ä¼˜å…ˆæœç´¢çš„æ–¹æ³•è§£é¢˜çš„ã€‚</p><p>è§£é¢˜æ€è·¯ï¼šé¦–å…ˆå®šä¹‰ä¸€ä¸ªé˜Ÿåˆ—qç”¨äºå­˜å‚¨å˜åŒ–åçš„geneåºåˆ—å’Œå“ˆå¸Œè¡¨mpé˜²æ­¢é‡å¤éå†geneåºåˆ—è¿›å…¥æ­»å¾ªç¯ã€‚åªè¦é˜Ÿåˆ—ä¸ä¸ºç©ºæˆ–è€…gene != endï¼Œåˆ™éå†é˜Ÿåˆ—ä¸­çš„å…ƒç´ ï¼ˆæœ‰ç‚¹ç±»ä¼¼äºå±‚åºéå†ï¼‰ï¼Œåˆ©ç”¨åˆ¤æ–­æ¡ä»¶distance(str,gene) == 1 &amp;&amp; mp[str] == falseæ‰¾å‡ºæ‰€æœ‰æœªéå†çš„åœ¨åŸºå› åº“bankä¸­ä¸”ä¸å½“å‰éå†geneåªå·®ä¸€ä¸ªå­—ç¬¦çš„åŸºå› å¹¶å°†å…¶æ’å…¥é˜Ÿåˆ—å°¾éƒ¨ã€‚distance()å‡½æ•°ä¸ºåˆ¤æ–­ä¸¤ä¸ªä¸åŒåŸºå› åºåˆ—æ‰€å·®å­—ç¬¦ä¸ªæ•°çš„å‡½æ•°ã€‚æ¯åšå®Œä¸€å±‚éå†ä¹‹å ans++ï¼Œè¡¨ç¤ºåŸºå› å˜åŒ–äº†ä¸€æ¬¡</p><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">distance</span><span class="hljs-params">(string str,string gene)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-type">int</span> cnt = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;str.<span class="hljs-built_in">size</span>(); i++)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(str[i] != gene[i])  cnt++;<br>        &#125;<br>        <span class="hljs-keyword">return</span> cnt;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">minMutation</span><span class="hljs-params">(string start, string end, vector&lt;string&gt;&amp; bank)</span> </span>&#123;<br>        <span class="hljs-type">int</span> ans = <span class="hljs-number">0</span>;<br>        queue&lt;string&gt; q;<br>        unordered_map&lt;string,<span class="hljs-type">bool</span>&gt; mp;<br>        q.<span class="hljs-built_in">push</span>(start);<br>        mp[start] = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">while</span>(!q.<span class="hljs-built_in">empty</span>())<br>        &#123;<br>            <span class="hljs-type">int</span> n = q.<span class="hljs-built_in">size</span>();<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;n; i++)<br>            &#123;<br>                <span class="hljs-keyword">auto</span> gene = q.<span class="hljs-built_in">front</span>();<br>                q.<span class="hljs-built_in">pop</span>();<br>                <span class="hljs-keyword">if</span>(gene == end)  <span class="hljs-keyword">return</span> ans;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> str : bank)<br>                &#123;<br>                    <span class="hljs-keyword">if</span>(<span class="hljs-built_in">distance</span>(str,gene) == <span class="hljs-number">1</span> &amp;&amp; mp[str] == <span class="hljs-literal">false</span>)<br>                    &#123;<br>                        q.<span class="hljs-built_in">push</span>(str);<br>                        mp[str] = <span class="hljs-literal">true</span>;<br>                    &#125;<br>                &#125;<br>            &#125;<br>            ans++;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="LC-937-é‡æ–°æ’åˆ—æ—¥å¿—æ–‡ä»¶"><a href="#LC-937-é‡æ–°æ’åˆ—æ—¥å¿—æ–‡ä»¶" class="headerlink" title="LC 937.é‡æ–°æ’åˆ—æ—¥å¿—æ–‡ä»¶"></a>LC 937.é‡æ–°æ’åˆ—æ—¥å¿—æ–‡ä»¶</h2><h3 id="é¢˜ç›®å¤§æ„-2"><a href="#é¢˜ç›®å¤§æ„-2" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p><a href="https://leetcode.cn/problems/reorder-data-in-log-files/">https://leetcode.cn/problems/reorder-data-in-log-files/</a></p><h3 id="é¢˜è§£-2"><a href="#é¢˜è§£-2" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><blockquote><p>åŠ›æ‰£éš¾åº¦ï¼šç®€å• å†™ç®€å•é¢˜é¢˜è§£æ˜¯å› ä¸ºé€šè¿‡è¿™é“é¢˜è¡¥äº†å¾ˆå¤šçŸ¥è¯†ã€‚C++åŒ¿åå‡½æ•°ï¼ŒC++ç¨³å®šæ’åºï¼Œè‡ªå®šä¹‰æ’åºå‡½æ•°ã€‚</p></blockquote><p>é¦–å…ˆå¯¹æ—¥å¿—æ–‡ä»¶è¿›è¡Œé¢„å¤„ç†ï¼Œå°†å­—æ¯æ—¥å¿—å’Œæ•°å­—æ—¥å¿—åˆ†åˆ«å­˜å‚¨åœ¨å®¹å™¨digitå’Œå®¹å™¨alphaä¸­ï¼Œå†ç”¨åŒ¿åå‡½æ•°å¯¹å­—æ¯æ—¥å¿—è¿›è¡Œæ’åºã€‚å†å°†æ’åºåçš„æ—¥å¿—æ–‡ä»¶åˆå¹¶ï¼Œè¿”å›ç»“æœã€‚</p><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">vector&lt;string&gt; <span class="hljs-title">reorderLogFiles</span><span class="hljs-params">(vector&lt;string&gt;&amp; logs)</span> </span>&#123;<br>        vector&lt;string&gt; digit;<br>        vector&lt;string&gt; alpha;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span> str : logs)<br>        &#123;<br>            <span class="hljs-type">char</span> c = str.<span class="hljs-built_in">back</span>();  <span class="hljs-comment">//è¿”å›å­—ç¬¦ä¸²æœ€åä¸€ä¸ªå­—ç¬¦</span><br>            <span class="hljs-keyword">if</span>(<span class="hljs-built_in">isdigit</span>(c))  digit.<span class="hljs-built_in">push_back</span>(str);<br>            <span class="hljs-keyword">else</span>  alpha.<span class="hljs-built_in">push_back</span>(str);<br>        &#125;<br>        <span class="hljs-built_in">sort</span>(alpha.<span class="hljs-built_in">begin</span>(),alpha.<span class="hljs-built_in">end</span>(),[&amp;](<span class="hljs-type">const</span> string &amp;log1,<span class="hljs-type">const</span> string &amp;log2)&#123;  <span class="hljs-comment">//lambdaåŒ¿åå‡½æ•°</span><br>            <span class="hljs-type">int</span> pos1 = log1.<span class="hljs-built_in">find</span>(<span class="hljs-string">&#x27; &#x27;</span>);  <span class="hljs-comment">//è¿”å›ç¬¬ä¸€æ¬¡å‡ºç°&#x27; &#x27;çš„ä½ç½®ä¸‹æ ‡</span><br>            <span class="hljs-type">int</span> pos2 = log2.<span class="hljs-built_in">find</span>(<span class="hljs-string">&#x27; &#x27;</span>);<br>            string s1 = log1.<span class="hljs-built_in">substr</span>(pos1);  <span class="hljs-comment">//ä»ä¸‹æ ‡pos1å¤„å¼€å§‹å¤åˆ¶å­—ç¬¦ä¸²log1</span><br>            string s2 = log2.<span class="hljs-built_in">substr</span>(pos2);<br>            <span class="hljs-keyword">if</span>(s1 != s2)<br>            &#123;<br>                <span class="hljs-keyword">return</span> s1&lt;s2;<br>            &#125;<br>            <span class="hljs-keyword">return</span> log1&lt;log2;  <span class="hljs-comment">//s1==s2 åªæœ‰å‰é¢çš„æ ‡è¯†ç¬¦ä¸åŒ æ‰€ä»¥ç›´æ¥æ¯”è¾ƒæ•´ä¸ªå­—ç¬¦ä¸²ç›¸å½“äºæ¯”è¾ƒæ ‡è¯†ç¬¦</span><br>        &#125;);<br>        vector&lt;string&gt; ans;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> str : alpha)  ans.<span class="hljs-built_in">push_back</span>(str);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> str : digit)  ans.<span class="hljs-built_in">push_back</span>(str);<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="LC-449-åºåˆ—åŒ–å’Œååºåˆ—åŒ–äºŒå‰æœç´¢æ ‘"><a href="#LC-449-åºåˆ—åŒ–å’Œååºåˆ—åŒ–äºŒå‰æœç´¢æ ‘" class="headerlink" title="LC 449.åºåˆ—åŒ–å’Œååºåˆ—åŒ–äºŒå‰æœç´¢æ ‘"></a>LC 449.åºåˆ—åŒ–å’Œååºåˆ—åŒ–äºŒå‰æœç´¢æ ‘</h2><blockquote><p>å·®ç‚¹ACä»£ç ï¼ˆ62ä¸ªæµ‹è¯•æ ·ä¾‹è¿‡äº†61ä¸ª æœ€åä¸€ä¸ªæµ‹è¯•æ ·ä¾‹è¶…æ—¶äº†ğŸ¤£ï¼‰</p><p>æ”¹äº†å¥½ä¹…éƒ½ä¸ç†è§£ä¸ºä»€ä¹ˆä»£ç æœ€åä¸€ä¸ªæµ‹è¯•æ ·ä¾‹ä¼šè¶…æ—¶ï¼ˆä»£ç çš„å¤æ‚åº¦ä¹Ÿä¸é«˜å•Šï¼ï¼ï¼é¢˜ç›®ç»™çš„æ•°æ®ä¹Ÿä¸å¤§è¯¶ï¼‰</p><p>ç®—ç®—äº† ä»£ç ä¸é‡è¦ é‡è¦çš„æ˜¯ç†è§£è¿™é¢˜çš„æ€è·¯å’Œè§£æ³•</p></blockquote><h3 id="é¢˜ç›®å¤§æ„-3"><a href="#é¢˜ç›®å¤§æ„-3" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>åºåˆ—åŒ–æ˜¯å°†æ•°æ®ç»“æ„æˆ–å¯¹è±¡è½¬æ¢ä¸ºä¸€ç³»åˆ—ä½çš„è¿‡ç¨‹ï¼Œä»¥ä¾¿å®ƒå¯ä»¥å­˜å‚¨åœ¨æ–‡ä»¶æˆ–å†…å­˜ç¼“å†²åŒºä¸­ï¼Œæˆ–é€šè¿‡ç½‘ç»œè¿æ¥é“¾è·¯ä¼ è¾“ï¼Œä»¥ä¾¿ç¨ååœ¨åŒä¸€ä¸ªæˆ–å¦ä¸€ä¸ªè®¡ç®—æœºç¯å¢ƒä¸­é‡å»ºã€‚</p><p>è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥åºåˆ—åŒ–å’Œååºåˆ—åŒ–äºŒå‰æœç´¢æ ‘ ã€‚ å¯¹åºåˆ—åŒ–/ååºåˆ—åŒ–ç®—æ³•çš„å·¥ä½œæ–¹å¼æ²¡æœ‰é™åˆ¶ã€‚ æ‚¨åªéœ€ç¡®ä¿äºŒå‰æœç´¢æ ‘å¯ä»¥åºåˆ—åŒ–ä¸ºå­—ç¬¦ä¸²ï¼Œå¹¶ä¸”å¯ä»¥å°†è¯¥å­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸ºæœ€åˆçš„äºŒå‰æœç´¢æ ‘ã€‚</p><p>ç¤ºä¾‹1ï¼š</p><blockquote><p>è¾“å…¥ï¼šroot = [2,1,3]<br>è¾“å‡ºï¼š[2,1,3]</p></blockquote><h3 id="é¢˜è§£-3"><a href="#é¢˜è§£-3" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>è¿™é“é¢˜å°±æ˜¯äºŒå‰æœç´¢æ ‘è½¬æ¢æ¥è½¬æ¢å»æœ€ååˆè½¬æ¢å›äºŒå‰æœç´¢æ ‘ï¼Œå¤§è‡´è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ol><li>äºŒå‰æœç´¢æ ‘åˆ©ç”¨é˜Ÿåˆ—è½¬åŒ–æˆå­—ç¬¦ä¸²string</li><li>stringè½¬æ¢æˆvectorå®¹å™¨</li><li>vectorå®¹å™¨åˆ©ç”¨é˜Ÿåˆ—é‡æ–°å»ºæˆäºŒå‰æœç´¢æ ‘</li></ol><p>å·®ç‚¹ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Codec</span> &#123;<br><span class="hljs-keyword">public</span>:<br><br>    <span class="hljs-comment">// Encodes a tree to a single string.</span><br>    <span class="hljs-function">string <span class="hljs-title">serialize</span><span class="hljs-params">(TreeNode* root)</span> </span>&#123;<br>        string ans = <span class="hljs-string">&quot;&quot;</span>;<br>        <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">nullptr</span>)  <span class="hljs-keyword">return</span> ans;<br>        queue&lt;TreeNode*&gt; q;<br>        q.<span class="hljs-built_in">push</span>(root);<br>        <span class="hljs-keyword">while</span>(!q.<span class="hljs-built_in">empty</span>())<br>        &#123;<br>            <span class="hljs-keyword">auto</span> node = q.<span class="hljs-built_in">front</span>();<br>            q.<span class="hljs-built_in">pop</span>();<br>            <span class="hljs-keyword">if</span>(node == <span class="hljs-literal">nullptr</span>)<br>            &#123;<br>                ans = ans+<span class="hljs-string">&quot;null,&quot;</span>;<br>            &#125;<span class="hljs-keyword">else</span>&#123;<br>                ans = ans+<span class="hljs-built_in">to_string</span>(node-&gt;val)+<span class="hljs-string">&quot;,&quot;</span>;<br>                q.<span class="hljs-built_in">push</span>(node-&gt;left);<br>                q.<span class="hljs-built_in">push</span>(node-&gt;right);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br><br>    <span class="hljs-comment">// Decodes your encoded data to tree.</span><br>    <span class="hljs-function">TreeNode* <span class="hljs-title">deserialize</span><span class="hljs-params">(string data)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(data == <span class="hljs-string">&quot;&quot;</span>)  <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;<br>        vector&lt;string&gt; temp = <span class="hljs-built_in">split</span>(data);<br>        TreeNode* root = <span class="hljs-keyword">new</span> <span class="hljs-built_in">TreeNode</span>(<span class="hljs-built_in">stoi</span>(temp[<span class="hljs-number">0</span>]));  <span class="hljs-comment">//TreeNode(int)</span><br>        queue&lt;TreeNode*&gt; q;<br>        q.<span class="hljs-built_in">push</span>(root);<br>        <span class="hljs-type">int</span> index = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">while</span>(!q.<span class="hljs-built_in">empty</span>())<br>        &#123;<br>            <span class="hljs-keyword">auto</span> node = q.<span class="hljs-built_in">front</span>();<br>            q.<span class="hljs-built_in">pop</span>();<br>            <span class="hljs-keyword">if</span>(temp[index] != <span class="hljs-string">&quot;null&quot;</span>)<br>            &#123;<br>                node-&gt;left = <span class="hljs-keyword">new</span> <span class="hljs-built_in">TreeNode</span>(<span class="hljs-built_in">stoi</span>(temp[index]));<br>                q.<span class="hljs-built_in">push</span>(node-&gt;left);<br>            &#125;<br>            index++;<br>            <span class="hljs-keyword">if</span>(temp[index] != <span class="hljs-string">&quot;null&quot;</span>)<br>            &#123;<br>                node-&gt;right = <span class="hljs-keyword">new</span> <span class="hljs-built_in">TreeNode</span>(<span class="hljs-built_in">stoi</span>(temp[index]));<br>                q.<span class="hljs-built_in">push</span>(node-&gt;right);<br>            &#125;<br>            index++;<br>        &#125;<br>        <span class="hljs-keyword">return</span> root;<br>    &#125;<br><br>    <span class="hljs-function">vector&lt;string&gt; <span class="hljs-title">split</span><span class="hljs-params">(string data)</span></span><br><span class="hljs-function">    </span>&#123;<br>        vector&lt;string&gt; ans;<br>        <span class="hljs-type">int</span> from = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;data.<span class="hljs-built_in">size</span>(); i++)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(data[i] == <span class="hljs-string">&#x27;,&#x27;</span>)<br>            &#123;<br>                ans.<span class="hljs-built_in">push_back</span>(data.<span class="hljs-built_in">substr</span>(from,i-from));  <span class="hljs-comment">//Note:ç¬¬äºŒä¸ªå‚æ•°ä¸ºå¤åˆ¶é•¿åº¦è€Œä¸æ˜¯å­—ç¬¦ä¸²ç»“æŸä½ç½®</span><br>                from = i+<span class="hljs-number">1</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å­—ç¬¦ä¸²</tag>
      
      <tag>äºŒå‰æ ‘</tag>
      
      <tag>äºŒå‰æœç´¢æ ‘</tag>
      
      <tag>æ’åº</tag>
      
      <tag>BFS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>äº”ä¸€&#39;s Vlog</title>
    <link href="/2022/05/01/%E4%BA%94%E4%B8%80-s-Vlog/"/>
    <url>/2022/05/01/%E4%BA%94%E4%B8%80-s-Vlog/</url>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="88c913d10a2ddcf7539b35852d1296fa616bfbe194af8a5cac5b01db9d1fd125">4630436162ade97ba2718b7d0c4b3b6351ade09e539dfebeb5402828e29e64b0a9589949eaea39786b85e0cd32450f1c48314a9c45b24ac1f00bc7cb12dbed7c5c9b308305e89a7060608858847e0687a0f6a7b58b354f0e9305bdea10105279e911852abc5569cb2ba3a2a628c98c4b5406aba11f99ab5af9c6fde30e2e32be29f4bcad4aa7171db55bad476c4dd306a1ec4c7fdf0c5846562fc2758ef0bebbdcf341536327a8698b14e61f1d2989c6189635665ad3e9e9809ea1070442c4005980e75b80a4204f13cd1afc08aa71c693178c43efc1fb307a22e4156cf1a83c7354944b6f01434a8ee7798a66f1abc7cacc132c8b5524fc9cf6db49e3edd17f2fca41c12770cbd08083623225292c7ccb1eda1aefefa240c2fafedeaccdfdf074e5bf6dac711704930732285ec6823db42c22f1d45b07a829eed9fd6b7db772b87f097ec11765a4b3cc96fef942a9cafabea316d3d082cdcb9f4c5c2b213a9e3f02fc9654cd21fcb9c803243b757e077cd87153791915d0dbbd5602a893c1cb589bf9ae69d560b3b30218db0a9483519bd3f364caf8a8ab752b9f68d362673ab224f7b24d03293b3720b22380a8901fd57d087c0f6f40abf37a31c3e73cf663705f7f1ddfcaf0a59f501924286a05768726f2c54ab24fc774b3b2a67e45047409ea79bddf4682428300a2da3e172b7da44c992be6a2857bd18ddf29385dc5fe8a9486c1000e95bc9b28bde4d67336cd1be5849ef320284e3c5791bf6dee3d822c11a17768cb3acc752c3a796bf1aae9f750f9a3420b642305f50de8c07f20a33793cef902642e277e482355ea45456bdc6eb57045a2c33b4851ac3a0f17c0dc3fced9b1568a501115a744221718c8cbdd9d91fb635690176ed0e45949476efa592db76f3c4675dd5b8bb22bb802597d928225f1da661ad654324a5179442624864548e2676f5bea9813a9cda61517cd4cfa2e65e1b6c7d3332f7841911fe92f4b768dce514a53d47fa952e3c678b8efd38e235cf608a047d50415e449ca59a48d86c7fd82bc307bd26b08a0fc88e1459afd81742f3f09e93c6f5af35da7913f170cdb70d0b270a584e01f73baea7a3f0dd0a9d1a80ad316ef96f741d58f186d7b1fe7d5f850dfff814e1bb612e3377701f2589073e970615f01288af3f4567c63fec4b7daf4fc5d2b01728674426669b9b62ca7f4a435faeec6c06752734ff7ab385247d97249e6f75e58d71ed5bda0063ff9f6d5ca0487d42a25a639145bdadc7ef59bed92a86b47f7afdff1425bfeab41c1c78ddf5b31c173e3ee3bdfe4503204cef9e1097c166c0839b0c6e99046fa2f779cfb1a865e5532ab3a57715e5f64ec892868e35df35b1856f8aeaf220badadff65bcb543cbd391b906d84e95b3c76caa0e26a5dbc944dd8a26ba82b779841a2cc7f2017e258ef5f7fcf4d4045511d1a290d2542c22898536e7adc134a2c09fb1863e2b709a6f85b3c60f6b2e447867f9886732e100583783c03f951659880ae86b0875008b0da564ab79e14104df13c350bcc074bc881a9592501f8155cb627a651cde95be392c55420e385d7ca66ae411b423b82e57104dabfcb5ed20057a145eff5122e3fd3f8d94464a1e086afa58c3eb4531a0a04b5301685d33ccfc18686629bf98ccd6db306468a7f9018b9f032248b277d2eeb84a7c69516ade27f3f7d365efff9c567b6653f11d31ef34aee1911f476a41ec2be7c9685373c18d66756be638c65a356072a26922ed7d9ae46282687b5cc47ee9c53cbbbe4b432a8066a984bca04430ef1fc9c4e081abdddc8b2806d18cb726be28fd14705a93a2749a2539b6434ee1f7a21e97fa9fbda505a9a080d6a29c38a0336efcad3dfc478a661fd53667e76eac900dc216d4d78e5d800ca89d134b87d07c03568b8f995314bbc7ed4f6878ef60040d425e7f105a51365fe5d4a35560f7accfb7d57b46dfbece675563bde273b2ce3154204704822f04c01841a427a74901f1a50175b08e70814c3cc9dd6ddfd9bf953d5467f24b03dcb6de7a19a31d0e53565af13fa3615529c38e7aa9595fc3f472d46d2f06c8e88cc0c513988a8be7255a202ffccf1756ac24e4c2d9b9e11a084db00c79346bbab4e4b45fde609a7e1b0c178e1782b90912d2a2716e273954701c22f8b0299aa4e3778666e6db2c6144e4eee6adc44c2936917061947022266ad71d9061c3e5cde414a99c70f97188c52a3d5362207524d69ae0bbd6f10c16034d166437fbae1be0643973085c4c8ff0d41e4a81a5c57810f6ee104b5c9f4e2b9cd79bfca2b7cdd8ff550dd8f9750bbe99c896640efbd794e686bb09fa9968e7e709448e1cdac27ffebd6ed0ed903c4c6c784b0588f08641183bb51ab92e1fe6555f81739243e08b143024b6356f506729056eec0cc44cc239884dd1857c3729197ad7005697e7931a1a1ea9c7d0aac6dffbde36d9820b214589550a2f351128c46d5b374fd4f09c213d4d7607d37c08a88312185d081298521958860db90b4508a9bfc4491a54c637fcaadc94b43df6f13b778ff0312c03bbde54247e02c76521d502b964acb8ad14b0fb403a4ed22ddf71ad31fb52eb9c57729bef28ef089896afe499c67e25670fc1af5e840146f6c194f7f06883db35fd2fff9041348a2ba092bd8c01467fc44a262c0a801a466abb6be07f06ed37c04b9cbb553c93fe7e9605f611d7c6bc755f7b8ebfef7fe5ea4c4a37fee45d26ba172cc0ffae1edb81cc4e89b34e629c0dc667a1782d00ade2d17ff3cec91a1a4ec3bae8354b3f082fc9a27326a8bf86bcf836af2d539e04f7288352e5d3b19501c9ff978d83a5f13cd5d612cb17985200e94ce7bc079f9557b002b8efcf491009be45a2d6bdac4641a50c2f62fefd0016df441866249b9e7605fb32d3b10fbf44caaf125133afaac2748410d5550d0c834c77c60163f71a805fa0d9f704ffa8c963c7dc746e8b1d712db71f5774a3b50cd63f468b3840d30ee09383abd95febb10690cad4acd799cbb182d8287d2a1b740c1f5c010b86ee450eeb159d49208dcf4405aff6d2a8345727b2a2d40c8ce3bed948e0bad599901960d71d23b9567fe00636c513224f0bc4d5a925bbe6a29d9bb6ca99feb79611fd308b6cf04ed12cddb34b656dc7626d5100293d29e2447fa07578a224061ab67b7aa0ef2fa78ce32ff37729d211b130e5903824c952657eaef3737038bb1576c24289b662b4e4aacfecafd48a2ba03298888cc63332</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <categories>
      
      <category>Vlog</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Vlog</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pythonå›¾å½¢åŒ–ç•Œé¢è®¾è®¡</title>
    <link href="/2022/04/20/Python%E5%9B%BE%E5%BD%A2%E5%8C%96%E7%95%8C%E9%9D%A2%E8%AE%BE%E8%AE%A1/"/>
    <url>/2022/04/20/Python%E5%9B%BE%E5%BD%A2%E5%8C%96%E7%95%8C%E9%9D%A2%E8%AE%BE%E8%AE%A1/</url>
    
    <content type="html"><![CDATA[<blockquote><p>Github+PicGoæ­å»ºçš„å›¾åºŠæ²¡æœ‰æ¢¯å­ä¸å¥½ç”¨ï¼ŒGithubç»å¸¸åŠ è½½ä¸å‡ºæ¥ã€‚æœ€è¿‘è¦å¤ä¹ è€ƒè¯•ï¼Œè€ƒå®Œè¯•æœ‰ç©ºæŠŠç”¨Githubæ­å»ºçš„å›¾åºŠæ¢æˆGitee+PicGoï¼Œå†é‡æ–°ä¸Šä¼ ä¹‹å‰çš„ç¬”è®°æµ‹è¯•ä¸€ä¸‹å§ã€‚</p><p>é¢â€¦â€¦  è¿˜æœ‰åšå®¢çš„åŸŸåæ²¡æ•´ï¼Œæ²¡ç»‘å®šåŸŸååˆæ‹äº‘CDNåŠ é€Ÿä¹Ÿæ•´ä¸äº†ã€‚ç®—ç®—äº†ï¼Œç­‰è€ƒå®Œè¯•åœ¨è…¾è®¯äº‘é‡æ–°ä¹°ä¸€ä¸ª.cnçš„åŸŸåå†æŠ˜è…¾å§ã€‚</p></blockquote><h2 id="Pythonå›¾å½¢åŒ–ç•Œé¢è®¾è®¡"><a href="#Pythonå›¾å½¢åŒ–ç•Œé¢è®¾è®¡" class="headerlink" title="Pythonå›¾å½¢åŒ–ç•Œé¢è®¾è®¡"></a>Pythonå›¾å½¢åŒ–ç•Œé¢è®¾è®¡</h2><blockquote><p>å­¦ä¹ é“¾æ¥ï¼š<a href="https://www.jianshu.com/p/91844c5bca78">https://www.jianshu.com/p/91844c5bca78</a></p></blockquote><blockquote><p>Pythonè‡ªå¸¦äº†tkinter æ¨¡å—ï¼Œå®è´¨ä¸Šæ˜¯ä¸€ç§æµè¡Œçš„é¢å‘å¯¹è±¡çš„GUIå·¥å…·åŒ… TK çš„Pythonç¼–ç¨‹æ¥å£ï¼Œæä¾›äº†å¿«é€Ÿä¾¿åˆ©åœ°åˆ›å»ºGUIåº”ç”¨ç¨‹åºçš„æ–¹æ³•ã€‚å…¶å›¾åƒåŒ–ç¼–ç¨‹çš„åŸºæœ¬æ­¥éª¤é€šå¸¸åŒ…æ‹¬ï¼š</p><p>ä¸€ã€å¯¼å…¥ tkinter æ¨¡å—</p><p>äºŒã€åˆ›å»º GUI æ ¹çª—ä½“</p><p>ä¸‰ã€æ·»åŠ äººæœºäº¤äº’æ§ä»¶å¹¶ç¼–å†™ç›¸åº”çš„å‡½æ•°</p><p>å››ã€åœ¨ä¸»äº‹ä»¶å¾ªç¯ä¸­ç­‰å¾…ç”¨æˆ·è§¦å‘äº‹ä»¶å“åº”</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> tkinter <span class="hljs-keyword">import</span>*<br><span class="hljs-keyword">import</span> tkinter<br>root=Tk()<br>root.title(<span class="hljs-string">&quot;æˆ‘çš„ç¬¬ä¸€ä¸ªPythonçª—å£&quot;</span>)   <span class="hljs-comment"># title() æ–¹æ³•å¯è®¾ç½®å…¶æ ‡é¢˜æ–‡å­—</span><br>root.geometry(<span class="hljs-string">&#x27;550x400&#x27;</span>)  <span class="hljs-comment">#geometry()æ–¹æ³•å¯ä»¥è®¾ç½®çª—ä½“çš„å¤§å°ï¼ˆä»¥åƒç´ ä¸ºå•ä½ï¼‰  xä¸ºå°å†™è‹±æ–‡å­—æ¯x</span><br><br><span class="hljs-comment">#æ ‡ç­¾</span><br>lb=Label(root,text=<span class="hljs-string">&quot;æˆ‘çš„ç¬¬ä¸€ä¸ªæ ‡ç­¾&quot;</span>,<br>bg=<span class="hljs-string">&quot;#d3fbfb&quot;</span>,      <span class="hljs-comment">#èƒŒæ™¯é¢œè‰²</span><br>fg=<span class="hljs-string">&quot;red&quot;</span>,          <span class="hljs-comment">#å­—ä½“é¢œè‰²</span><br>font=<span class="hljs-string">&quot;&#x27;æ¥·ä½“&#x27;ï¼Œ32&quot;</span>,  <span class="hljs-comment">#æ ‡ç­¾å­—ä½“</span><br>width=<span class="hljs-number">32</span>,<br>height=<span class="hljs-number">2</span>,<br>relief=RAISED    <span class="hljs-comment">#æµ®é›•æ ·å¼</span><br><span class="hljs-comment">#å±æ€§ relief ä¸ºæ§ä»¶å‘ˆç°å‡ºæ¥çš„3Dæµ®é›•æ ·å¼ï¼Œæœ‰ FLAT(å¹³çš„)ã€RAISED(å‡¸èµ·çš„)ã€SUNKEN(å‡¹é™·çš„)ã€GROOVE(æ²Ÿæ§½çŠ¶è¾¹ç¼˜)å’Œ RIDGE(è„ŠçŠ¶è¾¹ç¼˜) 5ç§ã€‚</span><br>)<br>lb.pack()<br><span class="hljs-comment">#æ§ä»¶å¸ƒå±€ å¸¸è§çš„æ§ä»¶å¸ƒå±€æœ‰ä¸‰ç§ï¼špack() grid() place() å…·ä½“è¯¦è§ç¬”è®°</span><br></code></pre></td></tr></table></figure><h2 id="Pythonç®€å•åŠ æ³•è®¡ç®—å™¨"><a href="#Pythonç®€å•åŠ æ³•è®¡ç®—å™¨" class="headerlink" title="Pythonç®€å•åŠ æ³•è®¡ç®—å™¨"></a>Pythonç®€å•åŠ æ³•è®¡ç®—å™¨</h2><p><img src="https://img.yiqiangshiyia.cn/blog/image4.png" alt="image4"></p><p>Pythonç®€å•åŠ æ³•è®¡ç®—å™¨ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#å°†ä¸¤ä¸ªè¾“å…¥æ¡†è¾“å…¥æ–‡æœ¬è½¬åŒ–ä¸ºæµ®ç‚¹æ•°å€¼è¿›è¡ŒåŠ æ³•è¿ç®— è¦æ±‚æ¯æ¬¡å•å‡»æŒ‰é’®è®¡ç®—ç»“æœæ˜¯ä»¥æ–‡æœ¬çš„å½¢å¼è¿½åŠ åˆ°æ–‡æœ¬æ¡†ä¸­ å°†åŸè¾“å…¥æ¡†æ¸…ç©º</span><br><span class="hljs-comment">#æŒ‰é’®æ–¹æ³•ä¸€ï¼šä¸ä¼ å‚æ•°è°ƒç”¨å‡½æ•°run1()å®ç° æŒ‰é’®æ–¹æ³•äºŒï¼šç”¨lambda()è°ƒç”¨å‡½æ•°run2(x,y)åŒæ—¶ä¼ é€’å‚æ•°å®ç°</span><br><span class="hljs-keyword">from</span> tkinter <span class="hljs-keyword">import</span>*<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">run1</span>():<br>    a = <span class="hljs-built_in">float</span>(inp1.get())<br>    b = <span class="hljs-built_in">float</span>(inp2.get())<br>    s = <span class="hljs-string">&#x27;%0.2f+%0.2f=%0.2f\n&#x27;</span>%(a,b,a+b)<br>    txt.insert(END,s)  <span class="hljs-comment">#è¿½åŠ æ˜¾ç¤ºè¿ç®—ç»“æœ</span><br>    inp1.delete(<span class="hljs-number">0</span>,END)  <span class="hljs-comment">#æ¸…ç©ºè¾“å…¥</span><br>    inp2.delete(<span class="hljs-number">0</span>,END)  <span class="hljs-comment">#æ¸…ç©ºè¾“å…¥</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">run2</span>(<span class="hljs-params">x,y</span>):<br>    a = <span class="hljs-built_in">float</span>(x)<br>    b = <span class="hljs-built_in">float</span>(y)<br>    s = <span class="hljs-string">&#x27;%0.2f+%0.2f=%0.2f\n&#x27;</span>%(a,b,a+b)<br>    txt.insert(END,s)<br>    inp1.delete(<span class="hljs-number">0</span>,END)<br>    inp2.delete(<span class="hljs-number">0</span>,END)<br><br>root = Tk()<br>root.geometry(<span class="hljs-string">&#x27;460x240&#x27;</span>)<br>root.title(<span class="hljs-string">&#x27;ç®€å•åŠ æ³•è®¡ç®—å™¨&#x27;</span>)<br><br>lb1 = Label(root,text=<span class="hljs-string">&#x27;è¯·è¾“å…¥ä¸¤ä¸ªæ•°ï¼ŒæŒ‰ä¸‹é¢ä¸¤ä¸ªæŒ‰é’®ä¹‹ä¸€è¿›è¡ŒåŠ æ³•è®¡ç®—&#x27;</span>)<br>lb1.place(relx=<span class="hljs-number">0.1</span>,rely=<span class="hljs-number">0.1</span>,relwidth=<span class="hljs-number">0.8</span>,relheight=<span class="hljs-number">0.1</span>)<br>inp1=Entry(root)<br>inp1.place(relx=<span class="hljs-number">0.1</span>,rely=<span class="hljs-number">0.2</span>,relwidth=<span class="hljs-number">0.3</span>,relheight=<span class="hljs-number">0.1</span>)<br>inp2=Entry(root)<br>inp2.place(relx=<span class="hljs-number">0.6</span>,rely=<span class="hljs-number">0.2</span>,relwidth=<span class="hljs-number">0.3</span>,relheight=<span class="hljs-number">0.1</span>)<br><br><span class="hljs-comment">#æ–¹æ³•ä¸€ï¼šç›´æ¥è°ƒç”¨run1()</span><br>btn1 = Button(root,text=<span class="hljs-string">&#x27;æ–¹æ³•ä¸€&#x27;</span>,command=run1)<br>btn1.place(relx=<span class="hljs-number">0.1</span>,rely=<span class="hljs-number">0.4</span>,relwidth=<span class="hljs-number">0.3</span>,relheight=<span class="hljs-number">0.1</span>)<br><span class="hljs-comment">#æ–¹æ³•äºŒï¼šåˆ©ç”¨lambdaå‡½æ•°ä¼ å‚æ•°è°ƒç”¨run2()</span><br>btn2 = Button(root,text=<span class="hljs-string">&#x27;æ–¹æ³•äºŒ&#x27;</span>,command=<span class="hljs-keyword">lambda</span>:run2(inp1.get(),inp2.get()))<br>btn2.place(relx=<span class="hljs-number">0.6</span>,rely=<span class="hljs-number">0.4</span>,relwidth=<span class="hljs-number">0.3</span>,relheight=<span class="hljs-number">0.1</span>)<br><span class="hljs-comment">#åœ¨çª—ä½“å‚ç›´è‡ªä¸Šè€Œä¸‹ä½ç½®60%å¤„èµ· å¸ƒå±€ç›¸å¯¹çª—ä½“é«˜åº¦40%é«˜çš„æ–‡æœ¬æ¡†</span><br>txt = Text(root)<br>txt.place(rely=<span class="hljs-number">0.6</span>,relheight=<span class="hljs-number">0.4</span>)<br>root.mainloop()<br><br><span class="hljs-comment">#place()æ–¹æ³•ï¼šæ ¹æ®æ§ä»¶å®ä¾‹åœ¨çˆ¶å®¹å™¨ä¸­çš„ç»å¯¹æˆ–ç›¸å¯¹ä½ç½®å‚æ•°è¿›è¡Œå¸ƒå±€ å¸¸ç”¨å‚æ•°å¸ƒå±€ï¼š</span><br><span class="hljs-comment">#lb.place(x=,y=) x y:æ§ä»¶å®ä¾‹åœ¨æ ¹çª—ä½“ä¸­æ°´å¹³å’Œå‚ç›´æ–¹å‘ä¸Šçš„å…¶å®ä½ç½®ï¼ˆå•ä½ä¸ºåƒç´ ï¼‰æ ¹çª—ä½“å·¦ä¸Šè§’ä¸ºx=0,y=0 æ°´å¹³å‘å³ å‚ç›´å‘ä¸‹ä¸ºæ­£æ–¹å‘</span><br><span class="hljs-comment">#lb.place(height=,width=) height width:æ§ä»¶å®ä¾‹æœ¬èº«çš„é«˜åº¦å’Œå®½åº¦ï¼ˆå•ä½ä¸ºåƒç´ ï¼‰</span><br><span class="hljs-comment">#lb.place(relx=,rely=) relx rely:æ§ä»¶å®ä¾‹åœ¨æ ¹çª—ä½“ä¸­æ°´å¹³å’Œå‚ç›´æ–¹å‘ä¸Šèµ·å§‹å¸ƒå±€çš„ç›¸å¯¹ä½ç½® å³ç›¸å¯¹äºæ ¹çª—ä½“å®½å’Œé«˜çš„æ¯”ä¾‹ä½ç½® å–å€¼åœ¨0.0~1.0ä¹‹é—´</span><br><span class="hljs-comment">#lb.place(relheight=,relwidth=) relheight relwidth:æ§ä»¶å®ä¾‹ç›¸å¯¹äºæ ¹çª—ä½“çš„é«˜åº¦å’Œå®½åº¦æ¯”ä¾‹ å–å€¼åœ¨0.0~1.0ä¹‹é—´</span><br><span class="hljs-comment">#åˆ©ç”¨placeçš„æ–¹æ³•é…åˆrelx relyå’Œrelwidth relheightå‚æ•°æ‰€å¾—åˆ°çš„ç•Œé¢å¯è‡ªé€‚åº”æ ¹çª—ä½“å°ºå¯¸çš„å¤§å°</span><br></code></pre></td></tr></table></figure><h2 id="pythonå›¾å½¢åŒ–ç•Œé¢è®¾è®¡æ—¶é’Ÿ"><a href="#pythonå›¾å½¢åŒ–ç•Œé¢è®¾è®¡æ—¶é’Ÿ" class="headerlink" title="pythonå›¾å½¢åŒ–ç•Œé¢è®¾è®¡æ—¶é’Ÿ"></a><strong>pythonå›¾å½¢åŒ–ç•Œé¢è®¾è®¡æ—¶é’Ÿ</strong></h2><p><img src="https://img.yiqiangshiyia.cn/blog/image5.png" alt="image5"></p><p>pythonå›¾å½¢åŒ–ç•Œé¢è®¾è®¡æ—¶é’Ÿä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#tkinterå¸¸è§æ§ä»¶çš„ç‰¹å¾å±æ€§</span><br><span class="hljs-comment">#æ–‡æœ¬è¾“å…¥å’Œè¾“å‡ºç›¸å…³æ§ä»¶ï¼šæ ‡ç­¾ï¼ˆLabelï¼‰æ¶ˆæ¯ï¼ˆMessageï¼‰è¾“å…¥æ¡†ï¼ˆEntryï¼‰æ–‡æœ¬æ¡†ï¼ˆTextï¼‰Labelå’ŒMessageé™¤äº†å•è¡Œå’Œå¤šè¡Œä¸åŒå¤– å±æ€§å’Œç”¨æ³•åŸºæœ¬ä¸€ç›´ ç”¨äºå‘ˆç°æ–‡æœ¬ä¿¡æ¯</span><br><span class="hljs-comment">#åˆ©ç”¨configure()æ–¹æ³•æˆ–configæ¥å®ç°æ–‡æœ¬å˜åŒ–</span><br><span class="hljs-keyword">from</span> tkinter <span class="hljs-keyword">import</span>*<br><span class="hljs-keyword">import</span> tkinter<br><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">gettime</span>():<br>    timestr = time.strftime(<span class="hljs-string">&quot;%H:%M:%S&quot;</span>)  <span class="hljs-comment">#è·å–å½“å‰çš„æ—¶é—´å¹¶è½¬åŒ–ä¸ºå­—ç¬¦ä¸²</span><br>    lb.configure(text=timestr)  <span class="hljs-comment">#é‡æ–°è®¾ç½®æ ‡ç­¾æ–‡æœ¬</span><br>    root.after(<span class="hljs-number">1000</span>,gettime)  <span class="hljs-comment">#æ¯éš”1sè°ƒç”¨å‡½æ•° gettimeè‡ªèº«è·å–æ—¶é—´</span><br>root = tkinter.Tk()<br>root.title(<span class="hljs-string">&quot;æ—¶é’Ÿ&quot;</span>)<br>lb = tkinter.Label(root,text=<span class="hljs-string">&#x27;&#x27;</span>,fg=<span class="hljs-string">&#x27;blue&#x27;</span>,font=(<span class="hljs-string">&quot;é»‘ä½“&quot;</span>,<span class="hljs-number">80</span>))<br>lb.pack()<br>gettime()<br>lb.mainloop()<br></code></pre></td></tr></table></figure><h2 id="pythonå›¾å½¢åŒ–ç•Œé¢è®¾è®¡ï¼ˆå¤é€‰æ¡†ï¼‰"><a href="#pythonå›¾å½¢åŒ–ç•Œé¢è®¾è®¡ï¼ˆå¤é€‰æ¡†ï¼‰" class="headerlink" title="pythonå›¾å½¢åŒ–ç•Œé¢è®¾è®¡ï¼ˆå¤é€‰æ¡†ï¼‰"></a><strong>pythonå›¾å½¢åŒ–ç•Œé¢è®¾è®¡ï¼ˆå¤é€‰æ¡†ï¼‰</strong></h2><p><img src="https://img.yiqiangshiyia.cn/blog/image6.png" alt="image6"></p><p>pythonå›¾å½¢åŒ–ç•Œé¢è®¾è®¡ï¼ˆå¤é€‰æ¡†ï¼‰ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> tkinter <span class="hljs-keyword">import</span>*<br><span class="hljs-comment">#å¤é€‰æ¡†</span><br><span class="hljs-keyword">import</span> tkinter<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">run</span>():<br>    <span class="hljs-keyword">if</span>(ChackVar1.get()==<span class="hljs-number">0</span> <span class="hljs-keyword">and</span> ChackVar2.get()==<span class="hljs-number">0</span> <span class="hljs-keyword">and</span> ChackVar3.get()==<span class="hljs-number">0</span> <span class="hljs-keyword">and</span> ChackVar4.get()==<span class="hljs-number">0</span>):<br>        s = <span class="hljs-string">&#x27;æ‚¨è¿˜æ²¡é€‰æ‹©ä»»ä½•çˆ±å¥½é¡¹ç›®&#x27;</span><br>    <span class="hljs-keyword">else</span>:<br>        s1 = <span class="hljs-string">&quot;è¶³çƒ&quot;</span> <span class="hljs-keyword">if</span> ChackVar1.get()==<span class="hljs-number">1</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&quot;&quot;</span><br>        s2 = <span class="hljs-string">&quot;ç¯®çƒ&quot;</span> <span class="hljs-keyword">if</span> ChackVar2.get()==<span class="hljs-number">1</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&quot;&quot;</span><br>        s3 = <span class="hljs-string">&quot;æ¸¸æ³³&quot;</span> <span class="hljs-keyword">if</span> ChackVar3.get()==<span class="hljs-number">1</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&quot;&quot;</span><br>        s4 = <span class="hljs-string">&quot;ç”°å¾„&quot;</span> <span class="hljs-keyword">if</span> ChackVar4.get()==<span class="hljs-number">1</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&quot;&quot;</span><br>        s = <span class="hljs-string">&quot;æ‚¨é€‰æ‹©äº†%s%s%s%s&quot;</span>%(s1,s2,s3,s4)<br>    lb2.config(text=s)<br><br>root = Tk()<br>root.title(<span class="hljs-string">&#x27;å¤é€‰æ¡†&#x27;</span>)<br>lb1 = Label(root,text=<span class="hljs-string">&#x27;è¯·é€‰æ‹©æ‚¨çš„çˆ±å¥½é¡¹ç›®&#x27;</span>)<br>lb1.pack()<br><br>ChackVar1 = IntVar()<br>ChackVar2 = IntVar()<br>ChackVar3 = IntVar()<br>ChackVar4 = IntVar()<br><br>ch1 = Checkbutton(root,text=<span class="hljs-string">&#x27;è¶³çƒ&#x27;</span>,variable = ChackVar1,onvalue=<span class="hljs-number">1</span>,offvalue=<span class="hljs-number">0</span>)<br>ch2 = Checkbutton(root,text=<span class="hljs-string">&#x27;ç¯®çƒ&#x27;</span>,variable = ChackVar2,onvalue=<span class="hljs-number">1</span>,offvalue=<span class="hljs-number">0</span>)<br>ch3 = Checkbutton(root,text=<span class="hljs-string">&#x27;æ¸¸æ³³&#x27;</span>,variable = ChackVar3,onvalue=<span class="hljs-number">1</span>,offvalue=<span class="hljs-number">0</span>)<br>ch4 = Checkbutton(root,text=<span class="hljs-string">&#x27;ç”°å¾„&#x27;</span>,variable = ChackVar4,onvalue=<span class="hljs-number">1</span>,offvalue=<span class="hljs-number">0</span>)<br>ch1.pack()<br>ch2.pack()<br>ch3.pack()<br>ch4.pack()<br><br>btn = Button(root,text=<span class="hljs-string">&#x27;OK&#x27;</span>,command=run)  <span class="hljs-comment">#æŒ‰é’®çš„commandå‚æ•°å’Œå‡½æ•°ç›¸è¿æ¥</span><br>btn.pack()<br>lb2 = Label(root,text=<span class="hljs-string">&#x27;&#x27;</span>)<br>lb2.pack()<br><br>root.mainloop()<br><span class="hljs-comment">#å¤é€‰æ¡†ï¼šå¤é€‰æ¡†ï¼ˆCheckbuttonï¼‰æ˜¯ä¸ºäº†è¿”å›å¤šä¸ªé€‰é¡¹å€¼çš„äº¤äº’æ§ä»¶ é€šå¸¸ä¸ç›´æ¥è§¦å‘å‡½æ•°çš„æ‰§è¡Œ è¯¥æ§ä»¶é™¤äº†å…·æœ‰å…±æœ‰å±æ€§å¤–</span><br><span class="hljs-comment">#è¿˜å…·æœ‰æ˜¾ç¤ºæ–‡æœ¬ï¼ˆtextï¼‰è¿”å›å˜é‡ï¼ˆvariableï¼‰é€‰ä¸­è¿”å›å€¼ï¼ˆonvalueï¼‰å’Œæœªé€‰ä¸­é»˜è®¤è¿”å›å€¼ï¼ˆoffvalueï¼‰ç­‰é‡è¦å±æ€§</span><br><span class="hljs-comment">#è¿”å›å˜é‡variable = varé€šå¸¸å¯ä»¥é¢„å…ˆé€é¡¹åˆ†åˆ«å£°æ˜å˜é‡çš„ç±»å‹var = IntVar()ï¼ˆé»˜è®¤ï¼‰æˆ–var = StringVar()</span><br><span class="hljs-comment">#åœ¨æ‰€è°ƒç”¨çš„å‡½æ•°ä¸­æ–¹å¯åˆ†åˆ«è°ƒç”¨var.get()æ–¹æ³•å–å¾—è¢«é€‰ä¸­å®ä¾‹çš„onvalueæˆ–offvalueå€¼ å¤é€‰æ¡†å®ä¾‹é€šå¸¸è¿˜å¯åˆ†åˆ«åˆ©ç”¨</span><br><span class="hljs-comment">#seclet() deselect()å’Œtoggle()æ–¹æ³•å¯¹å…¶è¿›è¡Œé€‰ä¸­ã€æ¸…é™¤é€‰ä¸­å’Œåé€‰æ“ä½œ</span><br></code></pre></td></tr></table></figure><h2 id="pythonå›¾å½¢åŒ–ç•Œé¢è®¾è®¡ï¼ˆåˆ—è¡¨æ¡†ï¼‰"><a href="#pythonå›¾å½¢åŒ–ç•Œé¢è®¾è®¡ï¼ˆåˆ—è¡¨æ¡†ï¼‰" class="headerlink" title="pythonå›¾å½¢åŒ–ç•Œé¢è®¾è®¡ï¼ˆåˆ—è¡¨æ¡†ï¼‰"></a><strong>pythonå›¾å½¢åŒ–ç•Œé¢è®¾è®¡ï¼ˆåˆ—è¡¨æ¡†ï¼‰</strong></h2><p><img src="https://img.yiqiangshiyia.cn/blog/image7.png" alt="image7"></p><p>pythonå›¾å½¢åŒ–ç•Œé¢è®¾è®¡ï¼ˆåˆ—è¡¨æ¡†ï¼‰ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#åˆ—è¡¨æ¡†ï¼šåˆ—è¡¨æ¡†ï¼ˆListboxï¼‰å¯ä¾›ç”¨æˆ·å•é€‰æˆ–å¤šé€‰æ‰€åˆ—æ¡ç›®ä»¥å½¢æˆäººæœºäº¤äº’ åˆ—è¡¨æ¡†çš„ä¸»è¦æ§ä»¶æ–¹æ³•å¦‚ä¸‹:</span><br><span class="hljs-comment">#curselection()ï¼šè¿”å›å…‰æ ‡é€‰ä¸­é¡¹ç›®çš„å…ƒç»„ æ³¨æ„å¹¶ä¸æ˜¯å•ä¸ªçš„æ•´æ•°</span><br><span class="hljs-comment">#delete(èµ·å§‹ä½ç½®,ç»ˆæ­¢ä½ç½®)ï¼šåˆ é™¤é¡¹ç›® ç»ˆæ­¢ä½ç½®å¯çœç•¥ å…¨éƒ¨æ¸…ç©ºä¸ºdelete(0,END)</span><br><span class="hljs-comment">#get(èµ·å§‹ä½ç½®,ç»ˆæ­¢ä½ç½®)ï¼šè¿”å›èŒƒå›´æ‰€å«é¡¹ç›®æ–‡æœ¬çš„å…ƒç»„ ç»ˆæ­¢ä½ç½®å¯å¿½ç•¥</span><br><span class="hljs-comment">#insert(ä½ç½®,é¡¹ç›®å…ƒç´ )ï¼šæ’å…¥é¡¹ç›®å…ƒç´ ï¼ˆè‹¥æœ‰å¤šé¡¹,å¯ç”¨åˆ—è¡¨æˆ–å…ƒç»„ç±»å‹èµ‹å€¼ï¼‰è‹¥ä½ç½®ä¸ºEND åˆ™å°†é¡¹ç›®å…ƒç´ æ·»åŠ åˆ°æœ€å</span><br><span class="hljs-keyword">from</span> tkinter <span class="hljs-keyword">import</span> *<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">ini</span>():<br>    Lstbox1.delete(<span class="hljs-number">0</span>,END)<br>    list_items = [<span class="hljs-string">&quot;æ•°å­¦&quot;</span>,<span class="hljs-string">&quot;ç‰©ç†&quot;</span>,<span class="hljs-string">&quot;åŒ–å­¦&quot;</span>,<span class="hljs-string">&quot;è¯­æ–‡&quot;</span>,<span class="hljs-string">&quot;å¤–è¯­&quot;</span>]<br>    <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> list_items:<br>        Lstbox1.insert(END,item)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">clear</span>():<br>    Lstbox1.delete(<span class="hljs-number">0</span>,END)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">ins</span>():<br>    <span class="hljs-keyword">if</span> entry.get() != <span class="hljs-string">&#x27;&#x27;</span>:<br>        <span class="hljs-keyword">if</span> Lstbox1.curselection() == ():<br>            Lstbox1.insert(Lstbox1.size(),entry.get())<br>        <span class="hljs-keyword">else</span>:<br>            Lstbox1.insert(Lstbox1.curselection(),entry.get())<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">updt</span>():<br>    <span class="hljs-keyword">if</span> entry.get() != <span class="hljs-string">&#x27;&#x27;</span> <span class="hljs-keyword">and</span> Lstbox1.curselection() != ():<br>        selected=Lstbox1.curselection()[<span class="hljs-number">0</span>]<br>        Lstbox1.delete(selected)<br>        Lstbox1.insert(selected,entry.get())<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">delt</span>():<br>    <span class="hljs-keyword">if</span> Lstbox1.curselection() != ():<br>        Lstbox1.delete(Lstbox1.curselection())<br><br>root = Tk()<br>root.title(<span class="hljs-string">&#x27;åˆ—è¡¨æ¡†å®éªŒ&#x27;</span>)<br>root.geometry(<span class="hljs-string">&#x27;320x240&#x27;</span>)<br><br>frame1 = Frame(root,relief=RAISED)<br>frame1.place(relx=<span class="hljs-number">0.0</span>)<br>frame2 = Frame(root,relief=GROOVE)<br>frame2.place(relx=<span class="hljs-number">0.5</span>)<br><br>Lstbox1 = Listbox(frame1)<br>Lstbox1.pack()<br><br>entry = Entry(frame2)<br>entry.pack()<br><br>btn1 = Button(frame2,text=<span class="hljs-string">&#x27;åˆå§‹åŒ–&#x27;</span>,command=ini)<br>btn1.pack(fill=X)<br>btn2 = Button(frame2,text=<span class="hljs-string">&#x27;æ·»åŠ &#x27;</span>,command=ins)<br>btn2.pack(fill=X)<br>btn3 = Button(frame2,text=<span class="hljs-string">&#x27;æ’å…¥&#x27;</span>,command=ins) <br>btn3.pack(fill=X)<br>btn4 = Button(frame2,text=<span class="hljs-string">&#x27;ä¿®æ”¹&#x27;</span>,command=updt)<br>btn4.pack(fill=X)<br>btn5 = Button(frame2,text=<span class="hljs-string">&#x27;åˆ é™¤&#x27;</span>,command=delt)<br>btn5.pack(fill=X)<br>btn6 = Button(frame2,text=<span class="hljs-string">&#x27;æ¸…ç©º&#x27;</span>,command=clear)<br>btn6.pack(fill=X)<br>root.mainloop()<br></code></pre></td></tr></table></figure><h2 id="pythonå›¾å½¢åŒ–ç•Œé¢è®¾è®¡ï¼ˆç»„åˆæ¡†ï¼‰"><a href="#pythonå›¾å½¢åŒ–ç•Œé¢è®¾è®¡ï¼ˆç»„åˆæ¡†ï¼‰" class="headerlink" title="pythonå›¾å½¢åŒ–ç•Œé¢è®¾è®¡ï¼ˆç»„åˆæ¡†ï¼‰"></a><strong>pythonå›¾å½¢åŒ–ç•Œé¢è®¾è®¡ï¼ˆç»„åˆæ¡†ï¼‰</strong></h2><p><img src="https://img.yiqiangshiyia.cn/blog/image8.png" alt="image8"></p><p>pythonå›¾å½¢åŒ–ç•Œé¢è®¾è®¡ï¼ˆç»„åˆæ¡†ï¼‰ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> tkinter.ttk <span class="hljs-keyword">import</span> *<br><span class="hljs-keyword">from</span> tkinter <span class="hljs-keyword">import</span>*<br><span class="hljs-keyword">import</span> tkinter<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">calc</span>(<span class="hljs-params">event</span>):<br>       a = <span class="hljs-built_in">float</span>(t1.get())<br>       b = <span class="hljs-built_in">float</span>(t2.get())<br>       dic = &#123;<span class="hljs-number">0</span>:a+b,<span class="hljs-number">1</span>:a-b,<span class="hljs-number">2</span>:a*b,<span class="hljs-number">3</span>:a/b&#125;<br>       c = dic[comb.current()]<br>       lbl.config(text=<span class="hljs-built_in">str</span>(c))<br><br>root = Tk()<br>root.title(<span class="hljs-string">&#x27;å››åˆ™è¿ç®—&#x27;</span>)<br>root.geometry(<span class="hljs-string">&#x27;320x240&#x27;</span>)<br><br>t1 = Entry(root)<br>t1.place(relx=<span class="hljs-number">0.1</span>,rely=<span class="hljs-number">0.1</span>,relwidth=<span class="hljs-number">0.2</span>,relheight=<span class="hljs-number">0.1</span>)<br>t2 = Entry(root)<br>t2.place(relx=<span class="hljs-number">0.5</span>,rely=<span class="hljs-number">0.1</span>,relwidth=<span class="hljs-number">0.2</span>,relheight=<span class="hljs-number">0.1</span>)<br><br>var = StringVar()<br><br>comb = Combobox(root,textvariable=var,values=[<span class="hljs-string">&#x27;åŠ &#x27;</span>,<span class="hljs-string">&#x27;å‡&#x27;</span>,<span class="hljs-string">&#x27;ä¹˜&#x27;</span>,<span class="hljs-string">&#x27;é™¤&#x27;</span>,])<br>comb.place(relx=<span class="hljs-number">0.1</span>,rely=<span class="hljs-number">0.5</span>,relwidth=<span class="hljs-number">0.2</span>)<br>comb.bind(<span class="hljs-string">&#x27;&lt;&lt;ComboboxSelected&gt;&gt;&#x27;</span>,calc)<br><br>lbl=Label(root,text=<span class="hljs-string">&#x27;ç»“æœ&#x27;</span>)<br>lbl.place(relx=<span class="hljs-number">0.5</span>,rely=<span class="hljs-number">0.7</span>,relwidth=<span class="hljs-number">0.2</span>,relheight=<span class="hljs-number">0.3</span>)<br>root.mainloop()<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>è§£å¿§æ‚è´§</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pythonçˆ¬è™«</title>
    <link href="/2022/04/20/Python%E7%88%AC%E8%99%AB/"/>
    <url>/2022/04/20/Python%E7%88%AC%E8%99%AB/</url>
    
    <content type="html"><![CDATA[<h2 id="Pythonçˆ¬è™«å­¦ä¹ "><a href="#Pythonçˆ¬è™«å­¦ä¹ " class="headerlink" title="Pythonçˆ¬è™«å­¦ä¹ "></a>Pythonçˆ¬è™«å­¦ä¹ </h2><p><strong>å­¦ä¹ çˆ¬è™«å‰éœ€è¦å®‰è£…çš„æ ‡å‡†åº“</strong></p><p>å®‰è£…å¦‚ä¸‹ï¼š</p><p>pip install requests</p><p>pip install re</p><p>pip install bs4</p><p><strong>çˆ¬è™«çš„å››ä¸ªä¸»è¦æ­¥éª¤ï¼š</strong></p><p>1.æ˜ç¡®ç›®æ ‡</p><p>2.çˆ¬(å°†ç½‘ç«™çš„æ‰€æœ‰å†…å®¹ç»™çˆ¬ä¸‹æ¥)</p><p>3.å–(å°†è‡ªå·±æƒ³è¦çš„æ•°æ®å–ä¸‹æ¥)</p><p>4.ä¿å­˜æ•°æ®</p><p><strong>æ¥ä¸‹æ¥çš„æ‰€æœ‰ä»£ç æ“ä½œéƒ½æ˜¯åœ¨æ‰§è¡Œçˆ¬è™«çš„å››ä¸ªä¸»è¦æ­¥éª¤</strong></p><p>import requests    #çˆ¬å–htmlçš„æ ‡å‡†åº“å‡½æ•°</p><p>ret=requests.get(â€˜<a href="http://www.qiushibaike.com/&#39;">http://www.qiushibaike.com/&#39;</a>)    #retè¿”å›çš„æ˜¯ç½‘é¡µè¯·æ±‚æˆåŠŸçš„çŠ¶æ€ç </p><p>result=ret.content.decode()    #é€šè¿‡è¿™æ®µä»£ç èƒ½å¤ŸæŠŠç½‘é¡µçš„ä¸­æ–‡æºä»£ç è¿”å›ç»™æˆ‘ä»¬</p><p>print(result)    #resultæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²</p><p>é€šè¿‡è¯·æ±‚ä¸€ä¸ªurlï¼Œæ¥å¾—åˆ°å‰ç«¯çš„æ•°æ®ï¼Œç„¶åä»å‰ç«¯çš„æ•°æ®é‡Œé¢è·å–æˆ‘ä»¬æƒ³è¦çš„å†…å®¹</p><p>import re    #pythonçš„ä¸€ä¸ªæ¨¡å— ç”¨æ¥å°†è‡ªå·±æƒ³è¦çš„æ•°æ®å–ä¸‹æ¥</p><p>reæ¨¡å—æ˜¯é’ˆå¯¹å­—ç¬¦ä¸²è¿™ç§æ•°æ®æ ¼å¼æ¥æå–çš„ä¸€ç§æ–¹æ³•</p><p>å…·ä½“ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> re<br><span class="hljs-keyword">import</span> requests  <span class="hljs-comment">#çˆ¬å–htmlçš„æ ‡å‡†åº“å‡½æ•°</span><br>headers=&#123;<br>    <span class="hljs-string">&quot;User-Urgent&quot;</span>:<span class="hljs-string">&quot;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36&quot;</span><br>&#125;  <span class="hljs-comment">#é˜²åçˆ¬ æ¨¡æ‹Ÿäººå»è®¿é—®ç½‘ç«™ </span><br>ret=requests.get(<span class="hljs-string">&#x27;https://www.xbiquge.la/paihangbang/&#x27;</span>)   <span class="hljs-comment">#retè¿”å›çš„æ˜¯ç½‘é¡µè¯·æ±‚æˆåŠŸçš„çŠ¶æ€ç </span><br>result=ret.content.decode()   <span class="hljs-comment">#é€šè¿‡è¿™æ®µä»£ç èƒ½å¤ŸæŠŠç½‘é¡µçš„ä¸­æ–‡æºä»£ç è¿”å›ç»™æˆ‘ä»¬</span><br><span class="hljs-comment">#resultæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²</span><br>novel = <span class="hljs-string">&#x27;&lt;li&gt;\d&lt;a href=&quot;.+&quot;&gt;(.*?)&lt;\/a&gt;&lt;\/li&gt;&#x27;</span><br>content=re.findall(novel,result)<br><span class="hljs-comment">#re.Sä»£è¡¨å¯ä»¥åŒ¹é…åˆ°æ¢è¡Œç¬¦</span><br><span class="hljs-comment">#print(content)</span><br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;ç¬”è¶£é˜çˆ¬è™«æ•°æ®.txt&#x27;</span>,<span class="hljs-string">&#x27;w&#x27;</span>,encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> content:<br>         s = i+<span class="hljs-string">&#x27;\n&#x27;</span><br>         f.write(s)<br></code></pre></td></tr></table></figure><h2 id="ä¸€ä¸ªå®Œæ•´çš„çˆ¬è™«å®ä¾‹ï¼ˆreæ¨¡å—è§£æï¼‰"><a href="#ä¸€ä¸ªå®Œæ•´çš„çˆ¬è™«å®ä¾‹ï¼ˆreæ¨¡å—è§£æï¼‰" class="headerlink" title="ä¸€ä¸ªå®Œæ•´çš„çˆ¬è™«å®ä¾‹ï¼ˆreæ¨¡å—è§£æï¼‰"></a><strong>ä¸€ä¸ªå®Œæ•´çš„çˆ¬è™«å®ä¾‹ï¼ˆreæ¨¡å—è§£æï¼‰</strong></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> re<br><span class="hljs-keyword">import</span> requests<br>headers=&#123;<br>    <span class="hljs-string">&quot;User-Urgent&quot;</span>:<span class="hljs-string">&quot;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36&quot;</span><br>&#125;<br>ret=requests.get(<span class="hljs-string">&#x27;https://www.xbiquge.la/paihangbang/&#x27;</span>) <br>result=ret.content.decode() <br><span class="hljs-comment">#print(type(result))   </span><br>novel = <span class="hljs-string">&#x27;&lt;li&gt;\d&lt;a href=&quot;.+&quot;&gt;(.*?)&lt;\/a&gt;&lt;\/li&gt;&#x27;</span><br>content=re.findall(novel,result)<br><span class="hljs-comment">#print(content)</span><br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;ç¬”è¶£é˜çˆ¬è™«æ•°æ®.txt&#x27;</span>,<span class="hljs-string">&#x27;w&#x27;</span>,encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> content:<br>         s = i+<span class="hljs-string">&#x27;\n&#x27;</span><br>         f.write(s)<br></code></pre></td></tr></table></figure><h2 id="ä¸€ä¸ªå®Œæ•´çš„çˆ¬è™«å®ä¾‹ï¼ˆBeautifulSoupæ¨¡å—è§£æï¼‰"><a href="#ä¸€ä¸ªå®Œæ•´çš„çˆ¬è™«å®ä¾‹ï¼ˆBeautifulSoupæ¨¡å—è§£æï¼‰" class="headerlink" title="ä¸€ä¸ªå®Œæ•´çš„çˆ¬è™«å®ä¾‹ï¼ˆBeautifulSoupæ¨¡å—è§£æï¼‰"></a><strong>ä¸€ä¸ªå®Œæ•´çš„çˆ¬è™«å®ä¾‹ï¼ˆBeautifulSoupæ¨¡å—è§£æï¼‰</strong></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> requests  <br><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup<br>headers=&#123;<br>    <span class="hljs-string">&quot;User-Urgent&quot;</span>:<span class="hljs-string">&quot;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36&quot;</span><br>&#125;<br>ret=requests.get(<span class="hljs-string">&#x27;https://www.xbiquge.la/paihangbang/&#x27;</span>) <br>result=ret.content.decode() <br><span class="hljs-comment">#print(type(result)) </span><br>soup = BeautifulSoup(result,<span class="hljs-string">&#x27;html.parser&#x27;</span>)<br><span class="hljs-comment">#print(type(soup))</span><br>content = soup.find_all(<span class="hljs-string">&#x27;li&#x27;</span>)<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> content:<br>    <span class="hljs-built_in">print</span>(i.text)<br></code></pre></td></tr></table></figure><h2 id="å†™ç»™å°å•çš„è¯¦ç»†è§£é‡Šç‰ˆ"><a href="#å†™ç»™å°å•çš„è¯¦ç»†è§£é‡Šç‰ˆ" class="headerlink" title="å†™ç»™å°å•çš„è¯¦ç»†è§£é‡Šç‰ˆ"></a><strong>å†™ç»™å°å•çš„è¯¦ç»†è§£é‡Šç‰ˆ</strong></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> re  <span class="hljs-comment">#reä¸ºpythonçš„ä¸€ä¸ªæ¨¡å— ç”¨äºè§£æç½‘é¡µæºä»£ç </span><br><span class="hljs-comment">#åŒæ ·å¯ä»¥å®ç°è¯¥åŠŸèƒ½çš„è¿˜æœ‰bs4 lxmlç­‰</span><br><span class="hljs-keyword">import</span> requests  <span class="hljs-comment">#çˆ¬å–htmlçš„æ ‡å‡†åº“å‡½æ•°</span><br><br>headers=&#123;<br>    <span class="hljs-string">&quot;User-Urgent&quot;</span>:<span class="hljs-string">&quot;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36&quot;</span><br>&#125;  <span class="hljs-comment">#é˜²åçˆ¬ æ¨¡æ‹Ÿäººå»è®¿é—®ç½‘ç«™ </span><br><br>ret=requests.get(<span class="hljs-string">&#x27;https://www.xbiquge.la/paihangbang/&#x27;</span>)   <span class="hljs-comment">#retè¿”å›çš„æ˜¯ç½‘é¡µè¯·æ±‚æˆåŠŸçš„çŠ¶æ€ç </span><br><span class="hljs-comment">#requests.get()å¯ä»¥å¾—åˆ°è¯¥ç½‘ç«™çš„ä»£ç </span><br><br>result=ret.content.decode()   <span class="hljs-comment">#å¯¹ä»£ç è¿›è¡Œè§£æ é€šè¿‡è§£æèƒ½å¤ŸæŠŠç½‘é¡µçš„ä¸­æ–‡æºä»£ç è¿”å›ç»™æˆ‘ä»¬</span><br><span class="hljs-comment">#å¾—åˆ°ä¸­æ–‡æºä»£ç ä¹‹ååªéœ€è¦æå–æˆ‘ä»¬æ‰€éœ€è¦çš„çš„æ•°æ®å³å¯</span><br><span class="hljs-comment">#resultæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²</span><br><br>novel = <span class="hljs-string">&#x27;&lt;li&gt;\d&lt;a href=&quot;.+&quot;&gt;(.*?)&lt;\/a&gt;&lt;\/li&gt;&#x27;</span><br><span class="hljs-comment">#ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å»åŒ¹é…ä»£ç ä¸­çš„å…³é”®å­— å°æ‹¬å·()å‰åä»£è¡¨æ‰€è¦å»åŒ¹é…ä»£ç çš„æ ‡ç­¾</span><br><span class="hljs-comment">#(.*?)ä»£è¡¨æ‰€è¦æå–çš„å†…å®¹</span><br><span class="hljs-comment">#è¿™ä¸ªåœ°æ–¹ä½ åœ¨å±•ç¤ºçš„æ—¶å€™å¦‚æœè¯´ä¸æ˜ç™½çš„è¯ ä½ å¯ä»¥è¿™ä¹ˆè¯´ï¼š</span><br><span class="hljs-comment">#æ­£åˆ™è¡¨è¾¾å¼æ˜¯çˆ¬è™«çš„å…³é”® ç”¨æ¥æå–æ‰€çˆ¬ä»£ç ä¸­æˆ‘ä»¬æ‰€éœ€è¦çš„æ•°æ® å¦‚æœå¤§å®¶æƒ³è¦æ›´æ·±å…¥çš„äº†è§£çš„è¯ å¯ä»¥å»ºè®®å¤§å®¶å»bç«™çœ‹ä¸€ä¸‹è¿™ä¸ªè§†é¢‘</span><br><span class="hljs-comment">#bç«™è§†é¢‘é“¾æ¥(https://www.bilibili.com/video/BV1da4y1p7iZ)</span><br><span class="hljs-comment">#è¿™ä¸ªè§†é¢‘è¯¦ç»†çš„ä»‹ç»äº†æ­£åˆ™è¡¨è¾¾å¼çš„ä½¿ç”¨ ä»¥åŠè¿˜æ¨èäº†ä¸€ä¸ªå¾ˆå®ç”¨çš„åœ¨çº¿çš„æ­£åˆ™è¡¨è¾¾å¼æ£€éªŒçš„ç½‘ç«™ åŒå­¦ä»¬å¯ä»¥å»å­¦ä¹ ä¸€ä¸‹</span><br><span class="hljs-comment">#æ­£åˆ™è¡¨è¾¾å¼æ£€éªŒç½‘ç«™(https://regex101.com/)</span><br><br>content=re.findall(novel,result)  <span class="hljs-comment">#è°ƒç”¨reæ¨¡å— re.finaallæ˜¯ç”¨æ¥æŸ¥æ‰¾resultä¸­ä¸novelæ‰€åŒ¹é…çš„å†…å®¹ ä»¥åˆ—è¡¨çš„å½¢å¼è¿”å›æ‰€åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²</span><br><span class="hljs-comment">#å°†æ‰€åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²å­˜å‚¨åœ¨contentåˆ—è¡¨ä¸­</span><br><br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;ç¬”è¶£é˜çˆ¬è™«æ•°æ®.txt&#x27;</span>,<span class="hljs-string">&#x27;w&#x27;</span>,encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>) <span class="hljs-keyword">as</span> f:  <span class="hljs-comment">#ä»¥å†™å…¥çš„æ–¹å¼å°†æ‰€æå–çš„æ•°æ®å­˜å…¥txtæ–‡ä»¶ä¸­ &#x27;w&#x27;ä»£è¡¨å†™å…¥ encoding=&#x27;utf-8&#x27;ä»£è¡¨å£°æ˜æ–‡ä»¶çš„ç¼–ç æ–¹å¼</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> content:  <span class="hljs-comment">#å¾ªç¯éå†åˆ—è¡¨</span><br>         s = i+<span class="hljs-string">&#x27;\n&#x27;</span>    <span class="hljs-comment">#&#x27;\n&#x27;ä»£è¡¨æ¢è¡Œç¬¦ æ¯å†™å…¥ä¸€ä¸ªåˆ—è¡¨å…ƒç´ ä¹‹åè¿›è¡Œæ¢è¡Œ</span><br>         f.write(s)    <span class="hljs-comment">#å°†åˆ—è¡¨å…ƒç´ å†™å…¥æ–‡ä»¶ä¸­</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>è§£å¿§æ‚è´§</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>çˆ¬è™«</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode 2022å››æœˆåˆ·é¢˜æ—¥è®°</title>
    <link href="/2022/04/15/LeetCode%202022%E5%9B%9B%E6%9C%88%E5%88%B7%E9%A2%98%E6%97%A5%E8%AE%B0/"/>
    <url>/2022/04/15/LeetCode%202022%E5%9B%9B%E6%9C%88%E5%88%B7%E9%A2%98%E6%97%A5%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h2 id="LC-385-è¿·ä½ è¯­æ³•åˆ†æå™¨"><a href="#LC-385-è¿·ä½ è¯­æ³•åˆ†æå™¨" class="headerlink" title="LC 385.è¿·ä½ è¯­æ³•åˆ†æå™¨"></a>LC 385.è¿·ä½ è¯­æ³•åˆ†æå™¨</h2><h3 id="é¢˜ç›®å¤§æ„"><a href="#é¢˜ç›®å¤§æ„" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² s è¡¨ç¤ºä¸€ä¸ªæ•´æ•°åµŒå¥—åˆ—è¡¨ï¼Œå®ç°ä¸€ä¸ªè§£æå®ƒçš„è¯­æ³•åˆ†æå™¨å¹¶è¿”å›è§£æçš„ç»“æœ NestedInteger ã€‚</p><p>åˆ—è¡¨ä¸­çš„æ¯ä¸ªå…ƒç´ åªå¯èƒ½æ˜¯æ•´æ•°æˆ–æ•´æ•°åµŒå¥—åˆ—è¡¨</p><p>ç¤ºä¾‹1</p><blockquote><p>è¾“å…¥ï¼šs = â€œ324â€,<br>è¾“å‡ºï¼š324<br>è§£é‡Šï¼šä½ åº”è¯¥è¿”å›ä¸€ä¸ª NestedInteger å¯¹è±¡ï¼Œå…¶ä¸­åªåŒ…å«æ•´æ•°å€¼ 324ã€‚</p></blockquote><p>ç¤ºä¾‹2</p><blockquote><p>è¾“å…¥ï¼šs = â€œ[123,[456,[789]]]â€,<br>è¾“å‡ºï¼š[123,[456,[789]]]<br>è§£é‡Šï¼šè¿”å›ä¸€ä¸ª NestedInteger å¯¹è±¡åŒ…å«ä¸€ä¸ªæœ‰ä¸¤ä¸ªå…ƒç´ çš„åµŒå¥—åˆ—è¡¨ï¼š</p><ol><li>ä¸€ä¸ª integer åŒ…å«å€¼ 123</li><li>ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªå…ƒç´ çš„åµŒå¥—åˆ—è¡¨ï¼š<br> i.  ä¸€ä¸ª integer åŒ…å«å€¼ 456<br> ii. ä¸€ä¸ªåŒ…å«ä¸€ä¸ªå…ƒç´ çš„åµŒå¥—åˆ—è¡¨<pre><code class="hljs">  a. ä¸€ä¸ª integer åŒ…å«å€¼ 789</code></pre></li></ol></blockquote><h3 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><blockquote><p>ä¸€é“é¢˜åšäº†ä¸€ä¸ªå¤šå°æ—¶ï¼Œäººéƒ½éº»äº†â€¦ 4.15ä»Šå¤©æ—¥å­ä¹Ÿå¾ˆç‰¹æ®Š å“ˆå“ˆå“ˆï¼</p></blockquote><p>è¿™é“é¢˜çš„ NestedInteger å…¶å®å°±æ˜¯å®šä¹‰çš„ä¸€ä¸ªæ–°çš„æ•°æ®ç±»å‹ï¼Œç›¸å½“äºé›†åˆä¹‹ç±»çš„ã€‚æ ¸å¿ƒæ€æƒ³å°±æ˜¯æ ˆçš„åµŒå¥—ï¼Œå…ˆæŠŠ NestedInteger ç±»å‹çš„æ•°å­—æ”¾å…¥æ ˆä¸­ï¼Œç„¶åå†å°†æ ˆé¡¶çš„å…ƒç´ topåµŒå¥—å…¥æ ˆçš„top-1ä¸­ã€‚</p><p><strong>æ–¹æ³•1ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢</strong></p><p>æ¨¡æ‹Ÿ</p><p><strong>æ–¹æ³•2ï¼šæ ˆ</strong></p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220415164146.png" alt="QQæˆªå›¾20220415164146"></p><p>å½“s[i] == â€˜[â€˜æ—¶ï¼šå»ºç«‹ä¸€ä¸ªâ€™[]â€™ï¼Œæ”¾å…¥æ ˆä¸­</p><p>å½“isdigit(s[i])æ—¶ï¼šè®°å½•æ•°å­—num</p><p>å½“s[i] == â€˜,â€™ || s[i] == â€˜]â€™æ—¶ï¼šå¦‚æœæ•°å­—ä¸ä¸ºç©ºï¼Œå°†æ•°å­—åŠ å…¥æ ˆé¡¶ï¼Œé‡ç½®æ•°å­—num = 0</p><p>å½“s[i] == â€˜]â€™ &amp;&amp; st.size()&gt;1æ—¶ï¼Œå°†æ ˆé¡¶å…ƒç´ åŠ å…¥æ ˆé¡¶çš„å€’æ•°ç¬¬äºŒä¸ªå…ƒç´ ä¸­ï¼Œç›´åˆ°æ ˆçš„åˆ°å°ä¸º1</p><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">NestedInteger <span class="hljs-title">deserialize</span><span class="hljs-params">(string s)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(s[<span class="hljs-number">0</span>] != <span class="hljs-string">&#x27;[&#x27;</span>)  <span class="hljs-keyword">return</span> <span class="hljs-built_in">NestedInteger</span>(<span class="hljs-built_in">stoi</span>(s));<br>        stack&lt;NestedInteger&gt; st;<br>        <span class="hljs-type">int</span> num = <span class="hljs-number">0</span>;<br>        <span class="hljs-type">bool</span> flag = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;s.<span class="hljs-built_in">size</span>(); i++)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(s[i] == <span class="hljs-string">&#x27;[&#x27;</span>)<br>            &#123;<br>                st.<span class="hljs-built_in">push</span>(<span class="hljs-built_in">NestedInteger</span>());<br>            &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(s[i] == <span class="hljs-string">&#x27;-&#x27;</span>)<br>            &#123;<br>                flag = <span class="hljs-literal">true</span>;<br>            &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-built_in">isdigit</span>(s[i]))<br>            &#123;<br>                num = num*<span class="hljs-number">10</span> + s[i]-<span class="hljs-string">&#x27;0&#x27;</span>;<br>            &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(s[i] == <span class="hljs-string">&#x27;,&#x27;</span> || s[i] == <span class="hljs-string">&#x27;]&#x27;</span>)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(<span class="hljs-built_in">isdigit</span>(s[i<span class="hljs-number">-1</span>]))<br>                &#123;<br>                    <span class="hljs-keyword">if</span>(flag)  num = num*<span class="hljs-number">-1</span>;<br>                    st.<span class="hljs-built_in">top</span>().<span class="hljs-built_in">add</span>(<span class="hljs-built_in">NestedInteger</span>(num));<br>                    num = <span class="hljs-number">0</span>;<br>                    flag = <span class="hljs-literal">false</span>;<br>                &#125;<br>                <span class="hljs-keyword">if</span>(s[i] == <span class="hljs-string">&#x27;]&#x27;</span> &amp;&amp; st.<span class="hljs-built_in">size</span>() &gt; <span class="hljs-number">1</span>)<br>                &#123;<br>                    NestedInteger ni = st.<span class="hljs-built_in">top</span>();<br>                    st.<span class="hljs-built_in">pop</span>();<br>                    st.<span class="hljs-built_in">top</span>().<span class="hljs-built_in">add</span>(ni);<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> st.<span class="hljs-built_in">top</span>();<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>bæ ˆå­¦ä¹ è§†é¢‘ï¼š<a href="https://www.bilibili.com/video/BV195411U7h4?spm_id_from=333.337.search-card.all.click">https://www.bilibili.com/video/BV195411U7h4?spm_id_from=333.337.search-card.all.click</a></p><h2 id="LC-824-å±±ç¾Šæ‹‰ä¸æ–‡"><a href="#LC-824-å±±ç¾Šæ‹‰ä¸æ–‡" class="headerlink" title="LC 824.å±±ç¾Šæ‹‰ä¸æ–‡"></a>LC 824.å±±ç¾Šæ‹‰ä¸æ–‡</h2><h3 id="é¢˜ç›®å¤§æ„-1"><a href="#é¢˜ç›®å¤§æ„-1" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p><a href="https://leetcode-cn.com/problems/goat-latin/">https://leetcode-cn.com/problems/goat-latin/</a></p><h3 id="é¢˜è§£-1"><a href="#é¢˜è§£-1" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><blockquote><p>è¿™é“é¢˜åœ¨LeetCodeä¸ºç®€å•é¢˜ï¼Œä½†æ˜¯é€šè¿‡ä¸æ–­æ›´æ–°ä¸¤ä¸ªä¸‹æ ‡i,jåˆ†å‰²å­—ç¬¦ä¸²çš„æ€è·¯æ¯”è¾ƒæœ‰å€Ÿé‰´æ„ä¹‰ã€‚æ¯”ç›´æ¥éå†ç”¨split()å‡½æ•°åˆ†å‰²å­—ç¬¦ä¸²è¦æ›´ç®€å•ã€‚</p></blockquote><p>string(cnt,â€™aâ€™)    //å­—ç¬¦ä¸²çš„ä¸€ç§æ„é€ å‡½æ•°ï¼Œè¡¨ç¤ºç”Ÿæˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒåŒ…å« cnt ä¸ªå­—ç¬¦ â€˜aâ€™</p><p>sentence.substr(i,j-i)    //æ³¨æ„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºsentenceä¸‹æ ‡å…¶å®ä½ç½®ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºå•è¯å¤åˆ¶çš„é•¿åº¦è€Œä¸æ˜¯ç»“æŸä½ç½®çš„ä¸‹æ ‡ã€‚</p><blockquote><p>æˆ‘ä»¬å¯ä»¥å¯¹ç»™å®šçš„å­—ç¬¦ä¸² sentence è¿›è¡Œä¸€æ¬¡éå†ï¼Œæ‰¾å‡ºå…¶ä¸­çš„æ¯ä¸€ä¸ªå•è¯ï¼Œå¹¶æ ¹æ®é¢˜ç›®çš„è¦æ±‚è¿›è¡Œæ“ä½œã€‚</p><p>åœ¨å¯»æ‰¾å•è¯æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¯­è¨€è‡ªå¸¦çš„ split() å‡½æ•°ï¼Œå°†ç©ºæ ¼ä½œä¸ºåˆ†å‰²å­—ç¬¦ï¼Œå¾—åˆ°æ‰€æœ‰çš„å•è¯ã€‚ä¸ºäº†èŠ‚çœç©ºé—´ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥è¿›è¡Œéå†ï¼šæ¯å½“æˆ‘ä»¬éå†åˆ°ä¸€ä¸ªç©ºæ ¼æˆ–è€…åˆ°è¾¾ sentence çš„æœ«å°¾æ—¶ï¼Œæˆ‘ä»¬å°±æ‰¾åˆ°äº†ä¸€ä¸ªå•è¯ã€‚</p><p>å½“æˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªå•è¯ w åï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦åˆ¤æ–­ w çš„é¦–å­—æ¯æ˜¯å¦ä¸ºå…ƒéŸ³å­—æ¯ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå“ˆå¸Œé›†åˆ vowels å­˜å‚¨æ‰€æœ‰çš„å…ƒéŸ³å­—æ¯ aeiouAEIOUï¼Œè¿™æ ·åªéœ€è¦åˆ¤æ–­ w çš„é¦–å­—æ¯æ˜¯å¦åœ¨ vowels ä¸­ã€‚å¦‚æœæ˜¯å…ƒéŸ³å­—æ¯ï¼Œé‚£ä¹ˆå•è¯æœ¬èº«ä¿æŒä¸å˜ï¼›å¦‚æœæ˜¯è¾…éŸ³å­—æ¯ï¼Œé‚£ä¹ˆéœ€è¦é¦–å­—æ¯ç§»åˆ°æœ«å°¾ï¼Œè¿™é‡Œä½¿ç”¨è¯­è¨€è‡ªå¸¦çš„å­—ç¬¦ä¸²åˆ‡ç‰‡å‡½æ•°å³å¯ã€‚åœ¨è¿™ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦åœ¨æœ«å°¾æ·»åŠ  m ä»¥åŠè‹¥å¹²ä¸ª aï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå˜é‡ cnt è®°å½•éœ€è¦æ·»åŠ çš„ a çš„ä¸ªæ•°ï¼Œå®ƒçš„åˆå§‹å€¼ä¸º 1ï¼Œæ¯å½“æˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªå•è¯ï¼Œå°±å°†å®ƒçš„å€¼å¢åŠ  1ã€‚</p></blockquote><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">string <span class="hljs-title">toGoatLatin</span><span class="hljs-params">(string sentence)</span> </span>&#123;<br>        unordered_set&lt;<span class="hljs-type">char</span>&gt; vowels = &#123;<span class="hljs-string">&#x27;a&#x27;</span>,<span class="hljs-string">&#x27;e&#x27;</span>,<span class="hljs-string">&#x27;i&#x27;</span>,<span class="hljs-string">&#x27;o&#x27;</span>,<span class="hljs-string">&#x27;u&#x27;</span>,<span class="hljs-string">&#x27;A&#x27;</span>,<span class="hljs-string">&#x27;E&#x27;</span>,<span class="hljs-string">&#x27;I&#x27;</span>,<span class="hljs-string">&#x27;O&#x27;</span>,<span class="hljs-string">&#x27;U&#x27;</span>&#125;;<br>        <span class="hljs-type">int</span> n = sentence.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-type">int</span> i = <span class="hljs-number">0</span>,cnt = <span class="hljs-number">1</span>;<br>        string ans;<br>        <span class="hljs-keyword">while</span>(i &lt; n)<br>        &#123;<br>            <span class="hljs-type">int</span> j = i;<br>            <span class="hljs-keyword">while</span>(j &lt; n &amp;&amp; sentence[j] != <span class="hljs-string">&#x27; &#x27;</span>)  j++;<br>            cnt++;<br>            <span class="hljs-keyword">if</span>(cnt != <span class="hljs-number">2</span>)  ans = ans+<span class="hljs-string">&#x27; &#x27;</span>;<br>            <span class="hljs-keyword">if</span>(vowels.<span class="hljs-built_in">count</span>(sentence[i]))<br>            &#123;<br>                ans = ans+sentence.<span class="hljs-built_in">substr</span>(i,j-i)+<span class="hljs-string">&#x27;m&#x27;</span>+<span class="hljs-built_in">string</span>(cnt,<span class="hljs-string">&#x27;a&#x27;</span>);<br>            &#125;<span class="hljs-keyword">else</span>&#123;<br>                ans = ans+sentence.<span class="hljs-built_in">substr</span>(i+<span class="hljs-number">1</span>,j-i<span class="hljs-number">-1</span>)+sentence[i]+<span class="hljs-string">&#x27;m&#x27;</span>+<span class="hljs-built_in">string</span>(cnt,<span class="hljs-string">&#x27;a&#x27;</span>);<br>            &#125;<br>            i = j+<span class="hljs-number">1</span>;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="LC-417-å¤ªå¹³æ´‹å¤§è¥¿æ´‹æ°´æµé—®é¢˜"><a href="#LC-417-å¤ªå¹³æ´‹å¤§è¥¿æ´‹æ°´æµé—®é¢˜" class="headerlink" title="LC 417.å¤ªå¹³æ´‹å¤§è¥¿æ´‹æ°´æµé—®é¢˜"></a>LC 417.å¤ªå¹³æ´‹å¤§è¥¿æ´‹æ°´æµé—®é¢˜</h2><h3 id="é¢˜ç›®å¤§æ„-2"><a href="#é¢˜ç›®å¤§æ„-2" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p><a href="https://leetcode-cn.com/problems/pacific-atlantic-water-flow/">https://leetcode-cn.com/problems/pacific-atlantic-water-flow/</a></p><h3 id="é¢˜è§£-2"><a href="#é¢˜è§£-2" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><blockquote><p>è¿™æ˜¯ä¸€é“å­¦ä¹ BFSå’ŒDFSç»ç»å­çš„é¢˜ç›®ï¼Œä¹‹å‰æ²¡æ€ä¹ˆåšè¿‡BFSå’ŒDFSçš„é¢˜ç›®ï¼Œä¸€ç›´éƒ½ä¸å¤ªä¼šï¼Œæ¯æ—¥ä¸€é¢˜é‡åˆ°äº†è¿™ä¹ˆå…¸å‹çš„é¢˜ç›®å½“ç„¶è¦ææ¸…æ¥šå•¦ã€‚4.27ä»Šå¤©ä¸€å¤©çš„ä»»åŠ¡å°±æ˜¯ææ‡‚è¿™é“é¢˜BFSå’ŒDFSä¸¤ç§è§£æ³•ã€‚</p></blockquote><p><strong>DFSåˆ©ç”¨äº†é€’å½’çš„æ€æƒ³ â€”- BFSåˆ©ç”¨äº†é˜Ÿåˆ—çš„æ€æƒ³</strong></p><p><strong>æ–¹æ³•1ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰</strong></p><blockquote><p>é›¨æ°´çš„æµåŠ¨æ–¹å‘æ˜¯ä»é«˜åˆ°ä½ï¼Œæ¯ä¸ªå•å…ƒæ ¼ä¸Šçš„é›¨æ°´åªèƒ½æµåˆ°é«˜åº¦å°äºç­‰äºå½“å‰å•å…ƒæ ¼çš„ç›¸é‚»å•å…ƒæ ¼ã€‚ä»ä¸€ä¸ªå•å…ƒæ ¼å¼€å§‹ï¼Œé€šè¿‡æœç´¢çš„æ–¹æ³•æ¨¡æ‹Ÿé›¨æ°´çš„æµåŠ¨ï¼Œåˆ™å¯ä»¥åˆ¤æ–­é›¨æ°´æ˜¯å¦å¯ä»¥ä»è¯¥å•å…ƒæ ¼æµå‘æµ·æ´‹ã€‚</p><p>å¦‚æœç›´æ¥ä»¥æ¯ä¸ªå•å…ƒæ ¼ä½œä¸ºèµ·ç‚¹æ¨¡æ‹Ÿé›¨æ°´çš„æµåŠ¨ï¼Œåˆ™ä¼šé‡å¤éå†æ¯ä¸ªå•å…ƒæ ¼ï¼Œå¯¼è‡´æ—¶é—´å¤æ‚åº¦è¿‡é«˜ã€‚ä¸ºäº†é™ä½æ—¶é—´å¤æ‚åº¦ï¼Œå¯ä»¥ä»çŸ©é˜µçš„è¾¹ç•Œå¼€å§‹åå‘æœç´¢å¯»æ‰¾é›¨æ°´æµå‘è¾¹ç•Œçš„å•å…ƒæ ¼ï¼Œåå‘æœç´¢æ—¶ï¼Œæ¯æ¬¡åªèƒ½ç§»åŠ¨åˆ°é«˜åº¦ç›¸åŒæˆ–æ›´å¤§çš„å•å…ƒæ ¼ã€‚</p><p>ç”±äºçŸ©é˜µçš„å·¦è¾¹ç•Œå’Œä¸Šè¾¹ç•Œæ˜¯å¤ªå¹³æ´‹ï¼ŒçŸ©é˜µçš„å³è¾¹ç•Œå’Œä¸‹è¾¹ç•Œæ˜¯å¤§è¥¿æ´‹ï¼Œå› æ­¤ä»çŸ©é˜µçš„å·¦è¾¹ç•Œå’Œä¸Šè¾¹ç•Œå¼€å§‹åå‘æœç´¢å³å¯æ‰¾åˆ°é›¨æ°´æµå‘å¤ªå¹³æ´‹çš„å•å…ƒæ ¼ï¼Œä»çŸ©é˜µçš„å³è¾¹ç•Œå’Œä¸‹è¾¹ç•Œå¼€å§‹åå‘æœç´¢å³å¯æ‰¾åˆ°é›¨æ°´æµå‘å¤§è¥¿æ´‹çš„å•å…ƒæ ¼ã€‚</p><p>å¯ä»¥<strong>ä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢å®ç°åå‘æœç´¢</strong>ï¼Œæœç´¢è¿‡ç¨‹ä¸­éœ€è¦è®°å½•æ¯ä¸ªå•å…ƒæ ¼æ˜¯å¦å¯ä»¥ä»å¤ªå¹³æ´‹åå‘åˆ°è¾¾ä»¥åŠæ˜¯å¦å¯ä»¥ä»å¤§è¥¿æ´‹åå‘åˆ°è¾¾ã€‚åå‘æœç´¢ç»“æŸä¹‹åï¼Œéå†æ¯ä¸ªç½‘æ ¼ï¼Œå¦‚æœä¸€ä¸ªç½‘æ ¼æ—¢å¯ä»¥ä»å¤ªå¹³æ´‹åå‘åˆ°è¾¾ä¹Ÿå¯ä»¥ä»å¤§è¥¿æ´‹åå‘åˆ°è¾¾ï¼Œåˆ™è¯¥ç½‘æ ¼æ»¡è¶³å¤ªå¹³æ´‹å’Œå¤§è¥¿æ´‹éƒ½å¯ä»¥åˆ°è¾¾ï¼Œå°†è¯¥ç½‘æ ¼æ·»åŠ åˆ°ç­”æ¡ˆä¸­ã€‚</p></blockquote><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-type">static</span> <span class="hljs-type">const</span> <span class="hljs-type">int</span> dirs[<span class="hljs-number">4</span>][<span class="hljs-number">2</span>] = &#123;&#123;<span class="hljs-number">-1</span>,<span class="hljs-number">0</span>&#125;,&#123;<span class="hljs-number">1</span>,<span class="hljs-number">0</span>&#125;,&#123;<span class="hljs-number">0</span>,<span class="hljs-number">-1</span>&#125;,&#123;<span class="hljs-number">0</span>,<span class="hljs-number">1</span>&#125;&#125;;  <span class="hljs-comment">//å®šä¹‰æ–¹å‘æ•°ç»„ï¼Œåˆ†åˆ«è¡¨ç¤ºå‘ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘æµåŠ¨</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; heights;  <span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªå…¨å±€æ•°ç»„</span><br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> row,<span class="hljs-type">int</span> col,vector&lt;vector&lt;<span class="hljs-type">bool</span>&gt;&gt; &amp;ocean)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-type">int</span> m = ocean.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-type">int</span> n = ocean[<span class="hljs-number">0</span>].<span class="hljs-built_in">size</span>();<br>        <span class="hljs-keyword">if</span>(ocean[row][col])<br>        &#123;<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>        ocean[row][col] = <span class="hljs-literal">true</span>;<br>        <span class="hljs-comment">//åˆ†åˆ«å¯¹ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘è¿›è¡Œæœç´¢</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">4</span>; i++)<br>        &#123;<br>            <span class="hljs-type">int</span> newRow = row+dirs[i][<span class="hljs-number">0</span>];<br>            <span class="hljs-type">int</span> newCol = col+dirs[i][<span class="hljs-number">1</span>];<br>            <span class="hljs-keyword">if</span>(newRow &gt;= <span class="hljs-number">0</span> &amp;&amp; newRow &lt; m &amp;&amp; newCol &gt;= <span class="hljs-number">0</span> &amp;&amp; newCol &lt; n &amp;&amp; heights[newRow][newCol] &gt;= heights[row][col])<br>            &#123;<br>                <span class="hljs-built_in">dfs</span>(newRow,newCol,ocean);<br>            &#125;<br>        &#125;<br>    &#125;<br><br>    vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; <span class="hljs-built_in">pacificAtlantic</span>(vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;&amp; heights) &#123;<br>        <span class="hljs-keyword">this</span>-&gt;heights = heights;<br>        <span class="hljs-type">int</span> m = heights.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-type">int</span> n = heights[<span class="hljs-number">0</span>].<span class="hljs-built_in">size</span>();<br>        <span class="hljs-comment">//é˜²æ­¢é‡å¤éå†å•å…ƒæ ¼ï¼Œå¢åŠ æ—¶é—´å¤æ‚åº¦ï¼Œå®šä¹‰boolç±»å‹æ•°ç»„è¿›è¡Œæ ‡è®°,é»˜è®¤å€¼ä¸ºfalse</span><br>        vector&lt;vector&lt;<span class="hljs-type">bool</span>&gt;&gt; <span class="hljs-built_in">pacific</span>(m,<span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">bool</span>&gt;(n,<span class="hljs-literal">false</span>));<br>        vector&lt;vector&lt;<span class="hljs-type">bool</span>&gt;&gt; <span class="hljs-built_in">atlantic</span>(m,<span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">bool</span>&gt;(n,<span class="hljs-literal">false</span>));<br>        <span class="hljs-comment">//ä»å·¦è¾¹ç¼˜å¼€å§‹dfså¯ä»¥æµå…¥å¤ªå¹³æ´‹çš„å•å…ƒæ ¼</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;m; i++)<br>        &#123;<br>            <span class="hljs-built_in">dfs</span>(i,<span class="hljs-number">0</span>,pacific);<br>        &#125;<br>        <span class="hljs-comment">//ä»ä¸Šè¾¹ç¼˜å¼€å§‹dfså¯ä»¥æµå…¥å¤ªå¹³æ´‹çš„å•å…ƒæ ¼</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">1</span>; j&lt;n; j++)<br>        &#123;<br>            <span class="hljs-built_in">dfs</span>(<span class="hljs-number">0</span>,j,pacific);<br>        &#125;<br>        <span class="hljs-comment">//ä»å³è¾¹ç¼˜å¼€å§‹dfså¯ä»¥æµå…¥å¤§è¥¿æ´‹çš„å•å…ƒæ ¼</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;m; i++)<br>        &#123;<br>            <span class="hljs-built_in">dfs</span>(i,n<span class="hljs-number">-1</span>,atlantic);<br>        &#125;<br>        <span class="hljs-comment">//ä»ä¸‹è¾¹ç¼˜å¼€å§‹dfså¯ä»¥æµå…¥å¤§è¥¿æ´‹çš„å•å…ƒæ ¼</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">0</span>; j&lt;n<span class="hljs-number">-1</span>; j++)<br>        &#123;<br>            <span class="hljs-built_in">dfs</span>(m<span class="hljs-number">-1</span>,j,atlantic);<br>        &#125;<br>        vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; ans;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;m; i++)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">0</span>; j&lt;n; j++)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(pacific[i][j] &amp;&amp; atlantic[i][j])<br>                &#123;<br>                    vector&lt;<span class="hljs-type">int</span>&gt; cell;<br>                    cell.<span class="hljs-built_in">push_back</span>(i);<br>                    cell.<span class="hljs-built_in">push_back</span>(j);<br>                    ans.<span class="hljs-built_in">push_back</span>(cell);<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p><strong>æ–¹æ³•2ï¼šå®½åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰</strong></p><blockquote><p>åå‘æœç´¢ä¹Ÿå¯ä»¥ä½¿ç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢å®ç°ã€‚æœç´¢è¿‡ç¨‹ä¸­åŒæ ·éœ€è¦è®°å½•æ¯ä¸ªå•å…ƒæ ¼æ˜¯å¦å¯ä»¥ä»å¤ªå¹³æ´‹åå‘åˆ°è¾¾ä»¥åŠæ˜¯å¦å¯ä»¥ä»å¤§è¥¿æ´‹åå‘åˆ°è¾¾ã€‚åå‘æœç´¢ç»“æŸä¹‹åï¼Œéå†æ¯ä¸ªç½‘æ ¼ï¼Œå¦‚æœä¸€ä¸ªç½‘æ ¼æ—¢å¯ä»¥ä»å¤ªå¹³æ´‹åå‘åˆ°è¾¾ä¹Ÿå¯ä»¥ä»å¤§è¥¿æ´‹åå‘åˆ°è¾¾ï¼Œåˆ™è¯¥ç½‘æ ¼æ»¡è¶³å¤ªå¹³æ´‹å’Œå¤§è¥¿æ´‹éƒ½å¯ä»¥åˆ°è¾¾ï¼Œå°†è¯¥ç½‘æ ¼æ·»åŠ åˆ°ç­”æ¡ˆä¸­ã€‚</p></blockquote><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-type">static</span> <span class="hljs-type">const</span> <span class="hljs-type">int</span> dirs[<span class="hljs-number">4</span>][<span class="hljs-number">2</span>] = &#123;&#123;<span class="hljs-number">-1</span>,<span class="hljs-number">0</span>&#125;,&#123;<span class="hljs-number">1</span>,<span class="hljs-number">0</span>&#125;,&#123;<span class="hljs-number">0</span>,<span class="hljs-number">-1</span>&#125;,&#123;<span class="hljs-number">0</span>,<span class="hljs-number">1</span>&#125;&#125;;  <span class="hljs-comment">//å®šä¹‰æ–¹å‘æ•°ç»„ï¼Œåˆ†åˆ«è¡¨ç¤ºå‘ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘æµåŠ¨</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; heights;  <span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªå…¨å±€æ•°ç»„</span><br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> row,<span class="hljs-type">int</span> col,vector&lt;vector&lt;<span class="hljs-type">bool</span>&gt;&gt; &amp;ocean)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">if</span>(ocean[row][col])<br>        &#123;<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>        <span class="hljs-type">int</span> m = ocean.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-type">int</span> n = ocean[<span class="hljs-number">0</span>].<span class="hljs-built_in">size</span>();<br>        ocean[row][col] = <span class="hljs-literal">true</span>;<br>        queue&lt;pair&lt;<span class="hljs-type">int</span>,<span class="hljs-type">int</span>&gt;&gt; q;  <span class="hljs-comment">//å®šä¹‰é˜Ÿåˆ—å­˜æ”¾å•å…ƒæ ¼çš„ä½ç½®åæ ‡</span><br>        q.<span class="hljs-built_in">emplace</span>(row,col);  <span class="hljs-comment">//noteï¼šè¿™é‡Œåªèƒ½ç”¨q.emplace()ä¸èƒ½ä½¿ç”¨q.push()</span><br>        <span class="hljs-keyword">while</span>(!q.<span class="hljs-built_in">empty</span>())<br>        &#123;<br>            <span class="hljs-keyword">auto</span> [row,col] = q.<span class="hljs-built_in">front</span>();<br>            q.<span class="hljs-built_in">pop</span>();<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">4</span>; i++)<br>            &#123;<br>                <span class="hljs-type">int</span> newRow = row+dirs[i][<span class="hljs-number">0</span>];<br>                <span class="hljs-type">int</span> newCol = col+dirs[i][<span class="hljs-number">1</span>];<br>                <span class="hljs-keyword">if</span>(newRow &gt;= <span class="hljs-number">0</span> &amp;&amp; newRow &lt; m &amp;&amp; newCol &gt;=<span class="hljs-number">0</span> &amp;&amp; newCol &lt; n &amp;&amp; heights[newRow][newCol] &gt;= heights[row][col] &amp;&amp; !ocean[newRow][newCol])<br>                &#123;<br>                    ocean[newRow][newCol] = <span class="hljs-literal">true</span>;<br>                    q.<span class="hljs-built_in">emplace</span>(newRow,newCol);<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br><br>    vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; <span class="hljs-built_in">pacificAtlantic</span>(vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;&amp; heights) &#123;<br>        <span class="hljs-keyword">this</span>-&gt;heights = heights;<br>        <span class="hljs-type">int</span> m = heights.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-type">int</span> n = heights[<span class="hljs-number">0</span>].<span class="hljs-built_in">size</span>();<br>        <span class="hljs-comment">//é˜²æ­¢é‡å¤éå†å•å…ƒæ ¼ï¼Œå¢åŠ æ—¶é—´å¤æ‚åº¦ï¼Œå®šä¹‰boolç±»å‹æ•°ç»„è¿›è¡Œæ ‡è®°,é»˜è®¤å€¼ä¸ºfalse</span><br>        vector&lt;vector&lt;<span class="hljs-type">bool</span>&gt;&gt; <span class="hljs-built_in">pacific</span>(m,<span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">bool</span>&gt;(n,<span class="hljs-literal">false</span>));<br>        vector&lt;vector&lt;<span class="hljs-type">bool</span>&gt;&gt; <span class="hljs-built_in">atlantic</span>(m,<span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">bool</span>&gt;(n,<span class="hljs-literal">false</span>));<br>        <span class="hljs-comment">//ä»å·¦è¾¹ç¼˜å¼€å§‹dfså¯ä»¥æµå…¥å¤ªå¹³æ´‹çš„å•å…ƒæ ¼</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;m; i++)<br>        &#123;<br>            <span class="hljs-built_in">dfs</span>(i,<span class="hljs-number">0</span>,pacific);<br>        &#125;<br>        <span class="hljs-comment">//ä»ä¸Šè¾¹ç¼˜å¼€å§‹dfså¯ä»¥æµå…¥å¤ªå¹³æ´‹çš„å•å…ƒæ ¼</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">1</span>; j&lt;n; j++)<br>        &#123;<br>            <span class="hljs-built_in">dfs</span>(<span class="hljs-number">0</span>,j,pacific);<br>        &#125;<br>        <span class="hljs-comment">//ä»å³è¾¹ç¼˜å¼€å§‹dfså¯ä»¥æµå…¥å¤§è¥¿æ´‹çš„å•å…ƒæ ¼</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;m; i++)<br>        &#123;<br>            <span class="hljs-built_in">dfs</span>(i,n<span class="hljs-number">-1</span>,atlantic);<br>        &#125;<br>        <span class="hljs-comment">//ä»ä¸‹è¾¹ç¼˜å¼€å§‹dfså¯ä»¥æµå…¥å¤§è¥¿æ´‹çš„å•å…ƒæ ¼</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">0</span>; j&lt;n<span class="hljs-number">-1</span>; j++)<br>        &#123;<br>            <span class="hljs-built_in">dfs</span>(m<span class="hljs-number">-1</span>,j,atlantic);<br>        &#125;<br>        vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; ans;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;m; i++)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">0</span>; j&lt;n; j++)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(pacific[i][j] &amp;&amp; atlantic[i][j])<br>                &#123;<br>                    vector&lt;<span class="hljs-type">int</span>&gt; cell;<br>                    cell.<span class="hljs-built_in">push_back</span>(i);<br>                    cell.<span class="hljs-built_in">push_back</span>(j);<br>                    ans.<span class="hljs-built_in">push_back</span>(cell);<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å­—ç¬¦ä¸²</tag>
      
      <tag>æ ˆ</tag>
      
      <tag>BFS</tag>
      
      <tag>DFS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Dappå­¦ä¹ </title>
    <link href="/2022/04/14/Dapp%E5%AD%A6%E4%B9%A0/"/>
    <url>/2022/04/14/Dapp%E5%AD%A6%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<h2 id="Dapp"><a href="#Dapp" class="headerlink" title="Dapp"></a>Dapp</h2><h3 id="DappåŸç†"><a href="#DappåŸç†" class="headerlink" title="DappåŸç†"></a>DappåŸç†</h3><p>ä¸­å¿ƒåŒ–appçš„æ•°æ®å­˜å‚¨åœ¨ä¸­å¿ƒåŒ–æœåŠ¡å™¨ä¸Šï¼Œdappçš„æ•°æ®å­˜å‚¨åœ¨åŒºå—é“¾ä¸Š</p><h3 id="Dappå¼€å‘ç¯å¢ƒ"><a href="#Dappå¼€å‘ç¯å¢ƒ" class="headerlink" title="Dappå¼€å‘ç¯å¢ƒ"></a>Dappå¼€å‘ç¯å¢ƒ</h3><blockquote><p>ä»¥å¤ªåŠï¼šä»¥å¤ªåŠï¼ˆè‹±æ–‡Ethereumï¼‰æ˜¯ä¸€ä¸ªå¼€æºçš„æœ‰æ™ºèƒ½åˆçº¦åŠŸèƒ½çš„å…¬å…±åŒºå—é“¾å¹³å°ï¼Œé€šè¿‡å…¶ä¸“ç”¨åŠ å¯†è´§å¸ä»¥å¤ªå¸ï¼ˆEtherï¼Œç®€ç§°â€œETHâ€ï¼‰æä¾›å»ä¸­å¿ƒåŒ–çš„ä»¥å¤ªè™šæ‹Ÿæœºï¼ˆEthereum Virtual Machineï¼‰æ¥å¤„ç†ç‚¹å¯¹ç‚¹åˆçº¦ã€‚</p></blockquote><p>åŸºäºä»¥å¤ªåŠçš„å¼€å‘ç¯å¢ƒ</p><ul><li><p>geth+js</p></li><li><p>ganache+jsï¼ˆä¸»è¦ï¼‰</p></li><li><p>truffleï¼ˆjsæ¡†æ¶ ä»¥å¤ªåŠå®˜æ–¹æä¾›çš„æ¡†æ¶ï¼‰</p></li></ul><h3 id="Gethç§é“¾ç¯å¢ƒæ­å»º"><a href="#Gethç§é“¾ç¯å¢ƒæ­å»º" class="headerlink" title="Gethç§é“¾ç¯å¢ƒæ­å»º"></a>Gethç§é“¾ç¯å¢ƒæ­å»º</h3><p>gethæ˜¯ä»¥å¤ªåŠçš„ä¸€ä¸ªå®¢æˆ·ç«¯</p><ul><li><p>å®‰è£…geth</p><figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs smali">$ sudo apt-get install software-properties-common<br>$ sudo<span class="hljs-built_in"> add-apt-repository </span>-y ppa:ethereum/etherum<br>$ sudo apt-get update<br>$ sudo apt-get install etherum<br></code></pre></td></tr></table></figure></li></ul><h3 id="ganacheä½¿ç”¨"><a href="#ganacheä½¿ç”¨" class="headerlink" title="ganacheä½¿ç”¨"></a>ganacheä½¿ç”¨</h3><ul><li><p>ganache</p><p>ç›®å‰ä¸»æµçš„åŸºäºä»¥å¤ªåŠå¼€å‘Dappçš„æ–¹å¼ä¸»è¦æ˜¯ganacheå’Œtruffle</p><p>ganacheçš„githubåœ°å€ï¼š<a href="https://link.zhihu.com/?target=https://github.com/trufflesuite/ganache/releases">https://</a><a href="https://github.com/trufflesuite/ganache/releases">https://github.com/trufflesuite/ganache/releases</a></p><blockquote><p>Ganacheå¯ä»¥å¿«é€Ÿå¯åŠ¨ä¸ªäººä»¥å¤ªåŠåŒºå—é“¾ï¼Œå¹¶å¯ä»¥ä½¿ç”¨å®ƒæ¥è¿è¡Œæµ‹è¯•ï¼Œæ‰§è¡Œå‘½ä»¤ã€æ£€æŸ¥çŠ¶æ€ï¼ŒåŒæ—¶æ§åˆ¶é“¾æ¡çš„è¿è¡Œæ–¹å¼ã€‚é€šè¿‡Ganacheæˆ‘ä»¬å¯ä»¥å¿«é€ŸæŸ¥çœ‹æ‰€æœ‰è´¦æˆ·çš„å½“å‰çŠ¶æ€ï¼ŒåŒ…æ‹¬ä»–ä»¬çš„åœ°å€ã€ç§é’¥ã€äº¤æ˜“å’Œä½™é¢ã€‚æŸ¥çœ‹Ganacheå†…éƒ¨åŒºå—é“¾çš„æ—¥å¿—è¾“å‡ºï¼ŒåŒ…æ‹¬å“åº”å’Œå…¶ä»–é‡è¦çš„è°ƒè¯•ä¿¡æ¯ï¼Œæ£€æŸ¥æ‰€æœ‰å—å’Œäº¤æ˜“ï¼Œä»¥è·å–ç›¸å…³é—®é¢˜çš„ä¿¡æ¯ã€‚</p></blockquote></li><li><p>è¿æ¥ganacheèŠ‚ç‚¹-Remixè¿æ¥èŠ‚ç‚¹</p></li><li><p>è¿æ¥ganacheèŠ‚ç‚¹-MetaMaskè¿æ¥èŠ‚ç‚¹ï¼ˆå¯¼å…¥è´¦å·ï¼‰</p></li></ul><p>çŸ¥ä¹ä¸Šæœ‰å…·ä½“ä½¿ç”¨æ–¹æ³•ï¼š<a href="https://zhuanlan.zhihu.com/p/46524142">https://zhuanlan.zhihu.com/p/46524142</a></p><h3 id="ä½¿ç”¨Web3jså’ŒåŒºå—é“¾è¿›è¡Œäº¤äº’"><a href="#ä½¿ç”¨Web3jså’ŒåŒºå—é“¾è¿›è¡Œäº¤äº’" class="headerlink" title="ä½¿ç”¨Web3jså’ŒåŒºå—é“¾è¿›è¡Œäº¤äº’"></a>ä½¿ç”¨Web3jså’ŒåŒºå—é“¾è¿›è¡Œäº¤äº’</h3><ul><li>expresså®‰è£…</li><li>åˆ›å»ºå·¥ç¨‹</li><li>å’ŒåŒºå—é“¾äº¤äº’</li><li>è¿è¡Œ</li></ul><h3 id="æ™ºèƒ½åˆçº¦ç¼–å†™ã€éƒ¨ç½²"><a href="#æ™ºèƒ½åˆçº¦ç¼–å†™ã€éƒ¨ç½²" class="headerlink" title="æ™ºèƒ½åˆçº¦ç¼–å†™ã€éƒ¨ç½²"></a>æ™ºèƒ½åˆçº¦ç¼–å†™ã€éƒ¨ç½²</h3><p><a href="http://remix.hubwiz.com/#optimize=false&version=soljson-v0.5.1+commit.c8a2cb62.js">æ™ºèƒ½åˆçº¦åœ¨çº¿ç¼–è¯‘å™¨</a></p><h3 id="å®Œæ•´Dapp-demo"><a href="#å®Œæ•´Dapp-demo" class="headerlink" title="å®Œæ•´Dapp demo"></a>å®Œæ•´Dapp demo</h3><ul><li><p>ç¼–å†™æ™ºèƒ½åˆçº¦</p></li><li><p>ç¼–è¯‘åˆçº¦</p><p>åœ¨remixä¸Šè¿›è¡Œç¼–è¯‘</p><blockquote><p>æ™ºèƒ½åˆçº¦åœ¨çº¿ç¼–è¯‘å™¨ï¼š<a href="http://remix.hubwiz.com/#optimize=false&amp;version=soljson-v0.5.1+commit.c8a2cb62.js">http://remix.hubwiz.com/#optimize=false&amp;version=soljson-v0.5.1+commit.c8a2cb62.js</a></p></blockquote></li><li><p>éƒ¨ç½²åˆçº¦</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs stata">ganache-<span class="hljs-keyword">cli</span><br><span class="hljs-keyword">mkdir</span> deploy-proj<br><span class="hljs-keyword">cd</span> deploy-proj<br>npm install web3 -<span class="hljs-keyword">save</span><br></code></pre></td></tr></table></figure><p>ç¼–å†™deploy.js</p><p>éƒ¨ç½²</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crmsh"><span class="hljs-keyword">node</span> <span class="hljs-title">deploy</span>.js<br></code></pre></td></tr></table></figure></li><li><p>åˆ›å»ºå·¥ç¨‹</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript">express -e dapp4<br>cd dapp4<br><span class="hljs-built_in">npm</span> install<br><span class="hljs-built_in">npm</span> start<br></code></pre></td></tr></table></figure></li><li><p>ä¿®æ”¹app.js</p></li><li><p>ä¿®æ”¹route/index.js</p></li><li><p>ç¼–è¾‘view/index.html</p></li><li><p>è¿è¡Œ</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs avrasm">ganache-<span class="hljs-keyword">cli</span><br>npm_start<br></code></pre></td></tr></table></figure></li></ul><h3 id="ä½¿ç”¨truffle"><a href="#ä½¿ç”¨truffle" class="headerlink" title="ä½¿ç”¨truffle"></a>ä½¿ç”¨truffle</h3><ul><li><p>truffleä»‹ç»</p><p>Truffleæ˜¯é’ˆå¯¹åŸºäºä»¥å¤ªåŠçš„Solidityè¯­è¨€çš„ä¸€å¥—å¼€å‘æ¡†æ¶ï¼Œæœ¬èº«åŸºäºJavascriptã€‚</p><p>å®˜æ–¹å­¦ä¹ æ–‡æ¡£ï¼š<a href="https://learnblockchain.cn/docs/truffle/index.html">https://learnblockchain.cn/docs/truffle/index.html</a></p></li><li><p>å®‰è£…truffle</p><p>åªè¦é€šè¿‡ä»¥ä¸‹å‘½ä»¤å°±å¯ä»¥å®‰è£…Truffle</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">npm <span class="hljs-keyword">install</span> -g truffle<br></code></pre></td></tr></table></figure></li><li><p>å†™åˆçº¦</p><p>å†™å®Œåˆçº¦ä¹‹ååœ¨remixä¸­è°ƒè¯•</p></li><li><p>åˆ›å»ºå·¥ç¨‹</p><ul><li>ä½¿ç”¨å‘½ä»¤åˆ›å»ºå·¥ç¨‹</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> Vote<br><span class="hljs-built_in">cd</span> Vote<br>truffle unbox webpack<br></code></pre></td></tr></table></figure><ul><li>åˆ›å»ºåˆçº¦</li></ul><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs stata"><span class="hljs-keyword">cd</span> contracts<br><span class="hljs-keyword">rm</span> <span class="hljs-keyword">meta</span>.sol<br><span class="hljs-keyword">rm</span> Lib.sol<br>vim Voting.sol<br></code></pre></td></tr></table></figure><ul><li><p>å°†ä¸Šé¢çš„åˆçº¦ä»£ç å¤åˆ¶åˆ°Voting.solä¸­</p></li><li><p>ä¿®æ”¹migrations/_deploy_contracts.js</p></li></ul></li><li><p>ç¼–è¯‘åˆçº¦</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">truffle compile</span><br></code></pre></td></tr></table></figure></li><li><p>éƒ¨ç½²åˆçº¦</p><ul><li><p>å¯åŠ¨ganache-cli</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs avrasm">ganache-<span class="hljs-keyword">cli</span><br></code></pre></td></tr></table></figure></li><li><p>ä¿®æ”¹truffle-config.js</p></li><li><p>éƒ¨ç½²</p></li><li><p>éƒ¨ç½²å®Œåå¯ä»¥ç”¨truffle consoleè¿›è¡Œæµ‹è¯•</p></li></ul></li><li><p>ä¿®æ”¹å‰ç«¯é¡µé¢</p><p>ä¿®æ”¹app/src/index.html</p><p>ä¿®æ”¹app/src/index.js</p></li><li><p>è¿è¡Œ</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">npm <span class="hljs-built_in">run</span> dev<br></code></pre></td></tr></table></figure><p>æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥127.0.0.1:8080</p><p><strong>ä½¿ç”¨truffleå®ŒæˆæŠ•ç¥¨dappçš„å¼€å‘å®ä¾‹</strong></p><p>1ã€æŠ•ç¥¨çš„æ™ºèƒ½åˆçº¦</p><p>æŠ•ç¥¨æ™ºèƒ½åˆçº¦ä»£ç ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs typescript">pragma solidity &gt;=<span class="hljs-number">0.4</span><span class="hljs-number">.22</span> &lt;<span class="hljs-number">0.6</span><span class="hljs-number">.0</span>;<br><br>contract <span class="hljs-title class_">Voting</span> &#123;<br>    bytes32[] <span class="hljs-keyword">public</span> candidateList;<br>    <span class="hljs-title function_">mapping</span>(<span class="hljs-function"><span class="hljs-params">bytes32</span> =&gt;</span> uint8) <span class="hljs-keyword">public</span> votesReceived;<br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">bytes32[] memory candidateListName</span>) <span class="hljs-keyword">public</span>  &#123;<br>        candidateList = candidateListName;<br>    &#125;<br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">validateCanditate</span>(<span class="hljs-params">bytes32 candidateName</span>)internal view <span class="hljs-title function_">returns</span>(<span class="hljs-params">bool</span>) &#123;<br>        <span class="hljs-keyword">for</span> (uint8 i =<span class="hljs-number">0</span>; i &lt; candidateList.<span class="hljs-property">length</span>; i++) &#123;<br>            <span class="hljs-keyword">if</span> (candidateName == candidateList[i])<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <br>    &#125;<br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">voteForCandidate</span>(<span class="hljs-params">bytes32 candidateName</span>) <span class="hljs-keyword">public</span> &#123;<br>        <span class="hljs-built_in">require</span>(<span class="hljs-title function_">validateCanditate</span>(candidateName));<br>        votesReceived[candidateName] += <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">totalVotesFor</span>(<span class="hljs-params">bytes32 candidateName</span>) view <span class="hljs-keyword">public</span> <span class="hljs-title function_">returns</span>(<span class="hljs-params">uint8</span>) &#123;<br>        <span class="hljs-built_in">require</span>(<span class="hljs-title function_">validateCanditate</span>(candidateName));<br>        <span class="hljs-keyword">return</span> votesReceived[candidateName];<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>2ã€åˆçº¦çš„ç¼–è¯‘éƒ¨ç½²</p><p>3ã€ç¼–å†™å‰ç«¯é¡µé¢</p><p>4ã€å’Œæ™ºèƒ½åˆçº¦çš„äº¤äº’</p></li></ul><p>åŒºå—é“¾å­¦ä¹ å®˜ç«™ï¼š<a href="https://learnblockchain.cn/">https://learnblockchain.cn/</a></p><p>åŒºå—é“¾ã€è¶…çº§è´¦æœ¬ã€æ™ºèƒ½åˆçº¦ç­‰æ¦‚å¿µå®˜ç½‘æ–‡æ¡£ <a href="https://gitee.com/link?target=https://hyperledger-fabric.readthedocs.io/en/release-1.4/">https://hyperledger-fabric.readthedocs.io/en/release-1.4/</a></p>]]></content>
    
    
    <categories>
      
      <category>åŒºå—é“¾</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Dapp</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>C++å¸¸ç”¨å‡½æ•°</title>
    <link href="/2022/04/11/C++%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0/"/>
    <url>/2022/04/11/C++%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<h2 id="push-back-å‡½æ•°"><a href="#push-back-å‡½æ•°" class="headerlink" title="push_back()å‡½æ•°"></a>push_back()å‡½æ•°</h2><blockquote><p>push_back()å‡½æ•°çš„ç”¨æ³•</p><p>å‡½æ•°å°†ä¸€ä¸ªæ–°çš„å…ƒç´ åŠ åˆ°vectorçš„æœ€åé¢ï¼Œä½ç½®ä¸ºå½“å‰æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚</p></blockquote><p><strong>push_back()å‡½æ•°ä¹ŸåŒæ ·é€‚ç”¨äºstringå­—ç¬¦ä¸²</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c++">string str = <span class="hljs-string">&quot;&quot;</span>;<br>str.<span class="hljs-built_in">push_back</span>(<span class="hljs-string">&#x27;d&#x27;</span>);<br></code></pre></td></tr></table></figure><p>ç±»ä¼¼çš„ï¼š</p><p>pop_back()    //ç§»é™¤æœ€åä¸€ä¸ªå…ƒç´ </p><p>clear()    //æ¸…ç©ºæ‰€æœ‰å…ƒç´ </p><p>empty()    //åˆ¤æ–­vectoræ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœè¿”å›trueä¸ºç©º</p><p>erase()    // åˆ é™¤æŒ‡å®šå…ƒç´ </p><h2 id="reverse-å‡½æ•°"><a href="#reverse-å‡½æ•°" class="headerlink" title="reverse()å‡½æ•°"></a>reverse()å‡½æ•°</h2><p>å¯¹å­—ç¬¦ä¸²è¿›è¡Œç¿»è½¬çš„å‡½æ•°</p><p>reverse(s.begin(),s.end());</p><h2 id="str-â€˜0â€™"><a href="#str-â€˜0â€™" class="headerlink" title="str-â€˜0â€™"></a>str-â€˜0â€™</h2><p>å®é™…å°±æ˜¯å‡å» â€˜0â€™ çš„ASCIIç å€¼ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªæ•´æ•°ã€‚</p><p>å¯¹å­—ç¬¦ä¸²è¿›è¡Œç±»å‹è½¬æ¢ï¼ˆstringâ†’intï¼‰</p><h2 id="isdigit-å‡½æ•°"><a href="#isdigit-å‡½æ•°" class="headerlink" title="isdigit()å‡½æ•°"></a>isdigit()å‡½æ•°</h2><p>C ++åº“å‡½æ•° void isalpha(int c) æ£€æŸ¥æ‰€ä¼ çš„å­—ç¬¦æ˜¯å¦æ˜¯å­—æ¯ã€‚</p><h2 id="isalpha-å‡½æ•°"><a href="#isalpha-å‡½æ•°" class="headerlink" title="isalpha()å‡½æ•°"></a>isalpha()å‡½æ•°</h2><p>C ++åº“å‡½æ•° void isalpha(int c) æ£€æŸ¥æ‰€ä¼ çš„å­—ç¬¦æ˜¯å¦æ˜¯å­—æ¯ã€‚</p><h2 id="add-å‡½æ•°"><a href="#add-å‡½æ•°" class="headerlink" title="add()å‡½æ•°"></a>add()å‡½æ•°</h2><h2 id="stoi-å‡½æ•°"><a href="#stoi-å‡½æ•°" class="headerlink" title="stoi()å‡½æ•°"></a>stoi()å‡½æ•°</h2><p>stoiå‡½æ•°ä¸­æ”¾å…¥stringç±»å‹çš„å‚æ•°ï¼Œå¯ä»¥æŠŠstringç±»å‹è½¬æ¢æˆintç±»å‹</p><h2 id="substr-å‡½æ•°"><a href="#substr-å‡½æ•°" class="headerlink" title="substr()å‡½æ•°"></a>substr()å‡½æ•°</h2><p>ç”¨é€”ï¼šä¸€ç§æ„é€ stringçš„æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥å¤åˆ¶å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†</p><p>å½¢å¼ï¼šs.substr(pos, n)</p><p>è§£é‡Šï¼šè¿”å›ä¸€ä¸ªstringï¼ŒåŒ…å«sä¸­ä»poså¼€å§‹çš„nä¸ªå­—ç¬¦çš„æ‹·è´ï¼ˆposçš„é»˜è®¤å€¼æ˜¯0ï¼Œnçš„é»˜è®¤å€¼æ˜¯s.size() - posï¼Œå³ä¸åŠ å‚æ•°ä¼šé»˜è®¤æ‹·è´æ•´ä¸ªsï¼‰</p><p>è¡¥å……ï¼šè‹¥posçš„å€¼è¶…è¿‡äº†stringçš„å¤§å°ï¼Œåˆ™substrå‡½æ•°ä¼šæŠ›å‡ºä¸€ä¸ªout_of_rangeå¼‚å¸¸ï¼›è‹¥pos+nçš„å€¼è¶…è¿‡äº†stringçš„å¤§å°ï¼Œåˆ™substrä¼šè°ƒæ•´nçš„å€¼ï¼Œåªæ‹·è´åˆ°stringçš„æœ«å°¾</p><h2 id="tolower-å‡½æ•°"><a href="#tolower-å‡½æ•°" class="headerlink" title="tolower()å‡½æ•°"></a>tolower()å‡½æ•°</h2><p>C ++åº“å‡½æ•° int tolower(int c) æŠŠç»™å®šçš„å­—æ¯è½¬æ¢ä¸ºå°å†™å­—æ¯ã€‚</p><h2 id="toupper-å‡½æ•°"><a href="#toupper-å‡½æ•°" class="headerlink" title="toupper()å‡½æ•°"></a>toupper()å‡½æ•°</h2><p>C ++åº“å‡½æ•° int toupper(int c) æŠŠç»™å®šçš„å­—æ¯è½¬æ¢ä¸ºå¤§å†™å­—æ¯ã€‚</p><h2 id="string-back-å‡½æ•°"><a href="#string-back-å‡½æ•°" class="headerlink" title="string.back()å‡½æ•°"></a>string.back()å‡½æ•°</h2><p>C++string.back()å‡½æ•° æ­¤å‡½æ•°åŒäºè®¿é—®å­—ç¬¦ä¸²çš„æœ€åä¸€ä¸ªå­—ç¬¦ ã€‚</p><h2 id="find-å‡½æ•°"><a href="#find-å‡½æ•°" class="headerlink" title="find()å‡½æ•°"></a>find()å‡½æ•°</h2><p><strong>ä½¿ç”¨findï¼Œè¿”å›çš„æ˜¯è¢«æŸ¥æ‰¾å…ƒç´ çš„ä½ç½®ï¼Œæ²¡æœ‰åˆ™è¿”å›map.end()</strong></p><p>C++ stringä¸­çš„find()å‡½æ•°ï¼Œstringä¸­find()è¿”å›å€¼æ˜¯å­—æ¯åœ¨æ¯ä¸²ä¸­çš„ä½ç½®ï¼ˆä¸‹æ ‡è®°å½•ï¼‰ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œé‚£ä¹ˆä¼šè¿”å› -1</p><p>ä½¿ç”¨æ–¹æ³•ï¼šfind(a.begin(), a.end(), value)</p><ol><li><p><strong>find()</strong></p><p>æŸ¥æ‰¾ç¬¬ä¸€æ¬¡å‡ºç°çš„ç›®æ ‡å­—ç¬¦ä¸²ï¼ˆå…¨åŒ¹é…ï¼‰ï¼Œ<strong>è¦ä¸å­ä¸²å®Œå…¨åŒ¹é…ï¼Œå¦åˆ™è¿”å›-1</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;cstdio&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>string s1 = <span class="hljs-string">&quot;abcdef&quot;</span>;<br>string s2 = <span class="hljs-string">&quot;de&quot;</span>;<br><span class="hljs-type">int</span> ans = s1.<span class="hljs-built_in">find</span>(s2);<span class="hljs-comment">//åœ¨S1ä¸­æŸ¥æ‰¾å­ä¸²S2</span><br>cout &lt;&lt; ans &lt;&lt; endl;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">//è¾“å‡ºç»“æœï¼š3</span><br></code></pre></td></tr></table></figure></li><li><p><strong>find_first_of()</strong> </p><p>æŸ¥æ‰¾å­ä¸²ä¸­çš„æŸä¸ªå­—ç¬¦æœ€å…ˆå‡ºç°çš„ä½ç½®ï¼ˆéå…¨åŒ¹é…ï¼‰ï¼Œ<strong>find_first_of()ä¸æ˜¯å…¨åŒ¹é…</strong>ï¼Œä¸éœ€è¦ä¸å­ä¸²å®Œå…¨åŒ¹é…</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cstdio&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>string s1 = <span class="hljs-string">&quot;adedef&quot;</span>;<br>string s2 = <span class="hljs-string">&quot;dek&quot;</span>;<br><span class="hljs-type">int</span> ans = s1.<span class="hljs-built_in">find_first_of</span>(s2);<span class="hljs-comment">//åœ¨S1ä¸­æŸ¥æ‰¾å­ä¸²S2</span><br>cout &lt;&lt; ans &lt;&lt; endl;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">//è¾“å‡ºç»“æœï¼š1</span><br></code></pre></td></tr></table></figure></li><li><p><strong>find_last_of()</strong></p><p>è¿™ä¸ªå‡½æ•°ä¸find_first_of()åŠŸèƒ½å·®ä¸å¤šï¼Œåªä¸è¿‡find_first_of()æ˜¯ä»å­—ç¬¦ä¸²çš„å‰é¢å¾€åé¢æœç´¢ï¼Œè€Œfind_last_of()æ˜¯ä»å­—ç¬¦ä¸²çš„åé¢å¾€å‰é¢æœç´¢ï¼ˆéå…¨åŒ¹é…ï¼‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cstdio&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>string s1 = <span class="hljs-string">&quot;adedef&quot;</span>;<br>string s2 = <span class="hljs-string">&quot;dek&quot;</span>;<br><span class="hljs-type">int</span> ans = s1.<span class="hljs-built_in">find_last_of</span>(s2);<span class="hljs-comment">//åœ¨S1ä¸­æŸ¥æ‰¾å­ä¸²S2</span><br>cout &lt;&lt; ans &lt;&lt; endl;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">//è¾“å‡ºç»“æœä¸ºï¼š4</span><br></code></pre></td></tr></table></figure></li><li><p>rfind()</p><p>åå‘æŸ¥æ‰¾å­—ç¬¦ä¸²ï¼Œå³æ‰¾åˆ°æœ€åä¸€ä¸ªä¸å­ä¸²åŒ¹é…çš„ä½ç½®</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cstdio&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>string s1 = <span class="hljs-string">&quot;adedekf&quot;</span>;<br>string s2 = <span class="hljs-string">&quot;dek&quot;</span>;<br><span class="hljs-type">int</span> ans = s1.<span class="hljs-built_in">rfind</span>(s2);<span class="hljs-comment">//åœ¨S1ä¸­æŸ¥æ‰¾å­ä¸²S2</span><br>cout &lt;&lt; ans &lt;&lt; endl;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">//è¾“å‡ºç»“æœä¸ºï¼š3</span><br></code></pre></td></tr></table></figure></li><li><p>find_first_not_of()</p><p>æ‰¾åˆ°ç¬¬ä¸€ä¸ªä¸ä¸å­ä¸²åŒ¹é…çš„ä½ç½®</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cstdio&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>string s1 = <span class="hljs-string">&quot;dadedef&quot;</span>;<br>string s2 = <span class="hljs-string">&quot;dek&quot;</span>;<br><span class="hljs-type">int</span> ans = s1.<span class="hljs-built_in">find_first_not_of</span>(s2);<span class="hljs-comment">//åœ¨S1ä¸­æŸ¥æ‰¾å­ä¸²S2</span><br>cout &lt;&lt; ans &lt;&lt; endl;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">//è¾“å‡ºç»“æœï¼š1</span><br></code></pre></td></tr></table></figure></li></ol><h2 id="count-å‡½æ•°"><a href="#count-å‡½æ•°" class="headerlink" title="count()å‡½æ•°"></a>count()å‡½æ•°</h2><p><strong>ç»Ÿè®¡æŸä¸ªå­—ç¬¦å‡ºç°çš„æ¬¡æ•°</strong></p><p>ä½¿ç”¨æ–¹æ³•æ˜¯ count(begin, end, â€˜aâ€™) ï¼Œå…¶ä¸­beginæŒ‡çš„æ˜¯èµ·å§‹åœ°å€ï¼ŒendæŒ‡çš„æ˜¯ç»“æŸåœ°å€ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æŒ‡çš„æ˜¯éœ€è¦æŸ¥æ‰¾çš„å­—ç¬¦</p><p><strong>åœ¨unordered_seté‡Œé¢ï¼šcountå‡½æ•°åªä¼šè¿”å›1æˆ–è€…0</strong> ï¼Œå› ä¸ºæ— é‡å¤å…ƒç´ </p><p>åœ¨mapé‡Œé¢æ˜¯æ‰¾å…·æœ‰æŸä¸ªé”®çš„ä¸ªæ•°ï¼Œç”±äºæ— é‡å¤çš„é”®ï¼Œå› æ­¤è¿”å›ä¸æ˜¯0å°±æ˜¯1</p><h2 id="builtin-popcount"><a href="#builtin-popcount" class="headerlink" title="__builtin_popcount"></a>__builtin_popcount</h2><blockquote><p>__builtin_popcount()</p><p>è¯¥å‡½æ•°æ˜¯C++è‡ªå¸¦çš„åº“å‡½æ•°ï¼Œå†…éƒ¨å®ç°æ˜¯ç”¨æŸ¥è¡¨å®ç°çš„ã€‚<br><strong>ä½œç”¨</strong>ï¼šç»Ÿè®¡æ•°å­—åœ¨äºŒè¿›åˆ¶ä¸‹â€œ1â€çš„ä¸ªæ•°ã€‚</p><p>Noteï¼šæ˜¯__builtin_popcount()ï¼Œåƒä¸‡åˆ«å†™æˆ _builtin_popcount()</p></blockquote><h2 id="lower-bound-å‡½æ•°"><a href="#lower-bound-å‡½æ•°" class="headerlink" title="lower_bound()å‡½æ•°"></a>lower_bound()å‡½æ•°</h2><blockquote><p>lower_bound() å‡½æ•°ç”¨äºåœ¨æŒ‡å®šåŒºåŸŸå†…æŸ¥æ‰¾ä¸å°äºç›®æ ‡å€¼çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨è¯¥å‡½æ•°åœ¨æŒ‡å®šèŒƒå›´å†…æŸ¥æ‰¾æŸä¸ªç›®æ ‡å€¼æ—¶ï¼Œæœ€ç»ˆæŸ¥æ‰¾åˆ°çš„ä¸ä¸€å®šæ˜¯å’Œç›®æ ‡å€¼ç›¸ç­‰çš„å…ƒç´ ï¼Œè¿˜å¯èƒ½æ˜¯æ¯”ç›®æ ‡å€¼å¤§çš„å…ƒç´ ã€‚å®ƒçš„åº•å±‚å®ç°é‡‡ç”¨çš„éƒ½æ˜¯äºŒåˆ†æŸ¥æ‰¾çš„æ–¹å¼ã€‚</p><p>æ³¨æ„ï¼š</p><p>1.å› ä¸ºå‡½æ•°åº•å±‚å®ç°é‡‡ç”¨çš„æ˜¯äºŒç»´æ•°ç»„ï¼Œæ‰€ä»¥è¯¥å‡½æ•°ä»…é€‚ç”¨äºå·²æ’å¥½åºçš„åºåˆ—ã€‚</p><p>2.è¿­ä»£å™¨éå†æ—¶ï¼Œå‡½æ•°è¿”å›çš„æ˜¯è¿­ä»£å™¨</p><p>è¯¦è§£è§åšå®¢ï¼š<a href="http://m.biancheng.net/view/7521.html">http://m.biancheng.net/view/7521.html</a></p></blockquote><h2 id="strcmp-å‡½æ•°"><a href="#strcmp-å‡½æ•°" class="headerlink" title="strcmp()å‡½æ•°"></a>strcmp()å‡½æ•°</h2><p>strcmpå‡½æ•°æ˜¯string compareï¼ˆå­—ç¬¦ä¸²æ¯”è¾ƒï¼‰çš„ç¼©å†™ï¼Œç”¨äºæ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²å¹¶æ ¹æ®æ¯”è¾ƒç»“æœè¿”å›æ•´æ•°ã€‚åŸºæœ¬å½¢å¼ä¸ºstrcmp(str1,str2)ï¼Œè‹¥str1=str2ï¼Œåˆ™è¿”å›é›¶ï¼›è‹¥str1&lt;str2ï¼Œåˆ™è¿”å›è´Ÿæ•°ï¼›è‹¥str1&gt;str2ï¼Œåˆ™è¿”å›æ­£æ•°ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>C++</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å­—ç¬¦ä¸²</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>map unordered_map set unordered_setçš„ç”¨æ³•å’ŒåŒºåˆ«</title>
    <link href="/2022/04/10/map%20unordered_map%20set%20unordered_set%E7%9A%84%E7%94%A8%E6%B3%95%E5%92%8C%E5%8C%BA%E5%88%AB/"/>
    <url>/2022/04/10/map%20unordered_map%20set%20unordered_set%E7%9A%84%E7%94%A8%E6%B3%95%E5%92%8C%E5%8C%BA%E5%88%AB/</url>
    
    <content type="html"><![CDATA[<h2 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h2><table><thead><tr><th align="center"><strong>æ•°æ®ç»“æ„</strong></th><th align="center"><strong>map</strong></th><th align="center"><strong>unordered_map</strong></th><th align="center"><strong>set</strong></th><th align="center"><strong>unordered_set</strong></th></tr></thead><tbody><tr><td align="center">å®ç°æœºç†</td><td align="center">çº¢é»‘æ ‘</td><td align="center">hashè¡¨</td><td align="center">çº¢é»‘æ ‘</td><td align="center">hashè¡¨</td></tr><tr><td align="center">å…ƒç´ æ ¼å¼</td><td align="center">key+value</td><td align="center">key+value</td><td align="center">key</td><td align="center">key</td></tr><tr><td align="center">å­˜å‚¨è§„å¾‹</td><td align="center">é”®å‡åº</td><td align="center">æ— åº</td><td align="center">é”®å‡åº</td><td align="center">æ— åº</td></tr><tr><td align="center">å…ƒç´ é‡å¤</td><td align="center">é”®ä¸å¯,å€¼å¯</td><td align="center">é”®ä¸å¯,å€¼å¯</td><td align="center">ä¸å¯é‡å¤</td><td align="center">ä¸å¯é‡å¤</td></tr><tr><td align="center">å¤´æ–‡ä»¶</td><td align="center">#include&lt; map&gt;</td><td align="center">#include<unordered_map></td><td align="center">#include&lt; set&gt;</td><td align="center">#include<unordered_set></td></tr></tbody></table><h2 id="map"><a href="#map" class="headerlink" title="map"></a>map</h2><h4 id="å†…éƒ¨å®ç°æœºç†"><a href="#å†…éƒ¨å®ç°æœºç†" class="headerlink" title="å†…éƒ¨å®ç°æœºç†"></a><strong>å†…éƒ¨å®ç°æœºç†</strong></h4><p>mapå†…éƒ¨å®ç°äº†ä¸€ä¸ª çº¢é»‘æ ‘ï¼ˆçº¢é»‘æ ‘æ˜¯éä¸¥æ ¼å¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼Œè€ŒAVLæ˜¯ä¸¥æ ¼å¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼‰ï¼Œ çº¢é»‘æ ‘å…·æœ‰è‡ªåŠ¨æ’åºçš„åŠŸèƒ½ï¼Œå› æ­¤mapå†…éƒ¨çš„æ‰€æœ‰å…ƒç´ éƒ½æ˜¯æœ‰åºçš„ï¼Œçº¢é»‘æ ‘çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½ä»£è¡¨ç€mapçš„ä¸€ä¸ªå…ƒç´ ã€‚å› æ­¤ï¼Œå¯¹äºmapè¿›è¡Œçš„æŸ¥æ‰¾ï¼Œåˆ é™¤ï¼Œæ·»åŠ ç­‰ä¸€ç³»åˆ—çš„æ“ä½œéƒ½ç›¸å½“äºæ˜¯å¯¹çº¢é»‘æ ‘è¿›è¡Œçš„æ“ä½œã€‚mapä¸­çš„å…ƒç´ æ˜¯æŒ‰ç…§äºŒå‰æœç´¢æ ‘ï¼ˆåˆåäºŒå‰æŸ¥æ‰¾æ ‘ã€äºŒå‰æ’åºæ ‘ï¼Œç‰¹ç‚¹å°±æ˜¯å·¦å­æ ‘ä¸Šæ‰€æœ‰èŠ‚ç‚¹çš„é”®å€¼éƒ½å°äºæ ¹èŠ‚ç‚¹çš„é”®å€¼ï¼Œå³å­æ ‘æ‰€æœ‰èŠ‚ç‚¹çš„é”®å€¼éƒ½å¤§äºæ ¹èŠ‚ç‚¹çš„é”®å€¼ï¼‰å­˜å‚¨çš„ï¼Œä½¿ç”¨ä¸­åºéå†å¯å°†é”®å€¼æŒ‰ç…§ä»å°åˆ°å¤§éå†å‡ºæ¥ã€‚</p><h4 id="ä¼˜ç¼ºç‚¹ä»¥åŠé€‚ç”¨å¤„"><a href="#ä¼˜ç¼ºç‚¹ä»¥åŠé€‚ç”¨å¤„" class="headerlink" title="ä¼˜ç¼ºç‚¹ä»¥åŠé€‚ç”¨å¤„"></a><strong>ä¼˜ç¼ºç‚¹ä»¥åŠé€‚ç”¨å¤„</strong></h4><p>ä¼˜ç‚¹ï¼šæœ‰åºæ€§ï¼Œè¿™æ˜¯mapç»“æ„æœ€å¤§çš„ä¼˜ç‚¹ï¼Œå…¶å…ƒç´ çš„æœ‰åºæ€§åœ¨å¾ˆå¤šåº”ç”¨ä¸­éƒ½ä¼šç®€åŒ–å¾ˆå¤šçš„æ“ä½œï¼›çº¢é»‘æ ‘ï¼Œå†…éƒ¨å®ç°ä¸€ä¸ªçº¢é»‘æ ‘ä½¿å¾—mapçš„å¾ˆå¤šæ“ä½œåœ¨O(logN)çš„æ—¶é—´å¤æ‚åº¦ä¸‹å°±å¯ä»¥å®ç°ï¼Œå› æ­¤æ•ˆç‡éå¸¸çš„é«˜ã€‚</p><p>ç¼ºç‚¹ï¼šç©ºé—´å ç”¨ç‡é«˜ï¼Œå› ä¸ºmapå†…éƒ¨å®ç°äº†çº¢é»‘æ ‘ï¼Œè™½ç„¶æé«˜äº†è¿è¡Œæ•ˆç‡ï¼ˆä½äºunorder_mapï¼‰ï¼Œä½†æ˜¯å› ä¸ºæ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½éœ€è¦é¢å¤–ä¿å­˜çˆ¶èŠ‚ç‚¹ã€å­©å­èŠ‚ç‚¹å’Œçº¢/é»‘æ€§è´¨ï¼Œä½¿å¾—æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½å ç”¨å¤§é‡çš„ç©ºé—´ï¼ˆä½†å ç”¨çš„å†…å­˜æ¯”unorder_mapä½ï¼‰</p><p>é€‚ç”¨å¤„ï¼šå¯¹äºé‚£äº›æ•°æ®å­˜å‚¨æœ‰é¡ºåºè¦æ±‚çš„é—®é¢˜ï¼Œç”¨mapä¼šæ›´é«˜æ•ˆä¸€äº›</p><h4 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h4><p>1.æ„é€ å‡½æ•° 2.æ’å…¥æ•°æ® 3.åˆ¤æ–­æ˜¯å¦æœ‰å…ƒç´  4.éå† 5.æŸ¥æ‰¾ </p><p>å‚è€ƒåšå®¢</p><p><a href="https://blog.csdn.net/weixin_45774972/article/details/113418453?spm=1001.2101.3001.6650.1&utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-1.pc_relevant_paycolumn_v3&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-1.pc_relevant_paycolumn_v3&utm_relevant_index=2">C++ ä¸­ä½¿ç”¨å“ˆå¸Œè¡¨(unordered_map)çš„å¸¸ç”¨æ“ä½œ</a> </p><p><a href="https://lover.blog.csdn.net/article/details/82633778?spm=1001.2101.3001.6650.3&utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-3.pc_relevant_antiscan&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-3.pc_relevant_antiscan&utm_relevant_index=6">ç®€è¿°C++ä¸­mapå’Œunordered_mapçš„ç”¨æ³•</a> </p><p><a href="https://blog.csdn.net/qq_30815237/article/details/91047041">C++ map set unordered_mapå’Œunorder_setçš„åŒºåˆ«</a></p><h4 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c++">vector&lt;<span class="hljs-type">int</span>&gt; list = &#123; <span class="hljs-number">5</span>,<span class="hljs-number">14</span>,<span class="hljs-number">34</span>,<span class="hljs-number">22</span>,<span class="hljs-number">39</span>,<span class="hljs-number">5</span> &#125;;<br>map&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; map;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = list.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) &#123;<br>map[i] = list[i];  <span class="hljs-comment">//å€’åºæ’å…¥</span><br>&#125;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> i = map.<span class="hljs-built_in">begin</span>(); i != map.<span class="hljs-built_in">end</span>(); i++) &#123;<br>cout &lt;&lt; i-&gt;first &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span> &lt;&lt; i-&gt;second &lt;&lt; endl;  <span class="hljs-comment">//è¾“å‡ºçš„æ•°æ˜¯æœ‰åºçš„ä¸”æœ‰ä¸¤ä¸ª5</span><br>&#125;<br><span class="hljs-keyword">if</span> (map.<span class="hljs-built_in">find</span>(<span class="hljs-number">3</span>) != map.<span class="hljs-built_in">end</span>()) &#123;<br>cout &lt;&lt; <span class="hljs-string">&quot;find key=&quot;</span> &lt;&lt; map.<span class="hljs-built_in">find</span>(<span class="hljs-number">3</span>)-&gt;first &lt;&lt; <span class="hljs-string">&quot;, value=&quot;</span> &lt;&lt; map.<span class="hljs-built_in">find</span>(<span class="hljs-number">3</span>)-&gt;second &lt;&lt; endl;<br>&#125;<br><span class="hljs-keyword">if</span> (map.<span class="hljs-built_in">count</span>(<span class="hljs-number">5</span>) &gt; <span class="hljs-number">0</span>) &#123;  <span class="hljs-comment">//m.count(n)è®¡ç®—ä¸‹æ ‡ä¸ºnçš„ä½ç½®æœ‰æ— æ•°æ®ï¼Œæœ‰è¿”å›1ï¼Œæ— è¿”å›0</span><br>cout &lt;&lt; <span class="hljs-string">&quot;count 5: &quot;</span> &lt;&lt; map.<span class="hljs-built_in">count</span>(<span class="hljs-number">5</span>) &lt;&lt; endl;  <span class="hljs-comment">//find()å’Œcount()çš„è¾“å…¥å‚æ•°éƒ½æ˜¯keyå€¼</span><br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>mapæ˜¯åŸºäºRBTçš„ï¼Œå› æ­¤å…ƒç´ æ˜¯æœ‰åºå­˜å‚¨çš„ï¼ˆé»˜è®¤æŒ‰é”®çš„å‡åºæ’åˆ—ï¼‰ã€‚</p></blockquote><h2 id="unordered-map"><a href="#unordered-map" class="headerlink" title="unordered_map"></a>unordered_map</h2><h4 id="å†…éƒ¨å®ç°æœºç†-1"><a href="#å†…éƒ¨å®ç°æœºç†-1" class="headerlink" title="å†…éƒ¨å®ç°æœºç†"></a><strong>å†…éƒ¨å®ç°æœºç†</strong></h4><p>unordered_mapå†…éƒ¨å®ç°äº†ä¸€ä¸ª å“ˆå¸Œè¡¨ï¼ˆä¹Ÿå«æ•£åˆ—è¡¨ï¼Œé€šè¿‡æŠŠå…³é”®ç å€¼æ˜ å°„åˆ°Hashè¡¨ä¸­ä¸€ä¸ªä½ç½®æ¥è®¿é—®è®°å½•ï¼ŒæŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦å¯è¾¾åˆ°O(1)ï¼Œå…¶åœ¨æµ·é‡æ•°æ®å¤„ç†ä¸­æœ‰ç€å¹¿æ³›åº”ç”¨ï¼‰ã€‚å› æ­¤ï¼Œ å…¶å…ƒç´ çš„æ’åˆ—é¡ºåºæ˜¯æ— åºçš„ã€‚</p><h4 id="ä¼˜ç¼ºç‚¹ä»¥åŠé€‚ç”¨å¤„-1"><a href="#ä¼˜ç¼ºç‚¹ä»¥åŠé€‚ç”¨å¤„-1" class="headerlink" title="ä¼˜ç¼ºç‚¹ä»¥åŠé€‚ç”¨å¤„"></a><strong>ä¼˜ç¼ºç‚¹ä»¥åŠé€‚ç”¨å¤„</strong></h4><p>ä¼˜ç‚¹ï¼š å› ä¸ºå†…éƒ¨å®ç°äº†å“ˆå¸Œè¡¨ï¼Œå› æ­¤å…¶æŸ¥æ‰¾é€Ÿåº¦éå¸¸çš„å¿«ï¼ˆè¿è¡Œæ•ˆç‡å¿«äºmapï¼‰</p><p>ç¼ºç‚¹ï¼š å“ˆå¸Œè¡¨çš„å»ºç«‹æ¯”è¾ƒè€—è´¹æ—¶é—´ï¼ˆunorder_mapå ç”¨çš„å†…å­˜æ¯”mapè¦é«˜ï¼‰</p><p>é€‚ç”¨å¤„ï¼šå¯¹äºæŸ¥æ‰¾é—®é¢˜ï¼Œunordered_mapä¼šæ›´åŠ é«˜æ•ˆä¸€äº›ï¼Œå› æ­¤é‡åˆ°æŸ¥æ‰¾é—®é¢˜ï¼Œå¸¸ä¼šè€ƒè™‘ä¸€ä¸‹ç”¨unordered_map</p><h4 id="ç”¨æ³•-1"><a href="#ç”¨æ³•-1" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h4><p>1.æ„é€ å‡½æ•° 2.æ’å…¥æ•°æ® 3.åˆ¤æ–­æ˜¯å¦æœ‰å…ƒç´  4.éå† 5.æŸ¥æ‰¾ </p><p><a href="https://blog.csdn.net/weixin_45774972/article/details/113418453?spm=1001.2101.3001.6650.1&utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-1.pc_relevant_paycolumn_v3&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-1.pc_relevant_paycolumn_v3&utm_relevant_index=2">C++ ä¸­ä½¿ç”¨å“ˆå¸Œè¡¨(unordered_map)çš„å¸¸ç”¨æ“ä½œ</a> </p><p><a href="https://lover.blog.csdn.net/article/details/82633778?spm=1001.2101.3001.6650.3&utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-3.pc_relevant_antiscan&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-3.pc_relevant_antiscan&utm_relevant_index=6">ç®€è¿°C++ä¸­mapå’Œunordered_mapçš„ç”¨æ³•</a> </p><p><a href="https://blog.csdn.net/qq_30815237/article/details/91047041">C++ map set unordered_mapå’Œunorder_setçš„åŒºåˆ«</a></p><h4 id="ä¾‹å­-1"><a href="#ä¾‹å­-1" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs C++">vector&lt;<span class="hljs-type">int</span>&gt; list = &#123; <span class="hljs-number">5</span>,<span class="hljs-number">14</span>,<span class="hljs-number">34</span>,<span class="hljs-number">22</span>,<span class="hljs-number">39</span>,<span class="hljs-number">5</span> &#125;;<br>unordered_map&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; map;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = list.<span class="hljs-built_in">size</span>()<span class="hljs-number">-1</span>; i&gt;=<span class="hljs-number">0</span>; i--) &#123;<br>map[i] = list[i];  <span class="hljs-comment">//å€’åºæ’å…¥</span><br>&#125;<br>cout &lt;&lt; map[<span class="hljs-number">0</span>] &lt;&lt; endl;<br><span class="hljs-keyword">for</span> (unordered_map&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt;::iterator i = map.<span class="hljs-built_in">begin</span>(); i != map.<span class="hljs-built_in">end</span>(); i++) &#123;<br>cout &lt;&lt; i-&gt;first &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span> &lt;&lt; i-&gt;second &lt;&lt; endl;  <span class="hljs-comment">//è¾“å‡ºçš„æ•°æ˜¯æœ‰åºçš„ä¸”æœ‰ä¸¤ä¸ª5</span><br>&#125;<br><span class="hljs-keyword">if</span> (map.<span class="hljs-built_in">find</span>(<span class="hljs-number">3</span>) != map.<span class="hljs-built_in">end</span>()) &#123;<br>cout &lt;&lt; <span class="hljs-string">&quot;find key=&quot;</span> &lt;&lt; map.<span class="hljs-built_in">find</span>(<span class="hljs-number">3</span>)-&gt;first &lt;&lt; <span class="hljs-string">&quot;, value=&quot;</span> &lt;&lt; map.<span class="hljs-built_in">find</span>(<span class="hljs-number">3</span>)-&gt;second &lt;&lt; endl;<br>&#125;<br><span class="hljs-keyword">if</span> (map.<span class="hljs-built_in">count</span>(<span class="hljs-number">5</span>) &gt; <span class="hljs-number">0</span>) &#123;  <span class="hljs-comment">//m.count(n)è®¡ç®—ä¸‹æ ‡ä¸ºnçš„ä½ç½®æœ‰æ— æ•°æ®ï¼Œæœ‰è¿”å›1ï¼Œæ— è¿”å›0</span><br>cout &lt;&lt; <span class="hljs-string">&quot;find 5: &quot;</span> &lt;&lt; map.<span class="hljs-built_in">count</span>(<span class="hljs-number">5</span>) &lt;&lt; endl;  <span class="hljs-comment">//find()å’Œcount()çš„è¾“å…¥éƒ½æ˜¯keyå€¼</span><br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>unordered_map æ˜¯åŸºäºhashè¡¨çš„ï¼Œå› æ­¤å…ƒç´ æ˜¯æ— åºå­˜å‚¨çš„ï¼ˆä¸æŒ‰é”®å‡åºæ’åˆ—ï¼‰ã€‚</p></blockquote><h2 id="set"><a href="#set" class="headerlink" title="set"></a>set</h2><h4 id="å†…éƒ¨å®ç°æœºç†-2"><a href="#å†…éƒ¨å®ç°æœºç†-2" class="headerlink" title="å†…éƒ¨å®ç°æœºç†"></a><strong>å†…éƒ¨å®ç°æœºç†</strong></h4><p>setå®ç°äº†çº¢é»‘æ ‘çš„å¹³è¡¡äºŒå‰æ£€ç´¢æ ‘çš„æ•°æ®ç»“æ„ï¼Œæ’å…¥å…ƒç´ æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨è°ƒæ•´äºŒå‰æ ‘çš„æ’åˆ—ï¼ŒæŠŠå…ƒç´ æ”¾åˆ°é€‚å½“çš„ä½ç½®ï¼Œä»¥ä¿è¯æ¯ä¸ªå­æ ‘æ ¹èŠ‚ç‚¹é”®å€¼å¤§äºå·¦å­æ ‘æ‰€æœ‰èŠ‚ç‚¹çš„é”®å€¼ï¼Œå°äºå³å­æ ‘æ‰€æœ‰èŠ‚ç‚¹çš„é”®å€¼ï¼›å¦å¤–ï¼Œè¿˜å¾—ä¿è¯æ ¹èŠ‚ç‚¹å·¦å­æ ‘çš„é«˜åº¦ä¸å³å­æ ‘é«˜åº¦ç›¸ç­‰ã€‚åœ¨setä¸­æ¯ä¸ªå…ƒç´ çš„å€¼éƒ½å”¯ä¸€ï¼Œè€Œä¸”ç³»ç»Ÿèƒ½æ ¹æ®å…ƒç´ çš„å€¼è‡ªåŠ¨è¿›è¡Œæ’åºã€‚å¹³è¡¡äºŒå‰æ£€ç´¢æ ‘ä½¿ç”¨ä¸­åºéå†ç®—æ³•ï¼Œæ£€ç´¢æ•ˆç‡é«˜äºvectorã€dequeå’Œlistç­‰å®¹å™¨ï¼Œå¦å¤–ä½¿ç”¨ä¸­åºéå†å¯å°†é”®å€¼æŒ‰ç…§ä»å°åˆ°å¤§éå†å‡ºæ¥ã€‚</p><h4 id="ä¾‹å­-2"><a href="#ä¾‹å­-2" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c++">vector&lt;<span class="hljs-type">int</span>&gt; list = &#123; <span class="hljs-number">5</span>,<span class="hljs-number">14</span>,<span class="hljs-number">34</span>,<span class="hljs-number">22</span>,<span class="hljs-number">39</span>,<span class="hljs-number">5</span> &#125;;<br>set&lt;<span class="hljs-type">int</span>&gt; set1;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = list.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) &#123;<br>set1.<span class="hljs-built_in">insert</span>(list[i]);  <span class="hljs-comment">//å€’åºæ’å…¥</span><br>&#125;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> i = set1.<span class="hljs-built_in">begin</span>(); i != set1.<span class="hljs-built_in">end</span>(); i++) &#123;<br>cout &lt;&lt; *i &lt;&lt; endl;  <span class="hljs-comment">//è¾“å‡ºçš„æ•°æ˜¯æœ‰åºçš„ä¸”åªæœ‰ä¸€ä¸ª5</span><br>&#125;<br>cout &lt;&lt; <span class="hljs-string">&quot;find 5: &quot;</span> &lt;&lt; *set1.<span class="hljs-built_in">find</span>(<span class="hljs-number">5</span>) &lt;&lt; endl;<br>cout &lt;&lt;<span class="hljs-string">&quot;count 5: &quot;</span> &lt;&lt; set1.<span class="hljs-built_in">count</span>(<span class="hljs-number">5</span>) &lt;&lt; endl;<br></code></pre></td></tr></table></figure><blockquote><p>set æ˜¯åŸºäºRBTçš„ï¼Œå› æ­¤å…ƒç´ æ˜¯é¡ºåºå­˜å‚¨çš„ï¼ˆé»˜è®¤æŒ‰é”®å€¼å‡åºæ’åˆ—ï¼‰ã€‚</p></blockquote><h2 id="unordered-set"><a href="#unordered-set" class="headerlink" title="unordered_set"></a>unordered_set</h2><h4 id="å†…éƒ¨å®ç°æœºç†-3"><a href="#å†…éƒ¨å®ç°æœºç†-3" class="headerlink" title="å†…éƒ¨å®ç°æœºç†"></a><strong>å†…éƒ¨å®ç°æœºç†</strong></h4><p>unordered_setçš„å†…éƒ¨å®ç°äº†ä¸€ä¸ªå“ˆå¸Œè¡¨ï¼Œå› æ­¤ï¼Œ å…¶å…ƒç´ çš„æ’åˆ—é¡ºåºæ˜¯æ— åºçš„ã€‚</p><h4 id="ä¾‹å­-3"><a href="#ä¾‹å­-3" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c++">vector&lt;<span class="hljs-type">int</span>&gt; list = &#123; <span class="hljs-number">5</span>,<span class="hljs-number">14</span>,<span class="hljs-number">34</span>,<span class="hljs-number">22</span>,<span class="hljs-number">39</span>,<span class="hljs-number">5</span> &#125;;<br>unordered_set&lt;<span class="hljs-type">int</span>&gt; set;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = list.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) &#123;<br>set.<span class="hljs-built_in">insert</span>(list[i]);  <span class="hljs-comment">//å€’åºæ’å…¥</span><br>&#125;<br><span class="hljs-keyword">for</span> (unordered_set&lt;<span class="hljs-type">int</span>&gt;::iterator i = set.<span class="hljs-built_in">begin</span>(); i != set.<span class="hljs-built_in">end</span>(); i++) &#123;<br>cout &lt;&lt; *i &lt;&lt; endl;  <span class="hljs-comment">//è¾“å‡ºçš„æ•°æ˜¯æ— åºçš„ä¸”åªæœ‰ä¸€ä¸ª5</span><br>&#125;<br>cout &lt;&lt; <span class="hljs-string">&quot;find 39: &quot;</span> &lt;&lt; *set.<span class="hljs-built_in">find</span>(<span class="hljs-number">39</span>) &lt;&lt; endl;<br>cout &lt;&lt; <span class="hljs-string">&quot;count 14:&quot;</span> &lt;&lt; set.<span class="hljs-built_in">count</span>(<span class="hljs-number">14</span>) &lt;&lt; endl;<br></code></pre></td></tr></table></figure><blockquote><p>unordered_set æ˜¯åŸºäºhashè¡¨çš„ï¼Œå› æ­¤å…ƒç´ æ˜¯æ— åºå­˜å‚¨çš„ï¼ˆä¸æŒ‰é”®å€¼å‡åºæ’åˆ—ï¼‰ã€‚</p></blockquote><h2 id="unordered-mapä¸unordered-setçš„åŒºåˆ«"><a href="#unordered-mapä¸unordered-setçš„åŒºåˆ«" class="headerlink" title="unordered_mapä¸unordered_setçš„åŒºåˆ«"></a>unordered_mapä¸unordered_setçš„åŒºåˆ«</h2><blockquote><p>åè€…å°±æ˜¯åœ¨å“ˆå¸Œè¡¨æ’å…¥valueï¼Œè€Œè¿™ä¸ªvalueå°±æ˜¯å®ƒè‡ªå·±çš„keyï¼Œè€Œä¸æ˜¯åƒä¹‹å‰çš„unordered_mapé‚£æ ·æœ‰é”®-å€¼å¯¹ï¼Œè¿™é‡Œå•çº¯å°±æ˜¯ä¸ºäº†æ–¹ä¾¿æŸ¥è¯¢è¿™äº›å€¼ã€‚</p><p>å®ƒä»¬å‡ ä¹ç›¸åŒ. unordered_setåªåŒ…å«é”®,æ²¡æœ‰å€¼.æ²¡æœ‰ä»é”®åˆ°å€¼çš„æ˜ å°„,å› æ­¤ä¸éœ€è¦operator[]. unordered_mapå°†é”®æ˜ å°„åˆ°å€¼.</p></blockquote><h2 id="unordered-mapä¸mapçš„åŒºåˆ«"><a href="#unordered-mapä¸mapçš„åŒºåˆ«" class="headerlink" title="unordered_mapä¸mapçš„åŒºåˆ«"></a>unordered_mapä¸mapçš„åŒºåˆ«</h2><blockquote><p>è¿™ä¸¤ä¸ªçš„å†…éƒ¨ç»“æ„éƒ½æ˜¯é‡‡ç”¨å“ˆå¸Œè¡¨æ¥å®ç°ã€‚åŒºåˆ«åœ¨å“ªé‡Œï¼Ÿunordered_mapåœ¨C++11çš„æ—¶å€™è¢«å¼•å…¥æ ‡å‡†åº“äº†ï¼Œè€Œhash_mapæ²¡æœ‰ï¼Œæ‰€ä»¥å»ºè®®è¿˜æ˜¯ä½¿ç”¨unordered_mapæ¯”è¾ƒå¥½ã€‚</p></blockquote><h2 id="hash-mapä¸unordered-mapçš„åŒºåˆ«"><a href="#hash-mapä¸unordered-mapçš„åŒºåˆ«" class="headerlink" title="hash_mapä¸unordered_mapçš„åŒºåˆ«"></a>hash_mapä¸unordered_mapçš„åŒºåˆ«</h2><blockquote><p>è™½ç„¶éƒ½æ˜¯mapï¼Œä½†æ˜¯å†…éƒ¨ç»“æ„å¤§å¤§çš„ä¸åŒå“ï¼Œmapçš„å†…éƒ¨ç»“æ„æ˜¯R-B-treeæ¥å®ç°çš„ï¼Œæ‰€ä»¥ä¿è¯äº†ä¸€ä¸ªç¨³å®šçš„åŠ¨æ€æ“ä½œæ—¶é—´ï¼ŒæŸ¥è¯¢ã€æ’å…¥ã€åˆ é™¤éƒ½æ˜¯Oï¼ˆlogNï¼‰ï¼Œæœ€åå’Œå¹³å‡éƒ½æ˜¯ã€‚è€Œunordered_mapå¦‚å‰æ‰€è¿°ï¼Œæ˜¯å“ˆå¸Œè¡¨ã€‚é¡ºä¾¿æä¸€ä¸‹ï¼Œå“ˆå¸Œè¡¨çš„æŸ¥è¯¢æ—¶é—´è™½ç„¶æ˜¯Oï¼ˆ1ï¼‰ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯unordered_mapæŸ¥è¯¢æ—¶é—´ä¸€å®šæ¯”mapçŸ­ï¼Œå› ä¸ºå®é™…æƒ…å†µä¸­è¿˜è¦è€ƒè™‘åˆ°æ•°æ®é‡ï¼Œè€Œä¸”unordered_mapçš„hashå‡½æ•°çš„æ„é€ é€Ÿåº¦ä¹Ÿæ²¡é‚£ä¹ˆå¿«ï¼Œæ‰€ä»¥ä¸èƒ½ä¸€æ¦‚è€Œè®ºï¼Œåº”è¯¥å…·ä½“æƒ…å†µå…·ä½“åˆ†æã€‚</p></blockquote><p>å‚è€ƒåšå®¢ï¼š</p><p><a href="https://blog.csdn.net/bryant_zhang/article/details/111600209">C++ï¼šmap,unordered_map,setå’Œunordered_setçš„ç”¨æ³•å’ŒåŒºåˆ«</a></p><p><a href="https://blog.csdn.net/u013195320/article/details/23046305?spm=1001.2101.3001.6661.1&utm_medium=distribute.pc_relevant_t0.none-task-blog-2~default~CTRLIST~TopBlog-1.topblog&depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2~default~CTRLIST~TopBlog-1.topblog&utm_relevant_index=1">C++ä¸­mapã€hash_mapã€unordered_mapã€unordered_seté€šä¿—è¾¨æ</a></p><p>Â </p>]]></content>
    
    
    <categories>
      
      <category>C++</category>
      
    </categories>
    
    
    <tags>
      
      <tag>STL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Œæ•°æ®åº“ç³»ç»Ÿæ¦‚è®ºã€æœŸæœ«å¤ä¹ </title>
    <link href="/2022/04/07/%E3%80%8C%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%AE%BA%E3%80%8D%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/"/>
    <url>/2022/04/07/%E3%80%8C%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%AE%BA%E3%80%8D%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<h1 id="1-ç»ªè®º"><a href="#1-ç»ªè®º" class="headerlink" title="1. ç»ªè®º"></a>1. ç»ªè®º</h1><p><a href="https://youpai.roccoshi.top/img/20210107010414.png"><img src="https://youpai.roccoshi.top/img/20210107010414.png" alt="img"></a></p><h1 id="2-å…³ç³»æ•°æ®åº“"><a href="#2-å…³ç³»æ•°æ®åº“" class="headerlink" title="2. å…³ç³»æ•°æ®åº“"></a>2. å…³ç³»æ•°æ®åº“</h1><h2 id="1-å…³ç³»æ•°æ®ç»“æ„åŠå½¢å¼åŒ–å®šä¹‰"><a href="#1-å…³ç³»æ•°æ®ç»“æ„åŠå½¢å¼åŒ–å®šä¹‰" class="headerlink" title="1 | å…³ç³»æ•°æ®ç»“æ„åŠå½¢å¼åŒ–å®šä¹‰"></a>1 | å…³ç³»æ•°æ®ç»“æ„åŠå½¢å¼åŒ–å®šä¹‰</h2><p>å…³ç³»æ¨¡å‹ä¸­æ•°æ®çš„é€»è¾‘ç»“æ„æ˜¯ä¸€å¼ æ‰å¹³çš„äºŒç»´è¡¨</p><p>å…³ç³»æ˜¯ç¬›å¡å°”ç§¯çš„æœ‰é™å­é›†ï¼Œæ‰€ä»¥å…³ç³»ä¹Ÿæ˜¯ä¸€å¼ äºŒç»´è¡¨</p><p><strong>å€™é€‰ç </strong>ï¼šè‹¥å…³ç³»ä¸­æŸä¸€å±æ€§çš„å€¼èƒ½å”¯ä¸€æ ‡è¯†ä¸€ä¸ªå…ƒç»„ï¼Œè€Œå…¶å­é›†ä¸èƒ½ï¼Œåˆ™ç§°è¯¥å±æ€§ç»„ä¸ºå€™é€‰ç </p><p><strong>ä¸»ç </strong>ï¼šè‹¥ä¸€ä¸ªå…³ç³»ä¸­æœ‰å¤šä¸ªå€™é€‰ç ï¼Œåˆ™é€‰å®šå…¶ä¸­ä¸€ä¸ªä¸ºä¸»ç </p><p><strong>ä¸»å±æ€§</strong>ï¼šå€™é€‰ç çš„è¯¸å±æ€§ç§°ä¸ºä¸»å±æ€§</p><p><strong>éä¸»å±æ€§</strong>ï¼šä¸åŒ…å«åœ¨ä»»ä½•å€™é€‰ç ä¸­çš„å±æ€§ç§°ä¸ºéä¸»å±æ€§æˆ–éç å±æ€§</p><p><strong>å…¨ç </strong>ï¼šå…³ç³»æ¨¡å¼çš„æ‰€æœ‰å±æ€§æ˜¯è¿™ä¸ªå…³ç³»æ¨¡å¼çš„å€™é€‰ç ï¼Œç§°ä¸ºå…¨ç </p><h2 id="2-å…³ç³»çš„å®Œæ•´æ€§"><a href="#2-å…³ç³»çš„å®Œæ•´æ€§" class="headerlink" title="2 | å…³ç³»çš„å®Œæ•´æ€§"></a>2 | å…³ç³»çš„å®Œæ•´æ€§</h2><p>å…³ç³»æ¨¡å‹ä¸­æœ‰ä¸‰ç±»å®Œæ•´æ€§çº¦æŸï¼šå®ä½“å®Œæ•´æ€§ã€å‚ç…§å®Œæ•´æ€§å’Œç”¨æˆ·å®šä¹‰çš„å®Œæ•´æ€§ã€‚</p><h2 id="3-å…³ç³»ä»£æ•°"><a href="#3-å…³ç³»ä»£æ•°" class="headerlink" title="3| å…³ç³»ä»£æ•°"></a>3| å…³ç³»ä»£æ•°</h2><h4 id="3-1-ä¼ ç»Ÿçš„é›†åˆè¿ç®—"><a href="#3-1-ä¼ ç»Ÿçš„é›†åˆè¿ç®—" class="headerlink" title="3-1 | ä¼ ç»Ÿçš„é›†åˆè¿ç®—"></a>3-1 | ä¼ ç»Ÿçš„é›†åˆè¿ç®—</h4><p>å¹¶ã€å‰ã€äº¤ã€ç¬›å¡å°”ç§¯</p><h4 id="3-2-ä¸“é—¨çš„å…³ç³»è¿ç®—"><a href="#3-2-ä¸“é—¨çš„å…³ç³»è¿ç®—" class="headerlink" title="3-2 | ä¸“é—¨çš„å…³ç³»è¿ç®—"></a>3-2 | ä¸“é—¨çš„å…³ç³»è¿ç®—</h4><p>é€‰æ‹©</p><p>æŠ•å½±ï¼šæŠ•å½±æ“ä½œ æ˜¯ä»åˆ—çš„è§’åº¦è¿›è¡Œè¿ç®—</p><p>è¿æ¥ï¼šä¸¤ç§å¸¸ç”¨çš„è¿æ¥ï¼šç­‰å€¼è¿æ¥å’Œè‡ªç„¶è¿æ¥</p><p>é™¤è¿ç®—ï¼šé™¤æ³•æ˜¯ç”¨è±¡é›†æ¥å®šä¹‰çš„</p><p>å…³ç³»ä»£æ•°çš„äº”ä¸ªåŸºæœ¬æ“ä½œï¼šå…¶ä½™ä¸‰ç§è¿ç®—å¯ä»¥ç”¨è¿™äº”ç§åŸºæœ¬è¿ç®—æ¥è¡¨è¾¾</p><p><a href="https://youpai.roccoshi.top/img/20210107010534.png"><img src="https://youpai.roccoshi.top/img/20210107010534.png" alt="img"></a></p><p>å…³ç³»ä»£æ•°ä¸­å¯èƒ½ä¼šç”¨åˆ°çš„å„ä¸ªç¬¦å·:</p><p><a href="https://youpai.roccoshi.top/img/20210107010616.png"><img src="https://youpai.roccoshi.top/img/20210107010616.png" alt="img"></a></p><h1 id="3-å…³ç³»æ•°æ®åº“æ ‡å‡†è¯­è¨€SQL"><a href="#3-å…³ç³»æ•°æ®åº“æ ‡å‡†è¯­è¨€SQL" class="headerlink" title="3. å…³ç³»æ•°æ®åº“æ ‡å‡†è¯­è¨€SQL"></a>3. å…³ç³»æ•°æ®åº“æ ‡å‡†è¯­è¨€SQL</h1><h2 id="1-SQLæ¦‚è¿°"><a href="#1-SQLæ¦‚è¿°" class="headerlink" title="1 | SQLæ¦‚è¿°"></a>1 | SQLæ¦‚è¿°</h2><h3 id="1-1-SQLçš„ç‰¹ç‚¹"><a href="#1-1-SQLçš„ç‰¹ç‚¹" class="headerlink" title="1-1 | SQLçš„ç‰¹ç‚¹"></a>1-1 | SQLçš„ç‰¹ç‚¹</h3><p>1ã€ç»¼åˆç»Ÿä¸€ </p><p>2ã€é«˜åº¦éè¿‡ç¨‹åŒ–</p><p>3ã€é¢å‘é›†åˆçš„æ“ä½œæ–¹å¼</p><p>4ã€ä»¥åŒä¸€ç§è¯­æ³•ç»“æ„æä¾›å¤šç§ä½¿ç”¨æ–¹å¼</p><p>5ã€è¯­è¨€ç®€æ´ï¼Œæ˜“å­¦æ˜“ç”¨</p><h3 id="1-2-SQLä¸ä¸‰çº§æ¨¡å¼ä½“ç³»ç»“æ„å›¾"><a href="#1-2-SQLä¸ä¸‰çº§æ¨¡å¼ä½“ç³»ç»“æ„å›¾" class="headerlink" title="1-2 | SQLä¸ä¸‰çº§æ¨¡å¼ä½“ç³»ç»“æ„å›¾"></a>1-2 | SQLä¸<strong>ä¸‰çº§æ¨¡å¼</strong>ä½“ç³»ç»“æ„å›¾</h3><p><a href="https://youpai.roccoshi.top/img/20210106174625.png"><img src="https://youpai.roccoshi.top/img/20210106174625.png" alt="image-20201226123540167"></a></p><p><a href="https://youpai.roccoshi.top/img/20210106174625.png">image-20201226123540167</a></p><p>æ¨¡å¼ï¼šæ¨¡å¼ä¹Ÿç§°é€»è¾‘æ¨¡å¼ï¼Œæ˜¯æ•°æ®åº“ä¸­å…¨ä½“æ•°æ®çš„é€»è¾‘ç»“æ„å’Œç‰¹å¾æè¿°ï¼Œæ˜¯æ‰€æœ‰ç”¨æˆ·çš„å…¬å…±æ•°æ®è§†å›¾</p><p>å¤–æ¨¡å¼ï¼šå¤–æ¨¡å¼ä¹Ÿç§°å­æ¨¡å¼æˆ–ç”¨æˆ·æ¨¡å¼ï¼Œå®ƒæ˜¯æ•°æ®åº“ç”¨æˆ·èƒ½å¤Ÿçœ‹è§å’Œä½¿ç”¨çš„å±€éƒ¨æ•°æ®çš„é€»è¾‘ç»“æ„å’Œç‰¹å¾çš„æè¿°ï¼Œæ˜¯æ•°æ®åº“ç”¨æˆ·çš„æ•°æ®è§†å›¾ï¼Œæ˜¯ä¸æŸä¸€åº”ç”¨æœ‰å…³çš„æ•°æ®çš„é€»è¾‘è¡¨ç¤º</p><p>å†…æ¨¡å¼ï¼šå†…æ¨¡å¼ä¹Ÿç§°å­˜å‚¨æ¨¡å¼ï¼Œä¸€ä¸ªæ•°æ®åº“åªæœ‰ä¸€ä¸ªå†…æ¨¡å¼ã€‚å®ƒæ˜¯æ•°æ®ç‰©ç†ç»“æ„å’Œå­˜å‚¨æ–¹å¼çš„æè¿°ï¼Œæ˜¯æ•°æ®åœ¨æ•°æ®åº“å†…éƒ¨çš„ç»„ç»‡æ–¹å¼</p><h2 id="2-æ•°æ®å®šä¹‰"><a href="#2-æ•°æ®å®šä¹‰" class="headerlink" title="2 | æ•°æ®å®šä¹‰"></a>2 | æ•°æ®å®šä¹‰</h2><p>SQLæ•°æ®çš„å®šä¹‰åŠŸèƒ½ï¼šå®šä¹‰å„ç§æ•°æ®åº“çš„å¯¹è±¡</p><p>SQLæ•°æ®åº“å®šä¹‰åŠŸèƒ½åŒ…æ‹¬æ¨¡å¼å®šä¹‰ã€è¡¨å®šä¹‰ã€è§†å›¾å®šä¹‰å’Œç´¢å¼•å®šä¹‰</p><p><a href="https://youpai.roccoshi.top/img/20210106174626.png"><img src="https://youpai.roccoshi.top/img/20210106174626.png" alt="image-20201226123755751"></a></p><p><a href="https://youpai.roccoshi.top/img/20210106174626.png">image-20201226123755751</a></p><p>æ•°æ®åº“å¯¹è±¡å‘½åæœºåˆ¶çš„å±‚æ¬¡ç»“æ„ï¼š</p><p>ä¸€ä¸ªå…³ç³»æ•°æ®åº“ç®¡ç†ç³»ç»Ÿä¸­å¯ä»¥å»ºç«‹å¤šä¸ªæ•°æ®åº“ï¼Œä¸€ä¸ªæ•°æ®åº“å¯ä»¥å»ºç«‹å¤šä¸ªæ¨¡å¼ï¼Œä¸€ä¸ªæ¨¡å¼ä¸‹é€šå¸¸åŒ…æ‹¬å¤šä¸ªè¡¨ã€è§†å›¾å’Œç´¢å¼•ç­‰æ•°æ®åº“å¯¹è±¡ã€‚</p><h3 id="2-1-æ¨¡å¼çš„å®šä¹‰ä¸åˆ é™¤"><a href="#2-1-æ¨¡å¼çš„å®šä¹‰ä¸åˆ é™¤" class="headerlink" title="2-1 | æ¨¡å¼çš„å®šä¹‰ä¸åˆ é™¤"></a>2-1 | æ¨¡å¼çš„å®šä¹‰ä¸åˆ é™¤</h3><h3 id="2-2-åŸºæœ¬è¡¨çš„å®šä¹‰ã€åˆ é™¤ä¸ä¿®æ”¹"><a href="#2-2-åŸºæœ¬è¡¨çš„å®šä¹‰ã€åˆ é™¤ä¸ä¿®æ”¹" class="headerlink" title="2-2 | åŸºæœ¬è¡¨çš„å®šä¹‰ã€åˆ é™¤ä¸ä¿®æ”¹"></a>2-2 | åŸºæœ¬è¡¨çš„å®šä¹‰ã€åˆ é™¤ä¸ä¿®æ”¹</h3><h4 id="åˆ›å»ºæ•°æ®åº“"><a href="#åˆ›å»ºæ•°æ®åº“" class="headerlink" title="åˆ›å»ºæ•°æ®åº“"></a>åˆ›å»ºæ•°æ®åº“</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> DATABASE <span class="hljs-operator">&lt;</span>name<span class="hljs-operator">&gt;</span><br></code></pre></td></tr></table></figure><h4 id="å®šä¹‰åŸºæœ¬è¡¨"><a href="#å®šä¹‰åŸºæœ¬è¡¨" class="headerlink" title="å®šä¹‰åŸºæœ¬è¡¨"></a>å®šä¹‰åŸºæœ¬è¡¨</h4><p>æ ¼å¼</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-operator">&lt;</span>è¡¨å<span class="hljs-operator">&gt;</span><br>(<br>    <span class="hljs-operator">&lt;</span>åˆ—å<span class="hljs-operator">&gt;</span> <span class="hljs-operator">&lt;</span>æ•°æ®ç±»å‹<span class="hljs-operator">&gt;</span> <span class="hljs-operator">&lt;</span>åˆ—çº§å®Œæ•´æ€§çº¦æŸæ¡ä»¶<span class="hljs-operator">&gt;</span>,<br>    <span class="hljs-operator">&lt;</span>åˆ—å<span class="hljs-operator">&gt;</span> <span class="hljs-operator">&lt;</span>æ•°æ®ç±»å‹<span class="hljs-operator">&gt;</span> <span class="hljs-operator">&lt;</span>åˆ—çº§å®Œæ•´æ€§çº¦æŸæ¡ä»¶<span class="hljs-operator">&gt;</span>,<br>   ...<br>    <span class="hljs-operator">&lt;</span>è¡¨çº§å®Œæ•´æ€§çº¦æŸæ¡ä»¶<span class="hljs-operator">&gt;</span><br>);<br></code></pre></td></tr></table></figure><p>åˆ—çº§å®Œæ•´æ€§çº¦æŸæ¡ä»¶</p><p>è¡¨çº§å®Œæ•´æ€§çº¦æŸæ¡ä»¶</p><p>å®ä¾‹ï¼šå»ºç«‹ä¸€ä¸ª â€œè¯¾ç¨‹â€ è¡¨Course</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> Course<br>(Cno <span class="hljs-type">CHAR</span>(<span class="hljs-number">4</span>) <span class="hljs-keyword">PRIMARY</span> KEY,  <span class="hljs-comment">/*åˆ—çº§å®Œæ•´æ€§çº¦æŸæ¡ä»¶ï¼ŒCnoæ˜¯ä¸»ç */</span><br>     Cname <span class="hljs-type">CHAR</span>(<span class="hljs-number">40</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,  <span class="hljs-comment">/*åˆ—çº§å®Œæ•´æ€§çº¦æŸæ¡ä»¶ï¼ŒCnameä¸èƒ½å–ç©ºå€¼*/</span><br>     Cpno <span class="hljs-type">CHAR</span>(<span class="hljs-number">40</span>),  <span class="hljs-comment">/*Cpnoçš„å«ä¹‰æ˜¯å…ˆä¿®è¯¾*/</span><br>     Ccredit <span class="hljs-type">SMALLINT</span>,<br>     <span class="hljs-keyword">FOREIGN</span> KEY(Cpno) <span class="hljs-keyword">REFERENCES</span> Course(Cno)<br>     <span class="hljs-comment">/*è¡¨çº§å®Œæ•´æ€§çº¦æŸæ¡ä»¶ï¼ŒCpnoæ˜¯å¤–ç ï¼Œè¢«å‚ç…§è¡¨æ˜¯Courseï¼Œè¢«å‚ç…§å¯¹çš„åˆ—æ˜¯Cno*/</span><br>    );<br></code></pre></td></tr></table></figure><p>å¸¸ç”¨çš„å®Œæ•´æ€§çº¦æŸ:</p><p><a href="https://youpai.roccoshi.top/img/20210106174627.png"><img src="https://youpai.roccoshi.top/img/20210106174627.png" alt="image-20201226125004438"></a></p><p><a href="https://youpai.roccoshi.top/img/20210106174627.png">image-20201226125004438</a></p><h4 id="ä¿®æ”¹åŸºæœ¬è¡¨"><a href="#ä¿®æ”¹åŸºæœ¬è¡¨" class="headerlink" title="ä¿®æ”¹åŸºæœ¬è¡¨"></a>ä¿®æ”¹åŸºæœ¬è¡¨</h4><p>æ ¼å¼</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-operator">&lt;</span>è¡¨å<span class="hljs-operator">&gt;</span><br>[<span class="hljs-keyword">ADD</span>[<span class="hljs-keyword">COLUMN</span>]<span class="hljs-operator">&lt;</span>æ–°åˆ—å<span class="hljs-operator">&gt;</span><span class="hljs-operator">&lt;</span>æ•°æ®ç±»å‹<span class="hljs-operator">&gt;</span>[å®Œæ•´æ€§çº¦æŸ]]<br>[<span class="hljs-keyword">ADD</span><span class="hljs-operator">&lt;</span>è¡¨çº§å®Œæ•´æ€§çº¦æŸ<span class="hljs-operator">&gt;</span>]<br>[<span class="hljs-keyword">DROP</span>[<span class="hljs-keyword">COLUMN</span>]<span class="hljs-operator">&lt;</span>åˆ—å<span class="hljs-operator">&gt;</span>[CASCADE<span class="hljs-operator">|</span>RESTRICT]]<br>[<span class="hljs-keyword">DROP</span> <span class="hljs-keyword">CONSTRAINT</span><span class="hljs-operator">&lt;</span>å®Œæ•´æ€§çº¦æŸå<span class="hljs-operator">&gt;</span> [RESTRICT<span class="hljs-operator">|</span>CASCADE]]<br>[<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">COLUMN</span><span class="hljs-operator">&lt;</span>åˆ—å<span class="hljs-operator">&gt;</span><span class="hljs-operator">&lt;</span>æ•°æ®ç±»å‹<span class="hljs-operator">&gt;</span>]<br></code></pre></td></tr></table></figure><h4 id="åˆ é™¤åŸºæœ¬è¡¨"><a href="#åˆ é™¤åŸºæœ¬è¡¨" class="headerlink" title="åˆ é™¤åŸºæœ¬è¡¨"></a>åˆ é™¤åŸºæœ¬è¡¨</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">DROP</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-operator">&lt;</span>è¡¨å<span class="hljs-operator">&gt;</span> [RESTRICT<span class="hljs-operator">|</span>CASCADE]<br></code></pre></td></tr></table></figure><blockquote><p>RESTRICTï¼šè‹¥é€‰æ‹©RESTRICTï¼Œåˆ™è¯¥è¡¨çš„åˆ é™¤æ˜¯æœ‰é™åˆ¶æ¡ä»¶çš„</p><p>CASCADEï¼šè‹¥é€‰æ‹©CASCADEï¼Œåˆ™è¯¥è¡¨çš„åˆ é™¤æ˜¯æ²¡æœ‰é™åˆ¶æ¡ä»¶çš„</p></blockquote><h2 id="3-æ•°æ®æŸ¥è¯¢ï¼ˆé‡ç‚¹ï¼‰"><a href="#3-æ•°æ®æŸ¥è¯¢ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="3 | æ•°æ®æŸ¥è¯¢ï¼ˆé‡ç‚¹ï¼‰"></a>3 | æ•°æ®æŸ¥è¯¢ï¼ˆé‡ç‚¹ï¼‰</h2><p>è¯­æ³•:</p><p><a href="https://youpai.roccoshi.top/img/20210106174628.png"><img src="https://youpai.roccoshi.top/img/20210106174628.png" alt="image-20201226130756283"></a></p><p><a href="https://youpai.roccoshi.top/img/20210106174628.png">image-20201226130756283</a></p><h3 id="3-1-å•è¡¨æŸ¥è¯¢"><a href="#3-1-å•è¡¨æŸ¥è¯¢" class="headerlink" title="3-1 | å•è¡¨æŸ¥è¯¢"></a>3-1 | å•è¡¨æŸ¥è¯¢</h3><h4 id="whereå­å¥"><a href="#whereå­å¥" class="headerlink" title="whereå­å¥"></a>whereå­å¥</h4><p><a href="https://youpai.roccoshi.top/img/20210106174629.png"><img src="https://youpai.roccoshi.top/img/20210106174629.png" alt="image-20201226130825216"></a></p><p><a href="https://youpai.roccoshi.top/img/20210106174629.png">image-20201226130825216</a></p><p>ä¾‹å­ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">where</span> age <span class="hljs-keyword">between</span> <span class="hljs-number">20</span> <span class="hljs-keyword">and</span> <span class="hljs-number">23</span>;    <span class="hljs-comment">/*æ‰¾å¹´é¾„20-23å²çš„*/</span><br><span class="hljs-keyword">where</span> dept <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> (<span class="hljs-string">&#x27;is&#x27;</span>, <span class="hljs-string">&#x27;ma&#x27;</span>, <span class="hljs-string">&#x27;cs&#x27;</span>);    <span class="hljs-comment">/*æŸ¥è¯¢ä¸æ˜¯is, ma, csç³»å¾—*/</span><br><span class="hljs-keyword">where</span> name <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;åˆ˜%&#x27;</span>;    <span class="hljs-comment">/*æ‰¾å§“åˆ˜çš„*/</span><br><span class="hljs-keyword">where</span> name <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;__é˜³&#x27;</span>;    <span class="hljs-comment">/*æ‰¾åå­—å«xxé˜³çš„*/</span><br><span class="hljs-keyword">where</span> cname <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;DB\_Design&#x27;</span> <span class="hljs-keyword">ESCAPE</span> <span class="hljs-string">&#x27;\&#x27;</span>;<br><span class="hljs-comment">/*escapeå®šä¹‰è½¬ä¹‰å­—ç¬¦, å‡ºç°åœ¨å…¶åçš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸æ˜¯é€šé…ç¬¦è€Œæ˜¯å­—ç¬¦æœ¬èº«*/</span><br></code></pre></td></tr></table></figure><h4 id="ORDER-BYå­—å¥"><a href="#ORDER-BYå­—å¥" class="headerlink" title="ORDER BYå­—å¥"></a>ORDER BYå­—å¥</h4><p>ç”¨æˆ·å¯ä»¥ç”¨ORDER BYå­—å¥å¯¹æŸ¥è¯¢ç»“æœæŒ‰ç…§ä¸€ä¸ªæˆ–å¤šä¸ªå±æ€§çš„å‡åºï¼ˆASCï¼‰æˆ–é™åºï¼ˆDESCï¼‰æ’åˆ—ï¼Œé»˜è®¤å€¼ä¸ºå‡åºã€‚</p><p>å¯¹å±æ€§åˆ—æ’åºï¼š</p><ul><li>ascä¸ºå‡åº</li><li>descä¸ºé™åº</li><li>é»˜è®¤ä¸ºå‡åº</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">/*æŸ¥è¯¢å…¨ä½“å­¦ç”Ÿæƒ…å†µï¼ŒæŸ¥è¯¢ç»“æœæŒ‰æ‰€åœ¨ç³»çš„ç³»å·å‡åºæ’åˆ—ï¼ŒåŒä¸€ç³»ä¸­çš„å­¦ç”ŸæŒ‰å¹´é¾„é™åºæ’åˆ—*/</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span><br><span class="hljs-keyword">FROM</span> Student<br><span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> Sdept,Sage <span class="hljs-keyword">DESC</span>;  <span class="hljs-comment">/*Sdepté»˜è®¤å‡åº*/</span><br></code></pre></td></tr></table></figure><h4 id="èšé›†å‡½æ•°"><a href="#èšé›†å‡½æ•°" class="headerlink" title="èšé›†å‡½æ•°"></a>èšé›†å‡½æ•°</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-built_in">COUNT</span>(<span class="hljs-operator">*</span>)<br><span class="hljs-built_in">COUNT</span>([<span class="hljs-keyword">DISTINCT</span><span class="hljs-operator">|</span><span class="hljs-keyword">ALL</span>] <span class="hljs-operator">&lt;</span>åˆ—å<span class="hljs-operator">&gt;</span>)<br><span class="hljs-built_in">SUM</span>([<span class="hljs-keyword">DISTINCT</span><span class="hljs-operator">|</span><span class="hljs-keyword">ALL</span>] <span class="hljs-operator">&lt;</span>åˆ—å<span class="hljs-operator">&gt;</span>)<br><span class="hljs-built_in">AVG</span>([<span class="hljs-keyword">DISTINCT</span><span class="hljs-operator">|</span><span class="hljs-keyword">ALL</span>] <span class="hljs-operator">&lt;</span>åˆ—å<span class="hljs-operator">&gt;</span>)<br><span class="hljs-built_in">MAX</span>([<span class="hljs-keyword">DISTINCT</span><span class="hljs-operator">|</span><span class="hljs-keyword">ALL</span>] <span class="hljs-operator">&lt;</span>åˆ—å<span class="hljs-operator">&gt;</span>)<br><span class="hljs-built_in">MIN</span>([<span class="hljs-keyword">DISTINCT</span><span class="hljs-operator">|</span><span class="hljs-keyword">ALL</span>] <span class="hljs-operator">&lt;</span>åˆ—å<span class="hljs-operator">&gt;</span>)<br></code></pre></td></tr></table></figure><blockquote><p>å¦‚æœæŒ‡å®šDISTINCTçŸ­è¯­ï¼Œåˆ™è¡¨ç¤ºåœ¨è®¡ç®—æ—¶è¦å–æ¶ˆæŒ‡å®šåˆ—ä¸­çš„é‡å¤è¡Œã€‚å¦‚æœä¸æŒ‡å®šDISTINCTçŸ­è¯­æˆ–è€…ALLçŸ­è¯­ï¼ˆALLä¸ºé»˜è®¤å€¼ï¼‰ï¼Œåˆ™è¡¨ç¤ºä¸å–æ¶ˆé‡å¤è¡Œã€‚</p></blockquote><h4 id="GROUP-BYçŸ­è¯­"><a href="#GROUP-BYçŸ­è¯­" class="headerlink" title="GROUP BYçŸ­è¯­"></a>GROUP BYçŸ­è¯­</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> <span class="hljs-operator">&lt;</span>åˆ—å<span class="hljs-operator">&gt;</span><br><span class="hljs-keyword">HAVING</span> <span class="hljs-operator">&lt;</span>æ¡ä»¶<span class="hljs-operator">&gt;</span><br></code></pre></td></tr></table></figure><p>GROUP BYå­å¥å°†æŸ¥è¯¢ç»“æœæŒ‰æŸä¸€åˆ—æˆ–å¤šåˆ—çš„å€¼åˆ†ç»„ï¼Œå€¼ç›¸ç­‰çš„ä¸ºä¸€ç»„ã€‚</p><p>åˆ†æ•£åèšé›†å‡½æ•°å°†ä½œç”¨äºæ¯ä¸€ä¸ªç»„ï¼Œå³æ¯ä¸€ç»„éƒ½æœ‰ä¸€ä¸ªå‡½æ•°å€¼ã€‚</p><p>Note:</p><p>æŒ‰æŒ‡å®šçš„ä¸€åˆ—æˆ–è€…å¤šåˆ—åˆ†ç»„, å€¼ç›¸ç­‰çš„ä¸ºä¸€ç»„, HAVINGå­å¥ä½œç”¨äºå„ä¸ªç»„ä¹‹ä¸Š</p><ul><li>å¦‚æœæœªå¯¹æŸ¥è¯¢ç»“æœåˆ†ç»„, é›†å‡½æ•°ä½œç”¨äºæ•´ä¸ªæŸ¥è¯¢ç»“æœ</li><li>å¯¹æŸ¥è¯¢ç»“æœåˆ†ç»„å, é›†å‡½æ•°åˆ†åˆ«ä½œç”¨äºå„ä¸ªç»„</li><li>ä½¿ç”¨GROUP BYå­å¥å, SELECTå­å¥çš„åˆ—åè¡¨ä¸­åªèƒ½å‡ºç°åˆ†ç»„å±æ€§å’Œé›†å‡½æ•°, ä¸èƒ½å‡ºç°åœ¨group byä¸­æ²¡æœ‰å‡ºç°çš„å±æ€§</li></ul><p>ä¾‹å­:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">/*æŸ¥è¯¢å„ä¸ªè¯¾ç¨‹å·å’Œç›¸åº”çš„é€‰è¯¾äººæ•°*/</span><br><span class="hljs-keyword">select</span> cno, <span class="hljs-built_in">count</span>(sno)<br><span class="hljs-keyword">from</span> sc<br><span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> cno;<br><br><span class="hljs-comment">/*æŸ¥è¯¢æœ‰3é—¨ä»¥ä¸Šè¯¾ç¨‹æ˜¯90åˆ†ä»¥ä¸Šçš„å­¦ç”Ÿå­¦å·åŠå…¶(90åˆ†ä»¥ä¸Šçš„)è¯¾ç¨‹æ•°ã€‚*/</span><br><span class="hljs-keyword">select</span> sno, <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>)<br><span class="hljs-keyword">from</span> sc<br><span class="hljs-keyword">where</span> grade <span class="hljs-operator">&gt;=</span> <span class="hljs-number">90</span><br><span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> sno<br><span class="hljs-keyword">having</span> <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>) <span class="hljs-operator">&gt;=</span> <span class="hljs-number">3</span>;<br></code></pre></td></tr></table></figure><h3 id="3-2-è¿æ¥æŸ¥è¯¢"><a href="#3-2-è¿æ¥æŸ¥è¯¢" class="headerlink" title="3-2 | è¿æ¥æŸ¥è¯¢"></a>3-2 | è¿æ¥æŸ¥è¯¢</h3><h3 id="3-3-åµŒå¥—æŸ¥è¯¢"><a href="#3-3-åµŒå¥—æŸ¥è¯¢" class="headerlink" title="3-3 | åµŒå¥—æŸ¥è¯¢"></a>3-3 | åµŒå¥—æŸ¥è¯¢</h3><p>åˆ†ç±»:</p><ul><li><p><strong>ç›¸å…³å­æŸ¥è¯¢</strong> : å­æŸ¥è¯¢æ‰§è¡Œä¾èµ–äºçˆ¶æŸ¥è¯¢æ¡ä»¶</p></li><li><p><strong>ä¸ç›¸å…³å­æŸ¥è¯¢</strong> : å­æŸ¥è¯¢æ‰§è¡Œä¸ä¾èµ–äºçˆ¶æŸ¥è¯¢æ¡ä»¶</p></li></ul><h4 id="å¸¦æœ‰INè°“è¯çš„å­æŸ¥è¯¢"><a href="#å¸¦æœ‰INè°“è¯çš„å­æŸ¥è¯¢" class="headerlink" title="å¸¦æœ‰INè°“è¯çš„å­æŸ¥è¯¢"></a>å¸¦æœ‰INè°“è¯çš„å­æŸ¥è¯¢</h4><h4 id="å¸¦æœ‰æ¯”è¾ƒè¿ç®—çš„å­æŸ¥è¯¢"><a href="#å¸¦æœ‰æ¯”è¾ƒè¿ç®—çš„å­æŸ¥è¯¢" class="headerlink" title="å¸¦æœ‰æ¯”è¾ƒè¿ç®—çš„å­æŸ¥è¯¢"></a>å¸¦æœ‰æ¯”è¾ƒè¿ç®—çš„å­æŸ¥è¯¢</h4><p>å¸¦æœ‰æ¯”è¾ƒè¿ç®—ç¬¦çš„å­æŸ¥è¯¢æ˜¯æŒ‡çˆ¶æŸ¥è¯¢ä¸å­æŸ¥è¯¢ä¹‹é—´ç”¨æ¯”è¾ƒè¿ç®—ç¬¦è¿›è¡Œè¿æ¥ã€‚å½“ç”¨æˆ·èƒ½ç¡®åˆ‡çŸ¥é“å†…å±‚æŸ¥è¯¢è¿”å›çš„æ˜¯å•ä¸ªå€¼æ—¶ï¼Œå¯ä»¥ç”¨&gt;ã€&lt;ã€=ã€&gt;=ã€&lt;=ã€!=æˆ–&lt;&gt;ç­‰æ¯”è¾ƒè¿ç®—ç¬¦ã€‚</p><h4 id="å¸¦æœ‰ANYï¼ˆSOMEï¼‰æˆ–ALLè°“è¯çš„å­æŸ¥è¯¢"><a href="#å¸¦æœ‰ANYï¼ˆSOMEï¼‰æˆ–ALLè°“è¯çš„å­æŸ¥è¯¢" class="headerlink" title="å¸¦æœ‰ANYï¼ˆSOMEï¼‰æˆ–ALLè°“è¯çš„å­æŸ¥è¯¢"></a>å¸¦æœ‰ANYï¼ˆSOMEï¼‰æˆ–ALLè°“è¯çš„å­æŸ¥è¯¢</h4><p>å­æŸ¥è¯¢è¿”å›å•å€¼æ—¶å¯ä»¥ç”¨æ¯”è¾ƒè¿ç®—ç¬¦ï¼Œä½†è¿”å›å¤šå€¼æ—¶è¦ç”¨ANYæˆ–ALLè°“è¯ä¿®é¥°ã€‚è€Œä½¿ç”¨ANYæˆ–ALLè°“è¯æ—¶å¿…é¡»åŒæ—¶ä½¿ç”¨æ¯”è¾ƒè¿ç®—ç¬¦ã€‚</p><p><a href="https://youpai.roccoshi.top/img/20210106174630.png"><img src="https://youpai.roccoshi.top/img/20210106174630.png" alt="img"></a></p><p>ä¾‹å­: (ä¸ºä¸ç›¸å…³å­æŸ¥è¯¢)</p><p><a href="https://youpai.roccoshi.top/img/20210106174631.png"><img src="https://youpai.roccoshi.top/img/20210106174631.png" alt="image-20201226133604299"></a></p><p><a href="https://youpai.roccoshi.top/img/20210106174631.png">image-20201226133604299</a></p><p>ä½¿ç”¨any/allè°“è¯ä¸é›†å‡½æ•°å…·æœ‰ç­‰ä»·å…³ç³», è€Œç”¨é›†å‡½æ•°æŸ¥è¯¢é€šå¸¸æ¯”any/allæŸ¥è¯¢æ•ˆç‡é«˜å› ä¸ºå‰è€…å¯ä»¥å‡å°‘æ¯”è¾ƒæ¬¡æ•°</p><p><a href="https://youpai.roccoshi.top/img/20210106174632.png"><img src="https://youpai.roccoshi.top/img/20210106174632.png" alt="image-20201226133751280"></a></p><p><a href="https://youpai.roccoshi.top/img/20210106174632.png">image-20201226133751280</a></p><h4 id="å¸¦æœ‰EXISTSè°“è¯çš„å­æŸ¥è¯¢"><a href="#å¸¦æœ‰EXISTSè°“è¯çš„å­æŸ¥è¯¢" class="headerlink" title="å¸¦æœ‰EXISTSè°“è¯çš„å­æŸ¥è¯¢"></a>å¸¦æœ‰EXISTSè°“è¯çš„å­æŸ¥è¯¢</h4><p>å¸¦æœ‰EXISTSè°“è¯çš„å­æŸ¥è¯¢ä¸è¿”å›ä»»ä½•æ•°æ®ï¼Œåªäº§ç”Ÿé€»è¾‘çœŸå€¼trueæˆ–é€»è¾‘å‡å€¼falseï¼Œ æ•…å­æŸ¥è¯¢é€šå¸¸åªç”¨select *</p><p><a href="https://youpai.roccoshi.top/img/20210106174633.png"><img src="https://youpai.roccoshi.top/img/20210106174633.png" alt="image-20201226133932439"></a></p><p><a href="https://youpai.roccoshi.top/img/20210106174633.png">image-20201226133932439</a></p><p>ä½¿ç”¨<strong>EXISTSå­æŸ¥è¯¢çš„æ•ˆç‡è¦ä¼˜äºä½¿ç”¨è¿æ¥æŸ¥è¯¢å’ŒINæŸ¥è¯¢</strong></p><p>EXISTSé€šå¸¸å¼•å…¥çš„æ˜¯ç›¸å…³å­æŸ¥è¯¢, è€ŒINæ›´å¤šçš„æ˜¯ä¸ç›¸å…³å­æŸ¥è¯¢</p><h3 id="3-4-é›†åˆæŸ¥è¯¢"><a href="#3-4-é›†åˆæŸ¥è¯¢" class="headerlink" title="3-4 | é›†åˆæŸ¥è¯¢"></a>3-4 | é›†åˆæŸ¥è¯¢</h3><p>é›†åˆæ“ä½œå‘½ä»¤</p><table><thead><tr><th>å‘½ä»¤</th><th></th></tr></thead><tbody><tr><td>UNION</td><td>å¹¶</td></tr><tr><td>INTERSECT</td><td>äº¤</td></tr><tr><td>MINUS</td><td>å·®</td></tr></tbody></table><p><a href="https://youpai.roccoshi.top/img/20210106174634.png"><img src="https://youpai.roccoshi.top/img/20210106174634.png" alt="image-20201226140459748"></a></p><p><a href="https://youpai.roccoshi.top/img/20210106174634.png">image-20201226140459748</a></p><h2 id="4-æ•°æ®æ›´æ–°"><a href="#4-æ•°æ®æ›´æ–°" class="headerlink" title="4 | æ•°æ®æ›´æ–°"></a>4 | æ•°æ®æ›´æ–°</h2><h3 id="4-1-æ’å…¥æ•°æ®"><a href="#4-1-æ’å…¥æ•°æ®" class="headerlink" title="4-1 | æ’å…¥æ•°æ®"></a>4-1 | æ’å…¥æ•°æ®</h3><h4 id="æ’å…¥å•ä¸ªç»“æœ"><a href="#æ’å…¥å•ä¸ªç»“æœ" class="headerlink" title="æ’å…¥å•ä¸ªç»“æœ"></a>æ’å…¥å•ä¸ªç»“æœ</h4><p>æ ¼å¼:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">INSERT</span><br><span class="hljs-keyword">INTO</span> <span class="hljs-operator">&lt;</span>è¡¨å<span class="hljs-operator">&gt;</span> [(<span class="hljs-operator">&lt;</span>å±æ€§åˆ—<span class="hljs-number">1</span><span class="hljs-operator">&gt;</span>[,<span class="hljs-operator">&lt;</span>å±æ€§åˆ—<span class="hljs-number">2</span><span class="hljs-operator">&gt;</span>]...)]<br><span class="hljs-keyword">VALUES</span> (<span class="hljs-operator">&lt;</span>å¸¸é‡<span class="hljs-number">1</span><span class="hljs-operator">&gt;</span>[,<span class="hljs-operator">&lt;</span>å¸¸é‡<span class="hljs-number">2</span><span class="hljs-operator">&gt;</span>]...)<br></code></pre></td></tr></table></figure><p>å¦‚æœä¸æŒ‡å®šå±æ€§åˆ—, åˆ™valueså¿…é¡»ä»¥å®Œæ•´çš„å…ƒç»„æ’å…¥, ä¸”å±æ€§ä¸è¡¨ä¸­å±æ€§é¡ºåºä¸€è‡´</p><p>ä¸¾ä¾‹:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> sc(sno, cno)<br><span class="hljs-keyword">values</span> (<span class="hljs-string">&#x27;95001&#x27;</span>, <span class="hljs-string">&#x27;1&#x27;</span>);<br></code></pre></td></tr></table></figure><h4 id="æ’å…¥å­æŸ¥è¯¢ç»“æœ"><a href="#æ’å…¥å­æŸ¥è¯¢ç»“æœ" class="headerlink" title="æ’å…¥å­æŸ¥è¯¢ç»“æœ"></a>æ’å…¥å­æŸ¥è¯¢ç»“æœ</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">INSERT</span><br><span class="hljs-keyword">INTO</span> [(<span class="hljs-operator">&lt;</span>å±æ€§åˆ—<span class="hljs-number">1</span><span class="hljs-operator">&gt;</span>[,<span class="hljs-operator">&lt;</span>å±æ€§åˆ—<span class="hljs-number">2</span><span class="hljs-operator">&gt;</span>]...)]<br>å­æŸ¥è¯¢;<br></code></pre></td></tr></table></figure><p>ä¸¾ä¾‹:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">INSERT</span><br><span class="hljs-keyword">INTO</span> Deptage(Sdept, Avgage)<br><span class="hljs-keyword">SELECT</span> Sdept,<span class="hljs-built_in">AVG</span>(Sage)  <span class="hljs-comment">-- å±æ€§ä¸ªæ•°è¦åŒ¹é…</span><br><span class="hljs-keyword">FROM</span> Student<br><span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> Sdept;<br></code></pre></td></tr></table></figure><h4 id="æ³¨æ„å®Œæ•´æ€§çº¦æŸ"><a href="#æ³¨æ„å®Œæ•´æ€§çº¦æŸ" class="headerlink" title="æ³¨æ„å®Œæ•´æ€§çº¦æŸ"></a>æ³¨æ„å®Œæ•´æ€§çº¦æŸ</h4><p><a href="https://youpai.roccoshi.top/img/20210106174635.png"><img src="https://youpai.roccoshi.top/img/20210106174635.png" alt="image-20201226143151436"></a></p><p><a href="https://youpai.roccoshi.top/img/20210106174635.png">image-20201226143151436</a></p><h3 id="4-2-ä¿®æ”¹æ•°æ®"><a href="#4-2-ä¿®æ”¹æ•°æ®" class="headerlink" title="4-2 | ä¿®æ”¹æ•°æ®"></a>4-2 | ä¿®æ”¹æ•°æ®</h3><p>æ ¼å¼:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">UPDATE</span> <span class="hljs-operator">&lt;</span>è¡¨å<span class="hljs-operator">&gt;</span><br><span class="hljs-keyword">SET</span> <span class="hljs-operator">&lt;</span>åˆ—å<span class="hljs-operator">&gt;=</span><span class="hljs-operator">&lt;</span>è¡¨è¾¾å¼<span class="hljs-operator">&gt;</span>[,<span class="hljs-operator">&lt;</span>åˆ—å<span class="hljs-operator">&gt;=</span><span class="hljs-operator">&lt;</span>è¡¨è¾¾å¼<span class="hljs-operator">&gt;</span>]...<br>[<span class="hljs-keyword">WHERE</span> <span class="hljs-operator">&lt;</span>æ¡ä»¶<span class="hljs-operator">&gt;</span>]<br></code></pre></td></tr></table></figure><p>ä¸¾ä¾‹:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">update</span> student<br><span class="hljs-keyword">set</span> sage <span class="hljs-operator">=</span> <span class="hljs-number">22</span><br><span class="hljs-keyword">where</span> sno <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;95001&#x27;</span><br><span class="hljs-keyword">Copy</span><br><span class="hljs-comment">-- å°†æ‰€æœ‰å­¦ç”Ÿå¹´é¾„å¢åŠ ä¸€å²</span><br><span class="hljs-keyword">update</span> student<br><span class="hljs-keyword">set</span> sage <span class="hljs-operator">=</span> sage <span class="hljs-operator">+</span> <span class="hljs-number">1</span><br><span class="hljs-keyword">Copy</span><br></code></pre></td></tr></table></figure><h3 id="4-3-åˆ é™¤æ•°æ®"><a href="#4-3-åˆ é™¤æ•°æ®" class="headerlink" title="4-3 | åˆ é™¤æ•°æ®"></a>4-3 | åˆ é™¤æ•°æ®</h3><p>æ ¼å¼:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">DELETE</span> <br><span class="hljs-keyword">FROM</span> <span class="hljs-operator">&lt;</span>è¡¨å<span class="hljs-operator">&gt;</span><br>[<span class="hljs-keyword">WHERE</span> <span class="hljs-operator">&lt;</span>æ¡ä»¶<span class="hljs-operator">&gt;</span>];<br></code></pre></td></tr></table></figure><p>åˆ é™¤è¡¨ä¸­æ»¡è¶³whereæŒ‡å®šæ¡ä»¶çš„å…ƒç»„</p><p>ä¾‹å­:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">delete</span><br><span class="hljs-keyword">from</span> student<br><span class="hljs-keyword">where</span> sno <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;95001&#x27;</span>;<br><span class="hljs-keyword">Copy</span><br><span class="hljs-comment">-- åˆ é™¤æ‰€æœ‰å­¦ç”Ÿçš„é€‰è¯¾è®°å½•</span><br><span class="hljs-keyword">delete</span><br><span class="hljs-keyword">from</span> sc;<br><span class="hljs-keyword">Copy</span><br><span class="hljs-comment">-- åˆ é™¤CSç³»æ‰€æœ‰å­¦ç”Ÿçš„é€‰è¯¾è®°å½•</span><br><span class="hljs-keyword">delete</span> <br><span class="hljs-keyword">from</span> sc<br><span class="hljs-keyword">where</span> sno <span class="hljs-keyword">in</span> (<br><span class="hljs-keyword">select</span> sno<br>    <span class="hljs-keyword">from</span> student<br>    <span class="hljs-keyword">where</span> student.sdept <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;CS&#x27;</span><br>);<br><span class="hljs-keyword">Copy</span><br></code></pre></td></tr></table></figure><p>åˆ é™¤æ—¶çš„å‚ç…§å®Œæ•´æ€§:</p><ul><li>ä¸å…è®¸è¢«åˆ é™¤</li><li>çº§è”åˆ é™¤ ( é€šè¿‡CASCADEå‚æ•°æŒ‡å®š )</li></ul><h2 id="5-è§†å›¾"><a href="#5-è§†å›¾" class="headerlink" title="5 | è§†å›¾"></a>5 | è§†å›¾</h2><p>è§†å›¾çš„ç‰¹ç‚¹ï¼š</p><p>1ã€è™šè¡¨ï¼Œæ˜¯ä»ä¸€ä¸ªæˆ–å‡ ä¸ªåŸºæœ¬è¡¨ï¼ˆæˆ–è§†å›¾ï¼‰å¯¼å‡ºçš„è¡¨</p><p>2ã€åªå­˜æ”¾è§†å›¾çš„å®šä¹‰ï¼Œä¸å­˜æ”¾è§†å›¾å¯¹åº”çš„æ•°æ®</p><p>3ã€åŸºæœ¬è¡¨ä¸­çš„æ•°æ®å‘ç”Ÿå˜åŒ–ï¼Œä»è§†å›¾ä¸­æŸ¥è¯¢å‡ºçš„æ•°æ®ä¹Ÿéšä¹‹æ”¹å˜</p><p>æ•°æ®åº“ç³»ç»Ÿçš„<strong>ä¸‰çº§æ¨¡å¼</strong>: å¤–æ¨¡å¼, æ¨¡å¼, å†…æ¨¡å¼</p><p>æ•°æ®åº“ç³»ç»Ÿçš„<strong>ä¸¤çº§æ˜ åƒ</strong>: å¤–æ¨¡å¼-æ¨¡å¼æ˜ åƒ æ¨¡å¼-å†…æ¨¡å¼æ˜ åƒ</p><ul><li>å¤–æ¨¡å¼-æ¨¡å¼æ˜ åƒç”¨é€”: <strong>ä¿è¯æ•°æ®çš„é€»è¾‘ç‹¬ç«‹æ€§</strong></li><li>æ¨¡å¼-å†…æ¨¡å¼æ˜ åƒç”¨é€”: <strong>ä¿è¯æ•°æ®çš„ç‰©ç†ç‹¬ç«‹æ€§</strong></li></ul><p>è§†å›¾å¯¹åº”çš„å°±æ˜¯ä¸‰çº§æ¨¡å¼/ä¸¤çº§æ˜ åƒä½“ç³»ç»“æ„ä¸­çš„å¤–æ¨¡å¼å’Œå¤–æ¨¡å¼/æ¨¡å¼æ˜ åƒ</p><h3 id="5-1-å®šä¹‰è§†å›¾"><a href="#5-1-å®šä¹‰è§†å›¾" class="headerlink" title="5-1 | å®šä¹‰è§†å›¾"></a>5-1 | å®šä¹‰è§†å›¾</h3><p>æ ¼å¼:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">VIEW</span> <span class="hljs-operator">&lt;</span>è§†å›¾å<span class="hljs-operator">&gt;</span> [(<span class="hljs-operator">&lt;</span>åˆ—å<span class="hljs-operator">&gt;</span>[,<span class="hljs-operator">&lt;</span>åˆ—å<span class="hljs-operator">&gt;</span>]...)]<br><span class="hljs-keyword">AS</span> <span class="hljs-operator">&lt;</span>å­æŸ¥è¯¢<span class="hljs-operator">&gt;</span><br>[<span class="hljs-keyword">WITH</span> <span class="hljs-keyword">CHECK</span> OPTION];<br></code></pre></td></tr></table></figure><p><a href="https://youpai.roccoshi.top/img/20210106174636.png"><img src="https://youpai.roccoshi.top/img/20210106174636.png" alt="image-20210102151117045"></a></p><p><a href="https://youpai.roccoshi.top/img/20210106174636.png">image-20210102151117045</a></p><p>DBMSæ‰§è¡Œcreate viewè¯­å¥æ—¶åªæ˜¯æŠŠè§†å›¾çš„å®šä¹‰å­˜å…¥æ•°æ®å­—å…¸, å¹¶ä¸æ‰§è¡Œå…¶ä¸­çš„selectè¯­å¥, åœ¨å¯¹è§†å›¾æŸ¥è¯¢æ—¶, æŒ‰è§†å›¾çš„å®šä¹‰ä»åŸºæœ¬è¡¨ä¸­å°†æ•°æ®æŸ¥å‡º</p><p>ä¾‹å­:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">view</span> IS_STUDENT<br><span class="hljs-keyword">as</span><br><span class="hljs-keyword">select</span> sno, sname, sage<br><span class="hljs-keyword">from</span> student<br><span class="hljs-keyword">where</span> sdept <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;IS&#x27;</span>;<br><span class="hljs-keyword">Copy</span><br></code></pre></td></tr></table></figure><p>è‹¥ä¸€ä¸ªè§†å›¾æ˜¯ä»å•ä¸ªåŸºæœ¬è¡¨å¯¼å‡ºçš„, å¹¶ä¸”åªå»æ‰äº†åŸºæœ¬è¡¨çš„æŸäº›è¡Œå’ŒæŸäº›åˆ—ä½†ä¿ç•™äº†ç , åˆ™è¿™ç±»è§†å›¾ç§°ä¸º<strong>è¡Œåˆ—å­é›†è§†å›¾</strong>, ä¸Šä¾‹æ‰€å»ºç«‹çš„è§†å›¾å°±æ˜¯è¡Œåˆ—å­é›†è§†å›¾</p><h3 id="5-2-æŸ¥è¯¢è§†å›¾"><a href="#5-2-æŸ¥è¯¢è§†å›¾" class="headerlink" title="5-2 | æŸ¥è¯¢è§†å›¾"></a>5-2 | æŸ¥è¯¢è§†å›¾</h3><p>è§†å›¾æ¶ˆè§£ï¼šä»æ•°æ®å­—å…¸ä¸­å–å‡ºè§†å›¾çš„å®šä¹‰ï¼ŒæŠŠå®šä¹‰ä¸­çš„å­æŸ¥è¯¢å’Œç”¨æˆ·çš„æŸ¥è¯¢ç»“åˆèµ·æ¥ï¼Œè½¬æ¢æˆç­‰ä»·çš„å¯¹åŸºæœ¬è¡¨çš„æŸ¥è¯¢ï¼Œç„¶åå†æ‰§è¡Œä¿®æ­£äº†çš„æŸ¥è¯¢ã€‚è¿™ä¸€è½¬åŒ–è¿‡ç¨‹ç§°ä¸ºè§†å›¾æ¶ˆè§£ã€‚</p><h3 id="5-3-æ›´æ–°è§†å›¾"><a href="#5-3-æ›´æ–°è§†å›¾" class="headerlink" title="5-3 | æ›´æ–°è§†å›¾"></a>5-3 | æ›´æ–°è§†å›¾</h3><h3 id="5-4-è§†å›¾çš„ä½œç”¨"><a href="#5-4-è§†å›¾çš„ä½œç”¨" class="headerlink" title="5-4 | è§†å›¾çš„ä½œç”¨"></a>5-4 | è§†å›¾çš„ä½œç”¨</h3><p>1ã€è§†å›¾èƒ½å¤Ÿç®€åŒ–ç”¨æˆ·çš„æ“ä½œ</p><p>2ã€è§†å›¾ä½¿ç”¨æˆ·èƒ½ä»¥å¤šç§è§’åº¦çœ‹å¾…åŒä¸€æ•°æ®</p><p>3ã€è§†å›¾å¯¹é‡æ„æ•°æ®åº“æä¾›äº†ä¸€å®šç¨‹åº¦çš„é€»è¾‘ç‹¬ç«‹æ€§</p><p>4ã€è§†å›¾èƒ½å¤Ÿå¯¹æœºå¯†æ•°æ®æä¾›å®‰å…¨é˜²æŠ¤</p><p>5ã€é€‚å½“åˆ©ç”¨è§†å›¾å¯ä»¥æ›´æ¸…æ™°åœ°è¡¨è¾¾æŸ¥è¯¢</p><h1 id="4-æ•°æ®åº“å®‰å…¨-èµ‹æƒ"><a href="#4-æ•°æ®åº“å®‰å…¨-èµ‹æƒ" class="headerlink" title="4. æ•°æ®åº“å®‰å…¨-èµ‹æƒ"></a>4. æ•°æ®åº“å®‰å…¨-èµ‹æƒ</h1><blockquote><p>æ•°æ®åº“çš„å®‰å…¨æ€§æ§åˆ¶é€šè¿‡æˆæƒæœºåˆ¶æ¥å®ç°, å³é€šè¿‡èµ‹äºˆç”¨æˆ·å¯¹æ•°æ®åº“çš„ä½¿ç”¨æƒé™æ¥ä¿è¯æ•°æ®çš„å®‰å…¨</p></blockquote><h2 id="1-æˆæƒGRANTè¯­å¥"><a href="#1-æˆæƒGRANTè¯­å¥" class="headerlink" title="1 | æˆæƒGRANTè¯­å¥"></a>1 | æˆæƒ<code>GRANT</code>è¯­å¥</h2><ul><li>å°†æ•°æ®åº“ä¸­çš„æŸäº›å¯¹è±¡çš„æŸäº›æ“ä½œæƒé™èµ‹äºˆæŸäº›ç”¨æˆ·</li></ul><p>æ ¼å¼:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">Grant</span> <span class="hljs-operator">&lt;</span>æƒé™s<span class="hljs-operator">&gt;</span><br><span class="hljs-keyword">ON</span><span class="hljs-operator">&lt;</span>å¯¹è±¡ç±»å‹<span class="hljs-operator">&gt;</span> <span class="hljs-operator">&lt;</span>å¯¹è±¡å<span class="hljs-operator">&gt;</span><br><span class="hljs-keyword">TO</span><span class="hljs-operator">&lt;</span>ç”¨æˆ·s<span class="hljs-operator">&gt;</span><br>[<span class="hljs-keyword">WITH</span> <span class="hljs-keyword">GRANT</span> OPTION]<br><span class="hljs-keyword">Copy</span><br></code></pre></td></tr></table></figure><ul><li>DBAæ‹¥æœ‰æ•°æ®åº“æ“ä½œçš„æ‰€æœ‰æƒé™å¹¶å¯å°†æƒé™èµ‹äºˆå…¶ä»–ç”¨æˆ·</li><li>å»ºç«‹æ•°æ®åº“å¯¹è±¡çš„ç”¨æˆ·ç§°ä¸ºOWNER, ä»–æ‹¥æœ‰å¯¹è¯¥å¯¹è±¡çš„æ‰€æœ‰æ“ä½œæƒé™</li><li>æ¥æ”¶æƒé™çš„ç”¨æˆ·å¯ä»¥æ˜¯ä¸€ä¸ªæˆ–è€…å¤šä¸ªå…·ä½“ç”¨æˆ·, ä¹Ÿå¯ä»¥æ˜¯å…¨ä½“ç”¨æˆ·PUBLIC</li><li><code>WITH GRANT OPTION</code>å­å¥: è·å¾—æŸç§æƒé™çš„ç”¨æˆ·è¿˜å¯ä»¥æŠŠè¿™ç§æƒé™å†æˆäºˆåˆ«çš„ç”¨æˆ·, æ²¡æœ‰æŒ‡å®šwith grant optionæ—¶, è·å¾—æŸç§æƒé™çš„ç”¨æˆ·åªèƒ½ä½¿ç”¨è¯¥æƒé™, ä¸èƒ½ä¼ æ’­è¯¥æƒé™</li></ul><h3 id="æ‰€æœ‰æƒé™ä¸€è§ˆè¡¨"><a href="#æ‰€æœ‰æƒé™ä¸€è§ˆè¡¨" class="headerlink" title="æ‰€æœ‰æƒé™ä¸€è§ˆè¡¨"></a>æ‰€æœ‰æƒé™ä¸€è§ˆè¡¨</h3><p><a href="https://youpai.roccoshi.top/img/20201227101704.png"><img src="https://youpai.roccoshi.top/img/20201227101704.png" alt="image-20201227101703896"></a></p><p><a href="https://youpai.roccoshi.top/img/20201227101704.png">image-20201227101703896</a></p><h3 id="ä¸¾ä¾‹"><a href="#ä¸¾ä¾‹" class="headerlink" title="ä¸¾ä¾‹"></a>ä¸¾ä¾‹</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">grant</span> <span class="hljs-keyword">select</span><br><span class="hljs-keyword">on</span> <span class="hljs-keyword">table</span> student<br><span class="hljs-keyword">to</span> user1;<br><span class="hljs-keyword">Copy</span><br></code></pre></td></tr></table></figure><p>æŠŠå¯¹scè¡¨çš„å…¨éƒ¨æƒé™æˆäºˆå…¨éƒ¨ç”¨æˆ·</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">grant</span> <span class="hljs-keyword">all</span> priviliges<br><span class="hljs-keyword">on</span> <span class="hljs-keyword">table</span> sc<br><span class="hljs-keyword">to</span> public;<br><span class="hljs-keyword">Copy</span><br></code></pre></td></tr></table></figure><p>æŠŠæŸ¥è¯¢studentè¡¨å’Œä¿®æ”¹å­¦ç”Ÿå­¦å·çš„æƒé™æˆäºˆç»™ç”¨æˆ·3å’Œç”¨æˆ·4</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">grant</span> <span class="hljs-keyword">update</span>(sno), <span class="hljs-keyword">select</span><br><span class="hljs-keyword">on</span> <span class="hljs-keyword">table</span> student<br><span class="hljs-keyword">to</span> user3, user4;<br><span class="hljs-keyword">Copy</span><br></code></pre></td></tr></table></figure><p>æŠŠå¯¹è¡¨scçš„insertæƒé™æˆäºˆç»™user5ç”¨æˆ·, å¹¶å…è®¸ä»–å†å°†æ­¤æƒé™æˆäºˆå…¶ä»–ç”¨æˆ·</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">grant</span> <span class="hljs-keyword">insert</span><br><span class="hljs-keyword">on</span> <span class="hljs-keyword">table</span> sc<br><span class="hljs-keyword">to</span> user5<br><span class="hljs-keyword">with</span> <span class="hljs-keyword">grant</span> option;<br><span class="hljs-keyword">Copy</span><br></code></pre></td></tr></table></figure><p>æŠŠåœ¨æ•°æ®åº“S_Cä¸­çš„å»ºè¡¨æƒé™æˆäºˆç”¨æˆ·8</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">grant</span> createtab<br><span class="hljs-keyword">on</span> database S_C<br><span class="hljs-keyword">to</span> user8;<br><span class="hljs-keyword">Copy</span><br></code></pre></td></tr></table></figure><h2 id="2-æ”¶å›æƒé™REVOKEè¯­å¥"><a href="#2-æ”¶å›æƒé™REVOKEè¯­å¥" class="headerlink" title="2 | æ”¶å›æƒé™REVOKEè¯­å¥"></a>2 | æ”¶å›æƒé™<code>REVOKE</code>è¯­å¥</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">REVOKE</span> <span class="hljs-operator">&lt;</span>æƒé™s<span class="hljs-operator">&gt;</span><br><span class="hljs-keyword">ON</span> <span class="hljs-operator">&lt;</span>å¯¹è±¡ç±»å‹<span class="hljs-operator">&gt;</span> <span class="hljs-operator">&lt;</span>å¯¹è±¡å<span class="hljs-operator">&gt;</span><br><span class="hljs-keyword">FROM</span> <span class="hljs-operator">&lt;</span>ç”¨æˆ·s<span class="hljs-operator">&gt;</span><br><span class="hljs-keyword">Copy</span><br></code></pre></td></tr></table></figure><h3 id="ä¸¾ä¾‹-1"><a href="#ä¸¾ä¾‹-1" class="headerlink" title="ä¸¾ä¾‹"></a>ä¸¾ä¾‹</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">revoke</span> <span class="hljs-keyword">update</span>(sno)<br><span class="hljs-keyword">on</span> <span class="hljs-keyword">table</span> student<br><span class="hljs-keyword">from</span> user4;<br><span class="hljs-keyword">Copy</span><br><span class="hljs-keyword">revoke</span> <span class="hljs-keyword">select</span><br><span class="hljs-keyword">on</span> <span class="hljs-keyword">table</span> sc<br><span class="hljs-keyword">from</span> public;<br><span class="hljs-keyword">Copy</span><br></code></pre></td></tr></table></figure><ul><li>æ”¶å›æƒé™æ—¶, å°†æ”¶å›è‡ªå·±æ‰€çº§è”æˆäºˆå‡ºçš„æƒé™</li><li>å¦‚æœå­˜åœ¨å¤šé‡æˆäºˆ, (ä»ä¸åŒç”¨æˆ·å¤„å¾—åˆ°çš„ç›¸åŒæƒé™, åˆ™ä»ç„¶å…·æœ‰è¯¥æƒé™), åªæ”¶å›è‡ªå·±çº§è”æˆäºˆçš„æƒé™</li></ul><h2 id="3-è§†å›¾æœºåˆ¶"><a href="#3-è§†å›¾æœºåˆ¶" class="headerlink" title="3 | è§†å›¾æœºåˆ¶"></a>3 | è§†å›¾æœºåˆ¶</h2><p><a href="https://youpai.roccoshi.top/img/20201227102725.png"><img src="https://youpai.roccoshi.top/img/20201227102725.png" alt="image-20201227102725294"></a></p><p><a href="https://youpai.roccoshi.top/img/20201227102725.png">image-20201227102725294</a></p><h1 id="5-å­˜å‚¨è¿‡ç¨‹å’Œè§¦å‘å™¨"><a href="#5-å­˜å‚¨è¿‡ç¨‹å’Œè§¦å‘å™¨" class="headerlink" title="5. å­˜å‚¨è¿‡ç¨‹å’Œè§¦å‘å™¨"></a>5. å­˜å‚¨è¿‡ç¨‹å’Œè§¦å‘å™¨</h1><h2 id="1-å­˜å‚¨è¿‡ç¨‹"><a href="#1-å­˜å‚¨è¿‡ç¨‹" class="headerlink" title="1 | å­˜å‚¨è¿‡ç¨‹"></a>1 | å­˜å‚¨è¿‡ç¨‹</h2><p>åˆ›å»ºå­˜å‚¨è¿‡ç¨‹:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">PROCEDURE</span><br></code></pre></td></tr></table></figure><p>æ‰§è¡Œå­˜å‚¨è¿‡ç¨‹:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">EXECUTE</span> <span class="hljs-keyword">PROCEDURE</span><br></code></pre></td></tr></table></figure><p>ä¿®æ”¹å­˜å‚¨è¿‡ç¨‹:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">PROCEDURE</span><br></code></pre></td></tr></table></figure><p>åˆ é™¤å­˜å‚¨è¿‡ç¨‹:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">DROP</span> <span class="hljs-keyword">PROCEDURE</span><br></code></pre></td></tr></table></figure><h2 id="2-è§¦å‘å™¨"><a href="#2-è§¦å‘å™¨" class="headerlink" title="2 | è§¦å‘å™¨"></a>2 | è§¦å‘å™¨</h2><p>åŠŸèƒ½: å¼ºåŒ–çº¦æŸ, è·Ÿè¸ªå˜åŒ–, çº§è”è¿è¡Œ, å­˜å‚¨è¿‡ç¨‹çš„è°ƒç”¨</p><p>åˆ†ç±»: å‰è§¦å‘å™¨(<code>INSTEAD OF</code>), åè§¦å‘å™¨ (<code>AFTER</code>)</p><p>åˆ›å»º:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TRIGGER</span> <br><span class="hljs-keyword">ON</span><br><span class="hljs-keyword">FOR</span><br><span class="hljs-keyword">AS</span><br><br><span class="hljs-comment">-- ä¾‹å­</span><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">trigger</span> reminder<br><span class="hljs-keyword">on</span> titles<br><span class="hljs-keyword">for</span> <span class="hljs-keyword">insert</span>, <span class="hljs-keyword">update</span><br><span class="hljs-keyword">as</span> sql_statements<br><span class="hljs-keyword">Copy</span><br></code></pre></td></tr></table></figure><p>åœ¨è§¦å‘å™¨çš„æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å»ºç«‹å’Œç®¡ç†ä¸¤ä¸ªé€»è¾‘è¡¨ï¼šæ’å…¥è¡¨(inserted)å’Œåˆ é™¤è¡¨(deleted)ã€‚è¿™ä¸¤ä¸ªè¡¨ä¸è§¦å‘å™¨æ‰€å¯¹åº”çš„åŸºæœ¬è¡¨æœ‰ç€å®Œå…¨ç›¸åŒçš„ç»“æ„ï¼Œä½†ä¸ºåªè¯»è¡¨ï¼Œé©»ç•™äºå†…å­˜ä¹‹ä¸­ï¼Œç›´åˆ°è§¦å‘å™¨æ‰§è¡Œå®Œæ¯•ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ é™¤ã€‚è¿™ä¸¤ä¸ªè¡¨æ˜¯äº‹åŠ¡å›æ»šçš„é‡è¦ä¾æ®ã€‚</p><h1 id="6-æ•°æ®åº“è®¾è®¡"><a href="#6-æ•°æ®åº“è®¾è®¡" class="headerlink" title="6. æ•°æ®åº“è®¾è®¡"></a>6. æ•°æ®åº“è®¾è®¡</h1><h2 id="1-æ•°æ®åº“è®¾è®¡çš„æµç¨‹"><a href="#1-æ•°æ®åº“è®¾è®¡çš„æµç¨‹" class="headerlink" title="1 | æ•°æ®åº“è®¾è®¡çš„æµç¨‹"></a>1 | æ•°æ®åº“è®¾è®¡çš„æµç¨‹</h2><table><thead><tr><th>1-éœ€æ±‚åˆ†æ</th><th>2-æ¦‚å¿µç»“æ„è®¾è®¡</th><th>3-é€»è¾‘ç»“æ„è®¾è®¡</th><th>4-ç‰©ç†ç»“æ„è®¾è®¡</th></tr></thead><tbody><tr><td></td><td>ERå›¾</td><td>ERå›¾-&gt;å…³ç³»æ¨¡å‹</td><td></td></tr></tbody></table><h2 id="2-ERå›¾"><a href="#2-ERå›¾" class="headerlink" title="2 | ERå›¾"></a>2 | ERå›¾</h2><p>ä¸‰ç§è¡¨ç¤º</p><table><thead><tr><th></th><th>è¡¨ç¤ºæ–¹å¼</th></tr></thead><tbody><tr><td>å®ä½“</td><td>çŸ©å½¢</td></tr><tr><td>å±æ€§</td><td>åœ†å½¢</td></tr><tr><td>è”ç³»</td><td>è±å½¢</td></tr></tbody></table><p>ä¸‰ç§ä¸åŒçš„è”ç³»</p><ul><li>ä¸€å¯¹ä¸€è”ç³»</li><li>ä¸€å¯¹å¤šè”ç³»</li><li>å¤šå¯¹å¤šè”ç³»</li></ul><h2 id="3-ERå›¾å‘å…³ç³»æ¨¡å‹çš„è½¬æ¢"><a href="#3-ERå›¾å‘å…³ç³»æ¨¡å‹çš„è½¬æ¢" class="headerlink" title="3 | ERå›¾å‘å…³ç³»æ¨¡å‹çš„è½¬æ¢"></a>3 | ERå›¾å‘å…³ç³»æ¨¡å‹çš„è½¬æ¢</h2><table><thead><tr><th>è”ç³»</th><th>è½¬æ¢</th></tr></thead><tbody><tr><td>1 : 1</td><td>ä¸¤å®ä½“<strong>ä»»æ„ä¸€ç«¯æ·»åŠ å¦ä¸€ç«¯çš„ä¸»é”®</strong></td></tr><tr><td>1 : N</td><td>åœ¨<strong>Nç«¯æ·»åŠ å¦ä¸€ç«¯çš„ä¸»é”®</strong></td></tr><tr><td>N : M</td><td>å°†<strong>è”ç³»è½¬åŒ–ä¸ºå®ä½“</strong>, å¹¶åœ¨å®ä½“ä¸­åŠ å…¥è”ç³»ä¸¤ç«¯å®ä½“çš„ä¸»é”®</td></tr><tr><td>1 : 1 : N - N : M : P</td><td>åŒ 1 : N - N : M (åœ¨Nç«¯æ·»åŠ å¦å¤–ä¸¤ç«¯ä¸»é”® - è”ç³»è½¬åŒ–ä¸ºå®ä½“æ·»åŠ ä¸‰ç«¯å®ä½“ä¸»é”®)</td></tr></tbody></table><h1 id="7-å…³ç³»æ•°æ®ç†è®º"><a href="#7-å…³ç³»æ•°æ®ç†è®º" class="headerlink" title="7. å…³ç³»æ•°æ®ç†è®º"></a>7. å…³ç³»æ•°æ®ç†è®º</h1><p><strong>å…³ç³»æ¨¡å¼çš„ç®€è®°</strong>: <code>R&lt;U, F&gt;</code></p><p>å…¶ä¸­Uè¡¨ç¤ºå±æ€§é›†, Fè¡¨ç¤ºæ•°æ®ä¾èµ–</p><h2 id="1-å…³ç³»æ•°æ®ç†è®º"><a href="#1-å…³ç³»æ•°æ®ç†è®º" class="headerlink" title="1 | å…³ç³»æ•°æ®ç†è®º"></a>1 | å…³ç³»æ•°æ®ç†è®º</h2><p>ä¸åˆé€‚çš„æ•°æ®ä¾èµ–é€ æˆä»¥ä¸‹ç­‰é—®é¢˜</p><ul><li>æ•°æ®å†—ä½™</li><li>æ›´æ–°å¼‚å¸¸</li><li>æ’å…¥å¼‚å¸¸</li><li>åˆ é™¤å¼‚å¸¸</li></ul><h2 id="2-è§„èŒƒåŒ–"><a href="#2-è§„èŒƒåŒ–" class="headerlink" title="2 | è§„èŒƒåŒ–"></a>2 | è§„èŒƒåŒ–</h2><h3 id="2-1-å‡½æ•°ä¾èµ–"><a href="#2-1-å‡½æ•°ä¾èµ–" class="headerlink" title="2-1 | å‡½æ•°ä¾èµ–"></a>2-1 | å‡½æ•°ä¾èµ–</h3><p>å‡½æ•°ä¾èµ–ï¼ˆFunctional Dependenciesï¼‰ç®€å†™ä¸ºFD</p><ul><li><p><strong>å¹³å‡¡å‡½æ•°ä¾èµ–</strong>ï¼š (Xâ†’Y,YâŠ†X) å¹³å‡¡å‡½æ•°ä¾èµ–æ²¡ä»€ä¹ˆç”¨, ä¸ç ”ç©¶</p><p>ä¾‹å¦‚(sno, cno)â†’sno</p></li><li><p><strong>éå¹³å‡¡å‡½æ•°ä¾èµ–</strong>ï¼š(Xâ†’Y,YâŠˆX) å¦‚æœä¸ç‰¹åˆ«å£°æ˜, æˆ‘ä»¬æ€»æ˜¯è®¨è®ºéå¹³å‡¡å‡½æ•°ä¾èµ–</p><p>ä¾‹å¦‚(sno, cno)â†’grade</p><blockquote><p>å¯¹äºä»»ä¸€å…³ç³»æ¨¡å¼ï¼Œå¹³å‡¡å‡½æ•°ä¾èµ–éƒ½æ˜¯å¿…ç„¶æˆç«‹çš„ï¼Œå®ƒä¸ååº”æ–°çš„è¯­ä¹‰ï¼Œå› æ­¤è‹¥ä¸ç‰¹åˆ«å£°æ˜ï¼Œæˆ‘ä»¬æ€»æ˜¯è®¨è®ºéå¹³å‡¡å‡½æ•°ä¾èµ–ã€‚</p></blockquote></li><li><p><strong>å®Œå…¨å‡½æ•°ä¾èµ–</strong>ï¼šåœ¨R(U)ä¸­ï¼Œå¦‚æœXâ†’Yï¼Œå¹¶ä¸”å¯¹äºXçš„ä»»ä½•ä¸€ä¸ªçœŸå­é›†Xâ€˜ï¼Œéƒ½æœ‰Xâ€˜/â†’Y</p></li><li><p><strong>éƒ¨åˆ†å‡½æ•°ä¾èµ–</strong>ï¼šè‹¥Xâ†’Yï¼Œä½†Yä¸å®Œå…¨å‡½æ•°ä¾èµ–äºX</p></li><li><p><strong>ä¼ é€’å‡½æ•°ä¾èµ–</strong>ï¼šåœ¨R(U)ä¸­ï¼ŒXâ†’Yï¼ŒYâ†’Zï¼Œä¸”Y/â†’Xï¼Œåˆ™Zä¼ é€’ä¾èµ–äºX, å¦‚æœYâ†’Xåˆ™ä¸ºç›´æ¥å‡½æ•°ä¾èµ–</p></li></ul><h3 id="2-2-ç "><a href="#2-2-ç " class="headerlink" title="2-2 | ç "></a>2-2 | ç </h3><blockquote><p>ç æ˜¯å…³ç³»æ¨¡å¼ä¸­çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µã€‚åœ¨ç¬¬äºŒç« å…³ç³»æ•°æ®åº“ä¸­å·²ç»ç»™å‡ºäº†æœ‰å…³ç çš„è‹¥å¹²å®šä¹‰ï¼Œè¿™é‡Œç”¨å‡½æ•°ä¾èµ–çš„æ¦‚å¿µæ¥å®šä¹‰ç ã€‚</p></blockquote><p><strong>å€™é€‰ç </strong>ï¼šè®¾Kä¸ºR&lt;U,F&gt;ä¸­çš„å±æ€§æˆ–å±æ€§ç»„åˆï¼Œè‹¥Uå®Œå…¨å‡½æ•°ä¾èµ–äºKï¼Œåˆ™Kä¸ºRçš„å€™é€‰ç ã€‚</p><p><strong>è¶…ç </strong>ï¼šå¦‚æœUéƒ¨åˆ†å‡½æ•°ä¾èµ–äºKï¼Œåˆ™Kä¸ºè¶…ç </p><blockquote><p>å€™é€‰ç æ˜¯æœ€å°çš„è¶…ç ï¼Œå³Kçš„ä»»ä½•ä¸€ä¸ªçœŸå­é›†éƒ½ä¸æ˜¯å€™é€‰ç </p><p>å€™é€‰ç æ˜¯ ä¸€ç±»ç‰¹æ®Šçš„è¶…ç ï¼Œå³å€™é€‰ç çš„è¶…é›†ä¸€å®šæ˜¯è¶…ç ï¼Œå€™é€‰ç çš„ä»»ä½•çœŸå­é›†ä¸€å®šä¸æ˜¯è¶…ç </p></blockquote><p><strong>ä¸»ç </strong>ï¼šè‹¥å…³ç³»æ¨¡å¼Ræœ‰å¤šä¸ªå€™é€‰ç ï¼Œåˆ™é€‰å®šå…¶ä¸­ä¸€ä¸ªä½œä¸ºä¸»ç </p><p><strong>ä¸»å±æ€§</strong>ï¼šåŒ…å«åœ¨ä»»ä½•ä¸€ä¸ªå€™é€‰ç ä¸­çš„å±æ€§ç§°ä¸ºä¸»å±æ€§</p><p><strong>éä¸»å±æ€§</strong>ï¼šä¸åŒ…å«åœ¨ä»»ä½•ä¸€ä¸ªå€™é€‰ç ä¸­çš„å±æ€§ç§°ä¸ºéä¸»å±æ€§æˆ–éç å±æ€§</p><p><strong>å…¨ç </strong>ï¼šæ•´ä¸ªå±æ€§ç»„æ˜¯ç ï¼Œç§°ä¸ºå…¨ç </p><blockquote><p>ä¾‹ï¼šå…³ç³»æ¨¡å¼R(P,W,A)ä¸­ï¼Œå±æ€§Pè¡¨ç¤ºæ¼”å¥è€…ï¼ŒWè¡¨ç¤ºä½œå“ï¼ŒAè¡¨ç¤ºå¬ä¼—ã€‚å‡è®¾ä¸€ä¸ªæ¼”å¥è€…å¯ä»¥æ¼”å¥å¤šä¸ªä½œå“ï¼ŒæŸä¸€ä¸ªä½œå“å¯ä»¥è¢«å¤šä¸ªæ¼”å¥è€…æ¼”å¥ï¼Œå¬ä¼—ä¹Ÿå¯ä»¥æ¬£èµä¸åŒæ¼”å¥è€…çš„ä¸åŒä½œå“ï¼Œè¿™ä¸ªå…³ç³»æ¨¡å¼çš„ç ä¸º(P,W,A)ï¼Œå³all-keyã€‚</p></blockquote><p><strong>å¤–ç </strong>ï¼šå…³ç³»æ¨¡å¼R&lt;U,F&gt;ï¼ŒUä¸­å±æ€§æˆ–è€…å±æ€§ç»„Xå¹¶éRçš„ç ï¼Œä½†Xæ˜¯å¦ä¸€ä¸ªå…³ç³»æ¨¡å¼çš„ç ï¼Œåˆ™ç§°Xæ˜¯Rçš„å¤–éƒ¨ç ä¹Ÿç§°å¤–ç ã€‚</p><blockquote><p>ä¸»ç ä¸å¤–ç ä¸€èµ·æä¾›äº†è¡¨ç¤ºå…³ç³»é—´è”ç³»çš„æ‰‹æ®µ</p></blockquote><h3 id="2-3-èŒƒå¼"><a href="#2-3-èŒƒå¼" class="headerlink" title="2-3 | èŒƒå¼"></a>2-3 | èŒƒå¼</h3><ul><li>èŒƒå¼ï¼šèŒƒå¼ æ˜¯ç¬¦åˆæŸä¸€çº§åˆ«çš„å…³ç³»æ¨¡å¼çš„é›†åˆ</li><li>å…³ç³»æ•°æ®åº“ä¸­çš„å…³ç³»å¿…é¡»æ»¡è¶³ä¸€å®šçš„è¦æ±‚ã€‚æ»¡è¶³ä¸åŒç¨‹åº¦è¦æ±‚çš„ä¸ºä¸åŒèŒƒå¼ã€‚</li><li><strong>è§„èŒƒåŒ–</strong>ï¼šä¸€ä¸ªä½ä¸€çº§èŒƒå¼çš„å…³ç³»æ¨¡å¼é€šè¿‡æ¨¡å¼åˆ†è§£å¯ä»¥è½¬æ¢æˆä¸ºè‹¥å¹²ä¸ªé«˜ä¸€çº§èŒƒå¼çš„å…³ç³»æ¨¡å¼çš„é›†åˆï¼Œè¿™ä¸ªè¿‡ç¨‹å°±å«è§„èŒƒåŒ–ã€‚</li></ul><h3 id="1NF"><a href="#1NF" class="headerlink" title="1NF"></a>1NF</h3><p><strong>å®šä¹‰</strong>ï¼šå¦‚æœä¸€ä¸ªå…³ç³»æ¨¡å¼Rçš„æ‰€æœ‰å±æ€§éƒ½æ˜¯ä¸å¯åˆ†çš„åŸºæœ¬æ•°æ®é¡¹ï¼Œåˆ™Râˆˆ1NFã€‚</p><p>æ‰€æœ‰å±æ€§å¿…é¡»æ˜¯åŸå­çš„, ä¸å…è®¸è¡¨ä¸­å¥—è¡¨</p><h3 id="2NF"><a href="#2NF" class="headerlink" title="2NF"></a>2NF</h3><p><strong>å®šä¹‰</strong>ï¼šè‹¥ Râˆˆ1NFï¼Œä¸”æ¯ä¸€ä¸ªéä¸»å±æ€§å®Œå…¨ä¾èµ–äºä»»ä½•ä¸€ä¸ªå€™é€‰ç ï¼Œåˆ™Râˆˆ2NFã€‚</p><p>æ»¡è¶³1NFä¸”ä¸å­˜åœ¨éä¸»å±æ€§å¯¹å€™é€‰ç çš„éƒ¨åˆ†å‡½æ•°ä¾èµ–</p><h3 id="3NF"><a href="#3NF" class="headerlink" title="3NF"></a>3NF</h3><p>æ»¡è¶³2NFä¸”ä¸å­˜åœ¨éä¸»å±æ€§å¯¹å€™é€‰ç çš„ä¼ é€’å‡½æ•°ä¾èµ–å’Œéƒ¨åˆ†å‡½æ•°ä¾èµ–</p><h3 id="BCNF"><a href="#BCNF" class="headerlink" title="BCNF"></a>BCNF</h3><p>ä¿®æ­£çš„ç¬¬ä¸‰èŒƒå¼</p><p>æ²¡æœ‰ä»»ä½•å±æ€§å¯¹ç çš„éƒ¨åˆ†å‡½æ•°ä¾èµ–å’Œä¼ é€’å‡½æ•°ä¾èµ–</p><p>åœ¨å…³ç³»æ¨¡å¼R&lt;U,F&gt;ä¸­æ¯ä¸€ä¸ªå†³å®šå› ç´ éƒ½åŒ…å«ç ï¼Œåˆ™R&lt;U,F&gt;âˆˆBCNF</p><h2 id="3-æ•°æ®åº“ä¾èµ–çš„å…¬ç†ç³»ç»Ÿ"><a href="#3-æ•°æ®åº“ä¾èµ–çš„å…¬ç†ç³»ç»Ÿ" class="headerlink" title="3 | æ•°æ®åº“ä¾èµ–çš„å…¬ç†ç³»ç»Ÿ"></a>3 | æ•°æ®åº“ä¾èµ–çš„å…¬ç†ç³»ç»Ÿ</h2><h3 id="å…­æ¡æ¨ç†è§„åˆ™"><a href="#å…­æ¡æ¨ç†è§„åˆ™" class="headerlink" title="å…­æ¡æ¨ç†è§„åˆ™"></a>å…­æ¡æ¨ç†è§„åˆ™</h3><ul><li>è‡ªåå¾‹</li><li>å¢å¹¿å¾‹</li><li>ä¼ é€’å¾‹</li><li>åˆå¹¶è§„åˆ™</li><li>åˆ†è§£è§„åˆ™</li><li>ä¼ªä¼ é€’è§„åˆ™</li></ul><p><a href="https://youpai.roccoshi.top/img/20210102192831.png"><img src="https://youpai.roccoshi.top/img/20210102192831.png" alt="img"></a></p><h3 id="å‡½æ•°ä¾èµ–é›†çš„é—­åŒ…"><a href="#å‡½æ•°ä¾èµ–é›†çš„é—­åŒ…" class="headerlink" title="å‡½æ•°ä¾èµ–é›†çš„é—­åŒ…"></a>å‡½æ•°ä¾èµ–é›†çš„é—­åŒ…</h3><p>åœ¨å…³ç³»æ¨¡å¼Rä¸­ä¸ºFæ‰€é€»è¾‘è•´å«çš„å‡½æ•°ä¾èµ–çš„å…¨ä½“å«åšFçš„é—­åŒ…, è®°ä¸ºF+</p><p>æ³¨: F+ä¸€èˆ¬è¶…çº§å¤š, æ±‚F+å±äºNPå®Œå…¨é—®é¢˜</p><h3 id="å±æ€§é›†çš„é—­åŒ…"><a href="#å±æ€§é›†çš„é—­åŒ…" class="headerlink" title="å±æ€§é›†çš„é—­åŒ…"></a>å±æ€§é›†çš„é—­åŒ…</h3><p>è®¾Fä¸ºå±æ€§é›†Uä¸Šçš„ä¸€ç»„å‡½æ•°ä¾èµ–, XâŠ†U, Xå…³äºå‡½æ•°ä¾èµ–é›†Fçš„é—­åŒ…ä¸ºXF+</p><p>èƒ½ç”±æ ¹æ®å…¬ç†å¯¼å‡ºXF+={A|Xâ†’Aèƒ½ç”±Fæ ¹æ®Armstrongå…¬ç†å¯¼å‡º}</p><p>æ³¨: å³æ±‚Xå¯ä»¥å¯¼å‡ºçš„æ‰€æœ‰å±æ€§é›†åˆ</p><p><a href="https://youpai.roccoshi.top/img/20210102192832.png"><img src="https://youpai.roccoshi.top/img/20210102192832.png" alt="img"></a></p><h3 id="æœ€å°å‡½æ•°ä¾èµ–é›†"><a href="#æœ€å°å‡½æ•°ä¾èµ–é›†" class="headerlink" title="æœ€å°å‡½æ•°ä¾èµ–é›†"></a>æœ€å°å‡½æ•°ä¾èµ–é›†</h3><p>å³ç”¨æœ€å°‘çš„å‡½æ•°ä¾èµ–è¡¨ç¤ºå…¨éƒ¨å±æ€§ä¹‹é—´çš„ä¾èµ–å…³ç³», è®°ä¸ºFmin</p><p>æœ€å°å‡½æ•°ä¾èµ–é›†çš„å®šä¹‰:</p><p><a href="https://youpai.roccoshi.top/img/20210102192833.png"><img src="https://youpai.roccoshi.top/img/20210102192833.png" alt="img"></a></p><h3 id="è€ƒç‚¹-æœ€å°å‡½æ•°ä¾èµ–é›†çš„æ±‚è§£ç®—æ³•"><a href="#è€ƒç‚¹-æœ€å°å‡½æ•°ä¾èµ–é›†çš„æ±‚è§£ç®—æ³•" class="headerlink" title="è€ƒç‚¹: æœ€å°å‡½æ•°ä¾èµ–é›†çš„æ±‚è§£ç®—æ³•"></a>è€ƒç‚¹: æœ€å°å‡½æ•°ä¾èµ–é›†çš„æ±‚è§£ç®—æ³•</h3><p>ç¬¬ä¸€æ­¥: <strong>å¯¹æ¯ä¸ªå‡½æ•°ä¾èµ–ä½œå³éƒ¨å±æ€§åˆ†ç¦»</strong></p><p>ç¬¬äºŒæ­¥: <strong>å»æ‰å·¦éƒ¨çš„å†—ä½™å±æ€§</strong></p><p>ç¬¬ä¸‰æ­¥: <strong>å»é™¤å¤šä½™çš„å‡½æ•°ä¾èµ–</strong></p><p>æ³¨æ„: æœ€å°å‡½æ•°ä¾èµ–é›†ä¸æ˜¯å”¯ä¸€çš„</p><h4 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h4><p><a href="https://youpai.roccoshi.top/img/20210102192834.png"><img src="https://youpai.roccoshi.top/img/20210102192834.png" alt="img"></a></p><p>åœ¨ç¬¬ä¸‰æ­¥çš„æ—¶å€™å¯ä»¥é‡‡ç”¨ã€Œé™¤æœ¬æ±‚åŒ…ã€çš„æ–¹æ³•, å³é™¤å»æ­£åœ¨è€ƒå¯Ÿçš„è¿™ä¸ªå‡½æ•°ä¾èµ–, çœ‹å·¦éƒ¨å±æ€§çš„é—­åŒ…æ˜¯å¦åŒ…å«æ­£åœ¨è€ƒå¯Ÿçš„å‡½æ•°ä¾èµ–çš„å³éƒ¨å±æ€§, å¦‚æœåŒ…å«åˆ™æ­£åœ¨è€ƒå¯Ÿçš„è¿™ä¸ªå‡½æ•°ä¾èµ–ä¸ºå¤šä½™çš„å‡½æ•°ä¾èµ–, ä¾‹å¦‚ä¸Šé¢çš„A-&gt;D, é™¤å»A-&gt;Dçš„è¿™ä¸ªå‡½æ•°ä¾èµ–æ±‚Açš„é—­åŒ…ä¸º{A, B, C, D, E}åŒ…å«D, åˆ™A-&gt;Dä¸ºå¤šä½™, åº”è¯¥å»é™¤ã€‚</p><p><strong>æ­£åˆ™è¦†ç›–</strong>: å°†æ±‚å‡ºçš„æœ€å°å‡½æ•°ä¾èµ–é›†å·¦éƒ¨å±æ€§ç›¸åŒçš„å‡½æ•°ä¾èµ–åˆå¹¶(ä¾‹å¦‚A-&gt;B A-&gt;Cåˆå¹¶ä¸ºA-&gt;BC)</p><h3 id="è€ƒç‚¹-å€™é€‰ç æ±‚è§£ç®—æ³•"><a href="#è€ƒç‚¹-å€™é€‰ç æ±‚è§£ç®—æ³•" class="headerlink" title="è€ƒç‚¹: å€™é€‰ç æ±‚è§£ç®—æ³•"></a>è€ƒç‚¹: å€™é€‰ç æ±‚è§£ç®—æ³•</h3><p>ç¬¬ä¸€æ­¥: <strong>æ ¹æ®å‡½æ•°ä¾èµ–é›†Få°†Rçš„æ‰€æœ‰å±æ€§åˆ†ä¸ºLç±», Rç±», LRç±»å’ŒNç±»å±æ€§[<a href="https://blog.roccoshi.top/2021/%E8%A5%BF%E7%94%B5%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%80%BB%E5%A4%8D%E4%B9%A0/#fn:1">1]</a>, ä»¤Xä¸ºL, Nç±»çš„é›†åˆ, Yä¸ºLRç±»çš„é›†åˆ</strong></p><p>ç¬¬äºŒæ­¥: <strong>å¦‚æœXF+=U, åˆ™Xä¸ºRçš„å”¯ä¸€å€™é€‰ç , ç»“æŸ, å¦åˆ™åˆ°ç¬¬ä¸‰æ­¥</strong></p><p>ç¬¬ä¸‰æ­¥: <strong>é€ä¸€å–Yä¸­çš„å•ä¸€å±æ€§A, è‹¥(XA)F+=U, åˆ™XAä¸ºå€™é€‰ç , ä»¤Y = Y - {A}, åˆ°ç¬¬å››æ­¥</strong></p><p>ç¬¬å››æ­¥: <strong>ä¾æ¬¡å–Yä¸­çš„ä¸¤ä¸ª, ä¸‰ä¸ªâ€¦å±æ€§ä¸Xç»„æˆå±æ€§ç»„XZ, è‹¥XZä¸åŒ…å«å·²æ±‚å¾—çš„å€™é€‰ç , åˆ™æ±‚å…¶å…³äºFçš„é—­åŒ…(XZ)F+</strong></p><p><strong>è‹¥(XZ)F+=U, åˆ™XZä¸ºå€™é€‰ç , é‡å¤ç¬¬å››æ­¥ç›´åˆ°æ‰€æœ‰Yä¸­çš„å±æ€§å–å®Œä¸ºæ­¢, ç®—æ³•ç»“æŸ</strong></p><h4 id="ä¾‹å­-1"><a href="#ä¾‹å­-1" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h4><p><a href="https://youpai.roccoshi.top/img/20210102192835.png"><img src="https://youpai.roccoshi.top/img/20210102192835.png" alt="img"></a></p><h2 id="4-æ¨¡å¼åˆ†è§£"><a href="#4-æ¨¡å¼åˆ†è§£" class="headerlink" title="4 | æ¨¡å¼åˆ†è§£"></a>4 | æ¨¡å¼åˆ†è§£</h2><p><a href="https://youpai.roccoshi.top/img/20210102192836.png"><img src="https://youpai.roccoshi.top/img/20210102192836.png" alt="img"></a></p><p>åˆ†è§£åº”è¯¥è€ƒè™‘çš„é—®é¢˜</p><ul><li>åˆ†è§£ä¸èƒ½ä¸¢å¤±ä¿¡æ¯</li><li>åˆ†è§£åº”è¯¥ä¿æŒå‡½æ•°ä¾èµ–</li><li>åˆ†è§£éœ€è¦ä¿æŒæ— æŸè¿æ¥ (å¯ä»¥é€šè¿‡è‡ªç„¶è¿æ¥è¿˜åŸ)</li></ul><h3 id="è€ƒç‚¹-æ¨¡å¼çš„æ— æŸè¿æ¥æ€§åˆ¤å®šç®—æ³•"><a href="#è€ƒç‚¹-æ¨¡å¼çš„æ— æŸè¿æ¥æ€§åˆ¤å®šç®—æ³•" class="headerlink" title="è€ƒç‚¹: æ¨¡å¼çš„æ— æŸè¿æ¥æ€§åˆ¤å®šç®—æ³•"></a>è€ƒç‚¹: æ¨¡å¼çš„æ— æŸè¿æ¥æ€§åˆ¤å®šç®—æ³•</h3><h4 id="æ–¹æ³•ä¸€"><a href="#æ–¹æ³•ä¸€" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h4><p>Rçš„ä¸€ä¸ªåˆ†è§£ä¸ºR1, R2</p><p><strong>è‹¥U1âˆ©U2â†’U1âˆ’U2âˆˆF+æˆ–è€…U1âˆ©U2â†’U2âˆ’U1âˆˆF+åˆ™åˆ†è§£R1, R2ä¿æŒæ— æŸè¿æ¥</strong> (<strong>å……åˆ†å¿…è¦æ¡ä»¶</strong>, ç”¨äºä¸€åˆ†ä¸ºäºŒæ¨¡å¼çš„æ— æŸè¿æ¥åˆ¤æ–­)</p><h4 id="æ–¹æ³•äºŒ"><a href="#æ–¹æ³•äºŒ" class="headerlink" title="æ–¹æ³•äºŒ"></a>æ–¹æ³•äºŒ</h4><p>æ„é€ è¡¨</p><p><a href="https://youpai.roccoshi.top/img/20210102192837.png"><img src="https://youpai.roccoshi.top/img/20210102192837.png" alt="img"></a></p><h3 id="å°†æ¨¡å¼åˆ†è§£ä¸ºBCNFå¹¶ä¿æŒæ— æŸè¿æ¥"><a href="#å°†æ¨¡å¼åˆ†è§£ä¸ºBCNFå¹¶ä¿æŒæ— æŸè¿æ¥" class="headerlink" title="å°†æ¨¡å¼åˆ†è§£ä¸ºBCNFå¹¶ä¿æŒæ— æŸè¿æ¥"></a>å°†æ¨¡å¼åˆ†è§£ä¸ºBCNFå¹¶ä¿æŒæ— æŸè¿æ¥</h3><p><a href="https://youpai.roccoshi.top/img/20210102192838.png"><img src="https://youpai.roccoshi.top/img/20210102192838.png" alt="img"></a></p><h1 id="8-åµŒå…¥å¼SQL"><a href="#8-åµŒå…¥å¼SQL" class="headerlink" title="8. åµŒå…¥å¼SQL"></a>8. åµŒå…¥å¼SQL</h1><h2 id="1-ä¸»è¯­è¨€-SQLCA-ä¸»å˜é‡-æ¸¸æ ‡"><a href="#1-ä¸»è¯­è¨€-SQLCA-ä¸»å˜é‡-æ¸¸æ ‡" class="headerlink" title="1 | ä¸»è¯­è¨€ SQLCA ä¸»å˜é‡ æ¸¸æ ‡"></a>1 | ä¸»è¯­è¨€ SQLCA ä¸»å˜é‡ æ¸¸æ ‡</h2><p>ä¸»è¯­è¨€: C++, JAVA</p><p>SQLCA: sql communication area (SQLé€šä¿¡åŒº)</p><p>ä¸»å˜é‡: sqlä½¿ç”¨ä¸»è¯­è¨€ä¸­çš„å˜é‡</p><p>æ¸¸æ ‡: ä¸€æ®µç¼“å†²åŒº, ç”¨äºå­˜æ”¾sqlçš„æ‰§è¡Œç»“æœ</p><h3 id="æ•°æ®åº“å’Œæºç¨‹åºå·¥ä½œå•å…ƒé—´çš„é€šä¿¡"><a href="#æ•°æ®åº“å’Œæºç¨‹åºå·¥ä½œå•å…ƒé—´çš„é€šä¿¡" class="headerlink" title="æ•°æ®åº“å’Œæºç¨‹åºå·¥ä½œå•å…ƒé—´çš„é€šä¿¡"></a>æ•°æ®åº“å’Œæºç¨‹åºå·¥ä½œå•å…ƒé—´çš„é€šä¿¡</h3><ol><li>SQLCAå‘ä¸»è¯­è¨€ä¼ é€’SQLè¯­å¥çš„æ‰§è¡Œä¿¡æ¯(æ‰§è¡ŒçŠ¶æ€)</li><li>ä¸»è¯­è¨€é€šè¿‡ä¸»å˜é‡å‘SQLæä¾›å‚æ•°</li><li>ä¸»å˜é‡å’Œæ¸¸æ ‡å°†SQLè¯­å¥æŸ¥è¯¢æ•°æ®åº“çš„ç»“æœäº¤ä¸»è¯­è¨€å¤„ç†</li></ol><h1 id="9-äº‹åŠ¡"><a href="#9-äº‹åŠ¡" class="headerlink" title="9. äº‹åŠ¡"></a>9. äº‹åŠ¡</h1><h2 id="1-äº‹åŠ¡çš„ACIDç‰¹æ€§"><a href="#1-äº‹åŠ¡çš„ACIDç‰¹æ€§" class="headerlink" title="1 | äº‹åŠ¡çš„ACIDç‰¹æ€§"></a>1 | äº‹åŠ¡çš„ACIDç‰¹æ€§</h2><ul><li>åŸå­æ€§Atomicity: äº‹åŠ¡è¦ä¹ˆå…¨åš, è¦ä¹ˆå…¨ä¸åš</li><li>ä¸€è‡´æ€§Consistency: äº‹åŠ¡è®©æ•°æ®åº“ä»ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€â€”&gt;å¦ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€</li><li>éš”ç¦»æ€§Isolation: äº‹åŠ¡çš„æ‰§è¡Œä¸èƒ½è¢«å…¶ä»–äº‹åŠ¡å¹²æ‰°</li><li>æŒç»­æ€§Durability: äº‹åŠ¡æäº¤åå¯¹æ•°æ®åº“ä¸­æ•°æ®çš„æ”¹å˜ä¸ºæ°¸ä¹…æ€§çš„</li></ul><h2 id="2-å¹¶å‘æ§åˆ¶"><a href="#2-å¹¶å‘æ§åˆ¶" class="headerlink" title="2 | å¹¶å‘æ§åˆ¶"></a>2 | å¹¶å‘æ§åˆ¶</h2><p>å‡ ç§å¹¶å‘å†²çª:</p><ol><li><strong>ä¸¢å¤±ä¿®æ”¹</strong> (å†™-å†™å†²çª)</li><li><strong>ä¸å¯é‡å¤è¯»</strong> (è¯»-å†™å†²çª)</li><li><strong>è¯»â€œè„â€æ•°æ®</strong> (å†™-è¯»å†²çª)</li></ol><h2 id="3-å°é”æœºåˆ¶"><a href="#3-å°é”æœºåˆ¶" class="headerlink" title="3 | å°é”æœºåˆ¶"></a>3 | å°é”æœºåˆ¶</h2><p><strong>Xé”</strong>: æ’ä»–é”, æŒæœ‰Xé”çš„äººèƒ½è¯»å†™æ•°æ®åº“</p><p><strong>Sé”:</strong> å…±äº«é”, æŒæœ‰Sé”çš„äººèƒ½è¯»ä¸èƒ½å†™æ•°æ®åº“</p><p>ä»…èƒ½æœ‰ä¸€ä¸ªäº‹åŠ¡æ‹¥æœ‰Xé”, å¯ä»¥æœ‰å¤šä¸ªäº‹åŠ¡åŒæ—¶æ‹¥æœ‰Sé”</p><h3 id="ä¸€çº§å°é”åè®®"><a href="#ä¸€çº§å°é”åè®®" class="headerlink" title="ä¸€çº§å°é”åè®®"></a>ä¸€çº§å°é”åè®®</h3><p>ä¿®æ”¹æ•°æ®ä¹‹å‰å…ˆåŠ Xé”, äº‹åŠ¡ç»“æŸåé‡Šæ”¾</p><p>è§£å†³é—®é¢˜: <strong>ä¸¢å¤±ä¿®æ”¹</strong></p><h3 id="äºŒçº§å°é”åè®®"><a href="#äºŒçº§å°é”åè®®" class="headerlink" title="äºŒçº§å°é”åè®®"></a>äºŒçº§å°é”åè®®</h3><p>åœ¨ä¸€çº§å°é”åè®®åŸºç¡€ä¸Šå¢åŠ åœ¨è¯»å–æ•°æ®å‰å¿…é¡»å¯¹æ•°æ®åŠ Sé”, è¯»å®Œåå³å¯é‡Šæ”¾</p><p>è§£å†³é—®é¢˜: <strong>ä¸¢å¤±ä¿®æ”¹å’Œè¯»â€œè„â€æ•°æ®</strong></p><h3 id="ä¸‰çº§å°é”åè®®"><a href="#ä¸‰çº§å°é”åè®®" class="headerlink" title="ä¸‰çº§å°é”åè®®"></a>ä¸‰çº§å°é”åè®®</h3><p>åœ¨ä¸€çº§å°é”åè®®çš„åŸºç¡€ä¸Šå¢åŠ åœ¨è¯»å–æ•°æ®å‰å¿…é¡»å¯¹æ•°æ®åŠ Sé”, åœ¨äº‹åŠ¡ç»“æŸåæ‰å¯é‡Šæ”¾</p><p>è§£å†³é—®é¢˜: <strong>ä¸¢å¤±ä¿®æ”¹, ä¸å¯é‡å¤è¯», è¯»â€œè„â€æ•°æ®</strong></p><h2 id="4-å¹¶å‘è°ƒåº¦çš„å¯ä¸²è¡Œæ€§"><a href="#4-å¹¶å‘è°ƒåº¦çš„å¯ä¸²è¡Œæ€§" class="headerlink" title="4 | å¹¶å‘è°ƒåº¦çš„å¯ä¸²è¡Œæ€§"></a>4 | å¹¶å‘è°ƒåº¦çš„å¯ä¸²è¡Œæ€§</h2><p><strong>å¯ä¸²è¡ŒåŒ–è°ƒåº¦çš„å®šä¹‰:</strong></p><blockquote><p>å®šä¹‰: å¤šä¸ªå¹¶å‘äº‹åŠ¡çš„æ‰§è¡Œæ˜¯æ­£ç¡®çš„, å½“ä¸”ä»…å½“å…¶ç»“æœä¸æŒ‰ä¸€å®šæ¬¡åºä¸²è¡Œåœ°æ‰§è¡Œè¿™äº›äº‹åŠ¡æ—¶çš„ç»“æœç›¸åŒ</p></blockquote><p><strong>å¯ä¸²è¡Œæ€§</strong>æ˜¯å¹¶å‘äº‹åŠ¡æ­£ç¡®è°ƒåº¦çš„å‡†åˆ™, ä¸€ä¸ªç»™å®šçš„å¹¶å‘è°ƒåº¦å½“ä¸”ä»…å½“å®ƒæ˜¯å¯ä¸²è¡ŒåŒ–çš„æ‰è®¤ä¸ºæ˜¯æ­£ç¡®çš„è°ƒåº¦</p><p><strong>å†²çªå¯ä¸²è¡ŒåŒ–è°ƒåº¦:</strong></p><p>å°†å¹¶å‘è°ƒåº¦ä¿è¯å†²çªæ“ä½œæ¬¡åºä¸å˜çš„æƒ…å†µä¸‹äº¤æ¢ä¸å†²çªæ“ä½œçš„æ¬¡åºå¾—åˆ°å¦ä¸€ä¸ªä¸²è¡Œè°ƒåº¦, åˆ™ç§°è¿™ä¸ªå¹¶å‘è°ƒåº¦ä¸ºå†²çªå¯ä¸²è¡ŒåŒ–çš„è°ƒåº¦, å¦‚æœä¸€ä¸ªè°ƒåº¦æ˜¯å†²çªå¯ä¸²è¡ŒåŒ–çš„, é‚£ä¹ˆåˆ™ä¸€å®šæ˜¯å¯ä¸²è¡ŒåŒ–çš„è°ƒåº¦ã€‚</p><p>æ³¨æ„: å†²çªå¯ä¸²è¡ŒåŒ–è°ƒåº¦æ˜¯å¯ä¸²è¡ŒåŒ–è°ƒåº¦çš„å……åˆ†éå¿…è¦æ¡ä»¶</p><h2 id="5-ä¸¤æ®µé”åè®®"><a href="#5-ä¸¤æ®µé”åè®®" class="headerlink" title="5 | ä¸¤æ®µé”åè®®"></a>5 | ä¸¤æ®µé”åè®®</h2><p>ä¸¤æ®µé”åè®®:</p><blockquote><p>å…ˆç»Ÿä¸€åŠ é”, äº‹åŠ¡ç»“æŸæ—¶ç»Ÿä¸€é‡Šæ”¾é”</p></blockquote><ul><li>éµå®ˆä¸¤æ®µé”åè®®ä¹Ÿä¼šå‘ç”Ÿæ­»é”</li><li>éµå®ˆä¸¤æ®µé”åè®®æ˜¯å¯ä¸²è¡ŒåŒ–è°ƒåº¦çš„å……åˆ†æ¡ä»¶</li></ul><p>åŸåšå®¢è½¬è½½äºï¼š<a href="https://blog.roccoshi.top/">https://blog.roccoshi.top/</a> + æœ¬äººå¢åˆ ä¿®æ”¹</p>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®åº“</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ•°æ®åº“</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode 2022ä¸‰æœˆåˆ·é¢˜æ—¥è®°</title>
    <link href="/2022/03/11/LeetCode%202022%E4%B8%89%E6%9C%88%E5%88%B7%E9%A2%98%E6%97%A5%E8%AE%B0/"/>
    <url>/2022/03/11/LeetCode%202022%E4%B8%89%E6%9C%88%E5%88%B7%E9%A2%98%E6%97%A5%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h2 id="LC-232-ç”¨æ ˆå®ç°é˜Ÿåˆ—"><a href="#LC-232-ç”¨æ ˆå®ç°é˜Ÿåˆ—" class="headerlink" title="LC 232.ç”¨æ ˆå®ç°é˜Ÿåˆ—"></a>LC 232.ç”¨æ ˆå®ç°é˜Ÿåˆ—</h2><h3 id="é¢˜ç›®å¤§æ„"><a href="#é¢˜ç›®å¤§æ„" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>è¯·ä½ ä»…ä½¿ç”¨ä¸¤ä¸ªæ ˆå®ç°å…ˆå…¥å…ˆå‡ºé˜Ÿåˆ—,é˜Ÿåˆ—æ”¯æŒä¸€èˆ¬é˜Ÿåˆ—æ”¯æŒçš„æ‰€æœ‰æ“ä½œï¼ˆpushã€popã€peekã€emptyï¼‰ å®ç°Â MyQueueÂ ç±»ï¼š </p><p>void push(int x) å°†å…ƒç´  x æ¨åˆ°é˜Ÿåˆ—çš„æœ«å°¾ </p><p>int pop() ä»é˜Ÿåˆ—çš„å¼€å¤´ç§»é™¤å¹¶è¿”å›å…ƒç´  </p><p>int peek() è¿”å›é˜Ÿåˆ—å¼€å¤´çš„å…ƒç´  </p><p>boolean empty() å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false Â </p><h3 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>æ ˆã€é˜Ÿåˆ—å’Œæ¨¡æ‹Ÿçš„ç»¼åˆåº”ç”¨</p><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">MyQueue</span>Â &#123;<br><span class="hljs-keyword">public</span>:<br>Â Â Â Â stack&lt;<span class="hljs-type">int</span>&gt;Â stIn;Â Â <span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªæ ˆstInÂ ç”¨äºè¿›æ ˆ</span><br>Â Â Â Â stack&lt;<span class="hljs-type">int</span>&gt;Â stOut;Â <span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªæ ˆstOutÂ ç”¨äºå‡ºæ ˆ</span><br>Â Â Â Â <span class="hljs-built_in">MyQueue</span>()Â &#123;<br>Â Â Â Â &#125;<br>    <br>Â Â Â Â <span class="hljs-function"><span class="hljs-type">void</span>Â <span class="hljs-title">push</span><span class="hljs-params">(<span class="hljs-type">int</span>Â x)</span>Â </span>&#123;<br>Â Â Â Â Â Â Â Â stIn.<span class="hljs-built_in">push</span>(x);Â Â <span class="hljs-comment">//å°†å…ƒç´ å‹å…¥æ ˆä¸­</span><br>Â Â Â Â &#125;<br><br>Â Â Â Â <span class="hljs-function"><span class="hljs-type">int</span>Â <span class="hljs-title">pop</span><span class="hljs-params">()</span>Â </span>&#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>(stOut.<span class="hljs-built_in">empty</span>())Â Â <span class="hljs-comment">//å¦‚æœæ ˆstOutä¸ºç©ºÂ åˆ™å°†æ ˆstInä¸­æ‰€æœ‰å…ƒç´ å‹å…¥æ ˆstOutä¸­</span><br>Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">while</span>(!stIn.<span class="hljs-built_in">empty</span>())<br>Â Â Â Â Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â stOut.<span class="hljs-built_in">push</span>(stIn.<span class="hljs-built_in">top</span>());Â Â <span class="hljs-comment">//å°†æ ˆstInæ ˆé¡¶å…ƒç´ å‹å…¥æ ˆstOutä¸­</span><br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â stIn.<span class="hljs-built_in">pop</span>();Â Â <span class="hljs-comment">//æ ˆé¡¶å…ƒç´ å‹å…¥æ ˆstOutåå°†å…ƒç´ åˆ é™¤</span><br>Â Â Â Â Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â <span class="hljs-comment">//å½“æ ˆstOutä¸ä¸ºç©ºæ—¶Â åˆ™ç›´æ¥å¼¹å‡ºæ ˆstOutæ ˆé¡¶å…ƒç´ </span><br>Â Â Â Â Â Â Â Â <span class="hljs-type">int</span>Â resÂ =Â stOut.<span class="hljs-built_in">top</span>();<br>Â Â Â Â Â Â Â Â stOut.<span class="hljs-built_in">pop</span>();<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â res;<br>Â Â Â Â &#125;<br><br>Â Â Â Â <span class="hljs-function"><span class="hljs-type">int</span>Â <span class="hljs-title">peek</span><span class="hljs-params">()</span>Â </span>&#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-type">int</span>Â resÂ =Â <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">pop</span>();Â Â <span class="hljs-comment">//ç›´æ¥ä½¿ç”¨å·²æœ‰çš„popå‡½æ•°è·å–æ ˆé¡¶å…ƒç´ </span><br>Â Â Â Â Â Â Â Â stOut.<span class="hljs-built_in">push</span>(res);Â Â <span class="hljs-comment">//å› ä¸ºpopå‡½æ•°å¼¹å‡ºäº†å…ƒç´ resÂ æ‰€ä»¥å†æ·»åŠ å›å»</span><br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â res;<br>Â Â Â Â &#125;<br><br>Â Â Â Â <span class="hljs-function"><span class="hljs-type">bool</span>Â <span class="hljs-title">empty</span><span class="hljs-params">()</span>Â </span>&#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â stIn.<span class="hljs-built_in">empty</span>()Â &amp;&amp;Â stOut.<span class="hljs-built_in">empty</span>();Â Â <span class="hljs-comment">//å½“æ ˆstInå’Œæ ˆstOutéƒ½ä¸ä¸ºç©ºæ—¶Â é˜Ÿåˆ—æ‰ä¸ä¸ºç©º</span><br>Â Â Â Â &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>LeetCodeé¢˜è§£+åŠ¨ç”»æ¼”ç¤ºï¼š<a href="https://leetcode-cn.com/problems/implement-queue-using-stacks/solution/232-yong-zhan-shi-xian-dui-lie-liang-ge-zhan-lai-m/">https://leetcode-cn.com/problems/implement-queue-using-stacks/solution/232-yong-zhan-shi-xian-dui-lie-liang-ge-zhan-lai-m/</a></p><h2 id="LC-225-ç”¨é˜Ÿåˆ—å®ç°æ ˆ"><a href="#LC-225-ç”¨é˜Ÿåˆ—å®ç°æ ˆ" class="headerlink" title="LC 225.ç”¨é˜Ÿåˆ—å®ç°æ ˆ"></a>LC 225.ç”¨é˜Ÿåˆ—å®ç°æ ˆ</h2><h3 id="é¢˜ç›®å¤§æ„-1"><a href="#é¢˜ç›®å¤§æ„-1" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>è¯·ä½ ä»…ä½¿ç”¨ä¸¤ä¸ªé˜Ÿåˆ—å®ç°ä¸€ä¸ªåå…¥å…ˆå‡ºï¼ˆLIFOï¼‰çš„æ ˆï¼Œå¹¶æ”¯æŒæ™®é€šæ ˆçš„å…¨éƒ¨å››ç§æ“ä½œï¼ˆpushã€topã€ popÂ å’ŒÂ emptyï¼‰ã€‚ å®ç°Â MyStackÂ ç±»ï¼š </p><p>void push(int x) å°†å…ƒç´  x å‹å…¥æ ˆé¡¶ã€‚ </p><p>int pop() ç§»é™¤å¹¶è¿”å›æ ˆé¡¶å…ƒç´ ã€‚ </p><p>int top() è¿”å›æ ˆé¡¶å…ƒç´ ã€‚ </p><p>boolean empty() å¦‚æœæ ˆæ˜¯ç©ºçš„ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚ Â </p><h3 id="é¢˜è§£-1"><a href="#é¢˜è§£-1" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>æ ˆã€é˜Ÿåˆ—å’Œæ¨¡æ‹Ÿçš„ç»¼åˆåº”ç”¨</p><p><strong>æ–¹æ³•1ï¼šä¸¤ä¸ªé˜Ÿåˆ—å®ç°æ ˆ</strong> </p><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">MyStack</span>Â &#123;<br><span class="hljs-keyword">public</span>:<br>Â Â Â Â queue&lt;<span class="hljs-type">int</span>&gt;Â queue1;Â Â <span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªé˜Ÿåˆ—queue1Â ç”¨äºå­˜å‚¨æ‰€æœ‰å…¥æ ˆå…ƒç´ </span><br>Â Â Â Â queue&lt;<span class="hljs-type">int</span>&gt;Â queue2;Â Â <span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªé˜Ÿåˆ—queue2Â ç”¨äºä¸´æ—¶å­˜å‚¨å³å°†å…¥æ ˆçš„å…ƒç´ </span><br>Â Â Â Â <span class="hljs-built_in">MyStack</span>()Â &#123;<br>Â Â Â Â &#125;<br>    <br>Â Â Â Â <span class="hljs-comment">//ä½¿ç”¨ä¸¤ä¸ªé˜Ÿåˆ—æ¨¡æ‹Ÿå…ƒç´ å…¥æ ˆ</span><br>Â Â Â Â <span class="hljs-function"><span class="hljs-type">void</span>Â <span class="hljs-title">push</span><span class="hljs-params">(<span class="hljs-type">int</span>Â x)</span>Â </span>&#123;<br>Â Â Â Â Â Â Â Â queue2.<span class="hljs-built_in">push</span>(x);Â Â <span class="hljs-comment">//å°†å…¥æ ˆå…ƒç´ æ’å…¥ä¸´æ—¶é˜Ÿåˆ—queue2</span><br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">while</span>(!queue1.<span class="hljs-built_in">empty</span>())Â Â <span class="hljs-comment">//å°†é˜Ÿåˆ—queue1ä¸­æ‰€æœ‰å…ƒç´ æ’å…¥ä¸´æ—¶é˜Ÿåˆ—queue2</span><br>Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â queue2.<span class="hljs-built_in">push</span>(queue1.<span class="hljs-built_in">front</span>());Â Â <span class="hljs-comment">//å°†é˜Ÿåˆ—queue1ä¸­å¤´å…ƒç´ æ’å…¥é˜Ÿåˆ—queue2ä¸­</span><br>Â Â Â Â Â Â Â Â Â Â Â Â queue1.<span class="hljs-built_in">pop</span>();Â Â <span class="hljs-comment">//åˆ é™¤é˜Ÿåˆ—queue1å¤´å…ƒç´ </span><br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â <span class="hljs-built_in">swap</span>(queue1,queue2);Â Â <span class="hljs-comment">//ä¸ºäº†é¿å…æ‰“ä¹±å…ƒç´ é¡ºåºÂ äº¤æ¢é˜Ÿåˆ—queue1å’Œqueue2</span><br>Â Â Â Â &#125;<br><br>Â Â Â Â <span class="hljs-function"><span class="hljs-type">int</span>Â <span class="hljs-title">pop</span><span class="hljs-params">()</span>Â </span>&#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-type">int</span>Â resÂ =Â queue1.<span class="hljs-built_in">front</span>();<br>Â Â Â Â Â Â Â Â queue1.<span class="hljs-built_in">pop</span>();<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â res;<br>Â Â Â Â &#125;<br><br>Â Â Â Â <span class="hljs-function"><span class="hljs-type">int</span>Â <span class="hljs-title">top</span><span class="hljs-params">()</span>Â </span>&#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-type">int</span>Â resÂ =Â queue1.<span class="hljs-built_in">front</span>();<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â res;<br>Â Â Â Â &#125;<br><br>Â Â Â Â <span class="hljs-function"><span class="hljs-type">bool</span>Â <span class="hljs-title">empty</span><span class="hljs-params">()</span>Â </span>&#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â queue1.<span class="hljs-built_in">empty</span>();Â Â <span class="hljs-comment">//å› ä¸ºqueue1åŒ…å«äº†æ ˆä¸­æ‰€æœ‰å…ƒç´ Â æ‰€ä»¥åªéœ€è¦æ£€æŸ¥queue1æ˜¯å¦ä¸ºç©ºå³å¯</span><br>Â Â Â Â Â Â Â Â <span class="hljs-comment">//queue2ä½œä¸ºä¸´æ—¶é˜Ÿåˆ—Â ä¸æ°¸ä¹…å­˜å‚¨æ ˆä¸­çš„å…ƒç´ </span><br>Â Â Â Â &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p><strong>æ–¹æ³•äºŒï¼šä¸€ä¸ªé˜Ÿåˆ—å®ç°æ ˆ</strong></p><p>å…¥æ ˆæ“ä½œæ—¶ï¼Œé¦–å…ˆè·å¾—å…¥æ ˆå‰çš„å…ƒç´ ä¸ªæ•° nï¼Œç„¶åå°†å…ƒç´ å…¥é˜Ÿåˆ°é˜Ÿåˆ—ï¼Œå†å°†é˜Ÿåˆ—ä¸­çš„å‰ n ä¸ªå…ƒç´ ï¼ˆå³é™¤äº†æ–°å…¥æ ˆçš„å…ƒç´ ä¹‹å¤–çš„å…¨éƒ¨å…ƒç´ ï¼‰ä¾æ¬¡å‡ºé˜Ÿå¹¶å…¥é˜Ÿåˆ°é˜Ÿåˆ—ï¼Œæ­¤æ—¶é˜Ÿåˆ—çš„å‰ç«¯çš„å…ƒç´ å³ä¸ºæ–°å…¥æ ˆçš„å…ƒç´ ï¼Œä¸”é˜Ÿåˆ—çš„å‰ç«¯å’Œåç«¯åˆ†åˆ«å¯¹åº”æ ˆé¡¶å’Œæ ˆåº•ã€‚ Â  </p><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">MyStack</span>Â &#123;<br><span class="hljs-keyword">public</span>:<br>Â Â Â Â queue&lt;<span class="hljs-type">int</span>&gt;Â q;<br>Â Â Â Â <span class="hljs-built_in">MyStack</span>()Â &#123;<br>Â Â Â Â &#125;<br><br>Â Â Â Â <span class="hljs-function"><span class="hljs-type">void</span>Â <span class="hljs-title">push</span><span class="hljs-params">(<span class="hljs-type">int</span>Â x)</span>Â </span>&#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-type">int</span>Â nÂ =Â q.<span class="hljs-built_in">size</span>();<br>Â Â Â Â Â Â Â Â q.<span class="hljs-built_in">push</span>(x);<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â (<span class="hljs-type">int</span>Â iÂ =Â <span class="hljs-number">0</span>;Â iÂ &lt;Â n;Â i++)Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â q.<span class="hljs-built_in">push</span>(q.<span class="hljs-built_in">front</span>());<br>Â Â Â Â Â Â Â Â Â Â Â Â q.<span class="hljs-built_in">pop</span>();<br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â &#125;<br><br>Â Â Â Â <span class="hljs-function"><span class="hljs-type">int</span>Â <span class="hljs-title">pop</span><span class="hljs-params">()</span>Â </span>&#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-type">int</span>Â rÂ =Â q.<span class="hljs-built_in">front</span>();<br>Â Â Â Â Â Â Â Â q.<span class="hljs-built_in">pop</span>();<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â r;<br>Â Â Â Â &#125;<br><br>Â Â Â Â <span class="hljs-function"><span class="hljs-type">int</span>Â <span class="hljs-title">top</span><span class="hljs-params">()</span>Â </span>&#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-type">int</span>Â rÂ =Â q.<span class="hljs-built_in">front</span>();<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â r;<br>Â Â Â Â &#125;<br><br>Â Â Â Â <span class="hljs-function"><span class="hljs-type">bool</span>Â <span class="hljs-title">empty</span><span class="hljs-params">()</span>Â </span>&#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â q.<span class="hljs-built_in">empty</span>();<br>Â Â Â Â &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>LeetCodeé¢˜è§£ï¼š<a href="https://leetcode-cn.com/problems/implement-stack-using-queues/solution/yong-dui-lie-shi-xian-zhan-by-leetcode-solution/">https://leetcode-cn.com/problems/implement-stack-using-queues/solution/yong-dui-lie-shi-xian-zhan-by-leetcode-solution/</a></p><h2 id="LC-112-äºŒå‰æ ‘è·¯å¾„æ€»å’Œ"><a href="#LC-112-äºŒå‰æ ‘è·¯å¾„æ€»å’Œ" class="headerlink" title="LC 112.äºŒå‰æ ‘è·¯å¾„æ€»å’Œ"></a>LC 112.äºŒå‰æ ‘è·¯å¾„æ€»å’Œ</h2><h3 id="é¢˜ç›®å¤§æ„-2"><a href="#é¢˜ç›®å¤§æ„-2" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>ç»™ä½ äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹Â root å’Œä¸€ä¸ªè¡¨ç¤ºç›®æ ‡å’Œçš„æ•´æ•°Â targetSum ã€‚åˆ¤æ–­è¯¥æ ‘ä¸­æ˜¯å¦å­˜åœ¨ æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹ çš„è·¯å¾„ï¼Œè¿™æ¡è·¯å¾„ä¸Šæ‰€æœ‰èŠ‚ç‚¹å€¼ç›¸åŠ ç­‰äºç›®æ ‡å’ŒÂ targetSum ã€‚å¦‚æœå­˜åœ¨ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚ Â </p><h3 id="é¢˜è§£-2"><a href="#é¢˜è§£-2" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>æœ¬é¢˜æ ¸å¿ƒæ€æƒ³æ˜¯å¯¹æ ‘è¿›è¡Œä¸€æ¬¡éå†ï¼Œåœ¨éå†æ˜¯è®°å½•ä»æ ¹èŠ‚ç‚¹åˆ°å½“å‰èŠ‚ç‚¹çš„è·¯å¾„æ€»å’Œï¼Œä»¥é˜²æ­¢é‡å¤è®¡ç®—ã€‚</p><p><strong>æ–¹æ³•1ï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢</strong> </p><p>ä½¿ç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢çš„æ–¹å¼ï¼Œè®°å½•ä»æ ¹èŠ‚ç‚¹åˆ°å½“å‰èŠ‚ç‚¹çš„è·¯å¾„å’Œï¼Œä»¥é˜²æ­¢é‡å¤è®¡ç®—ã€‚ è¿™æ ·æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸¤ä¸ªé˜Ÿåˆ—ï¼Œåˆ†åˆ«å­˜å‚¨å°†è¦éå†çš„èŠ‚ç‚¹ï¼Œä»¥åŠæ ¹èŠ‚ç‚¹åˆ°è¿™äº›èŠ‚ç‚¹çš„è·¯å¾„å’Œã€‚ Â  </p><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">Solution</span>Â &#123;<br><span class="hljs-keyword">public</span>:<br>Â Â Â Â <span class="hljs-function"><span class="hljs-type">bool</span>Â <span class="hljs-title">hasPathSum</span><span class="hljs-params">(TreeNode*Â root,Â <span class="hljs-type">int</span>Â targetSum)</span>Â </span>&#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>(rootÂ ==Â <span class="hljs-literal">nullptr</span>)Â Â <span class="hljs-comment">//é¦–å…ˆåˆ¤æ–­æ ¹èŠ‚ç‚¹æ˜¯å¦å­˜åœ¨</span><br>Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-literal">false</span>;<br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â queue&lt;TreeNode*&gt;Â que_node;Â Â <span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªé˜Ÿåˆ—Â ç”¨äºå­˜å‚¨å°†è¦éå†çš„ç»“ç‚¹</span><br>Â Â Â Â Â Â Â Â queue&lt;<span class="hljs-type">int</span>&gt;Â que_val;Â Â <span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªé˜Ÿåˆ—Â ç”¨äºè®°å½•ä»æ ¹èŠ‚ç‚¹åˆ°å½“å‰èŠ‚ç‚¹è·¯å¾„å’Œ</span><br>Â Â Â Â Â Â Â Â que_node.<span class="hljs-built_in">push</span>(root);Â Â <span class="hljs-comment">//å°†æ ¹èŠ‚ç‚¹åŠ å…¥ç¬¬ä¸€ä¸ªé˜Ÿåˆ—</span><br>Â Â Â Â Â Â Â Â que_val.<span class="hljs-built_in">push</span>(root-&gt;val);Â Â <span class="hljs-comment">//å°†æ ¹èŠ‚ç‚¹çš„å€¼åŠ å…¥ç¬¬äºŒä¸ªé˜Ÿåˆ—</span><br>Â Â Â Â Â Â Â Â <span class="hljs-comment">//è¿­ä»£å¾ªç¯é˜Ÿåˆ—Â ç›´åˆ°é˜Ÿåˆ—ä¸ºç©º</span><br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">while</span>(!que_node.<span class="hljs-built_in">empty</span>())<br>Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â TreeNode*Â nowÂ =Â que_node.<span class="hljs-built_in">front</span>();<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-type">int</span>Â tempÂ =Â que_val.<span class="hljs-built_in">front</span>();<br>Â Â Â Â Â Â Â Â Â Â Â Â que_node.<span class="hljs-built_in">pop</span>();<br>Â Â Â Â Â Â Â Â Â Â Â Â que_val.<span class="hljs-built_in">pop</span>();<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>(now-&gt;leftÂ ==Â <span class="hljs-literal">nullptr</span>Â &amp;&amp;Â now-&gt;rightÂ ==Â <span class="hljs-literal">nullptr</span>)Â Â <span class="hljs-comment">//ä¸å­˜åœ¨å·¦å³èŠ‚ç‚¹Â åˆ™ä¸ºå¶èŠ‚ç‚¹</span><br>Â Â Â Â Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>(tempÂ ==Â targetSum)Â Â <span class="hljs-comment">//åˆ¤æ–­è·¯å¾„å’Œä¸ç›®æ ‡å€¼æ˜¯å¦ç›¸ç­‰</span><br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-literal">true</span>;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">continue</span>;Â Â <span class="hljs-comment">//ä¸ç›¸ç­‰åˆ™è¿­ä»£ç»§ç»­</span><br>Â Â Â Â Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>(now-&gt;leftÂ !=Â <span class="hljs-literal">nullptr</span>)Â Â <span class="hljs-comment">//å­˜åœ¨å·¦å­èŠ‚ç‚¹</span><br>Â Â Â Â Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â que_node.<span class="hljs-built_in">push</span>(now-&gt;left);Â Â <span class="hljs-comment">//å°†å·¦å­èŠ‚ç‚¹åŠ å…¥ç¬¬ä¸€ä¸ªé˜Ÿåˆ—</span><br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â que_val.<span class="hljs-built_in">push</span>(now-&gt;left-&gt;valÂ +Â temp);<span class="hljs-comment">//å°†å·¦å­èŠ‚ç‚¹å€¼ä¸å½“å‰è·¯å¾„å’Œç›¸åŠ åŠ å…¥ç¬¬äºŒä¸ªé˜Ÿåˆ—</span><br>Â Â Â Â Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>(now-&gt;rightÂ !=Â <span class="hljs-literal">nullptr</span>)Â Â <span class="hljs-comment">//å­˜åœ¨å³å­èŠ‚ç‚¹</span><br>Â Â Â Â Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â que_node.<span class="hljs-built_in">push</span>(now-&gt;right);Â Â <span class="hljs-comment">//å°†å³å­èŠ‚ç‚¹åŠ å…¥ç¬¬ä¸€ä¸ªé˜Ÿåˆ—</span><br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â que_val.<span class="hljs-built_in">push</span>(now-&gt;right-valÂ +Â temp);<span class="hljs-comment">//å°†å³å­èŠ‚ç‚¹å€¼ä¸å½“å‰è·¯å¾„å’Œç›¸åŠ åŠ å…¥ç¬¬äºŒä¸ªé˜Ÿåˆ—</span><br>Â Â Â Â Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-literal">false</span>;Â Â <span class="hljs-comment">//æ²¡æœ‰æ»¡è¶³æ¡ä»¶çš„Â è¿”å›false</span><br>Â Â Â Â &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p><strong>æ–¹æ³•2ï¼šé€’å½’</strong> </p><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">Solution</span>Â &#123;<br><span class="hljs-keyword">public</span>:<br>Â Â Â Â <span class="hljs-function"><span class="hljs-type">bool</span>Â <span class="hljs-title">hasPathSum</span><span class="hljs-params">(TreeNodeÂ *root,Â <span class="hljs-type">int</span>Â sum)</span>Â </span>&#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (rootÂ ==Â <span class="hljs-literal">nullptr</span>)Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-literal">false</span>;<br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (root-&gt;leftÂ ==Â <span class="hljs-literal">nullptr</span>Â &amp;&amp;Â root-&gt;rightÂ ==Â <span class="hljs-literal">nullptr</span>)Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â sumÂ ==Â root-&gt;val;<br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-built_in">hasPathSum</span>(root-&gt;left,Â sumÂ -Â root-&gt;val)Â <br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">hasPathSum</span>(root-&gt;right,Â sumÂ -Â root-&gt;val);<br>Â Â Â Â &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>LeetCodeé¢˜è§£ï¼š<a href="https://leetcode-cn.com/problems/path-sum/solution/lu-jing-zong-he-by-leetcode-solution/">https://leetcode-cn.com/problems/path-sum/solution/lu-jing-zong-he-by-leetcode-solution/</a></p><h2 id="LC-98-éªŒè¯äºŒå‰æœç´¢æ ‘"><a href="#LC-98-éªŒè¯äºŒå‰æœç´¢æ ‘" class="headerlink" title="LC 98.éªŒè¯äºŒå‰æœç´¢æ ‘"></a>LC 98.éªŒè¯äºŒå‰æœç´¢æ ‘</h2><h3 id="é¢˜ç›®å¤§æ„-3"><a href="#é¢˜ç›®å¤§æ„-3" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>ç»™ä½ ä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ root ï¼Œåˆ¤æ–­å…¶æ˜¯å¦æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„äºŒå‰æœç´¢æ ‘ã€‚ Â </p><h3 id="é¢˜è§£-3"><a href="#é¢˜è§£-3" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><blockquote><p>æœ‰æ•ˆäºŒå‰æœç´¢æ ‘å®šä¹‰ï¼š<br>1.èŠ‚ç‚¹å·¦å­æ ‘åªåŒ…å«å°äºå½“å‰èŠ‚ç‚¹çš„æ•°<br>2.èŠ‚ç‚¹å³å­æ ‘åªåŒ…å«å¤§äºå½“å‰èŠ‚ç‚¹çš„æ•°<br>3.æ‰€æœ‰å·¦å­æ ‘å’Œå³å­æ ‘è‡ªèº«å¿…é¡»ä¹Ÿæ˜¯äºŒå‰æœç´¢æ ‘  </p></blockquote><p><strong>æ–¹æ³•1ï¼šé€’å½’æ³•</strong> </p><p>å®šä¹‰ä¸€ä¸ªå‡½æ•°bool helper(TreeNode*,long long int lower,long long int upper) å¦‚æœä¸Šç•Œå’Œä¸‹ç•Œå­˜åœ¨ï¼Œåˆ¤æ–­å½“å‰èŠ‚ç‚¹çš„å€¼æ˜¯å¦åœ¨ç•Œå†…ï¼Œå¦‚æœä¸åœ¨ç•Œå†…ï¼Œè¿”å›falseã€‚å°†å½“å‰èŠ‚ç‚¹çš„å€¼ä½œä¸ºä¸Šç•Œï¼Œç»§ç»­å¯¹node-&gt;leftè¿›è¡Œé€’å½’ï¼›å°†å½“å‰èŠ‚ç‚¹ä½œä¸ºä¸‹ç•Œï¼Œç»§ç»­å¯¹node-&gt;rightè¿›è¡Œé€’å½’ã€‚ Â  </p><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">Solution</span>Â &#123;<br><span class="hljs-keyword">public</span>:<br>Â Â Â Â <span class="hljs-function"><span class="hljs-type">bool</span>Â <span class="hljs-title">helper</span><span class="hljs-params">(TreeNode*Â root,<span class="hljs-type">long</span>Â <span class="hljs-type">long</span>Â <span class="hljs-type">int</span>Â lower,<span class="hljs-type">long</span>Â <span class="hljs-type">long</span>Â <span class="hljs-type">int</span>Â upper)</span></span>&#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>(rootÂ ==Â <span class="hljs-literal">nullptr</span>)<br>Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-literal">true</span>;Â Â <span class="hljs-comment">//ç©ºèŠ‚ç‚¹æ˜¯åˆç†çš„äºŒå‰æœç´¢æ ‘</span><br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>(root-&gt;valÂ &lt;=Â lowerÂ Â root-&gt;valÂ &gt;=Â upper)Â Â <span class="hljs-comment">//èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œåˆ¤æ–­èŠ‚ç‚¹ä¸Šçš„å€¼æ˜¯å¦åœ¨ä¸Šä¸‹ç•Œå†…</span><br>Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-literal">false</span>;<br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â <span class="hljs-comment">//æ›´æ”¹ä¸Šä¸‹ç•ŒÂ é€’å½’éå†äºŒå‰æ ‘çš„å·¦å³å­æ ‘</span><br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-built_in">helper</span>(root-&gt;left,lower,root-&gt;val)Â &amp;&amp;Â <span class="hljs-built_in">helper</span>(root-&gt;right,root-&gt;val,upper);<br>Â Â Â Â &#125;<br><br>Â Â Â Â <span class="hljs-function"><span class="hljs-type">bool</span>Â <span class="hljs-title">isValidBST</span><span class="hljs-params">(TreeNode*Â root)</span>Â </span>&#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-built_in">helper</span>(root,LONG_MIN,LONG_MAX);Â Â <span class="hljs-comment">//ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œä¸Šä¸‹ç•Œéƒ½ä¸ºç©º</span><br>Â Â Â Â &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p><strong>æ–¹æ³•2ï¼šä¸­åºéå†</strong> </p><p>æ ¹æ®äºŒå‰æœç´¢æ ‘çš„æ€§è´¨ï¼Œå¾—çŸ¥äºŒå‰æœç´¢æ ‘ä¸­åºéå†å¾—åˆ°çš„å€¼æ„æˆçš„åºåˆ—ä¸€å®šæ˜¯å‡åºçš„ï¼Œåœ¨ä¸­åºéå†çš„æ—¶å€™å®æ—¶æ£€æŸ¥å½“å‰èŠ‚ç‚¹çš„å€¼æ˜¯å¦å¤§äºå‰ä¸€ä¸ªä¸­åºéå†åˆ°çš„èŠ‚ç‚¹çš„å€¼å³å¯ã€‚å¦‚æœå‡å¤§äºè¯´æ˜è¿™ä¸ªåºåˆ—æ˜¯å‡åºçš„ï¼Œæ•´æ£µæ ‘æ˜¯äºŒå‰æœç´¢æ ‘ï¼Œå¦åˆ™ä¸æ˜¯ã€‚</p><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">Solution</span>Â &#123;<br><span class="hljs-keyword">public</span>:<br>Â Â Â Â <span class="hljs-function"><span class="hljs-type">bool</span>Â <span class="hljs-title">isValidBST</span><span class="hljs-params">(TreeNode*Â root)</span>Â </span>&#123;<br>Â Â Â Â Â Â Â Â stack&lt;TreeNode*&gt;Â stack;Â Â <span class="hljs-comment">//å®šä¹‰æ ˆstackæ¥å­˜å‚¨æœªæ‹œè®¿è¿‡çš„æ ‘èŠ‚ç‚¹</span><br>Â Â Â Â Â Â Â Â <span class="hljs-type">long</span>Â <span class="hljs-type">long</span>Â inorderÂ =Â (<span class="hljs-type">long</span>Â <span class="hljs-type">long</span>)INT_MIN<span class="hljs-number">-1</span>;Â Â <span class="hljs-comment">//inorderç”¨æ¥å­˜å‚¨ä¸Šä¸€ä¸ªéå†åˆ°çš„æ ‘èŠ‚ç‚¹çš„å€¼</span><br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">while</span>(!stack.<span class="hljs-built_in">empty</span>()Â ||Â rootÂ !=Â <span class="hljs-literal">nullptr</span>)<br>Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//ä¸æ–­å°†rootçš„å·¦å­èŠ‚ç‚¹åŠ å…¥æ ˆÂ ç›´åˆ°æ²¡æœ‰å‰©ä½™çš„å·¦èŠ‚ç‚¹</span><br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">while</span>(rootÂ !=Â <span class="hljs-literal">nullptr</span>)<br>Â Â Â Â Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â stack.<span class="hljs-built_in">push</span>(root);<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â rootÂ =Â root-&gt;left;<br>Â Â Â Â Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â Â Â Â Â rootÂ =Â stack.<span class="hljs-built_in">top</span>();<br>Â Â Â Â Â Â Â Â Â Â Â Â stack.<span class="hljs-built_in">pop</span>();Â Â <span class="hljs-comment">//å°†å½“å‰å­æ ‘æœ€å·¦è¾¹çš„èŠ‚ç‚¹ä»stackä¸­å–å‡º</span><br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//å¦‚æœä¸­åºéå†å¾—åˆ°çš„èŠ‚ç‚¹çš„å€¼å°äºç­‰äºå‰ä¸€ä¸ªinorderï¼Œè¯´æ˜ä¸æ˜¯äºŒå‰æœç´¢æ ‘</span><br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (root-&gt;valÂ &lt;=Â inorder)<br>Â Â Â Â Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-literal">false</span>;<br>Â Â Â Â Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â Â Â Â Â inorderÂ =Â root-&gt;val;Â Â <span class="hljs-comment">//å°†inorderè®¾ä¸ºå½“å‰èŠ‚ç‚¹çš„å€¼</span><br>Â Â Â Â Â Â Â Â Â Â Â Â rootÂ =Â root-&gt;right;Â Â <span class="hljs-comment">//å°†rootè®¾ä¸ºå½“å‰èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹ï¼Œç»§ç»­å¾ªç¯</span><br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-literal">true</span>;<br>Â Â Â Â &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>LeetCodeé¢˜è§£ï¼š<a href="https://leetcode-cn.com/problems/validate-binary-search-tree/solution/yan-zheng-er-cha-sou-suo-shu-by-leetcode-solution/">https://leetcode-cn.com/problems/validate-binary-search-tree/solution/yan-zheng-er-cha-sou-suo-shu-by-leetcode-solution/</a></p><h2 id="LC-15-ä¸‰æ•°ä¹‹å’Œ"><a href="#LC-15-ä¸‰æ•°ä¹‹å’Œ" class="headerlink" title="LC 15.ä¸‰æ•°ä¹‹å’Œ"></a>LC 15.ä¸‰æ•°ä¹‹å’Œ</h2><h3 id="é¢˜ç›®å¤§æ„-4"><a href="#é¢˜ç›®å¤§æ„-4" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>ç»™ä½ ä¸€ä¸ªåŒ…å« n ä¸ªæ•´æ•°çš„æ•°ç»„Â numsï¼Œåˆ¤æ–­Â numsÂ ä¸­æ˜¯å¦å­˜åœ¨ä¸‰ä¸ªå…ƒç´  aï¼Œbï¼Œc ï¼Œä½¿å¾—Â a + b + c = 0 ï¼Ÿè¯·ä½ æ‰¾å‡ºæ‰€æœ‰å’Œä¸º 0 ä¸”ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€‚ æ³¨æ„ï¼šç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ã€‚ Â </p><h3 id="é¢˜è§£-4"><a href="#é¢˜è§£-4" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p><strong>æ–¹æ³•1ï¼šæ’åº+åŒæŒ‡é’ˆ</strong> </p><blockquote><p>å…³é”®å­—ï¼šä¸å¯ä»¥åŒ…å«é‡å¤<br>æ¨¡å¼è¯†åˆ«ï¼šåˆ©ç”¨æ’åºé¿å…é‡å¤ç­”æ¡ˆ<br>é™ä½å¤æ‚åº¦å˜æˆtwoSum<br>åˆ©ç”¨åŒæŒ‡é’ˆæ‰¾åˆ°æ‰€æœ‰è§£<br>æ•°ç»„æœ‰åºï¼Œå’Œä¸ºå®šå€¼çš„ä¸¤ä¸ªæ•°ä¸€å®šå¯ä»¥é€šè¿‡å¤´å°¾æŒ‡é’ˆå‘ä¸­é—´ç§»åŠ¨è·å¾—ã€‚<br>å…³é”®å»é‡ï¼Œæ¯æ¬¡ç§»åŠ¨è·³è¿‡ä¸å½“å‰å€¼ç›¸åŒçš„å…ƒç´ ï¼Œæšä¸¾ç¬¬ä¸‰ä¸ªå…ƒç´ ä¹Ÿè¦è·³è¿‡é‡å¤å…ƒç´ ã€‚</p></blockquote><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">Solution</span>Â &#123;<br><span class="hljs-keyword">public</span>:<br>Â Â Â Â vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;Â <span class="hljs-built_in">threeSum</span>(vector&lt;<span class="hljs-type">int</span>&gt;&amp;Â nums)Â &#123;<br>Â Â Â Â Â Â Â Â vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;Â ans;<br>Â Â Â Â Â Â Â Â <span class="hljs-built_in">sort</span>(nums.<span class="hljs-built_in">begin</span>(),nums.<span class="hljs-built_in">end</span>());Â Â <span class="hljs-comment">//å¯¹æ•°ç»„è¿›è¡Œæ’åºæ–¹ä¾¿å»é‡</span><br>Â Â Â Â Â Â Â Â <span class="hljs-comment">//æšä¸¾a</span><br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span>Â i=<span class="hljs-number">0</span>;Â i&lt;nums.<span class="hljs-built_in">size</span>();Â i++)<br>Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>(i&gt;<span class="hljs-number">0</span>Â &amp;&amp;Â nums[i]Â ==Â nums[i<span class="hljs-number">-1</span>])Â Â <span class="hljs-keyword">continue</span>;Â Â <span class="hljs-comment">//å»é‡ï¼Œéœ€è¦å’Œä¸Šæ¬¡éå†çš„å…ƒç´ ä¸åŒ</span><br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-type">int</span>Â targetÂ =Â <span class="hljs-number">0</span>-nums[i];Â Â <span class="hljs-comment">//å®šä¹‰ç›®æ ‡å€¼targetï¼Œè½¬åŒ–ä¸ºäºŒå…ƒç»„é—®é¢˜targetÂ =Â b+c</span><br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-type">int</span>Â lÂ =Â i+<span class="hljs-number">1</span>,rÂ =Â nums.<span class="hljs-built_in">size</span>()<span class="hljs-number">-1</span>;Â Â <span class="hljs-comment">//å®šä¹‰é¦–å°¾æŒ‡é’ˆï¼Œé€šè¿‡é¦–å°¾æŒ‡é’ˆç§»åŠ¨è·å–å®šå€¼target</span><br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">while</span>(l&lt;r)Â Â <span class="hljs-comment">//é€šè¿‡é¦–å°¾æŒ‡é’ˆè·å–å®šå€¼target</span><br>Â Â Â Â Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>(nums[l]+nums[r]Â ==Â target)<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ans.<span class="hljs-built_in">push_back</span>(&#123;nums[i],nums[l],nums[r]&#125;);Â Â <span class="hljs-comment">//å°†ç¬¦åˆçš„å…ƒç»„åŠ å…¥ç»“æœansä¸­</span><br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">while</span>(l&lt;rÂ &amp;&amp;Â nums[l]Â ==Â nums[l+<span class="hljs-number">1</span>])Â Â l++;Â Â <span class="hljs-comment">//å»é™¤é‡å¤çš„å·¦æŒ‡é’ˆå…ƒç´ </span><br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">while</span>(l&lt;rÂ &amp;&amp;Â nums[r]Â ==Â nums[r<span class="hljs-number">-1</span>])Â Â r--;Â Â <span class="hljs-comment">//å»é™¤é‡å¤çš„å³æŒ‡é’ˆå…ƒç´ </span><br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â l++;Â Â <span class="hljs-comment">//å·¦æŒ‡é’ˆå‘å³ç§»</span><br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â r--;Â Â <span class="hljs-comment">//å³æŒ‡é’ˆå‘å·¦ç§»</span><br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">else</span>Â <span class="hljs-keyword">if</span>(nums[l]+nums[r]Â &gt;Â target)<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â r--;Â Â <span class="hljs-comment">//ç»“æœå¤§äºç›®æ ‡å€¼ï¼Œå³æŒ‡é’ˆå‘å·¦ç§»</span><br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">else</span><br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â l++;Â Â <span class="hljs-comment">//ç»“æœå°äºç›®æ ‡å€¼ï¼Œå·¦æŒ‡é’ˆå‘å³ç§»</span><br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â ans;Â Â <span class="hljs-comment">//è¿”å›ç»“æœ</span><br>Â Â Â Â &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>Bç«™è§†é¢‘è®²è§£ï¼š<a href="https://www.bilibili.com/video/BV1Jq4y1A7u7?spm_id_from=333.337.search-card.all.click">https://www.bilibili.com/video/BV1Jq4y1A7u7?spm_id_from=333.337.search-card.all.click</a> Â </p><h2 id="LC-705-è®¾è®¡å“ˆå¸Œé›†åˆ"><a href="#LC-705-è®¾è®¡å“ˆå¸Œé›†åˆ" class="headerlink" title="LC 705.è®¾è®¡å“ˆå¸Œé›†åˆ"></a>LC 705.è®¾è®¡å“ˆå¸Œé›†åˆ</h2><h3 id="é¢˜ç›®å¤§æ„-5"><a href="#é¢˜ç›®å¤§æ„-5" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>ä¸ä½¿ç”¨ä»»ä½•å†…å»ºçš„å“ˆå¸Œè¡¨åº“è®¾è®¡ä¸€ä¸ªå“ˆå¸Œé›†åˆï¼ˆHashSetï¼‰ã€‚ å®ç° MyHashSet ç±»ï¼š </p><p>void add(key) å‘å“ˆå¸Œé›†åˆä¸­æ’å…¥å€¼ key ã€‚ </p><p>bool contains(key) è¿”å›å“ˆå¸Œé›†åˆä¸­æ˜¯å¦å­˜åœ¨è¿™ä¸ªå€¼ key ã€‚ </p><p>void remove(key) å°†ç»™å®šå€¼ key ä»å“ˆå¸Œé›†åˆä¸­åˆ é™¤ã€‚å¦‚æœå“ˆå¸Œé›†åˆä¸­æ²¡æœ‰è¿™ä¸ªå€¼ï¼Œä»€ä¹ˆä¹Ÿä¸åšã€‚ Â </p><h3 id="é¢˜è§£-5"><a href="#é¢˜è§£-5" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><blockquote><p>ä¸ºäº†å®ç°å“ˆå¸Œé›†åˆè¿™ä¸€æ•°æ®ç»“æ„ï¼Œæœ‰ä»¥ä¸‹å‡ ä¸ªå…³é”®é—®é¢˜éœ€è¦è§£å†³ï¼š<br>1.å“ˆå¸Œå‡½æ•°ï¼šèƒ½å¤Ÿå°†é›†åˆä¸­ä»»æ„å¯èƒ½çš„å…ƒç´ æ˜ å°„åˆ°ä¸€ä¸ªå›ºå®šèŒƒå›´çš„æ•´æ•°å€¼ï¼Œå¹¶å°†è¯¥å…ƒç´ å­˜å‚¨åˆ°æ•´æ•°å€¼å¯¹åº”çš„åœ°å€ä¸Šã€‚<br>2.å†²çªå¤„ç†ï¼šç”±äºä¸åŒå…ƒç´ å¯èƒ½æ˜ å°„åˆ°ç›¸åŒçš„æ•´æ•°å€¼ï¼Œå› æ­¤éœ€è¦åœ¨æ•´æ•°å€¼å‡ºç°å†²çªæ—¶ï¼Œéœ€è¦è¿›è¡Œå†²çªå¤„ç†ã€‚æ€»çš„æ¥è¯´ï¼Œæœ‰ä»¥ä¸‹å‡ ç§ç­–ç•¥è§£å†³å†²çªï¼š<br>é“¾åœ°å€æ³•ï¼šä¸ºæ¯ä¸ªå“ˆå¸Œå€¼ç»´æŠ¤ä¸€ä¸ªé“¾è¡¨ï¼Œå¹¶å°†å…·æœ‰ç›¸åŒå“ˆå¸Œå€¼çš„å…ƒç´ éƒ½æ”¾å…¥è¿™ä¸€é“¾è¡¨å½“ä¸­ã€‚<br>å¼€æ”¾åœ°å€æ³•ï¼šå½“å‘ç°å“ˆå¸Œå€¼ hh å¤„äº§ç”Ÿå†²çªæ—¶ï¼Œæ ¹æ®æŸç§ç­–ç•¥ï¼Œä» hh å‡ºå‘æ‰¾åˆ°ä¸‹ä¸€ä¸ªä¸å†²çªçš„ä½  ç½®ã€‚ä¾‹å¦‚ï¼Œä¸€ç§æœ€ç®€å•çš„ç­–ç•¥æ˜¯ï¼Œä¸æ–­åœ°æ£€æŸ¥ h+1,h+2,h+3,â€¦ è¿™äº›æ•´æ•°å¯¹åº”çš„ä½ç½®ã€‚<br>å†å“ˆå¸Œæ³•ï¼šå½“å‘ç°å“ˆå¸Œå†²çªåï¼Œä½¿ç”¨å¦ä¸€ä¸ªå“ˆå¸Œå‡½æ•°äº§ç”Ÿä¸€ä¸ªæ–°çš„åœ°å€ã€‚<br>3.æ‰©å®¹ï¼šå½“å“ˆå¸Œè¡¨å…ƒç´ è¿‡å¤šæ—¶ï¼Œå†²çªçš„æ¦‚ç‡å°†è¶Šæ¥è¶Šå¤§ï¼Œè€Œåœ¨å“ˆå¸Œè¡¨ä¸­æŸ¥è¯¢ä¸€ä¸ªå…ƒç´ çš„æ•ˆç‡ä¹Ÿä¼šè¶Šæ¥è¶Šä½ã€‚å› æ­¤ï¼Œéœ€è¦å¼€è¾Ÿä¸€å—æ›´å¤§çš„ç©ºé—´ï¼Œæ¥ç¼“è§£å“ˆå¸Œè¡¨ä¸­å‘ç”Ÿçš„å†²çªã€‚  </p></blockquote><p><strong>æ–¹æ³•1ï¼šé“¾åœ°å€æ³•</strong> </p><p>è®¾å“ˆå¸Œè¡¨çš„å¤§å°ä¸º baseï¼Œåˆ™å¯ä»¥è®¾è®¡ä¸€ä¸ªç®€å•çš„å“ˆå¸Œå‡½æ•°ï¼šhash(x) = x mod baseã€‚ å¼€è¾Ÿä¸€ä¸ªå¤§å°ä¸º base çš„æ•°ç»„ï¼Œæ•°ç»„çš„æ¯ä¸ªä½ç½®æ˜¯ä¸€ä¸ªé“¾è¡¨ã€‚å½“è®¡ç®—å‡ºå“ˆå¸Œå€¼ä¹‹åï¼Œå°±æ’å…¥åˆ°å¯¹åº”ä½ç½®çš„é“¾è¡¨å½“ä¸­ã€‚ ç”±äºä½¿ç”¨æ•´æ•°é™¤æ³•ä½œä¸ºå“ˆå¸Œå‡½æ•°ï¼Œä¸ºäº†å°½å¯èƒ½é¿å…å†²çªï¼Œåº”å½“å°† base å–ä¸ºä¸€ä¸ªè´¨æ•°ã€‚å– base=769ã€‚ Â  </p><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">MyHashSet</span>Â &#123;<br><span class="hljs-keyword">public</span>:<br>Â Â Â Â vector&lt;list&lt;<span class="hljs-type">int</span>&gt;&gt;Â data;Â Â <span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªæ•°ç»„base,æ•°ç»„çš„æ¯ä¸€ä¸ªä½ç½®æ˜¯ä¸€ä¸ªé“¾è¡¨</span><br>Â Â Â Â <span class="hljs-type">static</span>Â <span class="hljs-type">const</span>Â <span class="hljs-type">int</span>Â baseÂ =Â <span class="hljs-number">769</span>;Â Â <span class="hljs-comment">//å®šä¹‰å“ˆå¸Œè¡¨çš„å¤§å°</span><br>Â Â Â Â <span class="hljs-comment">//ç”¨é“¾åœ°å€æ³•è®¾è®¡ä¸€ä¸ªå“ˆå¸Œè¡¨</span><br>Â Â Â Â <span class="hljs-function"><span class="hljs-type">static</span>Â <span class="hljs-type">int</span>Â <span class="hljs-title">hash</span><span class="hljs-params">(<span class="hljs-type">int</span>Â key)</span></span><br><span class="hljs-function">Â Â Â Â </span>&#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â keyÂ %Â base;<br>Â Â Â Â &#125;<br><br>Â Â Â Â <span class="hljs-built_in">MyHashSet</span>():<span class="hljs-built_in">data</span>(base)Â &#123;&#125;<br><br>Â Â Â Â <span class="hljs-comment">//æ’å…¥</span><br>Â Â Â Â <span class="hljs-function"><span class="hljs-type">void</span>Â <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-type">int</span>Â key)</span>Â </span>&#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-type">int</span>Â hÂ =Â <span class="hljs-built_in">hash</span>(key);Â Â <span class="hljs-comment">//æ‰¾å‡ºkeyåœ¨å“ˆå¸Œè¡¨ä¸­å¯¹åº”çš„ä½ç½®</span><br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span>Â it=data[h].<span class="hljs-built_in">begin</span>();Â it!=data[h].<span class="hljs-built_in">end</span>();Â it++)Â Â <span class="hljs-comment">//è¿­ä»£æ³•éå†keyåœ¨å“ˆå¸Œè¡¨ä¸­å¯¹åº”ä½ç½®çš„é“¾è¡¨</span><br>Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//å¦‚æœæ’å…¥å…ƒç´ å­˜åœ¨Â åˆ™è¿”å›ç©º</span><br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>(*itÂ ==Â key)<br>Â Â Â Â Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>;<br>Â Â Â Â Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â <span class="hljs-comment">//å¦‚æœå…ƒç´ ä¸å­˜åœ¨åˆ™æ’å…¥å…ƒç´ </span><br>Â Â Â Â Â Â Â Â data[h].<span class="hljs-built_in">push_back</span>(key);<br>Â Â Â Â &#125;<br><br>Â Â Â Â <span class="hljs-comment">//åˆ é™¤</span><br>Â Â Â Â <span class="hljs-function"><span class="hljs-type">void</span>Â <span class="hljs-title">remove</span><span class="hljs-params">(<span class="hljs-type">int</span>Â key)</span>Â </span>&#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-type">int</span>Â hÂ =Â <span class="hljs-built_in">hash</span>(key);<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span>Â it=data[h].<span class="hljs-built_in">begin</span>();Â it!=data[h].<span class="hljs-built_in">end</span>();Â it++)<br>Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>(*itÂ ==Â key)<br>Â Â Â Â Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â data[h].<span class="hljs-built_in">erase</span>(it);<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">/*</span><br><span class="hljs-comment">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â æ³¨æ„ï¼šdata\[h\].erase(it)Â è¿™é‡Œçš„itä¸å¯å†™æˆ\*itæˆ–è€…key</span><br><span class="hljs-comment">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â å› ä¸ºåˆ é™¤çš„æ˜¯keyåœ¨é“¾è¡¨ä¸Šçš„åœ°å€è€Œä¸æ˜¯å€¼</span><br><span class="hljs-comment">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â */</span><br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>;<br>Â Â Â Â Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â &#125;<br><br>Â Â Â Â <span class="hljs-comment">//åˆ¤æ–­keyæ˜¯å¦å­˜åœ¨</span><br>Â Â Â Â <span class="hljs-function"><span class="hljs-type">bool</span>Â <span class="hljs-title">contains</span><span class="hljs-params">(<span class="hljs-type">int</span>Â key)</span>Â </span>&#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-type">int</span>Â hÂ =Â <span class="hljs-built_in">hash</span>(key);<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span>Â it=data[h].<span class="hljs-built_in">begin</span>();Â it!=data[h].<span class="hljs-built_in">end</span>();Â it++)<br>Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>(*itÂ ==Â key)Â Â <span class="hljs-comment">/*Â æ³¨æ„ï¼š*itÂ */</span><br>Â Â Â Â Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-literal">true</span>;<br>Â Â Â Â Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-literal">false</span>;<br>Â Â Â Â &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>Â </p><h2 id="LC-706-è®¾è®¡å“ˆå¸Œæ˜ å°„"><a href="#LC-706-è®¾è®¡å“ˆå¸Œæ˜ å°„" class="headerlink" title="LC 706.è®¾è®¡å“ˆå¸Œæ˜ å°„"></a>LC 706.è®¾è®¡å“ˆå¸Œæ˜ å°„</h2><h3 id="é¢˜ç›®å¤§æ„-6"><a href="#é¢˜ç›®å¤§æ„-6" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>ä¸ä½¿ç”¨ä»»ä½•å†…å»ºçš„å“ˆå¸Œè¡¨åº“è®¾è®¡ä¸€ä¸ªå“ˆå¸Œæ˜ å°„ï¼ˆHashMapï¼‰ã€‚ å®ç° MyHashMap ç±»ï¼š </p><p>MyHashMap() ç”¨ç©ºæ˜ å°„åˆå§‹åŒ–å¯¹è±¡ </p><p>void put(int key, int value) å‘ HashMap æ’å…¥ä¸€ä¸ªé”®å€¼å¯¹ (key, value) ã€‚å¦‚æœ key å·²ç»å­˜åœ¨äºæ˜ å°„ä¸­ï¼Œåˆ™æ›´æ–°å…¶å¯¹åº”çš„å€¼ value ã€‚ </p><p>int get(int key) è¿”å›ç‰¹å®šçš„ key æ‰€æ˜ å°„çš„ value ï¼›å¦‚æœæ˜ å°„ä¸­ä¸åŒ…å« key çš„æ˜ å°„ï¼Œè¿”å› -1 ã€‚ </p><p>void remove(key) å¦‚æœæ˜ å°„ä¸­å­˜åœ¨ key çš„æ˜ å°„ï¼Œåˆ™ç§»é™¤ key å’Œå®ƒæ‰€å¯¹åº”çš„ value ã€‚ Â </p><h3 id="é¢˜è§£-6"><a href="#é¢˜è§£-6" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p><strong>è®¾è®¡å“ˆå¸Œæ˜ å°„</strong> ä¸ <strong>è®¾è®¡å“ˆå¸Œé›†åˆ</strong> è§£æ³•æ¥è¿‘ï¼Œå”¯ä¸€çš„åŒºåˆ«åœ¨äºå“ˆå¸Œæ˜ å°„å­˜å‚¨çš„ä¸æ˜¯ key æœ¬èº«ï¼Œè€Œæ˜¯é”®å€¼å¯¹(key,value)ã€‚ Â  </p><blockquote><p>å“ˆå¸Œè¡¨å¢åŠ é”®å€¼å¯¹çš„å‡½æ•°ï¼šmap1.insert(make_pair(n,1))<br>å“ˆå¸Œè¡¨åˆ é™¤é”®å€¼å¯¹çš„å‡½æ•°ï¼šdata[h].erase(it)<br>å“ˆå¸Œè¡¨ä½¿ç”¨è¿­ä»£å™¨éå†æ—¶ï¼š<br>i-&gt;firstï¼šè¡¨ç¤ºé”®<br>i-&gt;secondï¼šè¡¨ç¤ºå€¼ Â </p></blockquote><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">MyHashMap</span>Â &#123;<br><span class="hljs-keyword">public</span>:<br>Â Â Â Â vector&lt;list&lt;pair&lt;<span class="hljs-type">int</span>,<span class="hljs-type">int</span>&gt;&gt;&gt;Â data;<br>Â Â Â Â <span class="hljs-type">static</span>Â <span class="hljs-type">const</span>Â <span class="hljs-type">int</span>Â baseÂ =Â <span class="hljs-number">769</span>;<br>Â Â Â Â <span class="hljs-function"><span class="hljs-type">static</span>Â <span class="hljs-type">int</span>Â <span class="hljs-title">hash</span><span class="hljs-params">(<span class="hljs-type">int</span>Â key)</span></span><br><span class="hljs-function">Â Â Â Â </span>&#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â keyÂ %Â base;<br>Â Â Â Â &#125;<br><br>Â Â Â Â <span class="hljs-built_in">MyHashMap</span>():<span class="hljs-built_in">data</span>(base)Â &#123;&#125;<br><br>Â Â Â Â <span class="hljs-function"><span class="hljs-type">void</span>Â <span class="hljs-title">put</span><span class="hljs-params">(<span class="hljs-type">int</span>Â key,Â <span class="hljs-type">int</span>Â value)</span>Â </span>&#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-type">int</span>Â hÂ =Â <span class="hljs-built_in">hash</span>(key);<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span>Â it=data[h].<span class="hljs-built_in">begin</span>();Â it!=data[h].<span class="hljs-built_in">end</span>();Â it++)<br>Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>(it-&gt;firstÂ ==Â key)<br>Â Â Â Â Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â it-&gt;secondÂ =Â value;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>;<br>Â Â Â Â Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â data[h].<span class="hljs-built_in">push_back</span>(<span class="hljs-built_in">make_pair</span>(key,value));<br>Â Â Â Â &#125;<br><br>Â Â Â Â <span class="hljs-function"><span class="hljs-type">int</span>Â <span class="hljs-title">get</span><span class="hljs-params">(<span class="hljs-type">int</span>Â key)</span>Â </span>&#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-type">int</span>Â hÂ =Â <span class="hljs-built_in">hash</span>(key);<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span>Â it=data[h].<span class="hljs-built_in">begin</span>();Â it!=data[h].<span class="hljs-built_in">end</span>();Â it++)<br>Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>(it-&gt;firstÂ ==Â key)<br>Â Â Â Â Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â it-&gt;second;<br>Â Â Â Â Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-number">-1</span>;<br>Â Â Â Â &#125;<br><br>Â Â Â Â <span class="hljs-function"><span class="hljs-type">void</span>Â <span class="hljs-title">remove</span><span class="hljs-params">(<span class="hljs-type">int</span>Â key)</span>Â </span>&#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-type">int</span>Â hÂ =Â <span class="hljs-built_in">hash</span>(key);<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span>Â it=data[h].<span class="hljs-built_in">begin</span>();Â it!=data[h].<span class="hljs-built_in">end</span>();Â it++)<br>Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>(it-&gt;firstÂ ==Â key)<br>Â Â Â Â Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â data[h].<span class="hljs-built_in">erase</span>(it);<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>;<br>Â Â Â Â Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ ˆ</tag>
      
      <tag>é˜Ÿåˆ—</tag>
      
      <tag>äºŒå‰æ ‘</tag>
      
      <tag>äºŒå‰æœç´¢æ ‘</tag>
      
      <tag>æ’åº</tag>
      
      <tag>åŒæŒ‡é’ˆ</tag>
      
      <tag>å“ˆå¸Œ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>äºŒå‰æ ‘çš„éå†</title>
    <link href="/2022/03/06/%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E9%81%8D%E5%8E%86/"/>
    <url>/2022/03/06/%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E9%81%8D%E5%8E%86/</url>
    
    <content type="html"><![CDATA[<h2 id="LC-144-äºŒå‰æ ‘çš„å‰åºéå†"><a href="#LC-144-äºŒå‰æ ‘çš„å‰åºéå†" class="headerlink" title="LC 144.äºŒå‰æ ‘çš„å‰åºéå†"></a>LC 144.äºŒå‰æ ‘çš„å‰åºéå†</h2><h3 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h3><p><strong>å‚æ•°ä¼ é€’æ—¶ä»€ä¹ˆæ—¶å€™éœ€è¦ä¼ å…¥å‚æ•°çš„å¼•ç”¨&amp;</strong></p><p>å½“å¯¹å‚æ•°çš„ä¿®æ”¹ç»“æœéœ€è¦å¸¦å›ä¸»å‡½æ•°æ—¶åœ¨ä¼ é€’å‚æ•°æ—¶åˆ™éœ€è¦åœ¨å‚æ•°å‰åŠ å–åœ°å€ç¬¦&amp; </p><p>CSDNåšå®¢ï¼šï¼ˆæ˜“é”™ç‚¹ï¼‰ä»€ä¹ˆæ—¶å€™è¦ä¼ å…¥å‚æ•°çš„å¼•ç”¨â€œ&amp;â€œï¼š<a href="https://blog.csdn.net/dyw_666666/article/details/107823466">https://blog.csdn.net/dyw_666666/article/details/107823466</a></p><h3 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>æ ¹-&gt;å·¦-&gt;å³ Â  </p><p><strong>æ–¹æ³•ä¸€ï¼šé€’å½’æ³•</strong> </p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c++">ACä»£ç ï¼š<br><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">Solution</span>Â &#123;<br><span class="hljs-keyword">public</span>:<br>Â Â Â Â <span class="hljs-function"><span class="hljs-type">void</span>Â <span class="hljs-title">preorder</span><span class="hljs-params">(TreeNode*Â root,vector&lt;<span class="hljs-type">int</span>&gt;Â &amp;res)</span></span>&#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>(rootÂ ==Â <span class="hljs-literal">nullptr</span>)<br>Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>;<br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â res.<span class="hljs-built_in">push_back</span>(root-&gt;val);<br>Â Â Â Â Â Â Â Â <span class="hljs-built_in">preorder</span>(root-&gt;left,res);<br>Â Â Â Â Â Â Â Â <span class="hljs-built_in">preorder</span>(root-&gt;right,res);<br>Â Â Â Â &#125;<br>Â Â Â Â <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt;Â <span class="hljs-title">preorderTraversal</span><span class="hljs-params">(TreeNode*Â root)</span>Â </span>&#123;<br>Â Â Â Â Â Â Â Â vector&lt;<span class="hljs-type">int</span>&gt;Â res;<br>Â Â Â Â Â Â Â Â <span class="hljs-built_in">preorder</span>(root,res);<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â res;<br>Â Â Â Â &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p><strong>æ–¹æ³•äºŒï¼šè¿­ä»£æ³•</strong> </p><p>æ–¹æ³•1ä¸­çš„é€’å½’å‡½æ•°å¯ä»¥ç”¨è¿­ä»£çš„æ–¹æ³•å®ç°ï¼Œè¿­ä»£æ³•åˆ©ç”¨æ ˆæ¥éå†äºŒå‰æ ‘</p><p>LeetCodeé¢˜è§£+åŠ¨ç”»æ¼”ç¤º <a href="https://leetcode-cn.com/problems/binary-tree-preorder-traversal/solution/er-cha-shu-de-qian-xu-bian-li-by-leetcode-solution/">äºŒå‰æ ‘å‰åºéå† è¿­ä»£æ³•</a> </p><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">Solution</span>Â &#123;<br><span class="hljs-keyword">public</span>:<br>Â Â Â Â <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt;Â <span class="hljs-title">preorderTraversal</span><span class="hljs-params">(TreeNode*Â root)</span>Â </span>&#123;<br>Â Â Â Â Â Â Â Â vector&lt;<span class="hljs-type">int</span>&gt;Â res;<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (rootÂ ==Â <span class="hljs-literal">nullptr</span>)Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â res;<br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â stack&lt;TreeNode*&gt;Â stk;<br>Â Â Â Â Â Â Â Â TreeNode*Â nodeÂ =Â root;<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">while</span>Â (!stk.<span class="hljs-built_in">empty</span>()Â ||Â nodeÂ !=Â <span class="hljs-literal">nullptr</span>)Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">while</span>Â (nodeÂ !=Â <span class="hljs-literal">nullptr</span>)Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â res.<span class="hljs-built_in">emplace_back</span>(node-&gt;val);<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â stk.<span class="hljs-built_in">emplace</span>(node);<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â nodeÂ =Â node-&gt;left;<br>Â Â Â Â Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â Â Â Â Â nodeÂ =Â stk.<span class="hljs-built_in">top</span>();<br>Â Â Â Â Â Â Â Â Â Â Â Â stk.<span class="hljs-built_in">pop</span>();<br>Â Â Â Â Â Â Â Â Â Â Â Â nodeÂ =Â node-&gt;right;<br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â res;<br>Â Â Â Â &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>Â </p><h2 id="LC-94-äºŒå‰æ ‘çš„ä¸­åºéå†"><a href="#LC-94-äºŒå‰æ ‘çš„ä¸­åºéå†" class="headerlink" title="LC 94.äºŒå‰æ ‘çš„ä¸­åºéå†"></a>LC 94.äºŒå‰æ ‘çš„ä¸­åºéå†</h2><h3 id="é¢˜è§£-1"><a href="#é¢˜è§£-1" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p><strong>æ–¹æ³•1ï¼šé€’å½’æ³•</strong></p><p>å·¦-&gt;æ ¹-&gt;å³ Â  </p><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">Solution</span>Â &#123;<br><span class="hljs-keyword">public</span>:<br>Â Â Â Â <span class="hljs-function"><span class="hljs-type">void</span>Â <span class="hljs-title">inorder</span><span class="hljs-params">(TreeNode*Â root,vector&lt;<span class="hljs-type">int</span>&gt;Â &amp;ans)</span></span><br><span class="hljs-function">Â Â Â Â </span>&#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>(rootÂ ==Â <span class="hljs-literal">nullptr</span>)<br>Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>;<br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â <span class="hljs-built_in">inorder</span>(root-&gt;left,ans);<br>Â Â Â Â Â Â Â Â ans.<span class="hljs-built_in">push_back</span>(root-&gt;val);<br>Â Â Â Â Â Â Â Â <span class="hljs-built_in">inorder</span>(root-&gt;right,ans);<br>Â Â Â Â &#125;<br>Â Â Â Â <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt;Â <span class="hljs-title">inorderTraversal</span><span class="hljs-params">(TreeNode*Â root)</span>Â </span>&#123;<br>Â Â Â Â Â Â Â Â vector&lt;<span class="hljs-type">int</span>&gt;Â ans;<br>Â Â Â Â Â Â Â Â <span class="hljs-built_in">inorder</span>(root,ans);<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â ans;<br>Â Â Â Â &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>Â <strong>æ–¹æ³•2ï¼šè¿­ä»£æ³•</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">inorderTraversal</span><span class="hljs-params">(TreeNode* root)</span> </span>&#123;<br>        vector&lt;<span class="hljs-type">int</span>&gt; ans;<br>        <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">nullptr</span>)  <span class="hljs-keyword">return</span> ans;<br>        stack&lt;TreeNode*&gt; stk;<br>        <span class="hljs-keyword">while</span>(!stk.<span class="hljs-built_in">empty</span>() || root != <span class="hljs-literal">nullptr</span>)<br>        &#123;<br>            <span class="hljs-keyword">while</span>(root != <span class="hljs-literal">nullptr</span>)<br>            &#123;<br>                stk.<span class="hljs-built_in">push</span>(root);<br>                root = root-&gt;left;<br>            &#125;<br>            root = stk.<span class="hljs-built_in">top</span>();<br>            stk.<span class="hljs-built_in">pop</span>();<br>            ans.<span class="hljs-built_in">push_back</span>(root-&gt;val);<br>            root = root-&gt;right;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="LC-145-äºŒå‰æ ‘çš„ååºéå†"><a href="#LC-145-äºŒå‰æ ‘çš„ååºéå†" class="headerlink" title="LC 145.äºŒå‰æ ‘çš„ååºéå†"></a>LC 145.äºŒå‰æ ‘çš„ååºéå†</h2><h3 id="é¢˜è§£-2"><a href="#é¢˜è§£-2" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>å·¦-&gt;å³-&gt;æ ¹ Â  </p><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">Solution</span>Â &#123;<br><span class="hljs-keyword">public</span>:<br>Â Â Â Â <span class="hljs-function"><span class="hljs-type">void</span>Â <span class="hljs-title">postorder</span><span class="hljs-params">(TreeNode*Â root,vector&lt;<span class="hljs-type">int</span>&gt;Â &amp;ans)</span></span><br><span class="hljs-function">Â Â Â Â </span>&#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>(rootÂ ==Â <span class="hljs-literal">nullptr</span>)<br>Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>;<br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â <span class="hljs-built_in">postorder</span>(root-&gt;left,ans);<br>Â Â Â Â Â Â Â Â <span class="hljs-built_in">postorder</span>(root-&gt;right,ans);<br>Â Â Â Â Â Â Â Â ans.<span class="hljs-built_in">push_back</span>(root-&gt;val);<br>Â Â Â Â &#125;<br>Â Â Â Â <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt;Â <span class="hljs-title">postorderTraversal</span><span class="hljs-params">(TreeNode*Â root)</span>Â </span>&#123;<br>Â Â Â Â Â Â Â Â vector&lt;<span class="hljs-type">int</span>&gt;Â ans;<br>Â Â Â Â Â Â Â Â <span class="hljs-built_in">postorder</span>(root,ans);<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â ans;<br>Â Â Â Â &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="LC-102-äºŒå‰æ ‘çš„å±‚åºéå†"><a href="#LC-102-äºŒå‰æ ‘çš„å±‚åºéå†" class="headerlink" title="LC 102.äºŒå‰æ ‘çš„å±‚åºéå†"></a>LC 102.äºŒå‰æ ‘çš„å±‚åºéå†</h2><h3 id="Note-1"><a href="#Note-1" class="headerlink" title="Note"></a>Note</h3><p><strong>æ ¸å¿ƒæ€æƒ³</strong></p><p>äºŒå‰æ ‘ é˜Ÿåˆ— å¹¿åº¦ä¼˜å…ˆæœç´¢ Â </p><p><strong>äºŒç»´vectorå®¹å™¨çš„ä½¿ç”¨</strong></p><p>res.push_back(vector&lt;int&gt;());  //å‘äºŒç»´vectorå®¹å™¨resä¸­æ·»åŠ ä¸€è¡Œ</p><p>res.back().push_back(node-&gt;val);  //å‘äºŒç»´å®¹å™¨çš„æœ€åä¸€è¡Œæ’å…¥ä¸€ä¸ªå…ƒç´ node-&gt;val</p><p>å…¶ä¸­res.back()æ˜¯æŒ‡äºŒç»´å®¹å™¨resçš„æœ€åä¸€è¡Œ</p><p>å…³äºC++ä¸­vector&lt;vector&lt;int&gt; &gt;çš„ä½¿ç”¨ï¼š<a href="https://www.cnblogs.com/tyty-Somnuspoppy/p/9361821.html">https://www.cnblogs.com/tyty-Somnuspoppy/p/9361821.html</a></p><h3 id="é¢˜è§£-3"><a href="#é¢˜è§£-3" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><blockquote><p>ç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢+é˜Ÿåˆ—è§£å†³äºŒå‰æ ‘çš„å±‚åºéå† æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ç§å·§å¦™çš„æ–¹æ³•ä¿®æ”¹å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼š é¦–å…ˆæ ¹å…ƒç´ å…¥é˜Ÿ å½“é˜Ÿåˆ—ä¸ä¸ºç©ºçš„æ—¶å€™ æ±‚å½“å‰é˜Ÿåˆ—çš„é•¿åº¦ currentLevelSize ä¾æ¬¡ä»é˜Ÿåˆ—ä¸­å–currentLevelSizeä¸ªå…ƒç´ è¿›è¡Œæ‹“å±•ï¼Œç„¶åè¿›å…¥ä¸‹ä¸€æ¬¡è¿­ä»£ å®ƒå’Œæ™®é€šå¹¿åº¦ä¼˜å…ˆæœç´¢çš„åŒºåˆ«åœ¨äºï¼Œæ™®é€šå¹¿åº¦ä¼˜å…ˆæœç´¢æ¯æ¬¡åªå–ä¸€ä¸ªå…ƒç´ æ‹“å±•ï¼Œè€Œè¿™é‡Œæ¯æ¬¡å–currentLevelSizeä¸ªå…ƒç´ ã€‚åœ¨ä¸Šè¿°è¿‡ç¨‹ä¸­çš„ç¬¬ i æ¬¡è¿­ä»£å°±å¾—åˆ°äº†äºŒå‰æ ‘çš„ç¬¬ iå±‚çš„ currentLevelSizeä¸ªå…ƒç´ ã€‚</p></blockquote><p>ACä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">Solution</span>Â &#123;<br><span class="hljs-keyword">public</span>:<br>Â Â Â Â vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;Â <span class="hljs-built_in">levelOrder</span>(TreeNode*Â root)Â &#123;<br>Â Â Â Â Â Â Â Â vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;Â res;Â Â <span class="hljs-comment">//å®šä¹‰äºŒç»´vectorå®¹å™¨resç”¨æ¥å­˜å‚¨æ ‘ä¸­å…ƒç´ </span><br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>(rootÂ ==Â <span class="hljs-literal">nullptr</span>)<br>Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â res;<br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â queue&lt;TreeNode*&gt;Â q;Â Â <span class="hljs-comment">//å®šä¹‰é˜Ÿåˆ—qä¸´æ—¶å­˜å‚¨æ ‘ä¸­å…ƒç´ </span><br>Â Â Â Â Â Â Â Â q.<span class="hljs-built_in">push</span>(root);Â Â <span class="hljs-comment">//å°†æ ‘çš„æ ¹èŠ‚ç‚¹æ’å…¥é˜Ÿåˆ—</span><br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">while</span>(!q.<span class="hljs-built_in">empty</span>())<br>Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-type">int</span>Â currentLevelSizeÂ =Â q.<span class="hljs-built_in">size</span>();Â Â <span class="hljs-comment">//å®šä¹‰é˜Ÿåˆ—çš„å½“å‰é•¿åº¦currentLevelSize</span><br>Â Â Â Â Â Â Â Â Â Â Â Â res.<span class="hljs-built_in">push_back</span>(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">int</span>&gt;());Â Â <span class="hljs-comment">//å‘äºŒç»´vectorå®¹å™¨resä¸­æ·»åŠ ä¸€è¡Œ</span><br>Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>; i&lt;=currentLevelSize; i++)<br>Â Â Â Â Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">auto</span>Â nodeÂ =Â q.<span class="hljs-built_in">front</span>();Â Â <span class="hljs-comment">//å®šä¹‰ä¸´æ—¶ç»“ç‚¹nodeä¸ºé˜Ÿåˆ—å¤´ç»“ç‚¹</span><br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â q.<span class="hljs-built_in">pop</span>();Â Â <span class="hljs-comment">//å¼¹å‡ºé˜Ÿåˆ—å¤´ç»“ç‚¹</span><br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â res.<span class="hljs-built_in">back</span>().<span class="hljs-built_in">push_back</span>(node-&gt;val);Â Â <span class="hljs-comment">//å°†é˜Ÿåˆ—å¤´ç»“ç‚¹å…ƒç´ çš„å€¼å­˜å…¥resä¸­</span><br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//å°†ç»“ç‚¹çš„å·¦å³å„¿å­èŠ‚ç‚¹æ’å…¥é˜Ÿåˆ—ä¸­</span><br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>(node-&gt;left)<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â q.<span class="hljs-built_in">push</span>(node-&gt;left);<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>(node-&gt;right)<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â q.<span class="hljs-built_in">push</span>(node-&gt;right);<br>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â res;<br>Â Â Â Â &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>äºŒå‰æ ‘</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>C++ vectorå®¹å™¨æµ…æ</title>
    <link href="/2022/03/04/C++%20vector%E5%AE%B9%E5%99%A8%E6%B5%85%E6%9E%90/"/>
    <url>/2022/03/04/C++%20vector%E5%AE%B9%E5%99%A8%E6%B5%85%E6%9E%90/</url>
    
    <content type="html"><![CDATA[<p><strong>C++ vectorå®¹å™¨æµ…æï¼š<a href="https://www.runoob.com/w3cnote/cpp-vector-container-analysis.html">https://www.runoob.com/w3cnote/cpp-vector-container-analysis.html</a></strong></p><h2 id="1-ä»€ä¹ˆæ˜¯vectorï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯vectorï¼Ÿ" class="headerlink" title="1. ä»€ä¹ˆæ˜¯vectorï¼Ÿ"></a>1. ä»€ä¹ˆæ˜¯vectorï¼Ÿ</h2><p>å‘é‡ï¼ˆVectorï¼‰æ˜¯ä¸€ä¸ªå°è£…äº†åŠ¨æ€å¤§å°æ•°ç»„çš„é¡ºåºå®¹å™¨ï¼ˆSequence Containerï¼‰ã€‚è·Ÿä»»æ„å…¶å®ƒç±»å‹å®¹å™¨ä¸€æ ·ï¼Œå®ƒèƒ½å¤Ÿå­˜æ”¾å„ç§ç±»å‹çš„å¯¹è±¡ã€‚å¯ä»¥ç®€å•çš„è®¤ä¸ºï¼Œå‘é‡æ˜¯ä¸€ä¸ªèƒ½å¤Ÿå­˜æ”¾ä»»æ„ç±»å‹çš„åŠ¨æ€æ•°ç»„ã€‚</p><h2 id="2-å®¹å™¨ç‰¹æ€§"><a href="#2-å®¹å™¨ç‰¹æ€§" class="headerlink" title="2. å®¹å™¨ç‰¹æ€§"></a>2. å®¹å™¨ç‰¹æ€§</h2><ol><li><p><strong>é¡ºåºåºåˆ—</strong></p><p>é¡ºåºå®¹å™¨ä¸­çš„å…ƒç´ æŒ‰ç…§ä¸¥æ ¼çš„çº¿æ€§é¡ºåºæ’åºã€‚å¯ä»¥é€šè¿‡å…ƒç´ åœ¨åºåˆ—ä¸­çš„ä½ç½®è®¿é—®å¯¹åº”çš„å…ƒç´ ã€‚</p></li><li><p><strong>åŠ¨æ€æ•°ç»„</strong></p><p>æ”¯æŒå¯¹åºåˆ—ä¸­çš„ä»»æ„å…ƒç´ è¿›è¡Œå¿«é€Ÿç›´æ¥è®¿é—®ï¼Œç”šè‡³å¯ä»¥é€šè¿‡æŒ‡é’ˆç®—è¿°è¿›è¡Œè¯¥æ“ä½œã€‚æä¾›äº†åœ¨åºåˆ—æœ«å°¾ç›¸å¯¹å¿«é€Ÿåœ°æ·»åŠ /åˆ é™¤å…ƒç´ çš„æ“ä½œã€‚</p></li><li><p><strong>èƒ½å¤Ÿæ„ŸçŸ¥å†…å­˜åˆ†é…å™¨çš„ï¼ˆAllocator-awareï¼‰</strong></p><p>å®¹å™¨ä½¿ç”¨ä¸€ä¸ªå†…å­˜åˆ†é…å™¨å¯¹è±¡æ¥åŠ¨æ€åœ°å¤„ç†å®ƒçš„å­˜å‚¨éœ€æ±‚ã€‚</p></li></ol><h2 id="3-åŸºæœ¬å‡½æ•°å®ç°"><a href="#3-åŸºæœ¬å‡½æ•°å®ç°" class="headerlink" title="3. åŸºæœ¬å‡½æ•°å®ç°"></a>3. åŸºæœ¬å‡½æ•°å®ç°</h2><ol><li><p><strong>æ„é€ å‡½æ•°</strong></p><ul><li>vector():åˆ›å»ºä¸€ä¸ªç©ºvector</li><li>vector(int nSize):åˆ›å»ºä¸€ä¸ªvector,å…ƒç´ ä¸ªæ•°ä¸ºnSize</li><li>vector(int nSize,const t&amp; t):åˆ›å»ºä¸€ä¸ªvectorï¼Œå…ƒç´ ä¸ªæ•°ä¸ºnSize,ä¸”å€¼å‡ä¸ºt</li><li>vector(const vector&amp;):å¤åˆ¶æ„é€ å‡½æ•°</li><li>vector(begin,end):å¤åˆ¶[begin,end)åŒºé—´å†…å¦ä¸€ä¸ªæ•°ç»„çš„å…ƒç´ åˆ°vectorä¸­</li></ul></li><li><p><strong>å¢åŠ å‡½æ•°</strong></p><ul><li>void push_back(const T&amp; x):å‘é‡å°¾éƒ¨å¢åŠ ä¸€ä¸ªå…ƒç´ X</li><li>iterator insert(iterator it,const T&amp; x):å‘é‡ä¸­è¿­ä»£å™¨æŒ‡å‘å…ƒç´ å‰å¢åŠ ä¸€ä¸ªå…ƒç´ x</li><li>iterator insert(iterator it,int n,const T&amp; x):å‘é‡ä¸­è¿­ä»£å™¨æŒ‡å‘å…ƒç´ å‰å¢åŠ nä¸ªç›¸åŒçš„å…ƒç´ x</li><li>iterator insert(iterator it,const_iterator first,const_iterator last):å‘é‡ä¸­è¿­ä»£å™¨æŒ‡å‘å…ƒç´ å‰æ’å…¥å¦ä¸€ä¸ªç›¸åŒç±»å‹å‘é‡çš„[first,last)é—´çš„æ•°æ®</li></ul></li><li><p><strong>åˆ é™¤å‡½æ•°</strong></p><ul><li>iterator erase(iterator it):åˆ é™¤å‘é‡ä¸­è¿­ä»£å™¨æŒ‡å‘å…ƒç´ </li><li>iterator erase(iterator first,iterator last):åˆ é™¤å‘é‡ä¸­[first,last)ä¸­å…ƒç´ </li><li>void pop_back():åˆ é™¤å‘é‡ä¸­æœ€åä¸€ä¸ªå…ƒç´ </li><li>void clear():æ¸…ç©ºå‘é‡ä¸­æ‰€æœ‰å…ƒç´ </li></ul></li><li><p><strong>éå†å‡½æ•°</strong></p><ul><li>reference at(int pos):è¿”å›posä½ç½®å…ƒç´ çš„å¼•ç”¨</li><li>reference front():è¿”å›é¦–å…ƒç´ çš„å¼•ç”¨</li><li>reference back():è¿”å›å°¾å…ƒç´ çš„å¼•ç”¨</li><li>iterator begin():è¿”å›å‘é‡å¤´æŒ‡é’ˆï¼ŒæŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ </li><li>iterator end():è¿”å›å‘é‡å°¾æŒ‡é’ˆï¼ŒæŒ‡å‘å‘é‡æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªä½ç½®</li><li>reverse_iterator rbegin():åå‘è¿­ä»£å™¨ï¼ŒæŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ </li><li>reverse_iterator rend():åå‘è¿­ä»£å™¨ï¼ŒæŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹å‰çš„ä½ç½®</li></ul></li><li><p><strong>åˆ¤æ–­å‡½æ•°</strong></p><ul><li>bool empty() const:åˆ¤æ–­å‘é‡æ˜¯å¦ä¸ºç©ºï¼Œè‹¥ä¸ºç©ºï¼Œåˆ™å‘é‡ä¸­æ— å…ƒç´ </li></ul></li><li><p><strong>å¤§å°å‡½æ•°</strong></p><ul><li>int size() const:è¿”å›å‘é‡ä¸­å…ƒç´ çš„ä¸ªæ•°</li><li>int capacity() const:è¿”å›å½“å‰å‘é‡æ‰€èƒ½å®¹çº³çš„æœ€å¤§å…ƒç´ å€¼</li><li>int max_size() const:è¿”å›æœ€å¤§å¯å…è®¸çš„vectorå…ƒç´ æ•°é‡å€¼</li></ul></li><li><p><strong>å…¶ä»–å‡½æ•°</strong></p><ul><li>void swap(vector&amp;):äº¤æ¢ä¸¤ä¸ªåŒç±»å‹å‘é‡çš„æ•°æ®</li><li>void assign(int n,const T&amp; x):è®¾ç½®å‘é‡ä¸­å‰nä¸ªå…ƒç´ çš„å€¼ä¸ºx</li><li>void assign(const_iterator first,const_iterator last):å‘é‡ä¸­[first,last)ä¸­å…ƒç´ è®¾ç½®æˆå½“å‰å‘é‡å…ƒç´ </li></ul></li><li><p><strong>çœ‹ç€æ¸…æ¥š</strong></p><blockquote><p>1.push_back åœ¨æ•°ç»„çš„æœ€åæ·»åŠ ä¸€ä¸ªæ•°æ®</p><p>2.pop_back å»æ‰æ•°ç»„çš„æœ€åä¸€ä¸ªæ•°æ®</p><p>3.at å¾—åˆ°ç¼–å·ä½ç½®çš„æ•°æ®</p><p>4.begin å¾—åˆ°æ•°ç»„å¤´çš„æŒ‡é’ˆ</p><p>5.end å¾—åˆ°æ•°ç»„çš„æœ€åä¸€ä¸ªå•å…ƒ+1çš„æŒ‡é’ˆ</p><p>6ï¼front å¾—åˆ°æ•°ç»„å¤´çš„å¼•ç”¨</p><p>7.back å¾—åˆ°æ•°ç»„çš„æœ€åä¸€ä¸ªå•å…ƒçš„å¼•ç”¨</p><p>8.max_size å¾—åˆ°vectoræœ€å¤§å¯ä»¥æ˜¯å¤šå¤§</p><p>9.capacity å½“å‰vectoråˆ†é…çš„å¤§å°</p><p>10.size å½“å‰ä½¿ç”¨æ•°æ®çš„å¤§å°</p><p>11.resize æ”¹å˜å½“å‰ä½¿ç”¨æ•°æ®çš„å¤§å°ï¼Œå¦‚æœå®ƒæ¯”å½“å‰ä½¿ç”¨çš„å¤§ï¼Œè€…å¡«å……é»˜è®¤å€¼</p><p>12.reserve æ”¹å˜å½“å‰vecotræ‰€åˆ†é…ç©ºé—´çš„å¤§å°</p><p>13.erase åˆ é™¤æŒ‡é’ˆæŒ‡å‘çš„æ•°æ®é¡¹</p><p>14.clear æ¸…ç©ºå½“å‰çš„vector</p><p>15.rbegin å°†vectoråè½¬åçš„å¼€å§‹æŒ‡é’ˆè¿”å›(å…¶å®å°±æ˜¯åŸæ¥çš„end-1)</p><p>16.rend å°†vectoråè½¬æ„çš„ç»“æŸæŒ‡é’ˆè¿”å›(å…¶å®å°±æ˜¯åŸæ¥çš„begin-1)</p><p>17.empty åˆ¤æ–­vectoræ˜¯å¦ä¸ºç©º</p><p>18.swap ä¸å¦ä¸€ä¸ªvectoräº¤æ¢æ•°æ®</p></blockquote></li></ol><h2 id="4-åŸºæœ¬ç”¨æ³•"><a href="#4-åŸºæœ¬ç”¨æ³•" class="headerlink" title="4. åŸºæœ¬ç”¨æ³•"></a>4. åŸºæœ¬ç”¨æ³•</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;vector&gt;</span> </span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br></code></pre></td></tr></table></figure><h2 id="5-ç®€å•ä»‹ç»"><a href="#5-ç®€å•ä»‹ç»" class="headerlink" title="5. ç®€å•ä»‹ç»"></a>5. ç®€å•ä»‹ç»</h2><ol><li>Vector&lt;ç±»å‹&gt;æ ‡è¯†ç¬¦</li><li>Vector&lt;ç±»å‹&gt;æ ‡è¯†ç¬¦(æœ€å¤§å®¹é‡)</li><li>Vector&lt;ç±»å‹&gt;æ ‡è¯†ç¬¦(æœ€å¤§å®¹é‡,åˆå§‹æ‰€æœ‰å€¼)</li><li>Int i[5]={1,2,3,4,5}<br>Vector&lt;ç±»å‹&gt;vi(I,i+2);//å¾—åˆ°iç´¢å¼•å€¼ä¸º3ä»¥åçš„å€¼</li><li>Vector&lt; vector&lt; int&gt; &gt;v; äºŒç»´å‘é‡//è¿™é‡Œæœ€å¤–çš„&lt;&gt;è¦æœ‰ç©ºæ ¼ã€‚å¦åˆ™åœ¨æ¯”è¾ƒæ—§çš„ç¼–è¯‘å™¨ä¸‹æ— æ³•é€šè¿‡</li></ol><h2 id="6-å®ä¾‹"><a href="#6-å®ä¾‹" class="headerlink" title="6. å®ä¾‹"></a>6. å®ä¾‹</h2><p><strong>1.pop_back()&amp;push_back(elem)å®ä¾‹åœ¨å®¹å™¨æœ€åç§»é™¤å’Œæ’å…¥æ•°æ®</strong></p><p>å®ä¾‹</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br> <br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    vector&lt;<span class="hljs-type">int</span>&gt;obj;<span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªå‘é‡å­˜å‚¨å®¹å™¨ int</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">10</span>;i++) <span class="hljs-comment">// push_back(elem)åœ¨æ•°ç»„æœ€åæ·»åŠ æ•°æ® </span><br>    &#123;<br>        obj.<span class="hljs-built_in">push_back</span>(i);<br>        cout&lt;&lt;obj[i]&lt;&lt;<span class="hljs-string">&quot;,&quot;</span>;    <br>    &#125;<br> <br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">5</span>;i++)<span class="hljs-comment">//å»æ‰æ•°ç»„æœ€åä¸€ä¸ªæ•°æ® </span><br>    &#123;<br>        obj.<span class="hljs-built_in">pop_back</span>();<br>    &#125;<br> <br>    cout&lt;&lt;<span class="hljs-string">&quot;\n&quot;</span>&lt;&lt;endl;<br> <br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;obj.<span class="hljs-built_in">size</span>();i++)<span class="hljs-comment">//size()å®¹å™¨ä¸­å®é™…æ•°æ®ä¸ªæ•° </span><br>    &#123;<br>        cout&lt;&lt;obj[i]&lt;&lt;<span class="hljs-string">&quot;,&quot;</span>;<br>    &#125;<br> <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœä¸ºï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>,<br><span class="hljs-attribute">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<br></code></pre></td></tr></table></figure><p><strong>2.clear()æ¸…é™¤å®¹å™¨ä¸­æ‰€æœ‰æ•°æ®</strong></p><p>å®ä¾‹</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br> <br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    vector&lt;<span class="hljs-type">int</span>&gt;obj;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">10</span>;i++)<span class="hljs-comment">//push_back(elem)åœ¨æ•°ç»„æœ€åæ·»åŠ æ•°æ® </span><br>    &#123;<br>        obj.<span class="hljs-built_in">push_back</span>(i);<br>        cout&lt;&lt;obj[i]&lt;&lt;<span class="hljs-string">&quot;,&quot;</span>;<br>    &#125;<br> <br>    obj.<span class="hljs-built_in">clear</span>();<span class="hljs-comment">//æ¸…é™¤å®¹å™¨ä¸­æ‰€ä»¥æ•°æ®</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;obj.<span class="hljs-built_in">size</span>();i++)<br>    &#123;<br>        cout&lt;&lt;obj[i]&lt;&lt;endl;<br>    &#125;<br> <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœä¸ºï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>,<br></code></pre></td></tr></table></figure><p><strong>3.æ’åº</strong></p><p>å®ä¾‹</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br> <br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    vector&lt;<span class="hljs-type">int</span>&gt;obj;<br> <br>    obj.<span class="hljs-built_in">push_back</span>(<span class="hljs-number">1</span>);<br>    obj.<span class="hljs-built_in">push_back</span>(<span class="hljs-number">3</span>);<br>    obj.<span class="hljs-built_in">push_back</span>(<span class="hljs-number">0</span>);<br> <br>    <span class="hljs-built_in">sort</span>(obj.<span class="hljs-built_in">begin</span>(),obj.<span class="hljs-built_in">end</span>());<span class="hljs-comment">//ä»å°åˆ°å¤§</span><br> <br>    cout&lt;&lt;<span class="hljs-string">&quot;ä»å°åˆ°å¤§:&quot;</span>&lt;&lt;endl;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;obj.<span class="hljs-built_in">size</span>();i++)<br>    &#123;<br>        cout&lt;&lt;obj[i]&lt;&lt;<span class="hljs-string">&quot;,&quot;</span>;  <br>    &#125; <br> <br>    cout&lt;&lt;<span class="hljs-string">&quot;\n&quot;</span>&lt;&lt;endl;<br> <br>    cout&lt;&lt;<span class="hljs-string">&quot;ä»å¤§åˆ°å°:&quot;</span>&lt;&lt;endl;<br>    <span class="hljs-built_in">reverse</span>(obj.<span class="hljs-built_in">begin</span>(),obj.<span class="hljs-built_in">end</span>());<span class="hljs-comment">//ä»å¤§åˆ°å° </span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;obj.<span class="hljs-built_in">size</span>();i++)<br>    &#123;<br>        cout&lt;&lt;obj[i]&lt;&lt;<span class="hljs-string">&quot;,&quot;</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœä¸ºï¼š</p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs makefile"><span class="hljs-section">ä»å°åˆ°å¤§:</span><br>0,1,3,<br><span class="hljs-section">ä»å¤§åˆ°å°:</span><br>3,1,0,<br></code></pre></td></tr></table></figure><p>1.æ³¨æ„ sort éœ€è¦å¤´æ–‡ä»¶ <strong>#include &lt;algorithm&gt;</strong></p><p>2.å¦‚æœæƒ³ sort æ¥é™åºï¼Œå¯é‡å†™ sort</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">compare</span><span class="hljs-params">(<span class="hljs-type">int</span> a,<span class="hljs-type">int</span> b)</span> </span><br><span class="hljs-function"></span>&#123; <br>    <span class="hljs-keyword">return</span> a&lt; b; <span class="hljs-comment">//å‡åºæ’åˆ—ï¼Œå¦‚æœæ”¹ä¸ºreturn a&gt;bï¼Œåˆ™ä¸ºé™åº </span><br>&#125; <br><span class="hljs-type">int</span> a[<span class="hljs-number">20</span>]=&#123;<span class="hljs-number">2</span>,<span class="hljs-number">4</span>,<span class="hljs-number">1</span>,<span class="hljs-number">23</span>,<span class="hljs-number">5</span>,<span class="hljs-number">76</span>,<span class="hljs-number">0</span>,<span class="hljs-number">43</span>,<span class="hljs-number">24</span>,<span class="hljs-number">65</span>&#125;,i; <br><span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">20</span>;i++) <br>    cout&lt;&lt; a[i]&lt;&lt; endl; <br><span class="hljs-built_in">sort</span>(a,a+<span class="hljs-number">20</span>,compare);<br></code></pre></td></tr></table></figure><p><strong>4.è®¿é—®ï¼ˆç›´æ¥æ•°ç»„è®¿é—®&amp;è¿­ä»£å™¨è®¿é—®ï¼‰</strong></p><p>å®ä¾‹</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br> <br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//é¡ºåºè®¿é—®</span><br>    vector&lt;<span class="hljs-type">int</span>&gt;obj;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">10</span>;i++)<br>    &#123;<br>        obj.<span class="hljs-built_in">push_back</span>(i);   <br>    &#125; <br> <br>    cout&lt;&lt;<span class="hljs-string">&quot;ç›´æ¥åˆ©ç”¨æ•°ç»„ï¼š&quot;</span>; <br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">10</span>;i++)<span class="hljs-comment">//æ–¹æ³•ä¸€ </span><br>    &#123;<br>        cout&lt;&lt;obj[i]&lt;&lt;<span class="hljs-string">&quot; &quot;</span>;<br>    &#125;<br> <br>    cout&lt;&lt;endl; <br>    cout&lt;&lt;<span class="hljs-string">&quot;åˆ©ç”¨è¿­ä»£å™¨ï¼š&quot;</span> ;<br>    <span class="hljs-comment">//æ–¹æ³•äºŒï¼Œä½¿ç”¨è¿­ä»£å™¨å°†å®¹å™¨ä¸­æ•°æ®è¾“å‡º </span><br>    vector&lt;<span class="hljs-type">int</span>&gt;::iterator it;<span class="hljs-comment">//å£°æ˜ä¸€ä¸ªè¿­ä»£å™¨ï¼Œæ¥è®¿é—®vectorå®¹å™¨ï¼Œä½œç”¨ï¼šéå†æˆ–è€…æŒ‡å‘vectorå®¹å™¨çš„å…ƒç´  </span><br>    <span class="hljs-keyword">for</span>(it=obj.<span class="hljs-built_in">begin</span>();it!=obj.<span class="hljs-built_in">end</span>();it++)<br>    &#123;<br>        cout&lt;&lt;*it&lt;&lt;<span class="hljs-string">&quot; &quot;</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœä¸ºï¼š</p><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs tap">ç›´æ¥åˆ©ç”¨æ•°ç»„ï¼š0<span class="hljs-number"> 1 </span>2<span class="hljs-number"> 3 </span>4<span class="hljs-number"> 5 </span>6<span class="hljs-number"> 7 </span>8<span class="hljs-number"> 9 </span><br>åˆ©ç”¨è¿­ä»£å™¨ï¼š0<span class="hljs-number"> 1 </span>2<span class="hljs-number"> 3 </span>4<span class="hljs-number"> 5 </span>6<span class="hljs-number"> 7 </span>8 9<br></code></pre></td></tr></table></figure><p>5.<strong>äºŒç»´æ•°ç»„ä¸¤ç§å®šä¹‰æ–¹æ³•</strong></p><p><strong>æ–¹æ³•ä¸€</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br> <br> <br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> N=<span class="hljs-number">5</span>, M=<span class="hljs-number">6</span>; <br>    vector&lt;vector&lt;<span class="hljs-type">int</span>&gt; &gt; <span class="hljs-built_in">obj</span>(N); <span class="hljs-comment">//å®šä¹‰äºŒç»´åŠ¨æ€æ•°ç»„å¤§å°5è¡Œ </span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i =<span class="hljs-number">0</span>; i&lt; obj.<span class="hljs-built_in">size</span>(); i++)<span class="hljs-comment">//åŠ¨æ€äºŒç»´æ•°ç»„ä¸º5è¡Œ6åˆ—ï¼Œå€¼å…¨ä¸º0 </span><br>    &#123; <br>        obj[i].<span class="hljs-built_in">resize</span>(M); <br>    &#125; <br> <br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt; obj.<span class="hljs-built_in">size</span>(); i++)<span class="hljs-comment">//è¾“å‡ºäºŒç»´åŠ¨æ€æ•°ç»„ </span><br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">0</span>;j&lt;obj[i].<span class="hljs-built_in">size</span>();j++)<br>        &#123;<br>            cout&lt;&lt;obj[i][j]&lt;&lt;<span class="hljs-string">&quot; &quot;</span>;<br>        &#125;<br>        cout&lt;&lt;<span class="hljs-string">&quot;\n&quot;</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ–¹æ³•äºŒ</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br> <br> <br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> N=<span class="hljs-number">5</span>, M=<span class="hljs-number">6</span>; <br>    vector&lt;vector&lt;<span class="hljs-type">int</span>&gt; &gt; <span class="hljs-built_in">obj</span>(N, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">int</span>&gt;(M)); <span class="hljs-comment">//å®šä¹‰äºŒç»´åŠ¨æ€æ•°ç»„5è¡Œ6åˆ— </span><br> <br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt; obj.<span class="hljs-built_in">size</span>(); i++)<span class="hljs-comment">//è¾“å‡ºäºŒç»´åŠ¨æ€æ•°ç»„ </span><br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">0</span>;j&lt;obj[i].<span class="hljs-built_in">size</span>();j++)<br>        &#123;<br>            cout&lt;&lt;obj[i][j]&lt;&lt;<span class="hljs-string">&quot; &quot;</span>;<br>        &#125;<br>        cout&lt;&lt;<span class="hljs-string">&quot;\n&quot;</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœä¸ºï¼š</p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">0 </span><span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <br><span class="hljs-symbol">0 </span><span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <br><span class="hljs-symbol">0 </span><span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <br><span class="hljs-symbol">0 </span><span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <br><span class="hljs-symbol">0 </span><span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>C++</category>
      
    </categories>
    
    
    <tags>
      
      <tag>STL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Utils</title>
    <link href="/2022/03/04/Utils/"/>
    <url>/2022/03/04/Utils/</url>
    
    <content type="html"><![CDATA[<p><strong>Convenient Utils And Website</strong></p><ul><li><strong><a href="https://layuion.com/">Layuiå¼€æºæ¨¡å—åŒ–å‰ç«¯ UI ç»„ä»¶åº“</a></strong></li><li><strong><a href="https://www.bootcss.com/">Bootstrapä¸­æ–‡ç½‘</a></strong></li><li><strong><a href="https://www.bootcss.com/p/layoutit/">Bootstrapå¯è§†åŒ–å¸ƒå±€ç³»ç»Ÿ</a></strong></li><li><strong><a href="https://www.cleverpdf.com/cn">CleverPDF PDFåœ¨çº¿å·¥å…·</a></strong></li><li><strong><a href="https://pdf.online/">PDF.online</a></strong></li></ul><h2 id="Layui"><a href="#Layui" class="headerlink" title="Layui"></a>Layui</h2><p><strong>å¼€æºæ¨¡å—åŒ–å‰ç«¯ UI ç»„ä»¶åº“ï¼š<a href="https://layuion.com/">https://layuion.com/</a></strong></p><p><img src="https://img.yiqiangshiyia.cn/blog/Layui%E5%BC%80%E6%BA%90%E6%A8%A1%E5%9D%97%E5%8C%96%E5%89%8D%E7%AB%AF%20UI%20%E7%BB%84%E4%BB%B6%E5%BA%93.png" alt="Layuiå¼€æºæ¨¡å—åŒ–å‰ç«¯ UI ç»„ä»¶åº“"></p><h2 id="Bootstrapä¸­æ–‡ç½‘"><a href="#Bootstrapä¸­æ–‡ç½‘" class="headerlink" title="Bootstrapä¸­æ–‡ç½‘"></a>Bootstrapä¸­æ–‡ç½‘</h2><p><strong><a href="https://www.bootcss.com/">https://www.bootcss.com/</a></strong></p><p><img src="https://img.yiqiangshiyia.cn/blog/Bootstrap%E4%B8%AD%E6%96%87%E7%BD%91.png" alt="Bootstrapä¸­æ–‡ç½‘"></p><h2 id="Bootstrapå¯è§†åŒ–å¸ƒå±€ç³»ç»Ÿ"><a href="#Bootstrapå¯è§†åŒ–å¸ƒå±€ç³»ç»Ÿ" class="headerlink" title="Bootstrapå¯è§†åŒ–å¸ƒå±€ç³»ç»Ÿ"></a>Bootstrapå¯è§†åŒ–å¸ƒå±€ç³»ç»Ÿ</h2><p><strong><a href="https://www.bootcss.com/p/layoutit/">https://www.bootcss.com/p/layoutit/</a></strong></p><p><img src="https://img.yiqiangshiyia.cn/blog/Bootstrap%E5%8F%AF%E8%A7%86%E5%8C%96%E5%B8%83%E5%B1%80%E7%B3%BB%E7%BB%9F.png" alt="Bootstrapå¯è§†åŒ–å¸ƒå±€ç³»ç»Ÿ"></p><h2 id="CleverPDF"><a href="#CleverPDF" class="headerlink" title="CleverPDF"></a>CleverPDF</h2><p><strong>PDFåœ¨çº¿å·¥å…·<a href="https://www.cleverpdf.com/cn">https://www.cleverpdf.com/cn</a></strong></p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220911192153.png" alt="QQæˆªå›¾20220911192153"></p><h2 id="PDF-online"><a href="#PDF-online" class="headerlink" title="PDF online"></a>PDF online</h2><p><strong>PDFåœ¨çº¿å·¥å…·ï¼š<a href="https://pdf.online/">https://pdf.online/</a></strong></p><p><img src="https://img.yiqiangshiyia.cn/blog/QQ%E6%88%AA%E5%9B%BE20220911192347.png" alt="QQæˆªå›¾20220911192347"></p>]]></content>
    
    
    <categories>
      
      <category>è§£å¿§æ‚è´§</category>
      
    </categories>
    
    
  </entry>
  
  
  
  
</search>
